webpackJsonp([0],{"/5sW":function(t,e,i){"use strict";(function(t){var i=Object.freeze({});function n(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var u=Object.prototype.toString;function c(t){return"[object Object]"===u.call(t)}function h(t){return"[object RegExp]"===u.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return null==t?"":"object"===typeof t?JSON.stringify(t,null,2):String(t)}function f(t){var e=parseFloat(t);return isNaN(e)?t:e}function g(t,e){for(var i=Object.create(null),n=t.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return e?function(t){return i[t.toLowerCase()]}:function(t){return i[t]}}g("slot,component",!0);var m=g("key,ref,slot,slot-scope,is");function v(t,e){if(t.length){var i=t.indexOf(e);if(i>-1)return t.splice(i,1)}}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function x(t){var e=Object.create(null);return function(i){var n=e[i];return n||(e[i]=t(i))}}var _=/-(\w)/g,w=x(function(t){return t.replace(_,function(t,e){return e?e.toUpperCase():""})}),C=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),S=/\B([A-Z])/g,k=x(function(t){return t.replace(S,"-$1").toLowerCase()});function A(t,e){function i(i){var n=arguments.length;return n?n>1?t.apply(e,arguments):t.call(e,i):t.call(e)}return i._length=t.length,i}function T(t,e){e=e||0;var i=t.length-e,n=new Array(i);while(i--)n[i]=t[i+e];return n}function M(t,e){for(var i in e)t[i]=e[i];return t}function E(t){for(var e={},i=0;i<t.length;i++)t[i]&&M(e,t[i]);return e}function P(t,e,i){}var O=function(t,e,i){return!1},I=function(t){return t};function L(t,e){if(t===e)return!0;var i=l(t),n=l(e);if(!i||!n)return!i&&!n&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,i){return L(t,e[i])});if(r||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(i){return L(t[i],e[i])})}catch(t){return!1}}function R(t,e){for(var i=0;i<t.length;i++)if(L(t[i],e))return i;return-1}function D(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var z="data-server-rendered",B=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:P,parsePlatformTagName:I,mustUseProp:O,_lifecycleHooks:j};function N(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function V(t,e,i,n){Object.defineProperty(t,e,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var H=/[^\w.$]/;function G(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var i=0;i<e.length;i++){if(!t)return;t=t[e[i]]}return t}}}var U,W="__proto__"in{},$="undefined"!==typeof window,q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,X=q&&WXEnvironment.platform.toLowerCase(),Y=$&&window.navigator.userAgent.toLowerCase(),K=Y&&/msie|trident/.test(Y),Z=Y&&Y.indexOf("msie 9.0")>0,J=Y&&Y.indexOf("edge/")>0,Q=Y&&Y.indexOf("android")>0||"android"===X,tt=Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===X,et=(Y&&/chrome\/\d+/.test(Y),{}.watch),it=!1;if($)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){it=!0}}),window.addEventListener("test-passive",null,nt)}catch(t){}var rt=function(){return void 0===U&&(U=!$&&"undefined"!==typeof t&&"server"===t["process"].env.VUE_ENV),U},ot=$&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"===typeof t&&/native code/.test(t.toString())}var st,lt="undefined"!==typeof Symbol&&at(Symbol)&&"undefined"!==typeof Reflect&&at(Reflect.ownKeys);st="undefined"!==typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=P,ct=0,ht=function(){this.id=ct++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){v(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){for(var t=this.subs.slice(),e=0,i=t.length;e<i;e++)t[e].update()},ht.target=null;var pt=[];function dt(t){ht.target&&pt.push(ht.target),ht.target=t}function ft(){ht.target=pt.pop()}var gt=function(t,e,i,n,r,o,a,s){this.tag=t,this.data=e,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(gt.prototype,mt);var vt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function yt(t){return new gt(void 0,void 0,void 0,String(t))}function bt(t,e){var i=t.componentOptions,n=new gt(t.tag,t.data,t.children,t.text,t.elm,t.context,i,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.fnContext=t.fnContext,n.fnOptions=t.fnOptions,n.fnScopeId=t.fnScopeId,n.isCloned=!0,e&&(t.children&&(n.children=xt(t.children,!0)),i&&i.children&&(i.children=xt(i.children,!0))),n}function xt(t,e){for(var i=t.length,n=new Array(i),r=0;r<i;r++)n[r]=bt(t[r],e);return n}var _t=Array.prototype,wt=Object.create(_t);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=_t[t];V(wt,t,function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,o=e.apply(this,i),a=this.__ob__;switch(t){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),o})});var Ct=Object.getOwnPropertyNames(wt),St={shouldConvert:!0},kt=function(t){if(this.value=t,this.dep=new ht,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)){var e=W?At:Tt;e(t,wt,Ct),this.observeArray(t)}else this.walk(t)};function At(t,e,i){t.__proto__=e}function Tt(t,e,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];V(t,o,e[o])}}function Mt(t,e){var i;if(l(t)&&!(t instanceof gt))return b(t,"__ob__")&&t.__ob__ instanceof kt?i=t.__ob__:St.shouldConvert&&!rt()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(i=new kt(t)),e&&i&&i.vmCount++,i}function Et(t,e,i,n,r){var o=new ht,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,l=a&&a.set,u=!r&&Mt(i);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):i;return ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&It(e))),e},set:function(e){var n=s?s.call(t):i;e===n||e!==e&&n!==n||(l?l.call(t,e):i=e,u=!r&&Mt(e),o.notify())}})}}function Pt(t,e,i){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,i),i;if(e in t&&!(e in Object.prototype))return t[e]=i,i;var n=t.__ob__;return t._isVue||n&&n.vmCount?i:n?(Et(n.value,e,i),n.dep.notify(),i):(t[e]=i,i)}function Ot(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var i=t.__ob__;t._isVue||i&&i.vmCount||b(t,e)&&(delete t[e],i&&i.dep.notify())}}function It(t){for(var e=void 0,i=0,n=t.length;i<n;i++)e=t[i],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&It(e)}kt.prototype.walk=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)Et(t,e[i],t[e[i]])},kt.prototype.observeArray=function(t){for(var e=0,i=t.length;e<i;e++)Mt(t[e])};var Lt=F.optionMergeStrategies;function Rt(t,e){if(!e)return t;for(var i,n,r,o=Object.keys(e),a=0;a<o.length;a++)i=o[a],n=t[i],r=e[i],b(t,i)?c(n)&&c(r)&&Rt(n,r):Pt(t,i,r);return t}function Dt(t,e,i){return i?function(){var n="function"===typeof e?e.call(i,i):e,r="function"===typeof t?t.call(i,i):t;return n?Rt(n,r):r}:e?t?function(){return Rt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function zt(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Bt(t,e,i,n){var r=Object.create(t||null);return e?M(r,e):r}Lt.data=function(t,e,i){return i?Dt(t,e,i):e&&"function"!==typeof e?t:Dt(t,e)},j.forEach(function(t){Lt[t]=zt}),B.forEach(function(t){Lt[t+"s"]=Bt}),Lt.watch=function(t,e,i,n){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in M(r,t),e){var a=r[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,e,i,n){if(!t)return e;var r=Object.create(null);return M(r,t),e&&M(r,e),r},Lt.provide=Dt;var jt=function(t,e){return void 0===e?t:e};function Ft(t,e){var i=t.props;if(i){var n,r,o,a={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(o=w(r),a[o]={type:null})}else if(c(i))for(var s in i)r=i[s],o=w(s),a[o]=c(r)?r:{type:r};else 0;t.props=a}}function Nt(t,e){var i=t.inject;if(i){var n=t.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(c(i))for(var o in i){var a=i[o];n[o]=c(a)?M({from:o},a):{from:a}}else 0}}function Vt(t){var e=t.directives;if(e)for(var i in e){var n=e[i];"function"===typeof n&&(e[i]={bind:n,update:n})}}function Ht(t,e,i){"function"===typeof e&&(e=e.options),Ft(e,i),Nt(e,i),Vt(e);var n=e.extends;if(n&&(t=Ht(t,n,i)),e.mixins)for(var r=0,o=e.mixins.length;r<o;r++)t=Ht(t,e.mixins[r],i);var a,s={};for(a in t)l(a);for(a in e)b(t,a)||l(a);function l(n){var r=Lt[n]||jt;s[n]=r(t[n],e[n],i,n)}return s}function Gt(t,e,i,n){if("string"===typeof i){var r=t[e];if(b(r,i))return r[i];var o=w(i);if(b(r,o))return r[o];var a=C(o);if(b(r,a))return r[a];var s=r[i]||r[o]||r[a];return s}}function Ut(t,e,i,n){var r=e[t],o=!b(i,t),a=i[t];if(qt(Boolean,r.type)&&(o&&!b(r,"default")?a=!1:qt(String,r.type)||""!==a&&a!==k(t)||(a=!0)),void 0===a){a=Wt(n,r,t);var s=St.shouldConvert;St.shouldConvert=!0,Mt(a),St.shouldConvert=s}return a}function Wt(t,e,i){if(b(e,"default")){var n=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[i]&&void 0!==t._props[i]?t._props[i]:"function"===typeof n&&"Function"!==$t(e.type)?n.call(t):n}}function $t(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function qt(t,e){if(!Array.isArray(e))return $t(e)===$t(t);for(var i=0,n=e.length;i<n;i++)if($t(e[i])===$t(t))return!0;return!1}function Xt(t,e,i){if(e){var n=e;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var a=!1===r[o].call(n,t,e,i);if(a)return}catch(t){Yt(t,n,"errorCaptured hook")}}}Yt(t,e,i)}function Yt(t,e,i){if(F.errorHandler)try{return F.errorHandler.call(null,t,e,i)}catch(t){Kt(t,null,"config.errorHandler")}Kt(t,e,i)}function Kt(t,e,i){if(!$&&!q||"undefined"===typeof console)throw t;console.error(t)}var Zt,Jt,Qt=[],te=!1;function ee(){te=!1;var t=Qt.slice(0);Qt.length=0;for(var e=0;e<t.length;e++)t[e]()}var ie=!1;if("undefined"!==typeof setImmediate&&at(setImmediate))Jt=function(){setImmediate(ee)};else if("undefined"===typeof MessageChannel||!at(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Jt=function(){setTimeout(ee,0)};else{var ne=new MessageChannel,re=ne.port2;ne.port1.onmessage=ee,Jt=function(){re.postMessage(1)}}if("undefined"!==typeof Promise&&at(Promise)){var oe=Promise.resolve();Zt=function(){oe.then(ee),tt&&setTimeout(P)}}else Zt=Jt;function ae(t){return t._withTask||(t._withTask=function(){ie=!0;var e=t.apply(null,arguments);return ie=!1,e})}function se(t,e){var i;if(Qt.push(function(){if(t)try{t.call(e)}catch(t){Xt(t,e,"nextTick")}else i&&i(e)}),te||(te=!0,ie?Jt():Zt()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){i=t})}var le=new st;function ue(t){ce(t,le),le.clear()}function ce(t,e){var i,n,r=Array.isArray(t);if((r||l(t))&&!Object.isFrozen(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){i=t.length;while(i--)ce(t[i],e)}else{n=Object.keys(t),i=n.length;while(i--)ce(t[n[i]],e)}}}var he,pe=x(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var i="~"===t.charAt(0);t=i?t.slice(1):t;var n="!"===t.charAt(0);return t=n?t.slice(1):t,{name:t,once:i,capture:n,passive:e}});function de(t){function e(){var t=arguments,i=e.fns;if(!Array.isArray(i))return i.apply(null,arguments);for(var n=i.slice(),r=0;r<n.length;r++)n[r].apply(null,t)}return e.fns=t,e}function fe(t,e,i,r,o){var a,s,l,u;for(a in t)s=t[a],l=e[a],u=pe(a),n(s)||(n(l)?(n(s.fns)&&(s=t[a]=de(s)),i(u.name,s,u.once,u.capture,u.passive,u.params)):s!==l&&(l.fns=s,t[a]=l));for(a in e)n(t[a])&&(u=pe(a),r(u.name,e[a],u.capture))}function ge(t,e,i){var a;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){i.apply(this,arguments),v(a.fns,l)}n(s)?a=de([l]):r(s.fns)&&o(s.merged)?(a=s,a.fns.push(l)):a=de([s,l]),a.merged=!0,t[e]=a}function me(t,e,i){var o=e.options.props;if(!n(o)){var a={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var u in o){var c=k(u);ve(a,l,u,c,!0)||ve(a,s,u,c,!1)}return a}}function ve(t,e,i,n,o){if(r(e)){if(b(e,i))return t[i]=e[i],o||delete e[i],!0;if(b(e,n))return t[i]=e[n],o||delete e[n],!0}return!1}function ye(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function be(t){return s(t)?[yt(t)]:Array.isArray(t)?_e(t):void 0}function xe(t){return r(t)&&r(t.text)&&a(t.isComment)}function _e(t,e){var i,a,l,u,c=[];for(i=0;i<t.length;i++)a=t[i],n(a)||"boolean"===typeof a||(l=c.length-1,u=c[l],Array.isArray(a)?a.length>0&&(a=_e(a,(e||"")+"_"+i),xe(a[0])&&xe(u)&&(c[l]=yt(u.text+a[0].text),a.shift()),c.push.apply(c,a)):s(a)?xe(u)?c[l]=yt(u.text+a):""!==a&&c.push(yt(a)):xe(a)&&xe(u)?c[l]=yt(u.text+a.text):(o(t._isVList)&&r(a.tag)&&n(a.key)&&r(e)&&(a.key="__vlist"+e+"_"+i+"__"),c.push(a)));return c}function we(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function Ce(t,e,i,n,r){var o=vt();return o.asyncFactory=t,o.asyncMeta={data:e,context:i,children:n,tag:r},o}function Se(t,e,i){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(o(t.loading)&&r(t.loadingComp))return t.loadingComp;if(!r(t.contexts)){var a=t.contexts=[i],s=!0,u=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},c=D(function(i){t.resolved=we(i,e),s||u()}),h=D(function(e){r(t.errorComp)&&(t.error=!0,u())}),p=t(c,h);return l(p)&&("function"===typeof p.then?n(t.resolved)&&p.then(c,h):r(p.component)&&"function"===typeof p.component.then&&(p.component.then(c,h),r(p.error)&&(t.errorComp=we(p.error,e)),r(p.loading)&&(t.loadingComp=we(p.loading,e),0===p.delay?t.loading=!0:setTimeout(function(){n(t.resolved)&&n(t.error)&&(t.loading=!0,u())},p.delay||200)),r(p.timeout)&&setTimeout(function(){n(t.resolved)&&h(null)},p.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(i)}function ke(t){return t.isComment&&t.asyncFactory}function Ae(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var i=t[e];if(r(i)&&(r(i.componentOptions)||ke(i)))return i}}function Te(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Pe(t,e)}function Me(t,e,i){i?he.$once(t,e):he.$on(t,e)}function Ee(t,e){he.$off(t,e)}function Pe(t,e,i){he=t,fe(e,i||{},Me,Ee,t),he=void 0}function Oe(t){var e=/^hook:/;t.prototype.$on=function(t,i){var n=this,r=this;if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)n.$on(t[o],i);else(r._events[t]||(r._events[t]=[])).push(i),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var i=this;function n(){i.$off(t,n),e.apply(i,arguments)}return n.fn=e,i.$on(t,n),i},t.prototype.$off=function(t,e){var i=this,n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)i.$off(t[r],e);return n}var a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;if(e){var s,l=a.length;while(l--)if(s=a[l],s===e||s.fn===e){a.splice(l,1);break}}return n},t.prototype.$emit=function(t){var e=this,i=e._events[t];if(i){i=i.length>1?T(i):i;for(var n=T(arguments,1),r=0,o=i.length;r<o;r++)try{i[r].apply(e,n)}catch(i){Xt(i,e,'event handler for "'+t+'"')}}return e}}function Ie(t,e){var i={};if(!t)return i;for(var n=0,r=t.length;n<r;n++){var o=t[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(i.default||(i.default=[])).push(o);else{var s=a.slot,l=i[s]||(i[s]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var u in i)i[u].every(Le)&&delete i[u];return i}function Le(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Re(t,e){e=e||{};for(var i=0;i<t.length;i++)Array.isArray(t[i])?Re(t[i],e):e[t[i].key]=t[i].fn;return e}var De=null;function ze(t){var e=t.$options,i=e.parent;if(i&&!e.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(t)}t.$parent=i,t.$root=i?i.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Be(t){t.prototype._update=function(t,e){var i=this;i._isMounted&&Ge(i,"beforeUpdate");var n=i.$el,r=i._vnode,o=De;De=i,i._vnode=t,r?i.$el=i.__patch__(r,t):(i.$el=i.__patch__(i.$el,t,e,!1,i.$options._parentElm,i.$options._refElm),i.$options._parentElm=i.$options._refElm=null),De=o,n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ge(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||v(e.$children,t),t._watcher&&t._watcher.teardown();var i=t._watchers.length;while(i--)t._watchers[i].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ge(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function je(t,e,i){var n;return t.$el=e,t.$options.render||(t.$options.render=vt),Ge(t,"beforeMount"),n=function(){t._update(t._render(),i)},new ni(t,n,P,null,!0),i=!1,null==t.$vnode&&(t._isMounted=!0,Ge(t,"mounted")),t}function Fe(t,e,n,r,o){var a=!!(o||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==i);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data&&r.data.attrs||i,t.$listeners=n||i,e&&t.$options.props){St.shouldConvert=!1;for(var s=t._props,l=t.$options._propKeys||[],u=0;u<l.length;u++){var c=l[u];s[c]=Ut(c,t.$options.props,e,t)}St.shouldConvert=!0,t.$options.propsData=e}if(n){var h=t.$options._parentListeners;t.$options._parentListeners=n,Pe(t,n,h)}a&&(t.$slots=Ie(o,r.context),t.$forceUpdate())}function Ne(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ve(t,e){if(e){if(t._directInactive=!1,Ne(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var i=0;i<t.$children.length;i++)Ve(t.$children[i]);Ge(t,"activated")}}function He(t,e){if((!e||(t._directInactive=!0,!Ne(t)))&&!t._inactive){t._inactive=!0;for(var i=0;i<t.$children.length;i++)He(t.$children[i]);Ge(t,"deactivated")}}function Ge(t,e){var i=t.$options[e];if(i)for(var n=0,r=i.length;n<r;n++)try{i[n].call(t)}catch(i){Xt(i,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}var Ue=[],We=[],$e={},qe=!1,Xe=!1,Ye=0;function Ke(){Ye=Ue.length=We.length=0,$e={},qe=Xe=!1}function Ze(){var t,e;for(Xe=!0,Ue.sort(function(t,e){return t.id-e.id}),Ye=0;Ye<Ue.length;Ye++)t=Ue[Ye],e=t.id,$e[e]=null,t.run();var i=We.slice(),n=Ue.slice();Ke(),ti(i),Je(n),ot&&F.devtools&&ot.emit("flush")}function Je(t){var e=t.length;while(e--){var i=t[e],n=i.vm;n._watcher===i&&n._isMounted&&Ge(n,"updated")}}function Qe(t){t._inactive=!1,We.push(t)}function ti(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ve(t[e],!0)}function ei(t){var e=t.id;if(null==$e[e]){if($e[e]=!0,Xe){var i=Ue.length-1;while(i>Ye&&Ue[i].id>t.id)i--;Ue.splice(i+1,0,t)}else Ue.push(t);qe||(qe=!0,se(Ze))}}var ii=0,ni=function(t,e,i,n,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++ii,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"===typeof e?this.getter=e:(this.getter=G(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Xt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ue(t),ft(),this.cleanupDeps()}return t},ni.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ni.prototype.cleanupDeps=function(){var t=this,e=this.deps.length;while(e--){var i=t.deps[e];t.newDepIds.has(i.id)||i.removeSub(t)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ei(this)},ni.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Xt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var t=this,e=this.deps.length;while(e--)t.deps[e].depend()},ni.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);var e=this.deps.length;while(e--)t.deps[e].removeSub(t);this.active=!1}};var ri={enumerable:!0,configurable:!0,get:P,set:P};function oi(t,e,i){ri.get=function(){return this[e][i]},ri.set=function(t){this[e][i]=t},Object.defineProperty(t,i,ri)}function ai(t){t._watchers=[];var e=t.$options;e.props&&si(t,e.props),e.methods&&fi(t,e.methods),e.data?li(t):Mt(t._data={},!0),e.computed&&hi(t,e.computed),e.watch&&e.watch!==et&&gi(t,e.watch)}function si(t,e){var i=t.$options.propsData||{},n=t._props={},r=t.$options._propKeys=[],o=!t.$parent;St.shouldConvert=o;var a=function(o){r.push(o);var a=Ut(o,e,i,t);Et(n,o,a),o in t||oi(t,"_props",o)};for(var s in e)a(s);St.shouldConvert=!0}function li(t){var e=t.$options.data;e=t._data="function"===typeof e?ui(e,t):e||{},c(e)||(e={});var i=Object.keys(e),n=t.$options.props,r=(t.$options.methods,i.length);while(r--){var o=i[r];0,n&&b(n,o)||N(o)||oi(t,"_data",o)}Mt(e,!0)}function ui(t,e){try{return t.call(e,e)}catch(t){return Xt(t,e,"data()"),{}}}var ci={lazy:!0};function hi(t,e){var i=t._computedWatchers=Object.create(null),n=rt();for(var r in e){var o=e[r],a="function"===typeof o?o:o.get;0,n||(i[r]=new ni(t,a||P,P,ci)),r in t||pi(t,r,o)}}function pi(t,e,i){var n=!rt();"function"===typeof i?(ri.get=n?di(e):i,ri.set=P):(ri.get=i.get?n&&!1!==i.cache?di(e):i.get:P,ri.set=i.set?i.set:P),Object.defineProperty(t,e,ri)}function di(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function fi(t,e){t.$options.props;for(var i in e)t[i]=null==e[i]?P:A(e[i],t)}function gi(t,e){for(var i in e){var n=e[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)mi(t,i,n[r]);else mi(t,i,n)}}function mi(t,e,i,n){return c(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=t[i]),t.$watch(e,i,n)}function vi(t){var e={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",i),t.prototype.$set=Pt,t.prototype.$delete=Ot,t.prototype.$watch=function(t,e,i){var n=this;if(c(e))return mi(n,t,e,i);i=i||{},i.user=!0;var r=new ni(n,t,e,i);return i.immediate&&e.call(n,r.value),function(){r.teardown()}}}function yi(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function bi(t){var e=xi(t.$options.inject,t);e&&(St.shouldConvert=!1,Object.keys(e).forEach(function(i){Et(t,i,e[i])}),St.shouldConvert=!0)}function xi(t,e){if(t){for(var i=Object.create(null),n=lt?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),r=0;r<n.length;r++){var o=n[r],a=t[o].from,s=e;while(s){if(s._provided&&a in s._provided){i[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var l=t[o].default;i[o]="function"===typeof l?l.call(e):l}else 0}return i}}function _i(t,e){var i,n,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(i=new Array(t.length),n=0,o=t.length;n<o;n++)i[n]=e(t[n],n);else if("number"===typeof t)for(i=new Array(t),n=0;n<t;n++)i[n]=e(n+1,n);else if(l(t))for(a=Object.keys(t),i=new Array(a.length),n=0,o=a.length;n<o;n++)s=a[n],i[n]=e(t[s],s,n);return r(i)&&(i._isVList=!0),i}function wi(t,e,i,n){var r,o=this.$scopedSlots[t];if(o)i=i||{},n&&(i=M(M({},n),i)),r=o(i)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),r=a||e}var s=i&&i.slot;return s?this.$createElement("template",{slot:s},r):r}function Ci(t){return Gt(this.$options,"filters",t,!0)||I}function Si(t,e,i,n){var r=F.keyCodes[e]||i;return r?Array.isArray(r)?-1===r.indexOf(t):r!==t:n?k(n)!==e:void 0}function ki(t,e,i,n,r){if(i)if(l(i)){var o;Array.isArray(i)&&(i=E(i));var a=function(a){if("class"===a||"style"===a||m(a))o=t;else{var s=t.attrs&&t.attrs.type;o=n||F.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(a in o)&&(o[a]=i[a],r)){var l=t.on||(t.on={});l["update:"+a]=function(t){i[a]=t}}};for(var s in i)a(s)}else;return t}function Ai(t,e){var i=this._staticTrees||(this._staticTrees=[]),n=i[t];return n&&!e?Array.isArray(n)?xt(n):bt(n):(n=i[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Mi(n,"__static__"+t,!1),n)}function Ti(t,e,i){return Mi(t,"__once__"+e+(i?"_"+i:""),!0),t}function Mi(t,e,i){if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]&&"string"!==typeof t[n]&&Ei(t[n],e+"_"+n,i);else Ei(t,e,i)}function Ei(t,e,i){t.isStatic=!0,t.key=e,t.isOnce=i}function Pi(t,e){if(e)if(c(e)){var i=t.on=t.on?M({},t.on):{};for(var n in e){var r=i[n],o=e[n];i[n]=r?[].concat(r,o):o}}else;return t}function Oi(t){t._o=Ti,t._n=f,t._s=d,t._l=_i,t._t=wi,t._q=L,t._i=R,t._m=Ai,t._f=Ci,t._k=Si,t._b=ki,t._v=yt,t._e=vt,t._u=Re,t._g=Pi}function Ii(t,e,n,r,a){var s=a.options;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||i,this.injections=xi(s.inject,r),this.slots=function(){return Ie(n,r)};var l=Object.create(r),u=o(s._compiled),c=!u;u&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||i),s._scopeId?this._c=function(t,e,i,n){var o=Ui(l,t,e,i,n,c);return o&&(o.fnScopeId=s._scopeId,o.fnContext=r),o}:this._c=function(t,e,i,n){return Ui(l,t,e,i,n,c)}}function Li(t,e,n,o,a){var s=t.options,l={},u=s.props;if(r(u))for(var c in u)l[c]=Ut(c,u,e||i);else r(n.attrs)&&Ri(l,n.attrs),r(n.props)&&Ri(l,n.props);var h=new Ii(n,l,a,o,t),p=s.render.call(null,h._c,h);return p instanceof gt&&(p.fnContext=o,p.fnOptions=s,n.slot&&((p.data||(p.data={})).slot=n.slot)),p}function Ri(t,e){for(var i in e)t[w(i)]=e[i]}Oi(Ii.prototype);var Di={init:function(t,e,i,n){if(!t.componentInstance||t.componentInstance._isDestroyed){var r=t.componentInstance=ji(t,De,i,n);r.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var o=t;Di.prepatch(o,o)}},prepatch:function(t,e){var i=e.componentOptions,n=e.componentInstance=t.componentInstance;Fe(n,i.propsData,i.listeners,e,i.children)},insert:function(t){var e=t.context,i=t.componentInstance;i._isMounted||(i._isMounted=!0,Ge(i,"mounted")),t.data.keepAlive&&(e._isMounted?Qe(i):Ve(i,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?He(e,!0):e.$destroy())}},zi=Object.keys(Di);function Bi(t,e,i,a,s){if(!n(t)){var u=i.$options._base;if(l(t)&&(t=u.extend(t)),"function"===typeof t){var c;if(n(t.cid)&&(c=t,t=Se(c,u,i),void 0===t))return Ce(c,e,i,a,s);e=e||{},Ji(t),r(e.model)&&Vi(t.options,e);var h=me(e,t,s);if(o(t.options.functional))return Li(t,h,e,i,a);var p=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}Fi(e);var f=t.options.name||s,g=new gt("vue-component-"+t.cid+(f?"-"+f:""),e,void 0,void 0,void 0,i,{Ctor:t,propsData:h,listeners:p,tag:s,children:a},c);return g}}}function ji(t,e,i,n){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:i||null,_refElm:n||null},a=t.data.inlineTemplate;return r(a)&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns),new t.componentOptions.Ctor(o)}function Fi(t){t.hook||(t.hook={});for(var e=0;e<zi.length;e++){var i=zi[e],n=t.hook[i],r=Di[i];t.hook[i]=n?Ni(r,n):r}}function Ni(t,e){return function(i,n,r,o){t(i,n,r,o),e(i,n,r,o)}}function Vi(t,e){var i=t.model&&t.model.prop||"value",n=t.model&&t.model.event||"input";(e.props||(e.props={}))[i]=e.model.value;var o=e.on||(e.on={});r(o[n])?o[n]=[e.model.callback].concat(o[n]):o[n]=e.model.callback}var Hi=1,Gi=2;function Ui(t,e,i,n,r,a){return(Array.isArray(i)||s(i))&&(r=n,n=i,i=void 0),o(a)&&(r=Gi),Wi(t,e,i,n,r)}function Wi(t,e,i,n,o){if(r(i)&&r(i.__ob__))return vt();if(r(i)&&r(i.is)&&(e=i.is),!e)return vt();var a,s,l;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),o===Gi?n=be(n):o===Hi&&(n=ye(n)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||F.getTagNamespace(e),a=F.isReservedTag(e)?new gt(F.parsePlatformTagName(e),i,n,void 0,void 0,t):r(l=Gt(t.$options,"components",e))?Bi(l,i,t,n,e):new gt(e,i,n,void 0,void 0,t)):a=Bi(e,i,t,n);return r(a)?(s&&$i(a,s),a):vt()}function $i(t,e,i){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,i=!0),r(t.children))for(var a=0,s=t.children.length;a<s;a++){var l=t.children[a];r(l.tag)&&(n(l.ns)||o(i))&&$i(l,e,i)}}function qi(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ie(e._renderChildren,r),t.$scopedSlots=i,t._c=function(e,i,n,r){return Ui(t,e,i,n,r,!1)},t.$createElement=function(e,i,n,r){return Ui(t,e,i,n,r,!0)};var o=n&&n.data;Et(t,"$attrs",o&&o.attrs||i,null,!0),Et(t,"$listeners",e._parentListeners||i,null,!0)}function Xi(t){Oi(t.prototype),t.prototype.$nextTick=function(t){return se(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;if(e._isMounted)for(var a in e.$slots){var s=e.$slots[a];(s._rendered||s[0]&&s[0].elm)&&(e.$slots[a]=xt(s,!0))}e.$scopedSlots=o&&o.data.scopedSlots||i,e.$vnode=o;try{t=r.call(e._renderProxy,e.$createElement)}catch(i){Xt(i,e,"render"),t=e._vnode}return t instanceof gt||(t=vt()),t.parent=o,t}}var Yi=0;function Ki(t){t.prototype._init=function(t){var e=this;e._uid=Yi++,e._isVue=!0,t&&t._isComponent?Zi(e,t):e.$options=Ht(Ji(e.constructor),t||{},e),e._renderProxy=e,e._self=e,ze(e),Te(e),qi(e),Ge(e,"beforeCreate"),bi(e),ai(e),yi(e),Ge(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Zi(t,e){var i=t.$options=Object.create(t.constructor.options),n=e._parentVnode;i.parent=e.parent,i._parentVnode=n,i._parentElm=e._parentElm,i._refElm=e._refElm;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,e.render&&(i.render=e.render,i.staticRenderFns=e.staticRenderFns)}function Ji(t){var e=t.options;if(t.super){var i=Ji(t.super),n=t.superOptions;if(i!==n){t.superOptions=i;var r=Qi(t);r&&M(t.extendOptions,r),e=t.options=Ht(i,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Qi(t){var e,i=t.options,n=t.extendOptions,r=t.sealedOptions;for(var o in i)i[o]!==r[o]&&(e||(e={}),e[o]=tn(i[o],n[o],r[o]));return e}function tn(t,e,i){if(Array.isArray(t)){var n=[];i=Array.isArray(i)?i:[i],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(e.indexOf(t[r])>=0||i.indexOf(t[r])<0)&&n.push(t[r]);return n}return t}function en(t){this._init(t)}function nn(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var i=T(arguments,1);return i.unshift(this),"function"===typeof t.install?t.install.apply(t,i):"function"===typeof t&&t.apply(null,i),e.push(t),this}}function rn(t){t.mixin=function(t){return this.options=Ht(this.options,t),this}}function on(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var i=this,n=i.cid,r=t._Ctor||(t._Ctor={});if(r[n])return r[n];var o=t.name||i.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Ht(i.options,t),a["super"]=i,a.options.props&&an(a),a.options.computed&&sn(a),a.extend=i.extend,a.mixin=i.mixin,a.use=i.use,B.forEach(function(t){a[t]=i[t]}),o&&(a.options.components[o]=a),a.superOptions=i.options,a.extendOptions=t,a.sealedOptions=M({},a.options),r[n]=a,a}}function an(t){var e=t.options.props;for(var i in e)oi(t.prototype,"_props",i)}function sn(t){var e=t.options.computed;for(var i in e)pi(t.prototype,i,e[i])}function ln(t){B.forEach(function(e){t[e]=function(t,i){return i?("component"===e&&c(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),"directive"===e&&"function"===typeof i&&(i={bind:i,update:i}),this.options[e+"s"][t]=i,i):this.options[e+"s"][t]}})}function un(t){return t&&(t.Ctor.options.name||t.tag)}function cn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function hn(t,e){var i=t.cache,n=t.keys,r=t._vnode;for(var o in i){var a=i[o];if(a){var s=un(a.componentOptions);s&&!e(s)&&pn(i,o,n,r)}}}function pn(t,e,i,n){var r=t[e];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),t[e]=null,v(i,e)}Ki(en),vi(en),Oe(en),Be(en),Xi(en);var dn=[String,RegExp,Array],fn={name:"keep-alive",abstract:!0,props:{include:dn,exclude:dn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){var t=this;for(var e in t.cache)pn(t.cache,e,t.keys)},watch:{include:function(t){hn(this,function(e){return cn(t,e)})},exclude:function(t){hn(this,function(e){return!cn(t,e)})}},render:function(){var t=this.$slots.default,e=Ae(t),i=e&&e.componentOptions;if(i){var n=un(i),r=this,o=r.include,a=r.exclude;if(o&&(!n||!cn(o,n))||a&&n&&cn(a,n))return e;var s=this,l=s.cache,u=s.keys,c=null==e.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):e.key;l[c]?(e.componentInstance=l[c].componentInstance,v(u,c),u.push(c)):(l[c]=e,u.push(c),this.max&&u.length>parseInt(this.max)&&pn(l,u[0],u,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},gn={KeepAlive:fn};function mn(t){var e={get:function(){return F}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:M,mergeOptions:Ht,defineReactive:Et},t.set=Pt,t.delete=Ot,t.nextTick=se,t.options=Object.create(null),B.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,M(t.options.components,gn),nn(t),rn(t),on(t),ln(t)}mn(en),Object.defineProperty(en.prototype,"$isServer",{get:rt}),Object.defineProperty(en.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),en.version="2.5.13";var vn=g("style,class"),yn=g("input,textarea,option,select,progress"),bn=function(t,e,i){return"value"===i&&yn(t)&&"button"!==e||"selected"===i&&"option"===t||"checked"===i&&"input"===t||"muted"===i&&"video"===t},xn=g("contenteditable,draggable,spellcheck"),_n=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),wn="http://www.w3.org/1999/xlink",Cn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Sn=function(t){return Cn(t)?t.slice(6,t.length):""},kn=function(t){return null==t||!1===t};function An(t){var e=t.data,i=t,n=t;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(e=Tn(n.data,e));while(r(i=i.parent))i&&i.data&&(e=Tn(e,i.data));return Mn(e.staticClass,e.class)}function Tn(t,e){return{staticClass:En(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Mn(t,e){return r(t)||r(e)?En(t,Pn(e)):""}function En(t,e){return t?e?t+" "+e:t:e||""}function Pn(t){return Array.isArray(t)?On(t):l(t)?In(t):"string"===typeof t?t:""}function On(t){for(var e,i="",n=0,o=t.length;n<o;n++)r(e=Pn(t[n]))&&""!==e&&(i&&(i+=" "),i+=e);return i}function In(t){var e="";for(var i in t)t[i]&&(e&&(e+=" "),e+=i);return e}var Ln={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Rn=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Dn=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),zn=function(t){return Rn(t)||Dn(t)};function Bn(t){return Dn(t)?"svg":"math"===t?"math":void 0}var jn=Object.create(null);function Fn(t){if(!$)return!0;if(zn(t))return!1;if(t=t.toLowerCase(),null!=jn[t])return jn[t];var e=document.createElement(t);return t.indexOf("-")>-1?jn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:jn[t]=/HTMLUnknownElement/.test(e.toString())}var Nn=g("text,number,password,search,email,tel,url");function Vn(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function Hn(t,e){var i=document.createElement(t);return"select"!==t?i:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)}function Gn(t,e){return document.createElementNS(Ln[t],e)}function Un(t){return document.createTextNode(t)}function Wn(t){return document.createComment(t)}function $n(t,e,i){t.insertBefore(e,i)}function qn(t,e){t.removeChild(e)}function Xn(t,e){t.appendChild(e)}function Yn(t){return t.parentNode}function Kn(t){return t.nextSibling}function Zn(t){return t.tagName}function Jn(t,e){t.textContent=e}function Qn(t,e,i){t.setAttribute(e,i)}var tr=Object.freeze({createElement:Hn,createElementNS:Gn,createTextNode:Un,createComment:Wn,insertBefore:$n,removeChild:qn,appendChild:Xn,parentNode:Yn,nextSibling:Kn,tagName:Zn,setTextContent:Jn,setAttribute:Qn}),er={create:function(t,e){ir(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ir(t,!0),ir(e))},destroy:function(t){ir(t,!0)}};function ir(t,e){var i=t.data.ref;if(i){var n=t.context,r=t.componentInstance||t.elm,o=n.$refs;e?Array.isArray(o[i])?v(o[i],r):o[i]===r&&(o[i]=void 0):t.data.refInFor?Array.isArray(o[i])?o[i].indexOf(r)<0&&o[i].push(r):o[i]=[r]:o[i]=r}}var nr=new gt("",{},[]),rr=["create","activate","update","remove","destroy"];function or(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&ar(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function ar(t,e){if("input"!==t.tag)return!0;var i,n=r(i=t.data)&&r(i=i.attrs)&&i.type,o=r(i=e.data)&&r(i=i.attrs)&&i.type;return n===o||Nn(n)&&Nn(o)}function sr(t,e,i){var n,o,a={};for(n=e;n<=i;++n)o=t[n].key,r(o)&&(a[o]=n);return a}function lr(t){var e,i,a={},l=t.modules,u=t.nodeOps;for(e=0;e<rr.length;++e)for(a[rr[e]]=[],i=0;i<l.length;++i)r(l[i][rr[e]])&&a[rr[e]].push(l[i][rr[e]]);function c(t){return new gt(u.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function i(){0===--i.listeners&&p(t)}return i.listeners=e,i}function p(t){var e=u.parentNode(t);r(e)&&u.removeChild(e,t)}function d(t,e,i,n,a){if(t.isRootInsert=!a,!f(t,e,i,n)){var s=t.data,l=t.children,c=t.tag;r(c)?(t.elm=t.ns?u.createElementNS(t.ns,c):u.createElement(c,t),w(t),b(t,l,e),r(s)&&_(t,e),y(i,t.elm,n)):o(t.isComment)?(t.elm=u.createComment(t.text),y(i,t.elm,n)):(t.elm=u.createTextNode(t.text),y(i,t.elm,n))}}function f(t,e,i,n){var a=t.data;if(r(a)){var s=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1,i,n),r(t.componentInstance))return m(t,e),o(s)&&v(t,e,i,n),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,x(t)?(_(t,e),w(t)):(ir(t),e.push(t))}function v(t,e,i,n){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](nr,s);e.push(s);break}y(i,t.elm,n)}function y(t,e,i){r(t)&&(r(i)?i.parentNode===t&&u.insertBefore(t,e,i):u.appendChild(t,e))}function b(t,e,i){if(Array.isArray(e)){0;for(var n=0;n<e.length;++n)d(e[n],i,t.elm,null,!0)}else s(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function x(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function _(t,i){for(var n=0;n<a.create.length;++n)a.create[n](nr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(nr,t),r(e.insert)&&i.push(t))}function w(t){var e;if(r(e=t.fnScopeId))u.setAttribute(t.elm,e,"");else{var i=t;while(i)r(e=i.context)&&r(e=e.$options._scopeId)&&u.setAttribute(t.elm,e,""),i=i.parent}r(e=De)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&u.setAttribute(t.elm,e,"")}function C(t,e,i,n,r,o){for(;n<=r;++n)d(i[n],o,t,e)}function S(t){var e,i,n=t.data;if(r(n))for(r(e=n.hook)&&r(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(r(e=t.children))for(i=0;i<t.children.length;++i)S(t.children[i])}function k(t,e,i,n){for(;i<=n;++i){var o=e[i];r(o)&&(r(o.tag)?(A(o),S(o)):p(o.elm))}}function A(t,e){if(r(e)||r(t.data)){var i,n=a.remove.length+1;for(r(e)?e.listeners+=n:e=h(t.elm,n),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&A(i,e),i=0;i<a.remove.length;++i)a.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else p(t.elm)}function T(t,e,i,o,a){var s,l,c,h,p=0,f=0,g=e.length-1,m=e[0],v=e[g],y=i.length-1,b=i[0],x=i[y],_=!a;while(p<=g&&f<=y)n(m)?m=e[++p]:n(v)?v=e[--g]:or(m,b)?(E(m,b,o),m=e[++p],b=i[++f]):or(v,x)?(E(v,x,o),v=e[--g],x=i[--y]):or(m,x)?(E(m,x,o),_&&u.insertBefore(t,m.elm,u.nextSibling(v.elm)),m=e[++p],x=i[--y]):or(v,b)?(E(v,b,o),_&&u.insertBefore(t,v.elm,m.elm),v=e[--g],b=i[++f]):(n(s)&&(s=sr(e,p,g)),l=r(b.key)?s[b.key]:M(b,e,p,g),n(l)?d(b,o,t,m.elm):(c=e[l],or(c,b)?(E(c,b,o),e[l]=void 0,_&&u.insertBefore(t,c.elm,m.elm)):d(b,o,t,m.elm)),b=i[++f]);p>g?(h=n(i[y+1])?null:i[y+1].elm,C(t,h,i,f,y,o)):f>y&&k(t,e,p,g)}function M(t,e,i,n){for(var o=i;o<n;o++){var a=e[o];if(r(a)&&or(t,a))return o}}function E(t,e,i,s){if(t!==e){var l=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?I(t.elm,e,i):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var c,h=e.data;r(h)&&r(c=h.hook)&&r(c=c.prepatch)&&c(t,e);var p=t.children,d=e.children;if(r(h)&&x(e)){for(c=0;c<a.update.length;++c)a.update[c](t,e);r(c=h.hook)&&r(c=c.update)&&c(t,e)}n(e.text)?r(p)&&r(d)?p!==d&&T(l,p,d,i,s):r(d)?(r(t.text)&&u.setTextContent(l,""),C(l,null,d,0,d.length-1,i)):r(p)?k(l,p,0,p.length-1):r(t.text)&&u.setTextContent(l,""):t.text!==e.text&&u.setTextContent(l,e.text),r(h)&&r(c=h.hook)&&r(c=c.postpatch)&&c(t,e)}}}function P(t,e,i){if(o(i)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var n=0;n<e.length;++n)e[n].data.hook.insert(e[n])}var O=g("attrs,class,staticClass,staticStyle,key");function I(t,e,i,n){var a,s=e.tag,l=e.data,u=e.children;if(n=n||l&&l.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return m(e,i),!0;if(r(s)){if(r(u))if(t.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var c=!0,h=t.firstChild,p=0;p<u.length;p++){if(!h||!I(h,u[p],i,n)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else b(e,u,i);if(r(l)){var d=!1;for(var f in l)if(!O(f)){d=!0,_(e,i);break}!d&&l["class"]&&ue(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,i,s,l,h){if(!n(e)){var p=!1,f=[];if(n(t))p=!0,d(e,f,l,h);else{var g=r(t.nodeType);if(!g&&or(t,e))E(t,e,f,s);else{if(g){if(1===t.nodeType&&t.hasAttribute(z)&&(t.removeAttribute(z),i=!0),o(i)&&I(t,e,f))return P(e,f,!0),t;t=c(t)}var m=t.elm,v=u.parentNode(m);if(d(e,f,m._leaveCb?null:v,u.nextSibling(m)),r(e.parent)){var y=e.parent,b=x(e);while(y){for(var _=0;_<a.destroy.length;++_)a.destroy[_](y);if(y.elm=e.elm,b){for(var w=0;w<a.create.length;++w)a.create[w](nr,y);var C=y.data.hook.insert;if(C.merged)for(var A=1;A<C.fns.length;A++)C.fns[A]()}else ir(y);y=y.parent}}r(v)?k(v,[t],0,0):r(t.tag)&&S(t)}}return P(e,f,p),e.elm}r(t)&&S(t)}}var ur={create:cr,update:cr,destroy:function(t){cr(t,nr)}};function cr(t,e){(t.data.directives||e.data.directives)&&hr(t,e)}function hr(t,e){var i,n,r,o=t===nr,a=e===nr,s=dr(t.data.directives,t.context),l=dr(e.data.directives,e.context),u=[],c=[];for(i in l)n=s[i],r=l[i],n?(r.oldValue=n.value,gr(r,"update",e,t),r.def&&r.def.componentUpdated&&c.push(r)):(gr(r,"bind",e,t),r.def&&r.def.inserted&&u.push(r));if(u.length){var h=function(){for(var i=0;i<u.length;i++)gr(u[i],"inserted",e,t)};o?ge(e,"insert",h):h()}if(c.length&&ge(e,"postpatch",function(){for(var i=0;i<c.length;i++)gr(c[i],"componentUpdated",e,t)}),!o)for(i in s)l[i]||gr(s[i],"unbind",t,t,a)}var pr=Object.create(null);function dr(t,e){var i,n,r=Object.create(null);if(!t)return r;for(i=0;i<t.length;i++)n=t[i],n.modifiers||(n.modifiers=pr),r[fr(n)]=n,n.def=Gt(e.$options,"directives",n.name,!0);return r}function fr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function gr(t,e,i,n,r){var o=t.def&&t.def[e];if(o)try{o(i.elm,t,i,n,r)}catch(n){Xt(n,i.context,"directive "+t.name+" "+e+" hook")}}var mr=[er,ur];function vr(t,e){var i=e.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(t.data.attrs)||!n(e.data.attrs))){var o,a,s,l=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(o in r(c.__ob__)&&(c=e.data.attrs=M({},c)),c)a=c[o],s=u[o],s!==a&&yr(l,o,a);for(o in(K||J)&&c.value!==u.value&&yr(l,"value",c.value),u)n(c[o])&&(Cn(o)?l.removeAttributeNS(wn,Sn(o)):xn(o)||l.removeAttribute(o))}}function yr(t,e,i){if(_n(e))kn(i)?t.removeAttribute(e):(i="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,i));else if(xn(e))t.setAttribute(e,kn(i)||"false"===i?"false":"true");else if(Cn(e))kn(i)?t.removeAttributeNS(wn,Sn(e)):t.setAttributeNS(wn,e,i);else if(kn(i))t.removeAttribute(e);else{if(K&&!Z&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var n=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",n)};t.addEventListener("input",n),t.__ieph=!0}t.setAttribute(e,i)}}var br={create:vr,update:vr};function xr(t,e){var i=e.elm,o=e.data,a=t.data;if(!(n(o.staticClass)&&n(o.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=An(e),l=i._transitionClasses;r(l)&&(s=En(s,Pn(l))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}var _r,wr={create:xr,update:xr},Cr="__r",Sr="__c";function kr(t){if(r(t[Cr])){var e=K?"change":"input";t[e]=[].concat(t[Cr],t[e]||[]),delete t[Cr]}r(t[Sr])&&(t.change=[].concat(t[Sr],t.change||[]),delete t[Sr])}function Ar(t,e,i){var n=_r;return function r(){var o=t.apply(null,arguments);null!==o&&Mr(e,r,i,n)}}function Tr(t,e,i,n,r){e=ae(e),i&&(e=Ar(e,t,n)),_r.addEventListener(t,e,it?{capture:n,passive:r}:n)}function Mr(t,e,i,n){(n||_r).removeEventListener(t,e._withTask||e,i)}function Er(t,e){if(!n(t.data.on)||!n(e.data.on)){var i=e.data.on||{},r=t.data.on||{};_r=e.elm,kr(i),fe(i,r,Tr,Mr,e.context),_r=void 0}}var Pr={create:Er,update:Er};function Or(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,o,a=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(i in r(l.__ob__)&&(l=e.data.domProps=M({},l)),s)n(l[i])&&(a[i]="");for(i in l){if(o=l[i],"textContent"===i||"innerHTML"===i){if(e.children&&(e.children.length=0),o===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i){a._value=o;var u=n(o)?"":String(o);Ir(a,u)&&(a.value=u)}else a[i]=o}}}function Ir(t,e){return!t.composing&&("OPTION"===t.tagName||Lr(t,e)||Rr(t,e))}function Lr(t,e){var i=!0;try{i=document.activeElement!==t}catch(t){}return i&&t.value!==e}function Rr(t,e){var i=t.value,n=t._vModifiers;if(r(n)){if(n.lazy)return!1;if(n.number)return f(i)!==f(e);if(n.trim)return i.trim()!==e.trim()}return i!==e}var Dr={create:Or,update:Or},zr=x(function(t){var e={},i=/;(?![^(]*\))/g,n=/:(.+)/;return t.split(i).forEach(function(t){if(t){var i=t.split(n);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e});function Br(t){var e=jr(t.style);return t.staticStyle?M(t.staticStyle,e):e}function jr(t){return Array.isArray(t)?E(t):"string"===typeof t?zr(t):t}function Fr(t,e){var i,n={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=Br(r.data))&&M(n,i)}(i=Br(t.data))&&M(n,i);var o=t;while(o=o.parent)o.data&&(i=Br(o.data))&&M(n,i);return n}var Nr,Vr=/^--/,Hr=/\s*!important$/,Gr=function(t,e,i){if(Vr.test(e))t.style.setProperty(e,i);else if(Hr.test(i))t.style.setProperty(e,i.replace(Hr,""),"important");else{var n=Wr(e);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)t.style[n]=i[r];else t.style[n]=i}},Ur=["Webkit","Moz","ms"],Wr=x(function(t){if(Nr=Nr||document.createElement("div").style,t=w(t),"filter"!==t&&t in Nr)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<Ur.length;i++){var n=Ur[i]+e;if(n in Nr)return n}});function $r(t,e){var i=e.data,o=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var a,s,l=e.elm,u=o.staticStyle,c=o.normalizedStyle||o.style||{},h=u||c,p=jr(e.data.style)||{};e.data.normalizedStyle=r(p.__ob__)?M({},p):p;var d=Fr(e,!0);for(s in h)n(d[s])&&Gr(l,s,"");for(s in d)a=d[s],a!==h[s]&&Gr(l,s,null==a?"":a)}}var qr={create:$r,update:$r};function Xr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var i=" "+(t.getAttribute("class")||"")+" ";i.indexOf(" "+e+" ")<0&&t.setAttribute("class",(i+e).trim())}}function Yr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var i=" "+(t.getAttribute("class")||"")+" ",n=" "+e+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?t.setAttribute("class",i):t.removeAttribute("class")}}function Kr(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&M(e,Zr(t.name||"v")),M(e,t),e}return"string"===typeof t?Zr(t):void 0}}var Zr=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Jr=$&&!Z,Qr="transition",to="animation",eo="transition",io="transitionend",no="animation",ro="animationend";Jr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(eo="WebkitTransition",io="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(no="WebkitAnimation",ro="webkitAnimationEnd"));var oo=$?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ao(t){oo(function(){oo(t)})}function so(t,e){var i=t._transitionClasses||(t._transitionClasses=[]);i.indexOf(e)<0&&(i.push(e),Xr(t,e))}function lo(t,e){t._transitionClasses&&v(t._transitionClasses,e),Yr(t,e)}function uo(t,e,i){var n=ho(t,e),r=n.type,o=n.timeout,a=n.propCount;if(!r)return i();var s=r===Qr?io:ro,l=0,u=function(){t.removeEventListener(s,c),i()},c=function(e){e.target===t&&++l>=a&&u()};setTimeout(function(){l<a&&u()},o+1),t.addEventListener(s,c)}var co=/\b(transform|all)(,|$)/;function ho(t,e){var i,n=window.getComputedStyle(t),r=n[eo+"Delay"].split(", "),o=n[eo+"Duration"].split(", "),a=po(r,o),s=n[no+"Delay"].split(", "),l=n[no+"Duration"].split(", "),u=po(s,l),c=0,h=0;e===Qr?a>0&&(i=Qr,c=a,h=o.length):e===to?u>0&&(i=to,c=u,h=l.length):(c=Math.max(a,u),i=c>0?a>u?Qr:to:null,h=i?i===Qr?o.length:l.length:0);var p=i===Qr&&co.test(n[eo+"Property"]);return{type:i,timeout:c,propCount:h,hasTransform:p}}function po(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,i){return fo(e)+fo(t[i])}))}function fo(t){return 1e3*Number(t.slice(0,-1))}function go(t,e){var i=t.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Kr(t.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){var a=o.css,s=o.type,u=o.enterClass,c=o.enterToClass,h=o.enterActiveClass,p=o.appearClass,d=o.appearToClass,g=o.appearActiveClass,m=o.beforeEnter,v=o.enter,y=o.afterEnter,b=o.enterCancelled,x=o.beforeAppear,_=o.appear,w=o.afterAppear,C=o.appearCancelled,S=o.duration,k=De,A=De.$vnode;while(A&&A.parent)A=A.parent,k=A.context;var T=!k._isMounted||!t.isRootInsert;if(!T||_||""===_){var M=T&&p?p:u,E=T&&g?g:h,P=T&&d?d:c,O=T&&x||m,I=T&&"function"===typeof _?_:v,L=T&&w||y,R=T&&C||b,z=f(l(S)?S.enter:S);0;var B=!1!==a&&!Z,j=yo(I),F=i._enterCb=D(function(){B&&(lo(i,P),lo(i,E)),F.cancelled?(B&&lo(i,M),R&&R(i)):L&&L(i),i._enterCb=null});t.data.show||ge(t,"insert",function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(i,F)}),O&&O(i),B&&(so(i,M),so(i,E),ao(function(){so(i,P),lo(i,M),F.cancelled||j||(vo(z)?setTimeout(F,z):uo(i,s,F))})),t.data.show&&(e&&e(),I&&I(i,F)),B||j||F()}}}function mo(t,e){var i=t.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=Kr(t.data.transition);if(n(o)||1!==i.nodeType)return e();if(!r(i._leaveCb)){var a=o.css,s=o.type,u=o.leaveClass,c=o.leaveToClass,h=o.leaveActiveClass,p=o.beforeLeave,d=o.leave,g=o.afterLeave,m=o.leaveCancelled,v=o.delayLeave,y=o.duration,b=!1!==a&&!Z,x=yo(d),_=f(l(y)?y.leave:y);0;var w=i._leaveCb=D(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),b&&(lo(i,c),lo(i,h)),w.cancelled?(b&&lo(i,u),m&&m(i)):(e(),g&&g(i)),i._leaveCb=null});v?v(C):C()}function C(){w.cancelled||(t.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),p&&p(i),b&&(so(i,u),so(i,h),ao(function(){so(i,c),lo(i,u),w.cancelled||x||(vo(_)?setTimeout(w,_):uo(i,s,w))})),d&&d(i,w),b||x||w())}}function vo(t){return"number"===typeof t&&!isNaN(t)}function yo(t){if(n(t))return!1;var e=t.fns;return r(e)?yo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function bo(t,e){!0!==e.data.show&&go(e)}var xo=$?{create:bo,activate:bo,remove:function(t,e){!0!==t.data.show?mo(t,e):e()}}:{},_o=[br,wr,Pr,Dr,qr,xo],wo=_o.concat(mr),Co=lr({nodeOps:tr,modules:wo});Z&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Oo(t,"input")});var So={inserted:function(t,e,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?ge(i,"postpatch",function(){So.componentUpdated(t,e,i)}):ko(t,e,i.context),t._vOptions=[].map.call(t.options,Mo)):("textarea"===i.tag||Nn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",Po),Q||(t.addEventListener("compositionstart",Eo),t.addEventListener("compositionend",Po)),Z&&(t.vmodel=!0)))},componentUpdated:function(t,e,i){if("select"===i.tag){ko(t,e,i.context);var n=t._vOptions,r=t._vOptions=[].map.call(t.options,Mo);if(r.some(function(t,e){return!L(t,n[e])})){var o=t.multiple?e.value.some(function(t){return To(t,r)}):e.value!==e.oldValue&&To(e.value,r);o&&Oo(t,"change")}}}};function ko(t,e,i){Ao(t,e,i),(K||J)&&setTimeout(function(){Ao(t,e,i)},0)}function Ao(t,e,i){var n=e.value,r=t.multiple;if(!r||Array.isArray(n)){for(var o,a,s=0,l=t.options.length;s<l;s++)if(a=t.options[s],r)o=R(n,Mo(a))>-1,a.selected!==o&&(a.selected=o);else if(L(Mo(a),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function To(t,e){return e.every(function(e){return!L(e,t)})}function Mo(t){return"_value"in t?t._value:t.value}function Eo(t){t.target.composing=!0}function Po(t){t.target.composing&&(t.target.composing=!1,Oo(t.target,"input"))}function Oo(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)}function Io(t){return!t.componentInstance||t.data&&t.data.transition?t:Io(t.componentInstance._vnode)}var Lo={bind:function(t,e,i){var n=e.value;i=Io(i);var r=i.data&&i.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;n&&r?(i.data.show=!0,go(i,function(){t.style.display=o})):t.style.display=n?o:"none"},update:function(t,e,i){var n=e.value,r=e.oldValue;if(n!==r){i=Io(i);var o=i.data&&i.data.transition;o?(i.data.show=!0,n?go(i,function(){t.style.display=t.__vOriginalDisplay}):mo(i,function(){t.style.display="none"})):t.style.display=n?t.__vOriginalDisplay:"none"}},unbind:function(t,e,i,n,r){r||(t.style.display=t.__vOriginalDisplay)}},Ro={model:So,show:Lo},Do={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function zo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?zo(Ae(e.children)):t}function Bo(t){var e={},i=t.$options;for(var n in i.propsData)e[n]=t[n];var r=i._parentListeners;for(var o in r)e[w(o)]=r[o];return e}function jo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Fo(t){while(t=t.parent)if(t.data.transition)return!0}function No(t,e){return e.key===t.key&&e.tag===t.tag}var Vo={name:"transition",props:Do,abstract:!0,render:function(t){var e=this,i=this.$slots.default;if(i&&(i=i.filter(function(t){return t.tag||ke(t)}),i.length)){0;var n=this.mode;0;var r=i[0];if(Fo(this.$vnode))return r;var o=zo(r);if(!o)return r;if(this._leaving)return jo(t,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=Bo(this),u=this._vnode,c=zo(u);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),c&&c.data&&!No(o,c)&&!ke(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=M({},l);if("out-in"===n)return this._leaving=!0,ge(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),jo(t,r);if("in-out"===n){if(ke(o))return u;var p,d=function(){p()};ge(l,"afterEnter",d),ge(l,"enterCancelled",d),ge(h,"delayLeave",function(t){p=t})}}return r}}},Ho=M({tag:String,moveClass:String},Do);delete Ho.mode;var Go={props:Ho,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=Bo(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),i[l.key]=l,(l.data||(l.data={})).transition=a;else;}if(n){for(var u=[],c=[],h=0;h<n.length;h++){var p=n[h];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),i[p.key]?u.push(p):c.push(p)}this.kept=t(e,null,u),this.removed=c}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Uo),t.forEach(Wo),t.forEach($o),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var i=t.elm,n=i.style;so(i,e),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(io,i._moveCb=function t(n){n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(io,t),i._moveCb=null,lo(i,e))})}}))},methods:{hasMove:function(t,e){if(!Jr)return!1;if(this._hasMove)return this._hasMove;var i=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Yr(i,t)}),Xr(i,e),i.style.display="none",this.$el.appendChild(i);var n=ho(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function Uo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Wo(t){t.data.newPos=t.elm.getBoundingClientRect()}function $o(t){var e=t.data.pos,i=t.data.newPos,n=e.left-i.left,r=e.top-i.top;if(n||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}var qo={Transition:Vo,TransitionGroup:Go};en.config.mustUseProp=bn,en.config.isReservedTag=zn,en.config.isReservedAttr=vn,en.config.getTagNamespace=Bn,en.config.isUnknownElement=Fn,M(en.options.directives,Ro),M(en.options.components,qo),en.prototype.__patch__=$?Co:P,en.prototype.$mount=function(t,e){return t=t&&$?Vn(t):void 0,je(this,t,e)},en.nextTick(function(){F.devtools&&ot&&ot.emit("init",en)},0),e["a"]=en}).call(e,i("DuR2"))},"/ocq":function(t,e,i){"use strict";function n(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}var o={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var i=e.props,n=e.children,r=e.parent,o=e.data;o.routerView=!0;var l=r.$createElement,u=i.name,c=r.$route,h=r._routerViewCache||(r._routerViewCache={}),p=0,d=!1;while(r&&r._routerRoot!==r)r.$vnode&&r.$vnode.data.routerView&&p++,r._inactive&&(d=!0),r=r.$parent;if(o.routerViewDepth=p,d)return l(h[u],o,n);var f=c.matched[p];if(!f)return h[u]=null,l();var g=h[u]=f.components[u];o.registerRouteInstance=function(t,e){var i=f.instances[u];(e&&i!==t||!e&&i===t)&&(f.instances[u]=e)},(o.hook||(o.hook={})).prepatch=function(t,e){f.instances[u]=e.componentInstance};var m=o.props=a(c,f.props&&f.props[u]);if(m){m=o.props=s({},m);var v=o.attrs=o.attrs||{};for(var y in m)g.props&&y in g.props||(v[y]=m[y],delete m[y])}return l(g,o,n)}};function a(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function s(t,e){for(var i in e)t[i]=e[i];return t}var l=/[!'()*]/g,u=function(t){return"%"+t.charCodeAt(0).toString(16)},c=/%2C/g,h=function(t){return encodeURIComponent(t).replace(l,u).replace(c,",")},p=decodeURIComponent;function d(t,e,i){void 0===e&&(e={});var n,r=i||f;try{n=r(t||"")}catch(t){n={}}for(var o in e)n[o]=e[o];return n}function f(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach(function(t){var i=t.replace(/\+/g," ").split("="),n=p(i.shift()),r=i.length>0?p(i.join("=")):null;void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]}),e):e}function g(t){var e=t?Object.keys(t).map(function(e){var i=t[e];if(void 0===i)return"";if(null===i)return h(e);if(Array.isArray(i)){var n=[];return i.forEach(function(t){void 0!==t&&(null===t?n.push(h(e)):n.push(h(e)+"="+h(t)))}),n.join("&")}return h(e)+"="+h(i)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var m=/\/?$/;function v(t,e,i,n){var r=n&&n.options.stringifyQuery,o=e.query||{};try{o=y(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:_(e,r),matched:t?x(t):[]};return i&&(a.redirectedFrom=_(i,r)),Object.freeze(a)}function y(t){if(Array.isArray(t))return t.map(y);if(t&&"object"===typeof t){var e={};for(var i in t)e[i]=y(t[i]);return e}return t}var b=v(null,{path:"/"});function x(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function _(t,e){var i=t.path,n=t.query;void 0===n&&(n={});var r=t.hash;void 0===r&&(r="");var o=e||g;return(i||"/")+o(n)+r}function w(t,e){return e===b?t===e:!!e&&(t.path&&e.path?t.path.replace(m,"")===e.path.replace(m,"")&&t.hash===e.hash&&C(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&C(t.query,e.query)&&C(t.params,e.params)))}function C(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every(function(i){var n=t[i],r=e[i];return"object"===typeof n&&"object"===typeof r?C(n,r):String(n)===String(r)})}function S(t,e){return 0===t.path.replace(m,"/").indexOf(e.path.replace(m,"/"))&&(!e.hash||t.hash===e.hash)&&k(t.query,e.query)}function k(t,e){for(var i in e)if(!(i in t))return!1;return!0}var A,T=[String,Object],M=[String,Array],E={name:"router-link",props:{to:{type:T,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:M,default:"click"}},render:function(t){var e=this,i=this.$router,n=this.$route,r=i.resolve(this.to,n,this.append),o=r.location,a=r.route,s=r.href,l={},u=i.options.linkActiveClass,c=i.options.linkExactActiveClass,h=null==u?"router-link-active":u,p=null==c?"router-link-exact-active":c,d=null==this.activeClass?h:this.activeClass,f=null==this.exactActiveClass?p:this.exactActiveClass,g=o.path?v(null,o,null,i):a;l[f]=w(n,g),l[d]=this.exact?l[f]:S(n,g);var m=function(t){P(t)&&(e.replace?i.replace(o):i.push(o))},y={click:P};Array.isArray(this.event)?this.event.forEach(function(t){y[t]=m}):y[this.event]=m;var b={class:l};if("a"===this.tag)b.on=y,b.attrs={href:s};else{var x=O(this.$slots.default);if(x){x.isStatic=!1;var _=A.util.extend,C=x.data=_({},x.data);C.on=y;var k=x.data.attrs=_({},x.data.attrs);k.href=s}else b.on=y}return t(this.tag,b,this.$slots.default)}};function P(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function O(t){if(t)for(var e,i=0;i<t.length;i++){if(e=t[i],"a"===e.tag)return e;if(e.children&&(e=O(e.children)))return e}}function I(t){if(!I.installed||A!==t){I.installed=!0,A=t;var e=function(t){return void 0!==t},i=function(t,i){var n=t.$options._parentVnode;e(n)&&e(n=n.data)&&e(n=n.registerRouteInstance)&&n(t,i)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("router-view",o),t.component("router-link",E);var n=t.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var L="undefined"!==typeof window;function R(t,e,i){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var r=e.split("/");i&&r[r.length-1]||r.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function D(t){var e="",i="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var r=t.indexOf("?");return r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),{path:t,query:i,hash:e}}function z(t){return t.replace(/\/\//g,"/")}var B=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},j=nt,F=U,N=W,V=X,H=it,G=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(t,e){var i,n=[],r=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(i=G.exec(t))){var l=i[0],u=i[1],c=i.index;if(a+=t.slice(o,c),o=c+l.length,u)a+=u[1];else{var h=t[o],p=i[2],d=i[3],f=i[4],g=i[5],m=i[6],v=i[7];a&&(n.push(a),a="");var y=null!=p&&null!=h&&h!==p,b="+"===m||"*"===m,x="?"===m||"*"===m,_=i[2]||s,w=f||g;n.push({name:d||r++,prefix:p||"",delimiter:_,optional:x,repeat:b,partial:y,asterisk:!!v,pattern:w?K(w):v?".*":"[^"+Y(_)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&n.push(a),n}function W(t,e){return X(U(t,e))}function $(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function q(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function X(t){for(var e=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(e[i]=new RegExp("^(?:"+t[i].pattern+")$"));return function(i,n){for(var r="",o=i||{},a=n||{},s=a.pretty?$:encodeURIComponent,l=0;l<t.length;l++){var u=t[l];if("string"!==typeof u){var c,h=o[u.name];if(null==h){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(B(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(c=s(h[p]),!e[l].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===p?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?q(h):s(h),!e[l].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');r+=u.prefix+c}}else r+=u}return r}}function Y(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function K(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Z(t,e){return t.keys=e,t}function J(t){return t.sensitive?"":"i"}function Q(t,e){var i=t.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Z(t,e)}function tt(t,e,i){for(var n=[],r=0;r<t.length;r++)n.push(nt(t[r],e,i).source);var o=new RegExp("(?:"+n.join("|")+")",J(i));return Z(o,e)}function et(t,e,i){return it(U(t,i),e,i)}function it(t,e,i){B(e)||(i=e||i,e=[]),i=i||{};for(var n=i.strict,r=!1!==i.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=Y(s);else{var l=Y(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+l+u+")*"),u=s.optional?s.partial?l+"("+u+")?":"(?:"+l+"("+u+"))?":l+"("+u+")",o+=u}}var c=Y(i.delimiter||"/"),h=o.slice(-c.length)===c;return n||(o=(h?o.slice(0,-c.length):o)+"(?:"+c+"(?=$))?"),o+=r?"$":n&&h?"":"(?="+c+"|$)",Z(new RegExp("^"+o,J(i)),e)}function nt(t,e,i){return B(e)||(i=e||i,e=[]),i=i||{},t instanceof RegExp?Q(t,e):B(t)?tt(t,e,i):et(t,e,i)}j.parse=F,j.compile=N,j.tokensToFunction=V,j.tokensToRegExp=H;var rt=Object.create(null);function ot(t,e,i){try{var n=rt[t]||(rt[t]=j.compile(t));return n(e||{},{pretty:!0})}catch(t){return""}}function at(t,e,i,n){var r=e||[],o=i||Object.create(null),a=n||Object.create(null);t.forEach(function(t){st(r,o,a,t)});for(var s=0,l=r.length;s<l;s++)"*"===r[s]&&(r.push(r.splice(s,1)[0]),l--,s--);return{pathList:r,pathMap:o,nameMap:a}}function st(t,e,i,n,r,o){var a=n.path,s=n.name;var l=n.pathToRegexpOptions||{},u=ut(a,r,l.strict);"boolean"===typeof n.caseSensitive&&(l.sensitive=n.caseSensitive);var c={path:u,regex:lt(u,l),components:n.components||{default:n.component},instances:{},name:s,parent:r,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var r=o?z(o+"/"+n.path):void 0;st(t,e,i,n,c,r)}),void 0!==n.alias){var h=Array.isArray(n.alias)?n.alias:[n.alias];h.forEach(function(o){var a={path:o,children:n.children};st(t,e,i,a,r,c.path||"/")})}e[c.path]||(t.push(c.path),e[c.path]=c),s&&(i[s]||(i[s]=c))}function lt(t,e){var i=j(t,[],e);return i}function ut(t,e,i){return i||(t=t.replace(/\/$/,"")),"/"===t[0]?t:null==e?t:z(e.path+"/"+t)}function ct(t,e,i,n){var r="string"===typeof t?{path:t}:t;if(r.name||r._normalized)return r;if(!r.path&&r.params&&e){r=ht({},r),r._normalized=!0;var o=ht(ht({},e.params),r.params);if(e.name)r.name=e.name,r.params=o;else if(e.matched.length){var a=e.matched[e.matched.length-1].path;r.path=ot(a,o,"path "+e.path)}else 0;return r}var s=D(r.path||""),l=e&&e.path||"/",u=s.path?R(s.path,l,i||r.append):l,c=d(s.query,r.query,n&&n.options.parseQuery),h=r.hash||s.hash;return h&&"#"!==h.charAt(0)&&(h="#"+h),{_normalized:!0,path:u,query:c,hash:h}}function ht(t,e){for(var i in e)t[i]=e[i];return t}function pt(t,e){var i=at(t),n=i.pathList,r=i.pathMap,o=i.nameMap;function a(t){at(t,n,r,o)}function s(t,i,a){var s=ct(t,i,!1,e),l=s.name;if(l){var u=o[l];if(!u)return c(null,s);var h=u.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!==typeof s.params&&(s.params={}),i&&"object"===typeof i.params)for(var p in i.params)!(p in s.params)&&h.indexOf(p)>-1&&(s.params[p]=i.params[p]);if(u)return s.path=ot(u.path,s.params,'named route "'+l+'"'),c(u,s,a)}else if(s.path){s.params={};for(var d=0;d<n.length;d++){var f=n[d],g=r[f];if(dt(g.regex,s.path,s.params))return c(g,s,a)}}return c(null,s)}function l(t,i){var n=t.redirect,r="function"===typeof n?n(v(t,i,null,e)):n;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return c(null,i);var a=r,l=a.name,u=a.path,h=i.query,p=i.hash,d=i.params;if(h=a.hasOwnProperty("query")?a.query:h,p=a.hasOwnProperty("hash")?a.hash:p,d=a.hasOwnProperty("params")?a.params:d,l){o[l];return s({_normalized:!0,name:l,query:h,hash:p,params:d},void 0,i)}if(u){var f=ft(u,t),g=ot(f,d,'redirect route with path "'+f+'"');return s({_normalized:!0,path:g,query:h,hash:p},void 0,i)}return c(null,i)}function u(t,e,i){var n=ot(i,e.params,'aliased route with path "'+i+'"'),r=s({_normalized:!0,path:n});if(r){var o=r.matched,a=o[o.length-1];return e.params=r.params,c(a,e)}return c(null,e)}function c(t,i,n){return t&&t.redirect?l(t,n||i):t&&t.matchAs?u(t,i,t.matchAs):v(t,i,n,e)}return{match:s,addRoutes:a}}function dt(t,e,i){var n=e.match(t);if(!n)return!1;if(!i)return!0;for(var r=1,o=n.length;r<o;++r){var a=t.keys[r-1],s="string"===typeof n[r]?decodeURIComponent(n[r]):n[r];a&&(i[a.name]=s)}return!0}function ft(t,e){return R(t,e.parent?e.parent.path:"/",!0)}var gt=Object.create(null);function mt(){window.history.replaceState({key:Pt()},""),window.addEventListener("popstate",function(t){yt(),t.state&&t.state.key&&Ot(t.state.key)})}function vt(t,e,i,n){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick(function(){var t=bt(),o=r(e,i,n?t:null);o&&("function"===typeof o.then?o.then(function(e){kt(e,t)}).catch(function(t){0}):kt(o,t))})}}function yt(){var t=Pt();t&&(gt[t]={x:window.pageXOffset,y:window.pageYOffset})}function bt(){var t=Pt();if(t)return gt[t]}function xt(t,e){var i=document.documentElement,n=i.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}function _t(t){return St(t.x)||St(t.y)}function wt(t){return{x:St(t.x)?t.x:window.pageXOffset,y:St(t.y)?t.y:window.pageYOffset}}function Ct(t){return{x:St(t.x)?t.x:0,y:St(t.y)?t.y:0}}function St(t){return"number"===typeof t}function kt(t,e){var i="object"===typeof t;if(i&&"string"===typeof t.selector){var n=document.querySelector(t.selector);if(n){var r=t.offset&&"object"===typeof t.offset?t.offset:{};r=Ct(r),e=xt(n,r)}else _t(t)&&(e=wt(t))}else i&&_t(t)&&(e=wt(t));e&&window.scrollTo(e.x,e.y)}var At=L&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Tt=L&&window.performance&&window.performance.now?window.performance:Date,Mt=Et();function Et(){return Tt.now().toFixed(3)}function Pt(){return Mt}function Ot(t){Mt=t}function It(t,e){yt();var i=window.history;try{e?i.replaceState({key:Mt},"",t):(Mt=Et(),i.pushState({key:Mt},"",t))}catch(i){window.location[e?"replace":"assign"](t)}}function Lt(t){It(t,!0)}function Rt(t,e,i){var n=function(r){r>=t.length?i():t[r]?e(t[r],function(){n(r+1)}):n(r+1)};n(0)}function Dt(t){return function(e,i,n){var o=!1,a=0,s=null;zt(t,function(t,e,i,l){if("function"===typeof t&&void 0===t.cid){o=!0,a++;var u,c=Nt(function(e){Ft(e)&&(e=e.default),t.resolved="function"===typeof e?e:A.extend(e),i.components[l]=e,a--,a<=0&&n()}),h=Nt(function(t){var e="Failed to resolve async component "+l+": "+t;s||(s=r(t)?t:new Error(e),n(s))});try{u=t(c,h)}catch(t){h(t)}if(u)if("function"===typeof u.then)u.then(c,h);else{var p=u.component;p&&"function"===typeof p.then&&p.then(c,h)}}}),o||n()}}function zt(t,e){return Bt(t.map(function(t){return Object.keys(t.components).map(function(i){return e(t.components[i],t.instances[i],t,i)})}))}function Bt(t){return Array.prototype.concat.apply([],t)}var jt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ft(t){return t.__esModule||jt&&"Module"===t[Symbol.toStringTag]}function Nt(t){var e=!1;return function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];if(!e)return e=!0,t.apply(this,i)}}var Vt=function(t,e){this.router=t,this.base=Ht(e),this.current=b,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Ht(t){if(!t)if(L){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function Gt(t,e){var i,n=Math.max(t.length,e.length);for(i=0;i<n;i++)if(t[i]!==e[i])break;return{updated:e.slice(0,i),activated:e.slice(i),deactivated:t.slice(i)}}function Ut(t,e,i,n){var r=zt(t,function(t,n,r,o){var a=Wt(t,e);if(a)return Array.isArray(a)?a.map(function(t){return i(t,n,r,o)}):i(a,n,r,o)});return Bt(n?r.reverse():r)}function Wt(t,e){return"function"!==typeof t&&(t=A.extend(t)),t.options[e]}function $t(t){return Ut(t,"beforeRouteLeave",Xt,!0)}function qt(t){return Ut(t,"beforeRouteUpdate",Xt)}function Xt(t,e){if(e)return function(){return t.apply(e,arguments)}}function Yt(t,e,i){return Ut(t,"beforeRouteEnter",function(t,n,r,o){return Kt(t,r,o,e,i)})}function Kt(t,e,i,n,r){return function(o,a,s){return t(o,a,function(t){s(t),"function"===typeof t&&n.push(function(){Zt(t,e.instances,i,r)})})}}function Zt(t,e,i,n){e[i]?t(e[i]):n()&&setTimeout(function(){Zt(t,e,i,n)},16)}Vt.prototype.listen=function(t){this.cb=t},Vt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Vt.prototype.onError=function(t){this.errorCbs.push(t)},Vt.prototype.transitionTo=function(t,e,i){var n=this,r=this.router.match(t,this.current);this.confirmTransition(r,function(){n.updateRoute(r),e&&e(r),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(t){t(r)}))},function(t){i&&i(t),t&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(e){e(t)}))})},Vt.prototype.confirmTransition=function(t,e,i){var o=this,a=this.current,s=function(t){r(t)&&(o.errorCbs.length?o.errorCbs.forEach(function(e){e(t)}):(n(!1,"uncaught error during route navigation:"),console.error(t))),i&&i(t)};if(w(t,a)&&t.matched.length===a.matched.length)return this.ensureURL(),s();var l=Gt(this.current.matched,t.matched),u=l.updated,c=l.deactivated,h=l.activated,p=[].concat($t(c),this.router.beforeHooks,qt(u),h.map(function(t){return t.beforeEnter}),Dt(h));this.pending=t;var d=function(e,i){if(o.pending!==t)return s();try{e(t,a,function(t){!1===t||r(t)?(o.ensureURL(!0),s(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(s(),"object"===typeof t&&t.replace?o.replace(t):o.push(t)):i(t)})}catch(t){s(t)}};Rt(p,d,function(){var i=[],n=function(){return o.current===t},r=Yt(h,i,n),a=r.concat(o.router.resolveHooks);Rt(a,d,function(){if(o.pending!==t)return s();o.pending=null,e(t),o.router.app&&o.router.app.$nextTick(function(){i.forEach(function(t){t()})})})})},Vt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(i){i&&i(t,e)})};var Jt=function(t){function e(e,i){var n=this;t.call(this,e,i);var r=e.options.scrollBehavior;r&&mt();var o=Qt(this.base);window.addEventListener("popstate",function(t){var i=n.current,a=Qt(n.base);n.current===b&&a===o||n.transitionTo(a,function(t){r&&vt(e,t,i,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,i){var n=this,r=this,o=r.current;this.transitionTo(t,function(t){It(z(n.base+t.fullPath)),vt(n.router,t,o,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this,r=this,o=r.current;this.transitionTo(t,function(t){Lt(z(n.base+t.fullPath)),vt(n.router,t,o,!1),e&&e(t)},i)},e.prototype.ensureURL=function(t){if(Qt(this.base)!==this.current.fullPath){var e=z(this.base+this.current.fullPath);t?It(e):Lt(e)}},e.prototype.getCurrentLocation=function(){return Qt(this.base)},e}(Vt);function Qt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var te=function(t){function e(e,i,n){t.call(this,e,i),n&&ee(this.base)||ie()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this,e=this.router,i=e.options.scrollBehavior,n=At&&i;n&&mt(),window.addEventListener(At?"popstate":"hashchange",function(){var e=t.current;ie()&&t.transitionTo(ne(),function(i){n&&vt(t.router,i,e,!0),At||ae(i.fullPath)})})},e.prototype.push=function(t,e,i){var n=this,r=this,o=r.current;this.transitionTo(t,function(t){oe(t.fullPath),vt(n.router,t,o,!1),e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this,r=this,o=r.current;this.transitionTo(t,function(t){ae(t.fullPath),vt(n.router,t,o,!1),e&&e(t)},i)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ne()!==e&&(t?oe(e):ae(e))},e.prototype.getCurrentLocation=function(){return ne()},e}(Vt);function ee(t){var e=Qt(t);if(!/^\/#/.test(e))return window.location.replace(z(t+"/#"+e)),!0}function ie(){var t=ne();return"/"===t.charAt(0)||(ae("/"+t),!1)}function ne(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function re(t){var e=window.location.href,i=e.indexOf("#"),n=i>=0?e.slice(0,i):e;return n+"#"+t}function oe(t){At?It(re(t)):window.location.hash=t}function ae(t){At?Lt(re(t)):window.location.replace(re(t))}var se=function(t){function e(e,i){t.call(this,e,i),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,i){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)},i)},e.prototype.replace=function(t,e,i){var n=this;this.transitionTo(t,function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)},i)},e.prototype.go=function(t){var e=this,i=this.index+t;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,function(){e.index=i,e.updateRoute(n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Vt),le=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!At&&!1!==t.fallback,this.fallback&&(e="hash"),L||(e="abstract"),this.mode=e,e){case"history":this.history=new Jt(this,t.base);break;case"hash":this.history=new te(this,t.base,this.fallback);break;case"abstract":this.history=new se(this,t.base);break;default:0}},ue={currentRoute:{configurable:!0}};function ce(t,e){return t.push(e),function(){var i=t.indexOf(e);i>-1&&t.splice(i,1)}}function he(t,e,i){var n="hash"===i?"#"+e:e;return t?z(t+"/"+n):n}le.prototype.match=function(t,e,i){return this.matcher.match(t,e,i)},ue.currentRoute.get=function(){return this.history&&this.history.current},le.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var i=this.history;if(i instanceof Jt)i.transitionTo(i.getCurrentLocation());else if(i instanceof te){var n=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},le.prototype.beforeEach=function(t){return ce(this.beforeHooks,t)},le.prototype.beforeResolve=function(t){return ce(this.resolveHooks,t)},le.prototype.afterEach=function(t){return ce(this.afterHooks,t)},le.prototype.onReady=function(t,e){this.history.onReady(t,e)},le.prototype.onError=function(t){this.history.onError(t)},le.prototype.push=function(t,e,i){this.history.push(t,e,i)},le.prototype.replace=function(t,e,i){this.history.replace(t,e,i)},le.prototype.go=function(t){this.history.go(t)},le.prototype.back=function(){this.go(-1)},le.prototype.forward=function(){this.go(1)},le.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},le.prototype.resolve=function(t,e,i){var n=ct(t,e||this.history.current,i,this),r=this.match(n,e),o=r.redirectedFrom||r.fullPath,a=this.history.base,s=he(a,o,this.mode);return{location:n,route:r,href:s,normalizedTo:n,resolved:r}},le.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==b&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(le.prototype,ue),le.install=I,le.version="3.0.1",L&&window.Vue&&window.Vue.use(le),e["a"]=le},"/whu":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1ETD":function(t,e,i){var n=i("kkCw")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},"1e2d":function(t,e,i){var n;(function(e){t.exports=e()})(function(){var t;return function t(e,i,r){function o(s,l){if(!i[s]){if(!e[s]){var u="function"==typeof n&&n;if(!l&&u)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i||t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var a="function"==typeof n&&n,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,i){function n(t){var e,i=0;switch(t.type){case"Polygon":return r(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)i+=r(t.coordinates[e]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)i+=n(t.geometries[e]);return i}}function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(o(t[i]))}return e}function o(t){var e,i,n,r,o,l,u,c=0,h=t.length;if(h>2){for(u=0;u<h;u++)u===h-2?(r=h-2,o=h-1,l=0):u===h-1?(r=h-1,o=0,l=1):(r=u,o=u+1,l=u+2),e=t[r],i=t[o],n=t[l],c+=(a(n[0])-a(e[0]))*Math.sin(a(i[1]));c=c*s.RADIUS*s.RADIUS/2}return c}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=n,e.exports.ring=o},{wgs84:37}],2:[function(e,i,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof i?i.exports=r():"function"==typeof t&&t.amd?t(r):e.glMatrix=r()}(this,function(){"use strict";function t(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t}function e(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*a,t[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*a,t[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*a,t[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*a,t}function i(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function n(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(i),l=Math.cos(i);return t[0]=n*l+o*s,t[1]=r*l+a*s,t[2]=n*-s+o*l,t[3]=r*-s+a*l,t}function r(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=i[0],l=i[1];return t[0]=n*s,t[1]=r*s,t[2]=o*l,t[3]=a*l,t}function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],g=e[13],m=e[14],v=e[15],y=i*s-n*a,b=i*l-r*a,x=i*u-o*a,_=n*l-r*s,w=n*u-o*s,C=r*u-o*l,S=c*g-h*f,k=c*m-p*f,A=c*v-d*f,T=h*m-p*g,M=h*v-d*g,E=p*v-d*m,P=y*E-b*M+x*T+_*A-w*k+C*S;return P?(P=1/P,t[0]=(s*E-l*M+u*T)*P,t[1]=(r*M-n*E-o*T)*P,t[2]=(g*C-m*w+v*_)*P,t[3]=(p*w-h*C-d*_)*P,t[4]=(l*A-a*E-u*k)*P,t[5]=(i*E-r*A+o*k)*P,t[6]=(m*x-f*C-v*b)*P,t[7]=(c*C-p*x+d*b)*P,t[8]=(a*M-s*A+u*S)*P,t[9]=(n*A-i*M-o*S)*P,t[10]=(f*w-g*x+v*y)*P,t[11]=(h*x-c*w-d*y)*P,t[12]=(s*k-a*T-l*S)*P,t[13]=(i*T-n*k+r*S)*P,t[14]=(g*b-f*_-m*y)*P,t[15]=(c*_-h*b+p*y)*P,t):null}function c(t,e,i){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=i[0],x=i[1],_=i[2],w=i[3];return t[0]=b*n+x*s+_*h+w*g,t[1]=b*r+x*l+_*p+w*m,t[2]=b*o+x*u+_*d+w*v,t[3]=b*a+x*c+_*f+w*y,b=i[4],x=i[5],_=i[6],w=i[7],t[4]=b*n+x*s+_*h+w*g,t[5]=b*r+x*l+_*p+w*m,t[6]=b*o+x*u+_*d+w*v,t[7]=b*a+x*c+_*f+w*y,b=i[8],x=i[9],_=i[10],w=i[11],t[8]=b*n+x*s+_*h+w*g,t[9]=b*r+x*l+_*p+w*m,t[10]=b*o+x*u+_*d+w*v,t[11]=b*a+x*c+_*f+w*y,b=i[12],x=i[13],_=i[14],w=i[15],t[12]=b*n+x*s+_*h+w*g,t[13]=b*r+x*l+_*p+w*m,t[14]=b*o+x*u+_*d+w*v,t[15]=b*a+x*c+_*f+w*y,t}function h(t,e,i){var n,r,o,a,s,l,u,c,h,p,d,f,g=i[0],m=i[1],v=i[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(n=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=n*g+s*m+h*v+e[12],t[13]=r*g+l*m+p*v+e[13],t[14]=o*g+u*m+d*v+e[14],t[15]=a*g+c*m+f*v+e[15]),t}function p(t,e,i){var n=i[0],r=i[1],o=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*n,t[5]=a*r+c*n,t[6]=s*r+h*n,t[7]=l*r+p*n,t[8]=u*r-o*n,t[9]=c*r-a*n,t[10]=h*r-s*n,t[11]=p*r-l*n,t}function f(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*n,t[1]=a*r+c*n,t[2]=s*r+h*n,t[3]=l*r+p*n,t[4]=u*r-o*n,t[5]=c*r-a*n,t[6]=h*r-s*n,t[7]=p*r-l*n,t}function g(t,e,i,n,r){var o=1/Math.tan(e/2),a=1/(n-r);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*a,t[15]=0,t}function m(t,e,i,n,r,o,a){var s=1/(e-i),l=1/(n-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*s,t[13]=(r+n)*l,t[14]=(a+o)*u,t[15]=1,t}return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:i,rotate:n,scale:r},mat3:{create:o,fromRotation:a},mat4:{create:s,identity:l,translate:h,scale:p,multiply:c,perspective:g,rotateX:d,rotateZ:f,invert:u,ortho:m}}})},{}],3:[function(t,e,i){"use strict";function n(t){return!!(r()&&o()&&a()&&s()&&l()&&u()&&c()&&h(t&&t.failIfMajorPerformanceCaveat))}function r(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){if(!("Worker"in window&&"Blob"in window))return!1;var t,e,i=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(i);try{e=new Worker(n),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(n),t}function c(){return"Uint8ClampedArray"in window}function h(t){return void 0===d[t]&&(d[t]=p(t)),d[t]}function p(t){var e=document.createElement("canvas"),i=Object.create(n.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",i)||e.probablySupportsContext("experimental-webgl",i):e.supportsContext?e.supportsContext("webgl",i)||e.supportsContext("experimental-webgl",i):e.getContext("webgl",i)||e.getContext("experimental-webgl",i)}"undefined"!=typeof e&&e.exports?e.exports=n:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=n);var d={};n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(t,e,i){"use strict";function n(t,e){this.x=t,this.y=e}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,r=i*this.x+e*this.y;return this.x=n,this.y=r,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),r=e.x+i*(this.x-e.x)-n*(this.y-e.y),o=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],5:[function(e,i,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof i?i.exports=r():"function"==typeof t&&t.amd?t(r):e.ShelfPack=r()}(this,function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}function i(t,e,i,n,r,o,a){this.id=t,this.x=e,this.y=i,this.w=n,this.h=r,this.maxw=o||n,this.maxh=a||r,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var i,n,r,o,a=[],s=0;s<t.length;s++)if(i=t[s].w||t[s].width,n=t[s].h||t[s].height,r=t[s].id,i&&n){if(!(o=this.packOne(i,n,r)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,i,n){var r,o,a,s,l,u,c,h,p={freebin:-1,shelf:-1,waste:1/0},d=0;if("string"==typeof n||"number"==typeof n){if(r=this.getBin(n))return this.ref(r),r;"number"==typeof n&&(this.maxId=Math.max(n,this.maxId))}else n=++this.maxId;for(s=0;s<this.freebins.length;s++){if(r=this.freebins[s],i===r.maxh&&t===r.maxw)return this.allocFreebin(s,t,i,n);i>r.maxh||t>r.maxw||i<=r.maxh&&t<=r.maxw&&(a=r.maxw*r.maxh-t*i)<p.waste&&(p.waste=a,p.freebin=s)}for(s=0;s<this.shelves.length;s++)if(o=this.shelves[s],d+=o.h,!(t>o.free)){if(i===o.h)return this.allocShelf(s,t,i,n);i>o.h||i<o.h&&(a=(o.h-i)*t)<p.waste&&(p.freebin=-1,p.waste=a,p.shelf=s)}return-1!==p.freebin?this.allocFreebin(p.freebin,t,i,n):-1!==p.shelf?this.allocShelf(p.shelf,t,i,n):i<=this.h-d&&t<=this.w?(o=new e(d,this.w,i),this.allocShelf(this.shelves.push(o)-1,t,i,n)):this.autoResize?(l=u=this.h,c=h=this.w,(c<=l||t>c)&&(h=2*Math.max(t,c)),(l<c||i>l)&&(u=2*Math.max(i,l)),this.resize(h,u),this.packOne(t,i,n)):null},t.prototype.allocFreebin=function(t,e,i,n){var r=this.freebins.splice(t,1)[0];return r.id=n,r.w=e,r.h=i,r.refcount=0,this.bins[n]=r,this.ref(r),r},t.prototype.allocShelf=function(t,e,i,n){var r=this.shelves[t],o=r.alloc(e,i,n);return this.bins[n]=o,this.ref(o),o},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,i=0;i<this.shelves.length;i++){var n=this.shelves[i];e+=n.h,t=Math.max(n.w-n.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},e.prototype.alloc=function(t,e,n){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new i(n,r,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],6:[function(t,e,i){"use strict";function n(t,e,i,n,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=i||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,i,n,r,a,s){for(var l=0;l<e;l++){for(var u=0;u<i;u++)n[u]=t[u*e+l];for(o(n,r,a,s,i),u=0;u<i;u++)t[u*e+l]=r[u]}for(u=0;u<i;u++){for(l=0;l<e;l++)n[l]=t[u*e+l];for(o(n,r,a,s,e),l=0;l<e;l++)t[u*e+l]=Math.sqrt(r[l])}}function o(t,e,i,n,r){i[0]=0,n[0]=-a,n[1]=+a;for(var o=1,s=0;o<r;o++){for(var l=(t[o]+o*o-(t[i[s]]+i[s]*i[s]))/(2*o-2*i[s]);l<=n[s];)s--,l=(t[o]+o*o-(t[i[s]]+i[s]*i[s]))/(2*o-2*i[s]);s++,i[s]=o,n[s]=l,n[s+1]=+a}for(o=0,s=0;o<r;o++){for(;n[s+1]<o;)s++;e[o]=(o-i[s])*(o-i[s])+t[i[s]]}}e.exports=n;var a=1e20;n.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(r(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),r(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var s=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return i}},{}],7:[function(t,e,i){function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}e.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var i,n,r,o,a;for(void 0===e&&(e=1e-6),r=t,a=0;a<8;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(i=0,n=1,(r=t)<i)return i;if(r>n)return n;for(;i<n;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?i=r:n=r,r=.5*(n-i)+i}return r},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],8:[function(t,e,i){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(t,e,i){"use strict";function n(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,i){if(3===t){var n=new o(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var o=t("./vectortilelayer");e.exports=n},{"./vectortilelayer":11}],10:[function(t,e,i){"use strict";function n(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(r,this,e)}function r(t,e,i){1==t?e.id=i.readVarint():2==t?o(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}function a(t){var e=t.length;if(e<=1)return[t];for(var i,n,r=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(i&&r.push(i),i=[t[o]]):i.push(t[o]))}return i&&r.push(i),r}function s(t){for(var e,i,n=0,r=0,o=t.length,a=o-1;r<o;a=r++)e=t[r],i=t[a],n+=(i.x-e.x)*(e.y+i.y);return n}var l=t("@mapbox/point-geometry");e.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,r=0,o=0,a=0,s=[];t.pos<i;){if(!r){var u=t.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)o+=t.readSVarint(),a+=t.readSVarint(),1===n&&(e&&s.push(e),e=[]),e.push(new l(o,a));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&s.push(e),s},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!n){var c=t.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)r+=t.readSVarint(),o+=t.readSVarint(),r<a&&(a=r),r>s&&(s=r),o<l&&(l=o),o>u&&(u=o);else if(7!==i)throw new Error("unknown command "+i)}return[a,l,s,u]},n.prototype.toGeoJSON=function(t,e,i){function r(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+c)/l;t[e]=[360*(i.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,i),u=this.extent*t,c=this.extent*e,h=this.loadGeometry(),p=n.types[this.type];switch(this.type){case 1:var d=[];for(o=0;o<h.length;o++)d[o]=h[o][0];h=d,r(h);break;case 2:for(o=0;o<h.length;o++)r(h[o]);break;case 3:for(h=a(h),o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)r(h[o][s])}1===h.length?h=h[0]:p="Multi"+p;var f={type:"Feature",geometry:{type:p,coordinates:h},properties:this.properties};return"id"in this&&(f.id=this.id),f}},{"@mapbox/point-geometry":4}],11:[function(t,e,i){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(o(i))}function o(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(e,i,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof i?r(n):"function"==typeof t&&t.amd?t(["exports"],r):r(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,n,r,o,a){return a=a||{},t+"?"+["bbox="+i(n,r,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function i(t,e,i){e=Math.pow(2,i)-e-1;var r=n(256*t,256*e,i),o=n(256*(t+1),256*(e+1),i);return r[0]+","+r[1]+","+o[0]+","+o[1]}function n(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=i,t.getMercCoords=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(t,e,i){function n(t){return t=Math.round(t),t<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null}if(7===e.length){i=parseInt(e.substr(1),16);return i>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null}return null}var r=e.indexOf("("),l=e.indexOf(")");if(-1!==r&&l+1===e.length){var c=e.substr(0,r),h=e.substr(r+1,l-(r+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,f=a(h[1]),g=a(h[2]),m=g<=.5?g*(f+1):g+f-g*f,v=2*g-m;return[n(255*s(v,m,d+1/3)),n(255*s(v,m,d)),n(255*s(v,m,d-1/3)),p];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{i.parseCSSColor=l}catch(t){}},{}],14:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,o,s,l,u,c,p,d=e&&e.length,f=d?e[0]*i:t.length,g=r(t,0,f,i,!0),m=[];if(!g)return m;if(d&&(g=h(t,e,g,i)),t.length>80*i){n=s=t[0],o=l=t[1];for(var v=i;v<f;v+=i)u=t[v],c=t[v+1],u<n&&(n=u),c<o&&(o=c),u>s&&(s=u),c>l&&(l=c);p=Math.max(s-n,l-o),p=0!==p?1/p:0}return a(g,m,i,n,o,p),m}function r(t,e,i,n,r){var o,a;if(r===O(t,e,i,n)>0)for(o=e;o<i;o+=n)a=M(o,t[o],t[o+1],a);else for(o=i-n;o>=e;o-=n)a=M(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(E(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!w(n,n.next)&&0!==_(n.prev,n,n.next))n=n.next;else{if(E(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function a(t,e,i,n,r,h,p){if(t){!p&&h&&g(t,n,r,h);for(var d,f,m=t;t.prev!==t.next;)if(d=t.prev,f=t.next,h?l(t,n,r,h):s(t))e.push(d.i/i),e.push(t.i/i),e.push(f.i/i),E(t),t=f.next,m=f.next;else if((t=f)===m){p?1===p?(t=u(t,e,i),a(t,e,i,n,r,h,2)):2===p&&c(t,e,i,n,r,h):a(o(t),e,i,n,r,h,1);break}}}function s(t){var e=t.prev,i=t,n=t.next;if(_(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(b(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,i,n){var r=t.prev,o=t,a=t.next;if(_(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=v(s,l,e,i,n),p=v(u,c,e,i,n),d=t.prevZ,f=t.nextZ;d&&d.z>=h&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&b(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&b(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&_(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&b(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&_(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&b(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&_(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!w(r,o)&&C(r,n,n.next,o)&&k(r,o)&&k(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),E(n),E(n.next),n=t=o),n=n.next}while(n!==t);return n}function c(t,e,i,n,r,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&x(l,u)){var c=T(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,e,i,n,r,s),void a(c,e,i,n,r,s)}u=u.next}l=l.next}while(l!==t)}function h(t,e,i,n){var a,s,l,u,c,h=[];for(a=0,s=e.length;a<s;a++)l=e[a]*n,u=a<s-1?e[a+1]*n:t.length,c=r(t,l,u,n,!1),c===c.next&&(c.steiner=!0),h.push(y(c));for(h.sort(p),a=0;a<h.length;a++)d(h[a],i),i=o(i,i.next);return i}function p(t,e){return t.x-e.x}function d(t,e){if(e=f(t,e)){var i=T(e,t);o(i,i.next)}}function f(t,e){var i,n=e,r=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===a)return i.prev;var l,u=i,c=i.x,h=i.y,p=1/0;for(n=i.next;n!==u;)r>=n.x&&n.x>=c&&r!==n.x&&b(o<h?r:a,o,c,h,o<h?a:r,o,n.x,n.y)&&((l=Math.abs(o-n.y)/(r-n.x))<p||l===p&&n.x>i.x)&&k(n,t)&&(i=n,p=l),n=n.next;return i}function g(t,e,i,n){var r=t;do{null===r.z&&(r.z=v(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,i,n,r,o,a,s,l,u=1;do{for(i=t,t=null,o=null,a=0;i;){for(a++,n=i,s=0,e=0;e<u&&(s++,n=n.nextZ);e++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(a>1);return t}function v(t,e,i,n,r){return t=32767*(t-i)*r,e=32767*(e-n)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function b(t,e,i,n,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(i-a)*(e-s)>=0&&(i-a)*(o-s)-(r-a)*(n-s)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!S(t,e)&&k(t,e)&&k(e,t)&&A(t,e)}function _(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||_(t,e,i)>0!=_(t,e,n)>0&&_(i,n,t)>0!=_(i,n,e)>0}function S(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&C(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function k(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function A(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}function T(t,e){var i=new P(t.i,t.x,t.y),n=new P(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function M(t,e,i,n){var r=new P(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,n){for(var r=0,o=e,a=i-n;o<i;o+=n)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}e.exports=n,e.exports.default=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,a=Math.abs(O(t,0,o,i));if(r)for(var s=0,l=e.length;s<l;s++){var u=e[s]*i,c=s<l-1?e[s+1]*i:t.length;a-=Math.abs(O(t,u,c,i))}var h=0;for(s=0;s<n.length;s+=3){var p=n[s]*i,d=n[s+1]*i,f=n[s+2]*i;h+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)i.vertices.push(t[r][o][a]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},{}],15:[function(t,e,i){function n(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(r(n,e)),t;case"Feature":return t.geometry=n(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function r(t,e){return function(i){return t(i,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(r(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],e);for(var i=1;i<t.length;i++)t[i]=s(t[i],!e);return t}function s(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("@mapbox/geojson-area");e.exports=n},{"@mapbox/geojson-area":1}],16:[function(t,e,i){"use strict";function n(t,e,i,n,s,l,u){if(i/=e,n/=e,l>=i&&u<=n)return t;if(l>n||u<i)return null;for(var h=[],p=0;p<t.length;p++){var d=t[p],f=d.geometry,g=d.type,m=0===s?d.minX:d.minY,v=0===s?d.maxX:d.maxY;if(m>=i&&v<=n)h.push(d);else if(!(m>n||v<i)){var y=[];if("Point"===g||"MultiPoint"===g)r(f,y,i,n,s);else if("LineString"===g)o(f,y,i,n,s,!1);else if("MultiLineString"===g)a(f,y,i,n,s,!1);else if("Polygon"===g)a(f,y,i,n,s,!0);else if("MultiPolygon"===g)for(var b=0;b<f.length;b++){var x=[];a(f[b],x,i,n,s,!0),x.length&&y.push(x)}y.length&&("LineString"!==g&&"MultiLineString"!==g||(1===y.length?(g="LineString",y=y[0]):g="MultiLineString"),"Point"!==g&&"MultiPoint"!==g||(g=3===y.length?"Point":"MultiPoint"),h.push(c(d.id,g,y,d.tags)))}}return h.length?h:null}function r(t,e,i,n,r){for(var o=0;o<t.length;o+=3){var a=t[o+r];a>=i&&a<=n&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function o(t,e,i,n,r,o){for(var a=[],c=0===r?l:u,h=0;h<t.length-3;h+=3){var p=t[h],d=t[h+1],f=t[h+2],g=t[h+3],m=t[h+4],v=0===r?p:d,y=0===r?g:m,b=!1;v<i?y>=i&&c(a,p,d,g,m,i):v>n?y<=n&&c(a,p,d,g,m,n):s(a,p,d,f),y<i&&v>=i&&(c(a,p,d,g,m,i),b=!0),y>n&&v<=n&&(c(a,p,d,g,m,n),b=!0),!o&&b&&(a.size=t.size,e.push(a),a=[])}var x=t.length-3;p=t[x],d=t[x+1],f=t[x+2],v=0===r?p:d,v>=i&&v<=n&&s(a,p,d,f),x=a.length-3,o&&x>=3&&(a[x]!==a[0]||a[x+1]!==a[1])&&s(a,a[0],a[1],a[2]),a.length&&(a.size=t.size,e.push(a))}function a(t,e,i,n,r,a){for(var s=0;s<t.length;s++)o(t[s],e,i,n,r,a)}function s(t,e,i,n){t.push(e),t.push(i),t.push(n)}function l(t,e,i,n,r,o){t.push(o),t.push(i+(o-e)*(r-i)/(n-e)),t.push(1)}function u(t,e,i,n,r,o){t.push(e+(o-i)*(n-e)/(r-i)),t.push(o),t.push(1)}e.exports=n;var c=t("./feature")},{"./feature":18}],17:[function(t,e,i){"use strict";function n(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)r(i,t.features[n],e);else"Feature"===t.type?r(i,t,e):r(i,{geometry:t},e);return i}function r(t,e,i){if(e.geometry){var n=e.geometry.coordinates,l=e.geometry.type,u=i*i,c=[];if("Point"===l)o(n,c);else if("MultiPoint"===l)for(var p=0;p<n.length;p++)o(n[p],c);else if("LineString"===l)a(n,c,u,!1);else if("MultiLineString"===l)s(n,c,u,!1);else if("Polygon"===l)s(n,c,u,!0);else{if("MultiPolygon"!==l){if("GeometryCollection"===l){for(p=0;p<e.geometry.geometries.length;p++)r(t,{geometry:e.geometry.geometries[p],properties:e.properties},i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(p=0;p<n.length;p++){var d=[];s(n[p],d,u,!0),c.push(d)}}t.push(h(e.id,l,c,e.properties))}}function o(t,e){e.push(l(t[0])),e.push(u(t[1])),e.push(0)}function a(t,e,i,n){for(var r,o,a=0,s=0;s<t.length;s++){var h=l(t[s][0]),p=u(t[s][1]);e.push(h),e.push(p),e.push(0),s>0&&(a+=n?(r*p-h*o)/2:Math.sqrt(Math.pow(h-r,2)+Math.pow(p-o,2))),r=h,o=p}var d=e.length-3;e[2]=1,c(e,0,d,i),e[d+2]=1,e.size=Math.abs(a)}function s(t,e,i,n){for(var r=0;r<t.length;r++){var o=[];a(t[r],o,i,n),e.push(o)}}function l(t){return t/360+.5}function u(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}e.exports=n;var c=t("./simplify"),h=t("./feature")},{"./feature":18,"./simplify":20}],18:[function(t,e,i){"use strict";function n(t,e,i,n){var o={id:t||null,type:e,geometry:i,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return r(o),o}function r(t){var e=t.geometry,i=t.type;if("Point"===i||"MultiPoint"===i||"LineString"===i)o(t,e);else if("Polygon"===i||"MultiLineString"===i)for(var n=0;n<e.length;n++)o(t,e[n]);else if("MultiPolygon"===i)for(n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)o(t,e[n][r])}function o(t,e){for(var i=0;i<e.length;i+=3)t.minX=Math.min(t.minX,e[i]),t.minY=Math.min(t.minY,e[i+1]),t.maxX=Math.max(t.maxX,e[i]),t.maxY=Math.max(t.maxY,e[i+1])}e.exports=n},{}],19:[function(t,e,i){"use strict";function n(t,e){return new r(t,e)}function r(t,e){e=this.options=a(Object.create(this.options),e);var i=e.debug;if(i&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var n=1<<e.maxZoom,r=s(t,e.tolerance/(n*e.extent));this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=c(r,e.buffer/e.extent),r.length&&this.splitTile(r,0,0,0),i&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,i){return 32*((1<<t)*i+e)+t}function a(t,e){for(var i in e)t[i]=e[i];return t}e.exports=n;var s=t("./convert"),l=t("./transform"),u=t("./clip"),c=t("./wrap"),h=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,i,n,r,a,s){for(var l=[t,e,i,n],c=this.options,p=c.debug;l.length;){n=l.pop(),i=l.pop(),e=l.pop(),t=l.pop();var d=1<<e,f=o(e,i,n),g=this.tiles[f],m=e===c.maxZoom?0:c.tolerance/(d*c.extent);if(!g&&(p>1&&console.time("creation"),g=this.tiles[f]=h(t,d,i,n,m,e===c.maxZoom),this.tileCoords.push({z:e,x:i,y:n}),p)){p>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,g.numFeatures,g.numPoints,g.numSimplified),console.timeEnd("creation"));var v="z"+e;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(g.source=t,r){if(e===c.maxZoom||e===r)continue;var y=1<<r-e;if(i!==Math.floor(a/y)||n!==Math.floor(s/y))continue}else if(e===c.indexMaxZoom||g.numPoints<=c.indexMaxPoints)continue;if(g.source=null,0!==t.length){p>1&&console.time("clipping");var b,x,_,w,C,S,k=.5*c.buffer/c.extent,A=.5-k,T=.5+k,M=1+k;b=x=_=w=null,C=u(t,d,i-k,i+T,0,g.minX,g.maxX),S=u(t,d,i+A,i+M,0,g.minX,g.maxX),t=null,C&&(b=u(C,d,n-k,n+T,1,g.minY,g.maxY),x=u(C,d,n+A,n+M,1,g.minY,g.maxY),C=null),S&&(_=u(S,d,n-k,n+T,1,g.minY,g.maxY),w=u(S,d,n+A,n+M,1,g.minY,g.maxY),S=null),p>1&&console.timeEnd("clipping"),l.push(b||[],e+1,2*i,2*n),l.push(x||[],e+1,2*i,2*n+1),l.push(_||[],e+1,2*i+1,2*n),l.push(w||[],e+1,2*i+1,2*n+1)}}},r.prototype.getTile=function(t,e,i){var n=this.options,r=n.extent,a=n.debug;if(t<0||t>24)return null;var s=1<<t;e=(e%s+s)%s;var u=o(t,e,i);if(this.tiles[u])return l.tile(this.tiles[u],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var c,h=t,p=e,d=i;!c&&h>0;)h--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(h,p,d)];return c&&c.source?(a>1&&console.log("found parent tile z%d-%d-%d",h,p,d),a>1&&console.time("drilling down"),this.splitTile(c.source,h,p,d,t,e,i),a>1&&console.timeEnd("drilling down"),this.tiles[u]?l.tile(this.tiles[u],r):null):null}},{"./clip":16,"./convert":17,"./tile":21,"./transform":22,"./wrap":23}],20:[function(t,e,i){"use strict";function n(t,e,i,o){for(var a,s=o,l=t[e],u=t[e+1],c=t[i],h=t[i+1],p=e+3;p<i;p+=3){var d=r(t[p],t[p+1],l,u,c,h);d>s&&(a=p,s=d)}s>o&&(a-e>3&&n(t,e,a,o),t[a+2]=s,i-a>3&&n(t,a,i,o))}function r(t,e,i,n,r,o){var a=r-i,s=o-n;if(0!==a||0!==s){var l=((t-i)*a+(e-n)*s)/(a*a+s*s);l>1?(i=r,n=o):l>0&&(i+=a*l,n+=s*l)}return a=t-i,s=e-n,a*a+s*s}e.exports=n},{}],21:[function(t,e,i){"use strict";function n(t,e,i,n,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z2:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},l=0;l<t.length;l++){s.numFeatures++,r(s,t[l],o,a);var u=t[l].minX,c=t[l].minY,h=t[l].maxX,p=t[l].maxY;u<s.minX&&(s.minX=u),c<s.minY&&(s.minY=c),h>s.maxX&&(s.maxX=h),p>s.maxY&&(s.maxY=p)}return s}function r(t,e,i,n){var r=e.geometry,a=e.type,s=[];if("Point"===a||"MultiPoint"===a)for(var l=0;l<r.length;l+=3)s.push(r[l]),s.push(r[l+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)o(s,r,t,i,n,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(l=0;l<r.length;l++)o(s,r[l],t,i,n,"Polygon"===a,0===l);else if("MultiPolygon"===a)for(var u=0;u<r.length;u++){var c=r[u];for(l=0;l<c.length;l++)o(s,c[l],t,i,n,!0,0===l)}if(s.length){var h={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:e.tags||null};null!==e.id&&(h.id=e.id),t.features.push(h)}}function o(t,e,i,n,r,o,s){var l=n*n;if(!r&&e.size<(o?l:n))i.numPoints+=e.length/3;else{for(var u=[],c=0;c<e.length;c+=3)(r||e[c+2]>l)&&(i.numSimplified++,u.push(e[c]),u.push(e[c+1])),i.numPoints++;o&&a(u,s),t.push(u)}}function a(t,e){for(var i=0,n=0,r=t.length,o=r-2;n<r;o=n,n+=2)i+=(t[n]-t[o])*(t[n+1]+t[o+1]);if(i>0===e)for(n=0,r=t.length;n<r/2;n+=2){var a=t[n],s=t[n+1];t[n]=t[r-2-n],t[n+1]=t[r-1-n],t[r-2-n]=a,t[r-1-n]=s}}e.exports=n},{}],22:[function(t,e,i){"use strict";function n(t,e){if(t.transformed)return t;var i,n,o,a=t.z2,s=t.x,l=t.y;for(i=0;i<t.features.length;i++){var u=t.features[i],c=u.geometry,h=u.type;if(u.geometry=[],1===h)for(n=0;n<c.length;n+=2)u.geometry.push(r(c[n],c[n+1],e,a,s,l));else for(n=0;n<c.length;n++){var p=[];for(o=0;o<c[n].length;o+=2)p.push(r(c[n][o],c[n][o+1],e,a,s,l));u.geometry.push(p)}}return t.transformed=!0,t}function r(t,e,i,n,r,o){return[Math.round(i*(t*n-r)),Math.round(i*(e*n-o))]}i.tile=n,i.point=r},{}],23:[function(t,e,i){"use strict";function n(t,e){var i=t,n=a(t,1,-1-e,e,0,-1,2),o=a(t,1,1-e,2+e,0,-1,2);return(n||o)&&(i=a(t,1,-e,1+e,0,-1,2)||[],n&&(i=r(n,1).concat(i)),o&&(i=i.concat(r(o,-1)))),i}function r(t,e){for(var i=[],n=0;n<t.length;n++){var r,a=t[n],l=a.type;if("Point"===l||"MultiPoint"===l||"LineString"===l)r=o(a.geometry,e);else if("MultiLineString"===l||"Polygon"===l){r=[];for(var u=0;u<a.geometry.length;u++)r.push(o(a.geometry[u],e))}else if("MultiPolygon"===l)for(r=[],u=0;u<a.geometry.length;u++){for(var c=[],h=0;h<a.geometry[u].length;h++)c.push(o(a.geometry[u][h],e));r.push(c)}i.push(s(a.id,l,r,a.tags))}return i}function o(t,e){var i=[];i.size=t.size;for(var n=0;n<t.length;n+=3)i.push(t[n]+e,t[n+1],t[n+2]);return i}var a=t("./clip"),s=t("./feature");e.exports=n},{"./clip":16,"./feature":18}],24:[function(t,e,i){"use strict";function n(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],i=o[2],this.d=e+2*i;for(var a=0;a<this.d*this.d;a++){var s=o[r+a],l=o[r+a+1];n.push(s===l?null:o.subarray(s,l))}var u=o[r+n.length],c=o[r+n.length+1];this.keys=o.subarray(u,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var h=0;h<this.d*this.d;h++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var p=i/e*t;this.min=-p,this.max=t+p}e.exports=n;var r=3;n.prototype.insert=function(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(t,e,i,n,r,o){this.cells[r].push(o)},n.prototype.query=function(t,e,i,n){var r=this.min,o=this.max;if(t<=r&&e<=r&&o<=i&&o<=n)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,i,n,this._queryCell,a,s),a},n.prototype._queryCell=function(t,e,i,n,r,o,a){var s=this.cells[r];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var h=s[c];if(void 0===a[h]){var p=4*h;t<=u[p+2]&&e<=u[p+3]&&i>=u[p+0]&&n>=u[p+1]?(a[h]=!0,o.push(l[h])):a[h]=!1}}},n.prototype._forEachCell=function(t,e,i,n,r,o,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(i),c=this._convertToCellCoord(n),h=s;h<=u;h++)for(var p=l;p<=c;p++){var d=this.d*p+h;if(r.call(this,t,e,i,n,d,o,a))return}},n.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=r+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var o=new Int32Array(e+i+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var l=t[s];o[r+s]=a,o.set(l,a),a+=l.length}return o[r+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[r+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],25:[function(t,e,i){i.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=i?r-1:0,p=i?-1:1,d=t[e+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+h>=1?p/l:p*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[i+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[i+d]=255&a,d+=f,a/=256,u-=8);t[i+d-f]|=128*g}},{}],26:[function(t,e,i){"use strict";function n(t,e,i,n,o){return new r(t,e,i,n,o)}function r(t,e,i,n,r){e=e||o,i=i||a,r=r||Array,this.nodeSize=n||64,this.points=t,this.ids=new r(t.length),this.coords=new r(2*t.length);for(var l=0;l<t.length;l++)this.ids[l]=l,this.coords[2*l]=e(t[l]),this.coords[2*l+1]=i(t[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),l=t("./range"),u=t("./within");e.exports=n,r.prototype={range:function(t,e,i,n){return l(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return u(this.ids,this.coords,t,e,i,this.nodeSize)}}},{"./range":27,"./sort":28,"./within":29}],27:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var h=u.pop(),p=u.pop(),d=u.pop();if(p-d<=a)for(var f=d;f<=p;f++)s=e[2*f],l=e[2*f+1],s>=i&&s<=r&&l>=n&&l<=o&&c.push(t[f]);else{var g=Math.floor((d+p)/2);s=e[2*g],l=e[2*g+1],s>=i&&s<=r&&l>=n&&l<=o&&c.push(t[g]);var m=(h+1)%2;(0===h?i<=s:n<=l)&&(u.push(d),u.push(g-1),u.push(m)),(0===h?r>=s:o>=l)&&(u.push(g+1),u.push(p),u.push(m))}}return c}e.exports=n},{}],28:[function(t,e,i){"use strict";function n(t,e,i,o,a,s){if(!(a-o<=i)){var l=Math.floor((o+a)/2);r(t,e,l,o,a,s%2),n(t,e,i,o,l-1,s+1),n(t,e,i,l+1,a,s+1)}}function r(t,e,i,n,a,s){for(;a>n;){if(a-n>600){var l=a-n+1,u=i-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);r(t,e,i,Math.max(n,Math.floor(i-u*h/l+p)),Math.min(a,Math.floor(i+(l-u)*h/l+p)),s)}var d=e[2*i+s],f=n,g=a;for(o(t,e,n,i),e[2*a+s]>d&&o(t,e,n,a);f<g;){for(o(t,e,f,g),f++,g--;e[2*f+s]<d;)f++;for(;e[2*g+s]>d;)g--}e[2*n+s]===d?o(t,e,n,g):(g++,o(t,e,g,a)),g<=i&&(n=g+1),i<=g&&(a=g-1)}}function o(t,e,i,n){a(t,i,n),a(e,2*i,2*n),a(e,2*i+1,2*n+1)}function a(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}e.exports=n},{}],29:[function(t,e,i){"use strict";function n(t,e,i,n,o,a){for(var s=[0,t.length-1,0],l=[],u=o*o;s.length;){var c=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a)for(var d=p;d<=h;d++)r(e[2*d],e[2*d+1],i,n)<=u&&l.push(t[d]);else{var f=Math.floor((p+h)/2),g=e[2*f],m=e[2*f+1];r(g,m,i,n)<=u&&l.push(t[f]);var v=(c+1)%2;(0===c?i-o<=g:n-o<=m)&&(s.push(p),s.push(f-1),s.push(v)),(0===c?i+o>=g:n+o>=m)&&(s.push(f+1),s.push(h),s.push(v))}}return l}function r(t,e,i,n){var r=t-i,o=e-n;return r*r+o*o}e.exports=n},{}],30:[function(t,e,i){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(t,e,i){var n,r,o=i.buf;if(r=o[i.pos++],n=(112&r)>>4,r<128)return a(t,n,e);if(r=o[i.pos++],n|=(127&r)<<3,r<128)return a(t,n,e);if(r=o[i.pos++],n|=(127&r)<<10,r<128)return a(t,n,e);if(r=o[i.pos++],n|=(127&r)<<17,r<128)return a(t,n,e);if(r=o[i.pos++],n|=(127&r)<<24,r<128)return a(t,n,e);if(r=o[i.pos++],n|=(1&r)<<31,r<128)return a(t,n,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var i,n;if(t>=0?(i=t%4294967296|0,n=t/4294967296|0):(i=~(-t%4294967296),n=~(-t/4294967296),4294967295^i?i=i+1|0:(i=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),l(i,n,e),u(n,e)}function l(t,e,i){i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos++]=127&t|128,t>>>=7,i.buf[i.pos]=127&t}function u(t,e){var i=(7&t)<<4;e.buf[e.pos++]|=i|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=t;r--)i.buf[r+n]=i.buf[r]}function h(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function m(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function v(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function y(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function b(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function _(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function C(t,e,i){for(var n="",r=e;r<i;){var o,a,s,l=t[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>i)break;1===c?l<128&&(u=l):2===c?128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),r+=c}return n}function S(t,e,i){for(var n,r,o=0;o<e.length;o++){if((n=e.charCodeAt(o))>55295&&n<57344){if(!r){n>56319||o+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):r=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&(t[i++]=239,t[i++]=191,t[i++]=189,r=null);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:(n<65536?t[i++]=n>>12|224:(t[i++]=n>>18|240,t[i++]=n>>12&63|128),t[i++]=n>>6&63|128),t[i++]=63&n|128)}return i}e.exports=n;var k=t("ieee754");n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var A=4294967296,T=1/A;n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),r=n>>3,o=this.pos;this.type=7&n,t(r,e,this),this.pos===o&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*A;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+w(this.buf,this.pos+4)*A;return this.pos+=8,t},readFloat:function(){var t=k.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=k.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return i=n[this.pos++],e=127&i,i<128?e:(i=n[this.pos++],e|=(127&i)<<7,i<128?e:(i=n[this.pos++],e|=(127&i)<<14,i<128?e:(i=n[this.pos++],e|=(127&i)<<21,i<128?e:(i=n[this.pos],e|=(15&i)<<28,r(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=C(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var i=o(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),_(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*T),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),_(this.buf,-1&t,this.pos),_(this.buf,Math.floor(t*T),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?s(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=S(this.buf,t,this.pos);var i=this.pos-e;i>=128&&c(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),k.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),k.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&c(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){this.writeMessage(t,g,e)},writePackedFloat:function(t,e){this.writeMessage(t,d,e)},writePackedDouble:function(t,e){this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,v,e)},writePackedFixed64:function(t,e){this.writeMessage(t,y,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,b,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:25}],31:[function(t,e,i){"use strict";function n(t,e,i,a,s){for(i=i||0,a=a||t.length-1,s=s||o;a>i;){if(a-i>600){var l=a-i+1,u=e-i+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);n(t,e,Math.max(i,Math.floor(e-u*h/l+p)),Math.min(a,Math.floor(e+(l-u)*h/l+p)),s)}var d=t[e],f=i,g=a;for(r(t,i,e),s(t[a],d)>0&&r(t,i,a);f<g;){for(r(t,f,g),f++,g--;s(t[f],d)<0;)f++;for(;s(t[g],d)>0;)g--}0===s(t[i],d)?r(t,i,g):(g++,r(t,g,a)),g<=e&&(i=g+1),e<=g&&(a=g-1)}}function r(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:t>e?1:0}e.exports=n},{}],32:[function(t,e,i){"use strict";function n(t){return new r(t)}function r(t){this.options=d(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,i,n,r){return{x:t,y:e,zoom:1/0,id:n,properties:r,parentId:-1,numPoints:i}}function a(t,e){var i=t.geometry.coordinates;return{x:u(i[0]),y:c(i[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[h(t.x),p(t.y)]}}}function l(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return d(d({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function h(t){return 360*(t-.5)}function p(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function d(t,e){for(var i in e)t[i]=e[i];return t}function f(t){return t.x}function g(t){return t.y}var m=t("kdbush");e.exports=n,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var i="prepare "+t.length+" points";e&&console.time(i),this.points=t;var n=t.map(a);e&&console.timeEnd(i);for(var r=this.options.maxZoom;r>=this.options.minZoom;r--){var o=+Date.now();this.trees[r+1]=m(n,f,g,this.options.nodeSize,Float32Array),n=this._cluster(n,r),e&&console.log("z%d: %d clusters in %dms",r,n.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(n,f,g,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var i=this.trees[this._limitZoom(e)],n=i.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),r=[],o=0;o<n.length;o++){var a=i.points[n[o]];r.push(a.numPoints?s(a):this.points[a.id])}return r},getChildren:function(t,e){for(var i=this.trees[e+1].points[t],n=this.options.radius/(this.options.extent*Math.pow(2,e)),r=this.trees[e+1].within(i.x,i.y,n),o=[],a=0;a<r.length;a++){var l=this.trees[e+1].points[r[a]];l.parentId===t&&o.push(l.numPoints?s(l):this.points[l.id])}return o},getLeaves:function(t,e,i,n){i=i||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,i,n,0),r},getTile:function(t,e,i){var n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,l=(i-s)/r,u=(i+1+s)/r,c={features:[]};return this._addTileFeatures(n.range((e-s)/r,l,(e+1+s)/r,u),n.points,e,i,r,c),0===e&&this._addTileFeatures(n.range(1-s/r,l,1,u),n.points,r,i,r,c),e===r-1&&this._addTileFeatures(n.range(0,l,s/r,u),n.points,-1,i,r,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var i=this.getChildren(t,e);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},_appendLeaves:function(t,e,i,n,r,o){for(var a=this.getChildren(e,i),s=0;s<a.length;s++){var l=a[s].properties;if(l.cluster?o+l.point_count<=r?o+=l.point_count:o=this._appendLeaves(t,l.cluster_id,i+1,n,r,o):o<r?o++:t.push(a[s]),t.length===n)break}return o},_addTileFeatures:function(t,e,i,n,r,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*r-i)),Math.round(this.options.extent*(s.y*r-n))]],tags:s.numPoints?l(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),r=0;r<t.length;r++){var a=t[r];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],l=s.within(a.x,a.y,n),u=a.numPoints||1,c=a.x*u,h=a.y*u,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,a));for(var d=0;d<l.length;d++){var f=s.points[l[d]];if(e<f.zoom){var g=f.numPoints||1;f.zoom=e,c+=f.x*g,h+=f.y*g,u+=g,f.parentId=r,this.options.reduce&&this._accumulate(p,f)}}1===u?i.push(a):(a.parentId=r,i.push(o(c/u,h/u,u,r,p)))}}return i},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,i)}}},{kdbush:26}],33:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}function r(t,e){return t<e?-1:t>e?1:0}e.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length,r=n>>1,o=e[t];t<r;){var a=1+(t<<1),s=a+1,l=e[a];if(s<n&&i(e[s],l)<0&&(a=s,l=e[s]),i(l,o)>=0)break;e[t]=l,t=a}e[t]=o}}},{}],34:[function(t,e,i){function n(t){var e=new d;return o(t,e),e.finish()}function r(t){var e={};for(var i in t)e[i]=new f(t[i].features),e[i].name=i;return n({layers:e})}function o(t,e){for(var i in t.layers)e.writeMessage(3,a,t.layers[i])}function a(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i,n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,s,n);var r=n.keys;for(i=0;i<r.length;i++)e.writeStringField(3,r[i]);var o=n.values;for(i=0;i<o.length;i++)e.writeMessage(4,p,o[i])}function s(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,l,t),e.writeVarintField(3,i.type),e.writeMessage(4,h,i)}function l(t,e){var i=t.feature,n=t.keys,r=t.values,o=t.keycache,a=t.valuecache;for(var s in i.properties){var l=o[s];void 0===l&&(n.push(s),l=n.length-1,o[s]=l),e.writeVarint(l);var u=i.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,p=a[h];void 0===p&&(r.push(u),p=r.length-1,a[h]=p),e.writeVarint(p)}}function u(t,e){return(e<<3)+(7&t)}function c(t){return t<<1^t>>31}function h(t,e){for(var i=t.loadGeometry(),n=t.type,r=0,o=0,a=i.length,s=0;s<a;s++){var l=i[s],h=1;1===n&&(h=l.length),e.writeVarint(u(1,h));for(var p=0;p<l.length;p++){1===p&&1!==n&&e.writeVarint(u(2,l.length-1));var d=l[p].x-r,f=l[p].y-o;e.writeVarint(c(d)),e.writeVarint(c(f)),r+=d,o+=f}}}function p(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var d=t("pbf"),f=t("./lib/geojson_wrapper");e.exports=n,e.exports.fromVectorTileJs=n,e.exports.fromGeojsonVt=r,e.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":35,pbf:30}],35:[function(t,e,i){"use strict";function n(t){this.features=t,this.length=t.length}function r(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("@mapbox/point-geometry"),a=t("@mapbox/vector-tile").VectorTileFeature;e.exports=n,n.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var i=t[e],n=[],r=0;r<i.length;r++)n.push(new o(i[r][0],i[r][1]));this.geometry.push(n)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],36:[function(t,e,i){var n=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function i(t){for(var e in m[t]=!0,r[t][1]){var n=r[t][1][e];m[n]||i(n)}}for(var s,l=Object.keys(o),u=0,c=l.length;u<c;u++){var h=l[u],p=o[h].exports;if(p===t||p&&p.default===t){s=h;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(u=0,c=l.length;u<c;u++){h=l[u];d[h]=h}r[s]=["function(require,module,exports){"+t+"(self); }",d]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[s]=s,r[f]=["function(require,module,exports){var f = require("+a(s)+");(f.default ? f.default : f)(self);}",g];var m={};i(f);var v="("+n+")({"+Object.keys(m).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(f)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return b;var x=y.createObjectURL(b),_=new Worker(x);return _.objectURL=x,_}},{}],37:[function(t,e,i){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],38:[function(t,e,i){e.exports={version:"0.44.2"}},{}],39:[function(t,e,i){"use strict";var n=t("../util/struct_array"),r=n.StructArray,o=t("../util/struct_array"),a=o.Struct,s=t("../util/web_worker_transfer"),l=s.register,u=t("@mapbox/point-geometry"),c=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.int16[n+0]=t,this.int16[n+1]=e,i},e}(r);c.prototype.bytesPerElement=4,l("StructArrayLayout2i4",c);var h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n){var r=this.length;this.resize(r+1);var o=4*r;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=i,this.int16[o+3]=n,r},e}(r);h.prototype.bytesPerElement=8,l("StructArrayLayout4i8",h);var p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=i,this.int16[s+3]=n,this.int16[s+4]=r,this.int16[s+5]=o,a},e}(r);p.prototype.bytesPerElement=12,l("StructArrayLayout2i4i12",p);var d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o,a,s){var l=this.length;this.resize(l+1);var u=6*l,c=12*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=i,this.int16[u+3]=n,this.uint8[c+8]=r,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,l},e}(r);d.prototype.bytesPerElement=12,l("StructArrayLayout4i4ub12",d);var f=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=i,this.int16[u+3]=n,this.uint16[u+4]=r,this.uint16[u+5]=o,this.uint16[u+6]=a,this.uint16[u+7]=s,l},e}(r);f.prototype.bytesPerElement=16,l("StructArrayLayout4i4ui16",f);var g=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var r=3*n;return this.float32[r+0]=t,this.float32[r+1]=e,this.float32[r+2]=i,n},e}(r);g.prototype.bytesPerElement=12,l("StructArrayLayout3f12",g);var m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var i=1*e;return this.uint32[i+0]=t,e},e}(r);m.prototype.bytesPerElement=4,l("StructArrayLayout1ul4",m);var v=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o,a,s,l,u,c){var h=this.length;this.resize(h+1);var p=12*h,d=6*h;return this.int16[p+0]=t,this.int16[p+1]=e,this.int16[p+2]=i,this.int16[p+3]=n,this.int16[p+4]=r,this.int16[p+5]=o,this.uint32[d+3]=a,this.uint16[p+8]=s,this.uint16[p+9]=l,this.int16[p+10]=u,this.int16[p+11]=c,h},e}(r);v.prototype.bytesPerElement=24,l("StructArrayLayout6i1ul2ui2i24",v);var y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=i,this.int16[s+3]=n,this.int16[s+4]=r,this.int16[s+5]=o,a},e}(r);y.prototype.bytesPerElement=12,l("StructArrayLayout2i2i2i12",y);var b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=4*i;return this.uint8[n+0]=t,this.uint8[n+1]=e,i},e}(r);b.prototype.bytesPerElement=4,l("StructArrayLayout2ub4",b);var x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n,r,o,a,s,l,u,c,h,p,d){var f=this.length;this.resize(f+1);var g=20*f,m=10*f,v=40*f;return this.int16[g+0]=t,this.int16[g+1]=e,this.uint16[g+2]=i,this.uint16[g+3]=n,this.uint32[m+2]=r,this.uint32[m+3]=o,this.uint32[m+4]=a,this.uint16[g+10]=s,this.uint16[g+11]=l,this.uint16[g+12]=u,this.float32[m+7]=c,this.float32[m+8]=h,this.uint8[v+36]=p,this.uint8[v+37]=d,f},e}(r);x.prototype.bytesPerElement=40,l("StructArrayLayout2i2ui3ul3ui2f2ub40",x);var _=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var i=1*e;return this.float32[i+0]=t,e},e}(r);_.prototype.bytesPerElement=4,l("StructArrayLayout1f4",_);var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var r=3*n;return this.int16[r+0]=t,this.int16[r+1]=e,this.int16[r+2]=i,n},e}(r);w.prototype.bytesPerElement=6,l("StructArrayLayout3i6",w);var C=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var r=2*n,o=4*n;return this.uint32[r+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=i,n},e}(r);C.prototype.bytesPerElement=8,l("StructArrayLayout1ul2ui8",C);var S=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i){var n=this.length;this.resize(n+1);var r=3*n;return this.uint16[r+0]=t,this.uint16[r+1]=e,this.uint16[r+2]=i,n},e}(r);S.prototype.bytesPerElement=6,l("StructArrayLayout3ui6",S);var k=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.uint16[n+0]=t,this.uint16[n+1]=e,i},e}(r);k.prototype.bytesPerElement=4,l("StructArrayLayout2ui4",k);var A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var i=this.length;this.resize(i+1);var n=2*i;return this.float32[n+0]=t,this.float32[n+1]=e,i},e}(r);A.prototype.bytesPerElement=8,l("StructArrayLayout2f8",A);var T=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,i,n){var r=this.length;this.resize(r+1);var o=4*r;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=i,this.float32[o+3]=n,r},e}(r);T.prototype.bytesPerElement=16,l("StructArrayLayout4f16",T);var M=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return i.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.x1.get=function(){return this._structArray.int16[this._pos2+2]},i.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},i.y1.get=function(){return this._structArray.int16[this._pos2+3]},i.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},i.x2.get=function(){return this._structArray.int16[this._pos2+4]},i.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},i.y2.get=function(){return this._structArray.int16[this._pos2+5]},i.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},i.radius.get=function(){return this._structArray.int16[this._pos2+10]},i.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},i.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},i.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},i.anchorPoint.get=function(){return new u(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,i),e}(a);M.prototype.size=24;var E=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new M(this,t)},e}(v);l("CollisionBoxArray",E);var P=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return i.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},i.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},i.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},i.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},i.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},i.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},i.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},i.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},i.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},i.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},i.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},i.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},i.segment.get=function(){return this._structArray.uint16[this._pos2+10]},i.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},i.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},i.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},i.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},i.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},i.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},i.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},i.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},i.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},i.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},i.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},i.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},i.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,i),e}(a);P.prototype.size=40;var O=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new P(this,t)},e}(x);l("PlacedSymbolArray",O);var I=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={offsetX:{}};return i.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},i.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,i),e}(a);I.prototype.size=4;var L=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new I(this,t)},e}(_);l("GlyphOffsetArray",L);var R=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={x:{},y:{},tileUnitDistanceFromAnchor:{}};return i.x.get=function(){return this._structArray.int16[this._pos2+0]},i.x.set=function(t){this._structArray.int16[this._pos2+0]=t},i.y.get=function(){return this._structArray.int16[this._pos2+1]},i.y.set=function(t){this._structArray.int16[this._pos2+1]=t},i.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},i.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,i),e}(a);R.prototype.size=6;var D=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new R(this,t)},e}(w);l("SymbolLineVertexArray",D);var z=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return i.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},i.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},i.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},i.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},i.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},i.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,i),e}(a);z.prototype.size=8;var B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new z(this,t)},e}(C);l("FeatureIndexArray",B),e.exports={StructArrayLayout2i4:c,StructArrayLayout4i8:h,StructArrayLayout2i4i12:p,StructArrayLayout4i4ub12:d,StructArrayLayout4i4ui16:f,StructArrayLayout3f12:g,StructArrayLayout1ul4:m,StructArrayLayout6i1ul2ui2i24:v,StructArrayLayout2i2i2i12:y,StructArrayLayout2ub4:b,StructArrayLayout2i2ui3ul3ui2f2ub40:x,StructArrayLayout1f4:_,StructArrayLayout3i6:w,StructArrayLayout1ul2ui8:C,StructArrayLayout3ui6:S,StructArrayLayout2ui4:k,StructArrayLayout2f8:A,StructArrayLayout4f16:T,PosArray:c,RasterBoundsArray:h,CircleLayoutArray:c,FillLayoutArray:c,FillExtrusionLayoutArray:p,HeatmapLayoutArray:c,LineLayoutArray:d,SymbolLayoutArray:f,SymbolDynamicLayoutArray:g,SymbolOpacityArray:m,CollisionBoxLayoutArray:y,CollisionCircleLayoutArray:y,CollisionVertexArray:b,TriangleIndexArray:S,LineIndexArray:k,CollisionBoxArray:E,PlacedSymbolArray:O,GlyphOffsetArray:L,SymbolLineVertexArray:D,FeatureIndexArray:B}},{"../util/struct_array":271,"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],40:[function(t,e,i){"use strict";e.exports={deserialize:function(t,e){var i={};if(!e)return i;for(var n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a;for(var s=0,l=a;s<l.length;s+=1)i[l[s].id]=o}}return i}}},{}],41:[function(t,e,i){"use strict";var n=t("../../util/struct_array"),r=n.createLayout;e.exports=r([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":271}],42:[function(t,e,i){"use strict";function n(t,e,i,n,r){t.emplaceBack(2*e+(n+1)/2,2*i+(r+1)/2)}var r=t("../array_types"),o=r.CircleLayoutArray,a=t("./circle_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,h=t("../index_array_type"),p=h.TriangleIndexArray,d=t("../load_geometry"),f=t("../extent"),g=t("../../util/web_worker_transfer"),m=g.register,v=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new p,this.segments=new l,this.programConfigurations=new c(a,t.layers,t.zoom)};v.prototype.populate=function(t,e){for(var i=this,n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(i.layers[0]._featureFilter({zoom:i.zoom},a)){var u=d(a);i.addFeature(a,u),e.featureIndex.insert(a,u,s,l,i.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},v.prototype.addFeature=function(t,e){for(var i=this,r=0,o=e;r<o.length;r+=1)for(var a=o[r],s=0,l=a;s<l.length;s+=1){var u=l[s],c=u.x,h=u.y;if(!(c<0||c>=f||h<0||h>=f)){var p=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),d=p.vertexLength;n(i.layoutVertexArray,c,h,-1,-1),n(i.layoutVertexArray,c,h,1,-1),n(i.layoutVertexArray,c,h,1,1),n(i.layoutVertexArray,c,h,-1,1),i.indexArray.emplaceBack(d,d+1,d+2),i.indexArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},m("CircleBucket",v,{omit:["layers"]}),e.exports=v},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./circle_attributes":41}],43:[function(t,e,i){arguments[4][41][0].apply(i,arguments)},{"../../util/struct_array":271,dup:41}],44:[function(t,e,i){"use strict";var n=t("../array_types"),r=n.FillLayoutArray,o=t("./fill_attributes").members,a=t("../segment"),s=a.SegmentVector,l=t("../program_configuration"),u=l.ProgramConfigurationSet,c=t("../index_array_type"),h=c.LineIndexArray,p=c.TriangleIndexArray,d=t("../load_geometry"),f=t("earcut"),g=t("../../util/classify_rings"),m=500,v=t("../../util/web_worker_transfer"),y=v.register,b=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new r,this.indexArray=new p,this.indexArray2=new h,this.programConfigurations=new u(o,t.layers,t.zoom),this.segments=new s,this.segments2=new s};b.prototype.populate=function(t,e){for(var i=this,n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(i.layers[0]._featureFilter({zoom:i.zoom},a)){var u=d(a);i.addFeature(a,u),e.featureIndex.insert(a,u,s,l,i.index)}}},b.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},b.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)},b.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},b.prototype.addFeature=function(t,e){for(var i=this,n=0,r=g(e,m);n<r.length;n+=1){for(var o=r[n],a=0,s=0,l=o;s<l.length;s+=1)a+=l[s].length;for(var u=i.segments.prepareSegment(a,i.layoutVertexArray,i.indexArray),c=u.vertexLength,h=[],p=[],d=0,v=o;d<v.length;d+=1){var y=v[d];if(0!==y.length){y!==o[0]&&p.push(h.length/2);var b=i.segments2.prepareSegment(y.length,i.layoutVertexArray,i.indexArray2),x=b.vertexLength;i.layoutVertexArray.emplaceBack(y[0].x,y[0].y),i.indexArray2.emplaceBack(x+y.length-1,x),h.push(y[0].x),h.push(y[0].y);for(var _=1;_<y.length;_++)i.layoutVertexArray.emplaceBack(y[_].x,y[_].y),i.indexArray2.emplaceBack(x+_-1,x+_),h.push(y[_].x),h.push(y[_].y);b.vertexLength+=y.length,b.primitiveLength+=y.length}}for(var w=f(h,p),C=0;C<w.length;C+=3)i.indexArray.emplaceBack(c+w[C],c+w[C+1],c+w[C+2]);u.vertexLength+=a,u.primitiveLength+=w.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},y("FillBucket",b,{omit:["layers"]}),e.exports=b},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_attributes":43,earcut:14}],45:[function(t,e,i){"use strict";var n=t("../../util/struct_array"),r=n.createLayout;e.exports=r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":271}],46:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s){t.emplaceBack(e,i,2*Math.floor(n*C)+a,r*C*2,o*C*2,Math.round(s))}function r(t,e){return t.x===e.x&&(t.x<0||t.x>v)||t.y===e.y&&(t.y<0||t.y>v)}function o(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>v})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>v})}var a=t("../array_types"),s=a.FillExtrusionLayoutArray,l=t("./fill_extrusion_attributes").members,u=t("../segment"),c=u.SegmentVector,h=u.MAX_VERTEX_ARRAY_LENGTH,p=t("../program_configuration"),d=p.ProgramConfigurationSet,f=t("../index_array_type"),g=f.TriangleIndexArray,m=t("../load_geometry"),v=t("../extent"),y=t("earcut"),b=t("../../util/classify_rings"),x=500,_=t("../../util/web_worker_transfer"),w=_.register,C=Math.pow(2,13),S=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new s,this.indexArray=new g,this.programConfigurations=new d(l,t.layers,t.zoom),this.segments=new c};S.prototype.populate=function(t,e){for(var i=this,n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(i.layers[0]._featureFilter({zoom:i.zoom},a)){var u=m(a);i.addFeature(a,u),e.featureIndex.insert(a,u,s,l,i.index)}}},S.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},S.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,l),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},S.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},S.prototype.addFeature=function(t,e){for(var i=this,a=0,s=b(e,x);a<s.length;a+=1){for(var l=s[a],u=0,c=0,p=l;c<p.length;c+=1)u+=p[c].length;for(var d=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),f=0,g=l;f<g.length;f+=1){var m=g[f];if(0!==m.length&&!o(m))for(var v=0,_=0;_<m.length;_++){var w=m[_];if(_>=1){var C=m[_-1];if(!r(w,C)){d.vertexLength+4>h&&(d=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray));var S=w.sub(C)._perp()._unit(),k=C.dist(w);v+k>32768&&(v=0),n(i.layoutVertexArray,w.x,w.y,S.x,S.y,0,0,v),n(i.layoutVertexArray,w.x,w.y,S.x,S.y,0,1,v),v+=k,n(i.layoutVertexArray,C.x,C.y,S.x,S.y,0,0,v),n(i.layoutVertexArray,C.x,C.y,S.x,S.y,0,1,v);var A=d.vertexLength;i.indexArray.emplaceBack(A,A+1,A+2),i.indexArray.emplaceBack(A+1,A+2,A+3),d.vertexLength+=4,d.primitiveLength+=2}}}}d.vertexLength+u>h&&(d=i.segments.prepareSegment(u,i.layoutVertexArray,i.indexArray));for(var T=[],M=[],E=d.vertexLength,P=0,O=l;P<O.length;P+=1){var I=O[P];if(0!==I.length){I!==l[0]&&M.push(T.length/2);for(var L=0;L<I.length;L++){var R=I[L];n(i.layoutVertexArray,R.x,R.y,0,0,1,1,0),T.push(R.x),T.push(R.y)}}}for(var D=y(T,M),z=0;z<D.length;z+=3)i.indexArray.emplaceBack(E+D[z],E+D[z+1],E+D[z+2]);d.primitiveLength+=D.length/3,d.vertexLength+=u}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},w("FillExtrusionBucket",S,{omit:["layers"]}),e.exports=S},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_extrusion_attributes":45,earcut:14}],47:[function(t,e,i){"use strict";var n=t("./circle_bucket"),r=t("../../util/web_worker_transfer"),o=r.register,a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n);o("HeatmapBucket",a,{omit:["layers"]}),e.exports=a},{"../../util/web_worker_transfer":278,"./circle_bucket":42}],48:[function(t,e,i){"use strict";var n=t("../../util/struct_array"),r=n.createLayout;e.exports=r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":271}],49:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a){t.emplaceBack(e.x,e.y,n?1:0,r?1:-1,Math.round(y*i.x)+128,Math.round(y*i.y)+128,1+(0===o?0:o<0?-1:1)|(a*w&63)<<2,a*w>>6)}var r=t("../array_types"),o=r.LineLayoutArray,a=t("./line_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,h=t("../index_array_type"),p=h.TriangleIndexArray,d=t("../load_geometry"),f=t("../extent"),g=t("@mapbox/vector-tile").VectorTileFeature.types,m=t("../../util/web_worker_transfer"),v=m.register,y=63,b=Math.cos(Math.PI/180*37.5),x=15,_=15,w=.5,C=Math.pow(2,_-1)/w,S=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new p,this.programConfigurations=new c(a,t.layers,t.zoom),this.segments=new l};S.prototype.populate=function(t,e){for(var i=this,n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(i.layers[0]._featureFilter({zoom:i.zoom},a)){var u=d(a);i.addFeature(a,u),e.featureIndex.insert(a,u,s,l,i.index)}}},S.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},S.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},S.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},S.prototype.addFeature=function(t,e){for(var i=this,n=this.layers[0].layout,r=n.get("line-join").evaluate(t),o=n.get("line-cap"),a=n.get("line-miter-limit"),s=n.get("line-round-limit"),l=0,u=e;l<u.length;l+=1){var c=u[l];i.addLine(c,t,r,o,a,s)}},S.prototype.addLine=function(t,e,i,n,r,o){for(var a=this,s="Polygon"===g[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===i&&(r=1.05);var c=x*(f/(512*this.overscaling)),h=t[u],p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.distance=0;var d,m,v,y=n,_=s?"butt":n,w=!0,C=void 0,S=void 0,k=void 0,A=void 0;this.e1=this.e2=this.e3=-1,s&&(d=t[l-2],A=h.sub(d)._unit()._perp());for(var T=u;T<l;T++)if(!(S=s&&T===l-1?t[u+1]:t[T+1])||!t[T].equals(S)){A&&(k=A),d&&(C=d),d=t[T],A=S?S.sub(d)._unit()._perp():k,k=k||A;var M=k.add(A);0===M.x&&0===M.y||M._unit();var E=M.x*A.x+M.y*A.y,P=0!==E?1/E:1/0,O=E<b&&C&&S;if(O&&T>u){var I=d.dist(C);if(I>2*c){var L=d.sub(d.sub(C)._mult(c/I)._round());a.distance+=L.dist(C),a.addCurrentVertex(L,a.distance,k.mult(1),0,0,!1,p),C=L}}var R=C&&S,D=R?i:S?y:_;if(R&&"round"===D&&(P<o?D="miter":P<=2&&(D="fakeround")),"miter"===D&&P>r&&(D="bevel"),"bevel"===D&&(P>2&&(D="flipbevel"),P<r&&(D="miter")),C&&(a.distance+=d.dist(C)),"miter"===D)M._mult(P),a.addCurrentVertex(d,a.distance,M,0,0,!1,p);else if("flipbevel"===D){if(P>100)M=A.clone().mult(-1);else{var z=k.x*A.y-k.y*A.x>0?-1:1,B=P*k.add(A).mag()/k.sub(A).mag();M._perp()._mult(B*z)}a.addCurrentVertex(d,a.distance,M,0,0,!1,p),a.addCurrentVertex(d,a.distance,M.mult(-1),0,0,!1,p)}else if("bevel"===D||"fakeround"===D){var j=k.x*A.y-k.y*A.x>0,F=-Math.sqrt(P*P-1);if(j?(v=0,m=F):(m=0,v=F),w||a.addCurrentVertex(d,a.distance,k,m,v,!1,p),"fakeround"===D){for(var N=Math.floor(8*(.5-(E-.5))),V=void 0,H=0;H<N;H++)V=A.mult((H+1)/(N+1))._add(k)._unit(),a.addPieSliceVertex(d,a.distance,V,j,p);a.addPieSliceVertex(d,a.distance,M,j,p);for(var G=N-1;G>=0;G--)V=k.mult((G+1)/(N+1))._add(A)._unit(),a.addPieSliceVertex(d,a.distance,V,j,p)}S&&a.addCurrentVertex(d,a.distance,A,-m,-v,!1,p)}else"butt"===D?(w||a.addCurrentVertex(d,a.distance,k,0,0,!1,p),S&&a.addCurrentVertex(d,a.distance,A,0,0,!1,p)):"square"===D?(w||(a.addCurrentVertex(d,a.distance,k,1,1,!1,p),a.e1=a.e2=-1),S&&a.addCurrentVertex(d,a.distance,A,-1,-1,!1,p)):"round"===D&&(w||(a.addCurrentVertex(d,a.distance,k,0,0,!1,p),a.addCurrentVertex(d,a.distance,k,1,1,!0,p),a.e1=a.e2=-1),S&&(a.addCurrentVertex(d,a.distance,A,-1,-1,!0,p),a.addCurrentVertex(d,a.distance,A,0,0,!1,p)));if(O&&T<l-1){var U=d.dist(S);if(U>2*c){var W=d.add(S.sub(d)._mult(c/U)._round());a.distance+=W.dist(d),a.addCurrentVertex(W,a.distance,A.mult(1),0,0,!1,p),d=W}}w=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},S.prototype.addCurrentVertex=function(t,e,i,r,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;l=i.clone(),r&&l._sub(i.perp()._mult(r)),n(u,t,l,a,!1,r,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=i.mult(-1),o&&l._sub(i.perp()._mult(o)),n(u,t,l,a,!0,-o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>C/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,r,o,a,s))},S.prototype.addPieSliceVertex=function(t,e,i,r,o){i=i.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;n(a,t,i,!1,r,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},v("LineBucket",S,{omit:["layers"]}),e.exports=S},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./line_attributes":48,"@mapbox/vector-tile":8}],50:[function(t,e,i){"use strict";var n=t("../../util/struct_array"),r=n.createLayout,o=r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),a=r([{name:"a_projected_pos",components:3,type:"Float32"}],4),s=r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),l=r([{name:"a_placed",components:2,type:"Uint8"}],4),u={symbolLayoutAttributes:o,dynamicLayoutAttributes:a,placementOpacityAttributes:s,collisionVertexAttributes:l,collisionBox:r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:r([{type:"Float32",name:"offsetX"}]),lineVertex:r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};e.exports=u},{"../../util/struct_array":271}],51:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s){t.emplaceBack(e,i,Math.round(64*n),Math.round(64*r),o,a,s?s[0]:0,s?s[1]:0)}function r(t,e,i){t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i),t.emplaceBack(e.x,e.y,i)}var o=t("./symbol_attributes"),a=o.symbolLayoutAttributes,s=o.collisionVertexAttributes,l=o.collisionBoxLayout,u=o.collisionCircleLayout,c=o.dynamicLayoutAttributes,h=t("../array_types"),p=h.SymbolLayoutArray,d=h.SymbolDynamicLayoutArray,f=h.SymbolOpacityArray,g=h.CollisionBoxLayoutArray,m=h.CollisionCircleLayoutArray,v=h.CollisionVertexArray,y=h.PlacedSymbolArray,b=h.GlyphOffsetArray,x=h.SymbolLineVertexArray,_=t("@mapbox/point-geometry"),w=t("../segment"),C=w.SegmentVector,S=t("../program_configuration"),k=S.ProgramConfigurationSet,A=t("../index_array_type"),T=A.TriangleIndexArray,M=A.LineIndexArray,E=t("../../symbol/transform_text"),P=t("../../symbol/mergelines"),O=t("../../util/script_detection"),I=t("../load_geometry"),L=t("@mapbox/vector-tile").VectorTileFeature.types,R=t("../../util/verticalize_punctuation"),D=(t("../../symbol/anchor"),t("../../symbol/symbol_size")),z=D.getSizeData,B=t("../../util/web_worker_transfer"),j=B.register,F=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],N=function(t){this.layoutVertexArray=new p,this.indexArray=new T,this.programConfigurations=t,this.segments=new C,this.dynamicLayoutVertexArray=new d,this.opacityVertexArray=new f,this.placedSymbolArray=new y};N.prototype.upload=function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,c.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,F,!0),this.opacityVertexBuffer.itemSize=1},N.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},j("SymbolBuffers",N);var V=function(t,e,i){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new i,this.segments=new C,this.collisionVertexArray=new v};V.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,s.members,!0)},V.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},j("CollisionBuffers",V);var H=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio;var e=this.layers[0],i=e._unevaluatedLayout._values;this.textSizeData=z(this.zoom,i["text-size"]),this.iconSizeData=z(this.zoom,i["icon-size"]);var n=this.layers[0].layout;this.sortFeaturesByY=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")};H.prototype.createArrays=function(){this.text=new N(new k(a.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new N(new k(a.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new V(g,l.members,M),this.collisionCircle=new V(m,u.members,T),this.glyphOffsetArray=new b,this.lineVertexArray=new x},H.prototype.populate=function(t,e){var i=this,n=this.layers[0],r=n.layout,o=r.get("text-font"),a=r.get("text-field"),s=r.get("icon-image"),l=("constant"!==a.value.kind||a.value.value.length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],l||u){for(var c=e.iconDependencies,h=e.glyphDependencies,p={zoom:this.zoom},d=0,f=t;d<f.length;d+=1){var g=f[d],m=g.feature,v=g.index,y=g.sourceLayerIndex;if(n._featureFilter(p,m)){var b=void 0;l&&(b=n.getValueAndResolveTokens("text-field",m),b=E(b,n,m));var x=void 0;if(u&&(x=n.getValueAndResolveTokens("icon-image",m)),b||x){var _={text:b,icon:x,index:v,sourceLayerIndex:y,geometry:I(m),properties:m.properties,type:L[m.type]};if(void 0!==m.id&&(_.id=m.id),i.features.push(_),x&&(c[x]=!0),b)for(var w=o.evaluate(m).join(","),C=h[w]=h[w]||{},S="map"===r.get("text-rotation-alignment")&&"line"===r.get("symbol-placement"),k=O.allowsVerticalWritingMode(b),A=0;A<b.length;A++)if(C[b.charCodeAt(A)]=!0,S&&k){var T=R.lookup[b.charAt(A)];T&&(C[T.charCodeAt(0)]=!0)}}}}"line"===r.get("symbol-placement")&&(this.features=P(this.features))}},H.prototype.isEmpty=function(){return 0===this.symbolInstances.length},H.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},H.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},H.prototype.addToLineVertexArray=function(t,e){var i=this,n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),a={},s=t.segment+1;s<e.length;s++)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:r},s<e.length-1&&(r+=e[s+1].dist(e[s]));for(var l=t.segment||0;l>=0;l--)a[l]={x:e[l].x,y:e[l].y,tileUnitDistanceFromAnchor:o},l>0&&(o+=e[l-1].dist(e[l]));for(var u=0;u<e.length;u++){var c=a[u];i.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},H.prototype.addSymbols=function(t,e,i,o,a,s,l,u,c,h){for(var p=this,d=t.indexArray,f=t.layoutVertexArray,g=t.dynamicLayoutVertexArray,m=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),v=this.glyphOffsetArray.length,y=m.vertexLength,b=0,x=e;b<x.length;b+=1){var _=x[b],w=_.tl,C=_.tr,S=_.bl,k=_.br,A=_.tex,T=m.vertexLength,M=_.glyphOffset[1];n(f,u.x,u.y,w.x,M+w.y,A.x,A.y,i),n(f,u.x,u.y,C.x,M+C.y,A.x+A.w,A.y,i),n(f,u.x,u.y,S.x,M+S.y,A.x,A.y+A.h,i),n(f,u.x,u.y,k.x,M+k.y,A.x+A.w,A.y+A.h,i),r(g,u,0),d.emplaceBack(T,T+1,T+2),d.emplaceBack(T+1,T+2,T+3),m.vertexLength+=4,m.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(_.glyphOffset[0])}t.placedSymbolArray.emplaceBack(u.x,u.y,v,this.glyphOffsetArray.length-v,y,c,h,u.segment,i?i[0]:0,i?i[1]:0,o[0],o[1],l,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,s)},H.prototype._addCollisionDebugVertex=function(t,e,i,n,r){return e.emplaceBack(0,0),t.emplaceBack(i.x,i.y,n.x,n.y,Math.round(r.x),Math.round(r.y))},H.prototype.addCollisionDebugVertices=function(t,e,i,n,r,o,a,s){var l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),u=l.vertexLength,c=r.layoutVertexArray,h=r.collisionVertexArray;if(this._addCollisionDebugVertex(c,h,o,a.anchor,new _(t,e)),this._addCollisionDebugVertex(c,h,o,a.anchor,new _(i,e)),this._addCollisionDebugVertex(c,h,o,a.anchor,new _(i,n)),this._addCollisionDebugVertex(c,h,o,a.anchor,new _(t,n)),l.vertexLength+=4,s){var p=r.indexArray;p.emplaceBack(u,u+1,u+2),p.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var d=r.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),l.primitiveLength+=4}},H.prototype.generateCollisionDebugBuffers=function(){for(var t=this,e=0,i=t.symbolInstances;e<i.length;e+=1){var n=i[e];n.textCollisionFeature={boxStartIndex:n.textBoxStartIndex,boxEndIndex:n.textBoxEndIndex},n.iconCollisionFeature={boxStartIndex:n.iconBoxStartIndex,boxEndIndex:n.iconBoxEndIndex};for(var r=0;r<2;r++){var o=n[0===r?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var a=o.boxStartIndex;a<o.boxEndIndex;a++){var s=t.collisionBoxArray.get(a),l=s.x1,u=s.y1,c=s.x2,h=s.y2,p=s.radius>0;t.addCollisionDebugVertices(l,u,c,h,p?t.collisionCircle:t.collisionBox,s.anchorPoint,n,p)}}}},H.prototype.deserializeCollisionBoxes=function(t,e,i,n,r){for(var o={},a=e;a<i;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=n;l<r;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY};break}}return o},H.prototype.hasTextData=function(){return this.text.segments.get().length>0},H.prototype.hasIconData=function(){return this.icon.segments.get().length>0},H.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},H.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},H.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var i=[],n=0;n<this.symbolInstances.length;n++)i.push(n);var r=Math.sin(t),o=Math.cos(t);i.sort(function(t,i){var n=e.symbolInstances[t],a=e.symbolInstances[i];return(r*n.anchor.x+o*n.anchor.y|0)-(r*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-n.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=i;a<s.length;a+=1){for(var l=s[a],u=e.symbolInstances[l],c=0,h=u.placedTextSymbolIndices;c<h.length;c+=1)for(var p=h[c],d=e.text.placedSymbolArray.get(p),f=d.vertexStartIndex+4*d.numGlyphs,g=d.vertexStartIndex;g<f;g+=4)e.text.indexArray.emplaceBack(g,g+1,g+2),e.text.indexArray.emplaceBack(g+1,g+2,g+3);var m=e.icon.placedSymbolArray.get(l);if(m.numGlyphs){var v=m.vertexStartIndex;e.icon.indexArray.emplaceBack(v,v+1,v+2),e.icon.indexArray.emplaceBack(v+1,v+2,v+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},j("SymbolBucket",H,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),H.MAX_GLYPHS=65535,H.addDynamicAttributes=r,e.exports=H},{"../../symbol/anchor":213,"../../symbol/mergelines":221,"../../symbol/symbol_size":228,"../../symbol/transform_text":229,"../../util/script_detection":269,"../../util/verticalize_punctuation":277,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./symbol_attributes":50,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],52:[function(t,e,i){"use strict";var n=t("../util/image"),r=n.RGBAImage,o=t("../util/util"),a=t("../util/web_worker_transfer"),s=a.register,l=function(t,e,i){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=i||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};l.prototype.set=function(t,e,i){this.data[this._idx(t,e)]=i+65536},l.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},l.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},s("Level",l);var u=function(t,e,i){this.uid=t,this.scale=e||1,this.level=i||new l(256,512),this.loaded=!!i};u.prototype.loadFromImage=function(t){var e=this;if(t.height!==t.width)throw new RangeError("DEM tiles must be square");for(var i=this.level=new l(t.width,t.width/2),n=t.data,r=0;r<i.dim;r++)for(var o=0;o<i.dim;o++){var a=r*i.dim+o,s=4*a;i.set(o,r,e.scale*((256*n[s]*256+256*n[s+1]+n[s+2])/10-1e4))}for(var u=0;u<i.dim;u++)i.set(-1,u,i.get(0,u)),i.set(i.dim,u,i.get(i.dim-1,u)),i.set(u,-1,i.get(u,0)),i.set(u,i.dim,i.get(u,i.dim-1));i.set(-1,-1,i.get(0,0)),i.set(i.dim,-1,i.get(i.dim-1,0)),i.set(-1,i.dim,i.get(0,i.dim-1)),i.set(i.dim,i.dim,i.get(i.dim-1,i.dim-1)),this.loaded=!0},u.prototype.getPixels=function(){return new r({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},u.prototype.backfillBorder=function(t,e,i){var n=this.level,r=t.level;if(n.dim!==r.dim)throw new Error("level mismatch (dem dimension)");var a=e*n.dim,s=e*n.dim+n.dim,l=i*n.dim,u=i*n.dim+n.dim;switch(e){case-1:a=s-1;break;case 1:s=a+1}switch(i){case-1:l=u-1;break;case 1:u=l+1}for(var c=o.clamp(a,-n.border,n.dim+n.border),h=o.clamp(s,-n.border,n.dim+n.border),p=o.clamp(l,-n.border,n.dim+n.border),d=o.clamp(u,-n.border,n.dim+n.border),f=-e*n.dim,g=-i*n.dim,m=p;m<d;m++)for(var v=c;v<h;v++)n.set(v,m,r.get(v+f,m+g))},s("DEMData",u),e.exports={DEMData:u,Level:l}},{"../util/image":263,"../util/util":275,"../util/web_worker_transfer":278}],53:[function(t,e,i){"use strict";e.exports=8192},{}],54:[function(t,e,i){"use strict";function n(t,e){return e-t}t("@mapbox/point-geometry");var r=t("./load_geometry"),o=t("./extent"),a=t("../style-spec/feature_filter"),s=t("grid-index"),l=t("../util/dictionary_coder"),u=t("@mapbox/vector-tile"),c=t("pbf"),h=t("../util/vectortile_to_geojson"),p=t("../util/util").arraysIntersect,d=t("../source/tile_id"),f=(d.OverscaledTileID,t("../util/web_worker_transfer")),g=f.register,m=t("./array_types"),v=m.FeatureIndexArray,y=function(t,e,i,n){this.tileID=t,this.overscaling=e,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=i||new s(o,16,0),this.featureIndexArray=n||new v};y.prototype.insert=function(t,e,i,n,r){var o=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,r);for(var s=0;s<e.length;s++){for(var l=e[s],u=[1/0,1/0,-1/0,-1/0],c=0;c<l.length;c++){var h=l[c];u[0]=Math.min(u[0],h.x),u[1]=Math.min(u[1],h.y),u[2]=Math.max(u[2],h.x),u[3]=Math.max(u[3],h.y)}o.grid.insert(a,u[0],u[1],u[2],u[3])}},y.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new u.VectorTile(new c(this.rawTileData)).layers,this.sourceLayerCoder=new l(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var i={},r=t.params||{},s=o/t.tileSize/t.scale,h=a(r.filter),p=t.queryGeometry,d=t.additionalRadius*s,f=1/0,g=1/0,m=-1/0,v=-1/0,y=0;y<p.length;y++)for(var b=p[y],x=0;x<b.length;x++){var _=b[x];f=Math.min(f,_.x),g=Math.min(g,_.y),m=Math.max(m,_.x),v=Math.max(v,_.y)}var w=this.grid.query(f-d,g-d,m+d,v+d);w.sort(n),this.filterMatching(i,w,this.featureIndexArray,p,h,r.layers,e,t.bearing,s);var C=t.collisionIndex?t.collisionIndex.queryRenderedSymbols(p,this.tileID,o/t.tileSize,t.collisionBoxArray,t.sourceID,t.bucketInstanceIds):[];return C.sort(),this.filterMatching(i,C,t.collisionBoxArray,p,h,r.layers,e,t.bearing,s),i},y.prototype.filterMatching=function(t,e,i,n,o,a,s,l,u){for(var c,d=this,f=0;f<e.length;f++){var g=e[f];if(g!==c){c=g;var m=i.get(g),v=d.bucketLayerIDs[m.bucketIndex];if(!a||p(a,v)){var y=d.sourceLayerCoder.decode(m.sourceLayerIndex),b=d.vtLayers[y],x=b.feature(m.featureIndex);if(o({zoom:d.tileID.overscaledZ},x))for(var _=null,w=0;w<v.length;w++){var C=v[w];if(!(a&&a.indexOf(C)<0)){var S=s[C];if(S&&("symbol"===S.type||(_||(_=r(x)),S.queryIntersectsFeature(n,x,_,d.z,l,u)))){var k=new h(x,d.z,d.x,d.y);k.layer=S.serialize();var A=t[C];void 0===A&&(A=t[C]=[]),A.push({featureIndex:g,feature:k})}}}}}}},y.prototype.hasLayer=function(t){for(var e=this,i=0,n=e.bucketLayerIDs;i<n.length;i+=1)for(var r=n[i],o=0,a=r;o<a.length;o+=1){var s=a[o];if(t===s)return!0}return!1},g("FeatureIndex",y,{omit:["rawTileData","sourceLayerCoder"]}),e.exports=y},{"../source/tile_id":114,"../style-spec/feature_filter":148,"../util/dictionary_coder":257,"../util/util":275,"../util/vectortile_to_geojson":276,"../util/web_worker_transfer":278,"./array_types":39,"./extent":53,"./load_geometry":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":24,pbf:30}],55:[function(t,e,i){"use strict";e.exports={LineIndexArray:t("./array_types").LineIndexArray,TriangleIndexArray:t("./array_types").TriangleIndexArray}},{"./array_types":39}],56:[function(t,e,i){"use strict";function n(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var r=t("../util/util"),o=t("./extent"),a=n(16);e.exports=function(t){for(var e=o/t.extent,i=t.loadGeometry(),n=0;n<i.length;n++)for(var s=i[n],l=0;l<s.length;l++){var u=s[l];u.x=Math.round(u.x*e),u.y=Math.round(u.y*e),(u.x<a.min||u.x>a.max||u.y<a.min||u.y>a.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}},{"../util/util":275,"./extent":53}],57:[function(t,e,i){"use strict";var n=t("../util/struct_array"),r=n.createLayout;e.exports=r([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],58:[function(t,e,i){"use strict";function n(t){return[o(255*t.r,255*t.g),o(255*t.b,255*t.a)]}function r(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace(e+"-","").replace(/-/g,"_")}var o=t("../shaders/encode_attribute").packUint8ToFloat,a=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),s=a.register,l=t("../style/properties"),u=l.PossiblyEvaluatedPropertyValue,c=t("./array_types"),h=c.StructArrayLayout1f4,p=c.StructArrayLayout2f8,d=c.StructArrayLayout4f16,f=function(t,e,i){this.value=t,this.name=e,this.type=i,this.statistics={max:-1/0}};f.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},f.prototype.populatePaintArray=function(){},f.prototype.upload=function(){},f.prototype.destroy=function(){},f.prototype.setUniforms=function(t,e,i,n){var r=n.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_"+this.name],r.r,r.g,r.b,r.a):o.uniform1f(e.uniforms["u_"+this.name],r)};var g=function(t,e,i){this.expression=t,this.name=e,this.type=i,this.statistics={max:-1/0};var n="color"===i?p:h;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===i?2:1,offset:0}],this.paintVertexArray=new n};g.prototype.defines=function(){return[]},g.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,r=i.length;i.reserve(t);var o=this.expression.evaluate({zoom:0},e);if("color"===this.type)for(var a=n(o),s=r;s<t;s++)i.emplaceBack(a[0],a[1]);else{for(var l=r;l<t;l++)i.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},g.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},g.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},g.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var m=function(t,e,i,n,r){this.expression=t,this.name=e,this.type=i,this.useIntegerZoom=n,this.zoom=r,this.statistics={max:-1/0};var o="color"===i?d:p;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===i?4:2,offset:0}],this.paintVertexArray=new o};m.prototype.defines=function(){return[]},m.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray,r=i.length;i.reserve(t);var o=this.expression.evaluate({zoom:this.zoom},e),a=this.expression.evaluate({zoom:this.zoom+1},e);if("color"===this.type)for(var s=n(o),l=n(a),u=r;u<t;u++)i.emplaceBack(s[0],s[1],l[0],l[1]);else{for(var c=r;c<t;c++)i.emplaceBack(o,a);this.statistics.max=Math.max(this.statistics.max,o,a)}},m.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},m.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},m.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},m.prototype.setUniforms=function(t,e,i){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(i.zoom))};var v=function(){this.binders={},this.cacheKey="",this._buffers=[]};v.createDynamic=function(t,e,i){var n=new v,o=[];for(var a in t.paint._values)if(i(a)){var s=t.paint.get(a);if(s instanceof u&&s.property.specification["property-function"]){var l=r(a,t.type),c=s.property.specification.type,h=s.property.useIntegerZoom;"constant"===s.value.kind?(n.binders[a]=new f(s.value,l,c),o.push("/u_"+l)):"source"===s.value.kind?(n.binders[a]=new g(s.value,l,c),o.push("/a_"+l)):(n.binders[a]=new m(s.value,l,c,h,e),o.push("/z_"+l))}}return n.cacheKey=o.sort().join(""),n},v.prototype.populatePaintArrays=function(t,e){var i=this;for(var n in i.binders)i.binders[n].populatePaintArray(t,e)},v.prototype.defines=function(){var t=this,e=[];for(var i in t.binders)e.push.apply(e,t.binders[i].defines());return e},v.prototype.setUniforms=function(t,e,i,n){var r=this;for(var o in r.binders)r.binders[o].setUniforms(t,e,n,i.get(o))},v.prototype.getPaintVertexBuffers=function(){return this._buffers},v.prototype.upload=function(t){var e=this;for(var i in e.binders)e.binders[i].upload(t);var n=[];for(var r in e.binders){var o=e.binders[r];(o instanceof g||o instanceof m)&&o.paintVertexBuffer&&n.push(o.paintVertexBuffer)}this._buffers=n},v.prototype.destroy=function(){var t=this;for(var e in t.binders)t.binders[e].destroy()};var y=function(t,e,i,n){var r=this;void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o];r.programConfigurations[s.id]=v.createDynamic(s,i,n),r.programConfigurations[s.id].layoutAttributes=t}};y.prototype.populatePaintArrays=function(t,e){var i=this;for(var n in i.programConfigurations)i.programConfigurations[n].populatePaintArrays(t,e)},y.prototype.get=function(t){return this.programConfigurations[t]},y.prototype.upload=function(t){var e=this;for(var i in e.programConfigurations)e.programConfigurations[i].upload(t)},y.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},s("ConstantBinder",f),s("SourceExpressionBinder",g),s("CompositeExpressionBinder",m),s("ProgramConfiguration",v,{omit:["_buffers"]}),s("ProgramConfigurationSet",y),e.exports={ProgramConfiguration:v,ProgramConfigurationSet:y}},{"../shaders/encode_attribute":96,"../style-spec/util/color":153,"../style/properties":188,"../util/web_worker_transfer":278,"./array_types":39}],59:[function(t,e,i){"use strict";var n=t("../util/struct_array"),r=n.createLayout;e.exports=r([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],60:[function(t,e,i){"use strict";var n=t("../util/util"),r=n.warnOnce,o=t("../util/web_worker_transfer"),a=o.register,s=Math.pow(2,16)-1,l=function(t){void 0===t&&(t=[]),this.segments=t};l.prototype.prepareSegment=function(t,i,n){var o=this.segments[this.segments.length-1];return t>s&&r("Max vertices per segment is "+s+": bucket requested "+t),(!o||o.vertexLength+t>e.exports.MAX_VERTEX_ARRAY_LENGTH)&&(o={vertexOffset:i.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},this.segments.push(o)),o},l.prototype.get=function(){return this.segments},l.prototype.destroy=function(){for(var t=this,e=0,i=t.segments;e<i.length;e+=1){var n=i[e];for(var r in n.vaos)n.vaos[r].destroy()}},a("SegmentVector",l),e.exports={SegmentVector:l,MAX_VERTEX_ARRAY_LENGTH:s}},{"../util/util":275,"../util/web_worker_transfer":278}],61:[function(t,e,i){"use strict";var n=function(t,e,i){this.column=t,this.row=e,this.zoom=i};n.prototype.clone=function(){return new n(this.column,this.row,this.zoom)},n.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},n.prototype.sub=function(t){return this.clone()._sub(t)},n.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},n.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=n},{}],62:[function(t,e,i){"use strict";var n=t("../util/util").wrap,r=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};r.prototype.wrap=function(){return new r(n(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.prototype.toBounds=function(e){var i=360*e/40075017,n=i/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new r(this.lng-n,this.lat-i),new r(this.lng+n,this.lat+i))},r.convert=function(t){if(t instanceof r)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new r(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new r(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=r},{"../util/util":275,"./lng_lat_bounds":63}],63:[function(t,e,i){"use strict";var n=t("./lng_lat"),r=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};r.prototype.setNorthEast=function(t){return this._ne=t instanceof n?new n(t.lng,t.lat):n.convert(t),this},r.prototype.setSouthWest=function(t){return this._sw=t instanceof n?new n(t.lng,t.lat):n.convert(t),this},r.prototype.extend=function(t){var e,i,o=this._sw,a=this._ne;if(t instanceof n)e=t,i=t;else{if(!(t instanceof r))return Array.isArray(t)?t.every(Array.isArray)?this.extend(r.convert(t)):this.extend(n.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(i.lng,a.lng),a.lat=Math.max(i.lat,a.lat)):(this._sw=new n(e.lng,e.lat),this._ne=new n(i.lng,i.lat)),this},r.prototype.getCenter=function(){return new n((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},r.prototype.getSouthWest=function(){return this._sw},r.prototype.getNorthEast=function(){return this._ne},r.prototype.getNorthWest=function(){return new n(this.getWest(),this.getNorth())},r.prototype.getSouthEast=function(){return new n(this.getEast(),this.getSouth())},r.prototype.getWest=function(){return this._sw.lng},r.prototype.getSouth=function(){return this._sw.lat},r.prototype.getEast=function(){return this._ne.lng},r.prototype.getNorth=function(){return this._ne.lat},r.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},r.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},r.prototype.isEmpty=function(){return!(this._sw&&this._ne)},r.convert=function(t){return!t||t instanceof r?t:new r(t)},e.exports=r},{"./lng_lat":62}],64:[function(t,e,i){"use strict";var n=t("./lng_lat"),r=t("@mapbox/point-geometry"),o=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate").number,l=t("../util/tile_cover"),u=t("../source/tile_id"),c=(u.CanonicalTileID,u.UnwrappedTileID),h=t("../data/extent"),p=t("@mapbox/gl-matrix"),d=p.vec4,f=p.mat4,g=p.mat2,m=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new n(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.prototype.clone=function(){var t=new m(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new r(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=g.create(),g.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},m.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},m.prototype.getVisibleUnwrappedCoordinates=function(t){var e=this.pointCoordinate(new r(0,0),0),i=this.pointCoordinate(new r(this.width,0),0),n=Math.floor(e.column),o=Math.floor(i.column),a=[new c(0,t)];if(this._renderWorldCopies)for(var s=n;s<=o;s++)0!==s&&a.push(new c(s,t));return a},m.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),i=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var n=this.pointCoordinate(this.centerPoint,e),o=new r(n.column-.5,n.row-.5),a=[this.pointCoordinate(new r(0,0),e),this.pointCoordinate(new r(this.width,0),e),this.pointCoordinate(new r(this.width,this.height),e),this.pointCoordinate(new r(0,this.height),e)];return l(e,a,t.reparseOverscaled?i:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t.canonical)-o.dist(e.canonical)})},m.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},m.prototype.zoomScale=function(t){return Math.pow(2,t)},m.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},m.prototype.project=function(t){return new r(this.lngX(t.lng),this.latY(t.lat))},m.prototype.unproject=function(t){return new n(this.xLng(t.x),this.yLat(t.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new r(this.x,this.y)},m.prototype.lngX=function(t){return(180+t)*this.worldSize/360},m.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},m.prototype.xLng=function(t){return 360*t/this.worldSize-180},m.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},m.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},m.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},m.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},m.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},m.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new n(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},m.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];d.transformMat4(i,i,this.pixelMatrixInverse),d.transformMat4(n,n,this.pixelMatrixInverse);var r=i[3],a=n[3],l=i[0]/r,u=n[0]/a,c=i[1]/r,h=n[1]/a,p=i[2]/r,f=n[2]/a,g=p===f?0:(0-p)/(f-p);return new o(s(l,u,g)/this.tileSize,s(c,h,g)/this.tileSize,this.zoom)._zoomTo(e)},m.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return d.transformMat4(i,i,this.pixelMatrix),new r(i[0]/i[3],i[1]/i[3])},m.prototype.calculatePosMatrix=function(t,e){void 0===e&&(e=!1);var i=t.key,n=e?this._alignedPosMatrixCache:this._posMatrixCache;if(n[i])return n[i];var r=t.canonical,o=this.worldSize/this.zoomScale(r.z),a=r.x+Math.pow(2,r.z)*t.wrap,s=f.identity(new Float64Array(16));return f.translate(s,s,[a*o,r.y*o,0]),f.scale(s,s,[o/h,o/h,1]),f.multiply(s,e?this.alignedProjMatrix:this.projMatrix,s),n[i]=new Float32Array(s),n[i]},m.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,i,n,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=this.latY(h[1]),a=this.latY(h[0]),t=a-o<u.y?u.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),l=this.lngX(p[1]),e=l-s<u.x?u.x/(l-s):0}var d=Math.max(e||0,t||0);if(d)return this.center=this.unproject(new r(e?(l+s)/2:this.x,t?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var f=this.y,g=u.y/2;f-g<o&&(n=o+g),f+g>a&&(n=a-g)}if(this.lngRange){var m=this.x,v=u.x/2;m-v<s&&(i=s+v),m+v>l&&(i=l-v)}void 0===i&&void 0===n||(this.center=this.unproject(new r(void 0!==i?i:this.x,void 0!==n?n:this.y))),this._unmodified=c,this._constraining=!1}},m.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=this.x,r=this.y,o=Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance,a=1.01*o,s=new Float64Array(16);f.perspective(s,this._fov,this.width/this.height,1,a),f.scale(s,s,[1,-1,1]),f.translate(s,s,[0,0,-this.cameraToCenterDistance]),f.rotateX(s,s,this._pitch),f.rotateZ(s,s,this.angle),f.translate(s,s,[-n,-r,0]);var l=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));f.scale(s,s,[1,1,l,1]),this.projMatrix=s;var u=this.width%2/2,c=this.height%2/2,h=Math.cos(this.angle),p=Math.sin(this.angle),d=n-Math.round(n)+h*u+p*c,g=r-Math.round(r)+h*c+p*u,m=new Float64Array(s);if(f.translate(m,m,[d>.5?d-1:d,g>.5?g-1:g,0]),this.alignedProjMatrix=m,s=f.create(),f.scale(s,s,[this.width/2,-this.height/2,1]),f.translate(s,s,[1,-1,0]),this.pixelMatrix=f.multiply(new Float64Array(16),s,this.projMatrix),!(s=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Object.defineProperties(m.prototype,v),e.exports=m},{"../data/extent":53,"../source/tile_id":114,"../style-spec/util/interpolate":158,"../util/tile_cover":273,"../util/util":275,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],65:[function(t,e,i){"use strict";var n=t("../style-spec/util/color"),r=0,o=1,a=771,s=function(t,e,i){this.blendFunction=t,this.blendColor=e,this.mask=i};s.Replace=[o,r],s.disabled=new s(s.Replace,n.transparent,[!1,!1,!1,!1]),s.unblended=new s(s.Replace,n.transparent,[!0,!0,!0,!0]),s.alphaBlended=new s([o,a],n.transparent,[!0,!0,!0,!0]),e.exports=s},{"../style-spec/util/color":153}],66:[function(t,e,i){"use strict";var n=t("./index_buffer"),r=t("./vertex_buffer"),o=t("./framebuffer"),a=(t("./depth_mode"),t("./stencil_mode"),t("./color_mode")),s=t("../util/util"),l=t("./value"),u=l.ClearColor,c=l.ClearDepth,h=l.ClearStencil,p=l.ColorMask,d=l.DepthMask,f=l.StencilMask,g=l.StencilFunc,m=l.StencilOp,v=l.StencilTest,y=l.DepthRange,b=l.DepthTest,x=l.DepthFunc,_=l.Blend,w=l.BlendFunc,C=l.BlendColor,S=l.Program,k=l.LineWidth,A=l.ActiveTextureUnit,T=l.Viewport,M=l.BindFramebuffer,E=l.BindRenderbuffer,P=l.BindTexture,O=l.BindVertexBuffer,I=l.BindElementBuffer,L=l.BindVertexArrayOES,R=l.PixelStoreUnpack,D=l.PixelStoreUnpackPremultiplyAlpha,z=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new u(this),this.clearDepth=new c(this),this.clearStencil=new h(this),this.colorMask=new p(this),this.depthMask=new d(this),this.stencilMask=new f(this),this.stencilFunc=new g(this),this.stencilOp=new m(this),this.stencilTest=new v(this),this.depthRange=new y(this),this.depthTest=new b(this),this.depthFunc=new x(this),this.blend=new _(this),this.blendFunc=new w(this),this.blendColor=new C(this),this.program=new S(this),this.lineWidth=new k(this),this.activeTexture=new A(this),this.viewport=new T(this),this.bindFramebuffer=new M(this),this.bindRenderbuffer=new E(this),this.bindTexture=new P(this),this.bindVertexBuffer=new O(this),this.bindElementBuffer=new I(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new L(this),this.pixelStoreUnpack=new R(this),this.pixelStoreUnpackPremultiplyAlpha=new D(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};z.prototype.createIndexBuffer=function(t,e){return new n(this,t,e)},z.prototype.createVertexBuffer=function(t,e,i){return new r(this,t,e,i)},z.prototype.createRenderbuffer=function(t,e,i){var n=this.gl,r=n.createRenderbuffer();return this.bindRenderbuffer.set(r),n.renderbufferStorage(n.RENDERBUFFER,t,e,i),this.bindRenderbuffer.set(null),r},z.prototype.createFramebuffer=function(t,e){return new o(this,t,e)},z.prototype.clear=function(t){var e=t.color,i=t.depth,n=this.gl,r=0;e&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==i&&(r|=n.DEPTH_BUFFER_BIT,this.clearDepth.set(i),this.depthMask.set(!0)),n.clear(r)},z.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},z.prototype.setStencilMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},z.prototype.setColorMode=function(t){s.deepEqual(t.blendFunction,a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},e.exports=z},{"../util/util":275,"./color_mode":65,"./depth_mode":67,"./framebuffer":68,"./index_buffer":69,"./stencil_mode":70,"./value":71,"./vertex_buffer":72}],67:[function(t,e,i){"use strict";var n=519,r=function(t,e,i){this.func=t,this.mask=e,this.range=i};r.ReadOnly=!1,r.ReadWrite=!0,r.disabled=new r(n,r.ReadOnly,[0,1]),e.exports=r},{}],68:[function(t,e,i){"use strict";var n=t("./value"),r=n.ColorAttachment,o=n.DepthAttachment,a=function(t,e,i){this.context=t,this.width=e,this.height=i;var n=t.gl,a=this.framebuffer=n.createFramebuffer();this.colorAttachment=new r(t,a),this.depthAttachment=new o(t,a)};a.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var i=this.depthAttachment.get();i&&t.deleteRenderbuffer(i),t.deleteFramebuffer(this.framebuffer)},e.exports=a},{"./value":71}],69:[function(t,e,i){"use strict";var n=function(t,e,i){this.context=t;var n=t.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(i),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};n.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},n.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},n.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},n.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=n},{}],70:[function(t,e,i){"use strict";var n=519,r=7680,o=function(t,e,i,n,r,o){this.test=t,this.ref=e,this.mask=i,this.fail=n,this.depthFail=r,this.pass=o};o.disabled=new o({func:n,mask:0},0,0,r,r,r),e.exports=o},{}],71:[function(t,e,i){"use strict";var n=t("../style-spec/util/color"),r=t("../util/util"),o=function(t){this.context=t,this.current=n.transparent};o.prototype.get=function(){return this.current},o.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var a=function(t){this.context=t,this.current=1};a.prototype.get=function(){return this.current},a.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var s=function(t){this.context=t,this.current=0};s.prototype.get=function(){return this.current},s.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var l=function(t){this.context=t,this.current=[!0,!0,!0,!0]};l.prototype.get=function(){return this.current},l.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var u=function(t){this.context=t,this.current=!0};u.prototype.get=function(){return this.current},u.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var c=function(t){this.context=t,this.current=255};c.prototype.get=function(){return this.current},c.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var h=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};h.prototype.get=function(){return this.current},h.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var p=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};p.prototype.get=function(){return this.current},p.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var d=function(t){this.context=t,this.current=!1};d.prototype.get=function(){return this.current},d.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var f=function(t){this.context=t,this.current=[0,1]};f.prototype.get=function(){return this.current},f.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var g=function(t){this.context=t,this.current=!1};g.prototype.get=function(){return this.current},g.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var m=function(t){this.context=t,this.current=t.gl.LESS};m.prototype.get=function(){return this.current},m.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var v=function(t){this.context=t,this.current=!1};v.prototype.get=function(){return this.current},v.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var y=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};y.prototype.get=function(){return this.current},y.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var b=function(t){this.context=t,this.current=n.transparent};b.prototype.get=function(){return this.current},b.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var x=function(t){this.context=t,this.current=null};x.prototype.get=function(){return this.current},x.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var _=function(t){this.context=t,this.current=1};_.prototype.get=function(){return this.current},_.prototype.set=function(t){var e=this.context.lineWidthRange,i=r.clamp(t,e[0],e[1]);this.current!==i&&(this.context.gl.lineWidth(i),this.current=t)};var w=function(t){this.context=t,this.current=t.gl.TEXTURE0};w.prototype.get=function(){return this.current},w.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var C=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};C.prototype.get=function(){return this.current},C.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var S=function(t){this.context=t,this.current=null};S.prototype.get=function(){return this.current},S.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var k=function(t){this.context=t,this.current=null};k.prototype.get=function(){return this.current},k.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var A=function(t){this.context=t,this.current=null};A.prototype.get=function(){return this.current},A.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var T=function(t){this.context=t,this.current=null};T.prototype.get=function(){return this.current},T.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var M=function(t){this.context=t,this.current=null};M.prototype.get=function(){return this.current},M.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var E=function(t){this.context=t,this.current=null};E.prototype.get=function(){return this.current},E.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var P=function(t){this.context=t,this.current=4};P.prototype.get=function(){return this.current},P.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var O=function(t){this.context=t,this.current=!1};O.prototype.get=function(){return this.current},O.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var I=function(t,e){this.context=t,this.current=null,this.parent=e};I.prototype.get=function(){return this.current};var L=function(t){function e(e,i){t.call(this,e,i),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(I),R=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(I);e.exports={ClearColor:o,ClearDepth:a,ClearStencil:s,ColorMask:l,DepthMask:u,StencilMask:c,StencilFunc:h,StencilOp:p,StencilTest:d,DepthRange:f,DepthTest:g,DepthFunc:m,Blend:v,BlendFunc:y,BlendColor:b,Program:x,LineWidth:_,ActiveTextureUnit:w,Viewport:C,BindFramebuffer:S,BindRenderbuffer:k,BindTexture:A,BindVertexBuffer:T,BindElementBuffer:M,BindVertexArrayOES:E,PixelStoreUnpack:P,PixelStoreUnpackPremultiplyAlpha:O,ColorAttachment:L,DepthAttachment:R}},{"../style-spec/util/color":153,"../util/util":275}],72:[function(t,e,i){"use strict";var n={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},r=function(t,e,i,n){this.length=e.length,this.attributes=i,this.itemSize=e.bytesPerElement,this.dynamicDraw=n,this.context=t;var r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};r.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},r.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},r.prototype.enableAttributes=function(t,e){for(var i=this,n=0;n<this.attributes.length;n++){var r=i.attributes[n],o=e.attributes[r.name];void 0!==o&&t.enableVertexAttribArray(o)}},r.prototype.setVertexAttribPointers=function(t,e,i){for(var r=this,o=0;o<this.attributes.length;o++){var a=r.attributes[o],s=e.attributes[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[n[a.type]],!1,r.itemSize,a.offset+r.itemSize*(i||0))}},r.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=r},{}],73:[function(t,e,i){"use strict";var n=t("@mapbox/mapbox-gl-supported"),r=t("./util/browser"),o=t("../package.json").version,a=t("./ui/map"),s=t("./ui/control/navigation_control"),l=t("./ui/control/geolocate_control"),u=t("./ui/control/attribution_control"),c=t("./ui/control/scale_control"),h=t("./ui/control/fullscreen_control"),p=t("./ui/popup"),d=t("./ui/marker"),f=t("./style/style"),g=t("./geo/lng_lat"),m=t("./geo/lng_lat_bounds"),v=t("@mapbox/point-geometry"),y=t("./util/evented"),b=t("./util/config"),x=t("./source/rtl_text_plugin");e.exports={version:o,supported:n,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:x.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:l,AttributionControl:u,ScaleControl:c,FullscreenControl:h,Popup:p,Marker:d,Style:f,LngLat:g,LngLatBounds:m,Point:v,Evented:y,config:b,get accessToken(){return b.ACCESS_TOKEN},set accessToken(t){b.ACCESS_TOKEN=t}}},{"../package.json":38,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":109,"./style/style":190,"./ui/control/attribution_control":232,"./ui/control/fullscreen_control":233,"./ui/control/geolocate_control":234,"./ui/control/navigation_control":236,"./ui/control/scale_control":237,"./ui/map":247,"./ui/marker":248,"./ui/popup":249,"./util/browser":252,"./util/config":256,"./util/evented":260,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],74:[function(t,e,i){"use strict";function n(t,e,i){var n=i.paint.get("background-color"),s=i.paint.get("background-opacity");if(0!==s){var l=t.context,u=l.gl,c=t.transform,h=c.tileSize,p=i.paint.get("background-pattern"),d=p||1!==n.a||1!==s?"translucent":"opaque";if(t.renderPass===d){var f;if(l.setStencilMode(o.disabled),l.setDepthMode(t.depthModeForSublayer(0,"opaque"===d?a.ReadWrite:a.ReadOnly)),l.setColorMode(t.colorModeForRenderPass()),p){if(r.isPatternMissing(p,t))return;f=t.useProgram("backgroundPattern"),r.prepare(p,t,f),t.tileExtentPatternVAO.bind(l,f,t.tileExtentBuffer,[])}else f=t.useProgram("background"),u.uniform4fv(f.uniforms.u_color,[n.r,n.g,n.b,n.a]),t.tileExtentVAO.bind(l,f,t.tileExtentBuffer,[]);u.uniform1f(f.uniforms.u_opacity,s);for(var g=c.coveringTiles({tileSize:h}),m=0,v=g;m<v.length;m+=1){var y=v[m];p&&r.setTile({tileID:y,tileSize:h},t,f),u.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(y.toUnwrapped())),u.drawArrays(u.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}var r=t("./pattern"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=n},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"./pattern":91}],75:[function(t,e,i){"use strict";function n(t,e,i,n){if("translucent"===t.renderPass){var s=i.paint.get("circle-opacity"),l=i.paint.get("circle-stroke-width"),u=i.paint.get("circle-stroke-opacity");if(0!==s.constantOr(1)||0!==l.constantOr(1)&&0!==u.constantOr(1)){var c=t.context,h=c.gl;c.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),c.setStencilMode(o.disabled),c.setColorMode(t.colorModeForRenderPass());for(var p=!0,d=0;d<n.length;d++){var f=n[d],g=e.getTile(f),m=g.getBucket(i);if(m){var v=t.context.program.get(),y=m.programConfigurations.get(i.id),b=t.useProgram("circle",y);if((p||b.program!==v)&&(y.setUniforms(c,b,i.paint,{zoom:t.transform.zoom}),p=!1),h.uniform1f(b.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),h.uniform1i(b.uniforms.u_scale_with_map,"map"===i.paint.get("circle-pitch-scale")?1:0),"map"===i.paint.get("circle-pitch-alignment")){h.uniform1i(b.uniforms.u_pitch_with_map,1);var x=r(g,1,t.transform.zoom);h.uniform2f(b.uniforms.u_extrude_scale,x,x)}else h.uniform1i(b.uniforms.u_pitch_with_map,0),h.uniform2fv(b.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);h.uniformMatrix4fv(b.uniforms.u_matrix,!1,t.translatePosMatrix(f.posMatrix,g,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor"))),b.draw(c,h.TRIANGLES,i.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,y)}}}}}var r=t("../source/pixels_to_tile_units"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=n},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],76:[function(t,e,i){"use strict";function n(t,e,i,n,r){var l=t.context,u=l.gl,c=r?t.useProgram("collisionCircle"):t.useProgram("collisionBox");l.setDepthMode(a.disabled),l.setStencilMode(s.disabled),l.setColorMode(t.colorModeForRenderPass());for(var h=0;h<n.length;h++){var p=n[h],d=e.getTile(p),f=d.getBucket(i);if(f){var g=r?f.collisionCircle:f.collisionBox;if(g){u.uniformMatrix4fv(c.uniforms.u_matrix,!1,p.posMatrix),r||l.lineWidth.set(1),u.uniform1f(c.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var m=o(d,1,t.transform.zoom),v=Math.pow(2,t.transform.zoom-d.tileID.overscaledZ);u.uniform1f(c.uniforms.u_pixels_to_tile_units,m),u.uniform2f(c.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(m*v),t.transform.pixelsToGLUnits[1]/(m*v)),c.draw(l,r?u.TRIANGLES:u.LINES,i.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,null,g.collisionVertexBuffer,null)}}}}function r(t,e,i,r){n(t,e,i,r,!1),n(t,e,i,r,!0)}var o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode"),s=t("../gl/stencil_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],77:[function(t,e,i){"use strict";function n(t,e,i){for(var n=0;n<i.length;n++)r(t,e,i[n])}function r(t,e,i){var n=t.context,r=n.gl;n.lineWidth.set(1*a.devicePixelRatio);var c=i.posMatrix,g=t.useProgram("debug");n.setDepthMode(d.disabled),n.setStencilMode(f.disabled),n.setColorMode(t.colorModeForRenderPass()),r.uniformMatrix4fv(g.uniforms.u_matrix,!1,c),r.uniform4f(g.uniforms.u_color,1,0,0,1),t.debugVAO.bind(n,g,t.debugBuffer,[]),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var m=o(i.toString(),50,200,5),v=new h,y=0;y<m.length;y+=2)v.emplaceBack(m[y],m[y+1]);var b=n.createVertexBuffer(v,p.members);(new u).bind(n,g,b,[]),r.uniform4f(g.uniforms.u_color,1,1,1,1);for(var x=e.getTile(i).tileSize,_=l/(Math.pow(2,t.transform.zoom-i.overscaledZ)*x),w=[[-1,-1],[-1,1],[1,-1],[1,1]],C=0;C<w.length;C++){var S=w[C];r.uniformMatrix4fv(g.uniforms.u_matrix,!1,s.translate([],c,[_*S[0],_*S[1],0])),r.drawArrays(r.LINES,0,b.length)}r.uniform4f(g.uniforms.u_color,0,0,0,1),r.uniformMatrix4fv(g.uniforms.u_matrix,!1,c),r.drawArrays(r.LINES,0,b.length)}function o(t,e,i,n){n=n||1;var r,o,a,s,l,u,c,h,p=[];for(r=0,o=t.length;r<o;r++)if(l=g[t[r]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(u=e+l[1][a]*n,c=i-l[1][a+1]*n,h&&p.push(h.x,h.y,u,c),h={x:u,y:c});e+=l[0]*n}return p}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,l=t("../data/extent"),u=t("./vertex_array_object"),c=t("../data/array_types"),h=c.PosArray,p=t("../data/pos_attributes"),d=t("../gl/depth_mode"),f=t("../gl/stencil_mode");e.exports=n;var g={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../util/browser":252,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],78:[function(t,e,i){"use strict";function n(t,e,i,n){var s=i.paint.get("fill-color"),l=i.paint.get("fill-opacity");if(0!==l.constantOr(1)){var h=t.context;h.setColorMode(t.colorModeForRenderPass());var p=i.paint.get("fill-pattern")||1!==s.constantOr(u.transparent).a||1!==l.constantOr(0)?"translucent":"opaque";t.renderPass===p&&(h.setDepthMode(t.depthModeForSublayer(1,"opaque"===t.renderPass?c.ReadWrite:c.ReadOnly)),r(t,e,i,n,o)),"translucent"===t.renderPass&&i.paint.get("fill-antialias")&&(h.lineWidth.set(2),h.setDepthMode(t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,c.ReadOnly)),r(t,e,i,n,a))}}function r(t,e,i,n,r){if(!l.isPatternMissing(i.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=n;a<s.length;a+=1){var u=s[a],c=e.getTile(u),h=c.getBucket(i);h&&(t.context.setStencilMode(t.stencilModeForClipping(u)),r(t,e,i,c,u,h,o),o=!1)}}function o(t,e,i,n,r,o,a){var l=t.context.gl,u=o.programConfigurations.get(i.id);s("fill",i.paint.get("fill-pattern"),t,u,i,n,r,a).draw(t.context,l.TRIANGLES,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,u)}function a(t,e,i,n,r,o,a){var l=t.context.gl,u=o.programConfigurations.get(i.id),c=i.getPaintProperty("fill-outline-color")?null:i.paint.get("fill-pattern"),h=s("fillOutline",c,t,u,i,n,r,a);l.uniform2f(h.uniforms.u_world,l.drawingBufferWidth,l.drawingBufferHeight),h.draw(t.context,l.LINES,i.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,u)}function s(t,e,i,n,r,o,a,s){var u,c=i.context.program.get();return e?(u=i.useProgram(t+"Pattern",n),(s||u.program!==c)&&(n.setUniforms(i.context,u,r.paint,{zoom:i.transform.zoom}),l.prepare(e,i,u)),l.setTile(o,i,u)):(u=i.useProgram(t,n),(s||u.program!==c)&&n.setUniforms(i.context,u,r.paint,{zoom:i.transform.zoom})),i.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,i.translatePosMatrix(a.posMatrix,o,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"))),u}var l=t("./pattern"),u=t("../style-spec/util/color"),c=t("../gl/depth_mode");e.exports=n},{"../gl/depth_mode":67,"../style-spec/util/color":153,"./pattern":91}],79:[function(t,e,i){"use strict";function n(t,e,i,n){if(0!==i.paint.get("fill-extrusion-opacity"))if("offscreen"===t.renderPass){r(t,i);for(var s=!0,l=0,u=n;l<u.length;l+=1){var c=u[l],h=e.getTile(c),p=h.getBucket(i);p&&(a(t,e,i,h,c,p,s),s=!1)}}else"translucent"===t.renderPass&&o(t,i)}function r(t,e){var i=t.context,n=i.gl,r=e.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!r){var o=new c(i,{width:t.width,height:t.height,data:null},n.RGBA);o.bind(n.LINEAR,n.CLAMP_TO_EDGE),r=e.viewportFrame=i.createFramebuffer(t.width,t.height),r.colorAttachment.set(o.texture)}i.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(i.clear({depth:1}),t.depthRboNeedsClear=!1),i.clear({color:h.transparent}),i.setStencilMode(m.disabled),i.setDepthMode(new p(n.LEQUAL,p.ReadWrite,[0,1])),i.setColorMode(t.colorModeForRenderPass())}function o(t,e){var i=e.viewportFrame;if(i){var n=t.context,r=n.gl,o=t.useProgram("extrusionTexture");n.setStencilMode(m.disabled),n.setDepthMode(p.disabled),n.setColorMode(t.colorModeForRenderPass()),n.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),r.uniform1f(o.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),r.uniform1i(o.uniforms.u_image,0);var a=f.create();f.ortho(a,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),r.uniform2f(o.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),t.viewportVAO.bind(n,o,t.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}function a(t,e,i,n,r,o,a){var l=t.context,c=l.gl,h=i.paint.get("fill-extrusion-pattern"),p=t.context.program.get(),d=o.programConfigurations.get(i.id),f=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",d);if((a||f.program!==p)&&d.setUniforms(l,f,i.paint,{zoom:t.transform.zoom}),h){if(u.isPatternMissing(h,t))return;u.prepare(h,t,f),u.setTile(n,t,f),c.uniform1f(f.uniforms.u_height_factor,-Math.pow(2,r.overscaledZ)/n.tileSize/8)}t.context.gl.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.translatePosMatrix(r.posMatrix,n,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor"))),s(f,t),f.draw(l,c.TRIANGLES,i.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,d)}function s(t,e){var i=e.context.gl,n=e.style.light,r=n.properties.get("position"),o=[r.x,r.y,r.z],a=d.create();"viewport"===n.properties.get("anchor")&&d.fromRotation(a,-e.transform.angle),g.transformMat3(o,o,a);var s=n.properties.get("color");i.uniform3fv(t.uniforms.u_lightpos,o),i.uniform1f(t.uniforms.u_lightintensity,n.properties.get("intensity")),i.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}var l=t("@mapbox/gl-matrix"),u=t("./pattern"),c=t("./texture"),h=t("../style-spec/util/color"),p=t("../gl/depth_mode"),d=l.mat3,f=l.mat4,g=l.vec3,m=t("../gl/stencil_mode");e.exports=n},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../style-spec/util/color":153,"./pattern":91,"./texture":93,"@mapbox/gl-matrix":2}],80:[function(t,e,i){"use strict";function n(t,e,i,n){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,s=o.gl;o.setDepthMode(t.depthModeForSublayer(0,h.ReadOnly)),o.setStencilMode(p.disabled),r(o,t,i),o.clear({color:c.transparent}),o.setColorMode(new d([s.ONE,s.ONE],c.transparent,[!0,!0,!0,!0]));for(var l=!0,f=0;f<n.length;f++){var g=n[f];if(!e.hasRenderableParent(g)){var m=e.getTile(g),v=m.getBucket(i);if(v){var y=t.context.program.get(),b=v.programConfigurations.get(i.id),x=t.useProgram("heatmap",b),_=t.transform,w=_.zoom;(l||x.program!==y)&&(b.setUniforms(t.context,x,i.paint,{zoom:w}),l=!1),s.uniform1f(x.uniforms.u_extrude_scale,u(m,1,w)),s.uniform1f(x.uniforms.u_intensity,i.paint.get("heatmap-intensity")),s.uniformMatrix4fv(x.uniforms.u_matrix,!1,g.posMatrix),x.draw(o,s.TRIANGLES,i.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,b)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),a(t,i))}function r(t,e,i){var n=t.gl;t.activeTexture.set(n.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var r=i.heatmapFbo;if(r)n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{var a=n.createTexture();n.bindTexture(n.TEXTURE_2D,a),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),r=i.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),o(t,e,a,r)}}function o(t,e,i,n){var r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),n.colorAttachment.set(i),t.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,n.colorAttachment.setDirty(),o(t,e,i,n))}function a(t,e){var i=t.context,n=i.gl,r=e.heatmapFbo;if(r){i.activeTexture.set(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r.colorAttachment.get()),i.activeTexture.set(n.TEXTURE1);var o=e.colorRampTexture;o||(o=e.colorRampTexture=new l(i,e.colorRamp,n.RGBA)),o.bind(n.LINEAR,n.CLAMP_TO_EDGE),i.setDepthMode(h.disabled);var a=t.useProgram("heatmapTexture"),u=e.paint.get("heatmap-opacity");n.uniform1f(a.uniforms.u_opacity,u),n.uniform1i(a.uniforms.u_image,0),n.uniform1i(a.uniforms.u_color_ramp,1);var c=s.create();s.ortho(c,0,t.width,t.height,0,0,1),n.uniformMatrix4fv(a.uniforms.u_matrix,!1,c),n.uniform2f(a.uniforms.u_world,n.drawingBufferWidth,n.drawingBufferHeight),t.viewportVAO.bind(t.context,a,t.viewportBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}var s=t("@mapbox/gl-matrix").mat4,l=t("./texture"),u=t("../source/pixels_to_tile_units"),c=t("../style-spec/util/color"),h=t("../gl/depth_mode"),p=t("../gl/stencil_mode"),d=t("../gl/color_mode");e.exports=n},{"../gl/color_mode":65,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style-spec/util/color":153,"./texture":93,"@mapbox/gl-matrix":2}],81:[function(t,e,i){"use strict";function n(t,e,i,n){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var r=t.context;r.setDepthMode(t.depthModeForSublayer(0,d.ReadOnly)),r.setStencilMode(p.disabled),r.setColorMode(t.colorModeForRenderPass());for(var o=0,l=n;o<l.length;o+=1){var u=l[o],c=e.getTile(u);c.needsHillshadePrepare&&"offscreen"===t.renderPass?s(t,c):"translucent"===t.renderPass&&a(t,c,i)}r.viewport.set([0,0,t.width,t.height])}}function r(t,e,i){var n=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(n-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,i.paint.get("hillshade-exaggeration"),n)}function o(t,e){var i=e.toCoordinate(),n=new l(i.column,i.row+1,i.zoom);return[t.transform.coordinateLocation(i).lat,t.transform.coordinateLocation(n).lat]}function a(t,e,i){var n=t.context,a=n.gl,s=e.fbo;if(s){var l=t.useProgram("hillshade"),u=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());r(l,t,i);var c=o(t,e.tileID);n.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.colorAttachment.get()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,u),a.uniform2fv(l.uniforms.u_latrange,c),a.uniform1i(l.uniforms.u_image,0);var h=i.paint.get("hillshade-shadow-color");a.uniform4f(l.uniforms.u_shadow,h.r,h.g,h.b,h.a);var p=i.paint.get("hillshade-highlight-color");a.uniform4f(l.uniforms.u_highlight,p.r,p.g,p.b,p.a);var d=i.paint.get("hillshade-accent-color");if(a.uniform4f(l.uniforms.u_accent,d.r,d.g,d.b,d.a),e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments)l.draw(n,a.TRIANGLES,i.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments);else{var f=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(n,l,f,[]),a.drawArrays(a.TRIANGLE_STRIP,0,f.length)}}}function s(t,e){var i=t.context,n=i.gl;if(e.dem&&e.dem.level){var r=e.dem.level.dim,o=e.dem.getPixels();if(i.activeTexture.set(n.TEXTURE1),i.pixelStoreUnpackPremultiplyAlpha.set(!1),e.demTexture=e.demTexture||t.getTileTexture(e.tileSize),e.demTexture){var a=e.demTexture;a.update(o,!1),a.bind(n.NEAREST,n.CLAMP_TO_EDGE)}else e.demTexture=new u(i,o,n.RGBA,!1),e.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE);i.activeTexture.set(n.TEXTURE0);var s=e.fbo;if(!s){var l=new u(i,{width:r,height:r,data:null},n.RGBA);l.bind(n.LINEAR,n.CLAMP_TO_EDGE),s=e.fbo=i.createFramebuffer(r,r),s.colorAttachment.set(l.texture)}i.bindFramebuffer.set(s.framebuffer),i.viewport.set([0,0,r,r]);var p=h.create();h.ortho(p,0,c,-c,0,0,1),h.translate(p,p,[0,-c,0]);var d=t.useProgram("hillshadePrepare");n.uniformMatrix4fv(d.uniforms.u_matrix,!1,p),n.uniform1f(d.uniforms.u_zoom,e.tileID.overscaledZ),n.uniform2fv(d.uniforms.u_dimension,[2*r,2*r]),n.uniform1i(d.uniforms.u_image,1);var f=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(i,d,f,[]),n.drawArrays(n.TRIANGLE_STRIP,0,f.length),e.needsHillshadePrepare=!1}}var l=t("../geo/coordinate"),u=t("./texture"),c=t("../data/extent"),h=t("@mapbox/gl-matrix").mat4,p=t("../gl/stencil_mode"),d=t("../gl/depth_mode");e.exports=n},{"../data/extent":53,"../geo/coordinate":61,"../gl/depth_mode":67,"../gl/stencil_mode":70,"./texture":93,"@mapbox/gl-matrix":2}],82:[function(t,e,i){"use strict";function n(t,e,i,n,a,s,l,u,c){var h,p,d,f,g=e.context,m=g.gl,v=a.paint.get("line-dasharray"),y=a.paint.get("line-pattern");if(u||c){var b=1/o(i,1,e.transform.tileZoom);if(v){h=e.lineAtlas.getDash(v.from,"round"===a.layout.get("line-cap")),p=e.lineAtlas.getDash(v.to,"round"===a.layout.get("line-cap"));var x=h.width*v.fromScale,_=p.width*v.toScale;m.uniform2f(t.uniforms.u_patternscale_a,b/x,-h.height/2),m.uniform2f(t.uniforms.u_patternscale_b,b/_,-p.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(x,_)*r.devicePixelRatio)/2)}else if(y){if(d=e.imageManager.getPattern(y.from),f=e.imageManager.getPattern(y.to),!d||!f)return;m.uniform2f(t.uniforms.u_pattern_size_a,d.displaySize[0]*y.fromScale/b,f.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,f.displaySize[0]*y.toScale/b,f.displaySize[1]);var w=e.imageManager.getPixelSize(),C=w.width,S=w.height;m.uniform2fv(t.uniforms.u_texsize,[C,S])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}u&&(v?(m.uniform1i(t.uniforms.u_image,0),g.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(g),m.uniform1f(t.uniforms.u_tex_y_a,h.y),m.uniform1f(t.uniforms.u_tex_y_b,p.y),m.uniform1f(t.uniforms.u_mix,v.t)):y&&(m.uniform1i(t.uniforms.u_image,0),g.activeTexture.set(m.TEXTURE0),e.imageManager.bind(g),m.uniform2fv(t.uniforms.u_pattern_tl_a,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,d.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,f.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,f.br),m.uniform1f(t.uniforms.u_fade,y.t))),g.setStencilMode(e.stencilModeForClipping(s));var k=e.translatePosMatrix(s.posMatrix,i,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));m.uniformMatrix4fv(t.uniforms.u_matrix,!1,k),m.uniform1f(t.uniforms.u_ratio,1/o(i,1,e.transform.zoom)),t.draw(g,m.TRIANGLES,a.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,l)}var r=t("../util/browser"),o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode");e.exports=function(t,e,i,r){if("translucent"===t.renderPass&&0!==i.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var s,l=i.paint.get("line-dasharray")?"lineSDF":i.paint.get("line-pattern")?"linePattern":"line",u=!0,c=0,h=r;c<h.length;c+=1){var p=h[c],d=e.getTile(p),f=d.getBucket(i);if(f){var g=f.programConfigurations.get(i.id),m=t.context.program.get(),v=t.useProgram(l,g),y=u||v.program!==m,b=s!==d.tileID.overscaledZ;y&&g.setUniforms(t.context,v,i.paint,{zoom:t.transform.zoom}),n(v,t,d,f,i,p,g,y,b),s=d.tileID.overscaledZ,u=!1}}}}},{"../gl/depth_mode":67,"../source/pixels_to_tile_units":104,"../util/browser":252}],83:[function(t,e,i){"use strict";function n(t,e,i,n){if("translucent"===t.renderPass&&0!==i.paint.get("raster-opacity")){var l=t.context,c=l.gl,d=e.getSource(),f=t.useProgram("raster");l.setStencilMode(h.disabled),l.setColorMode(t.colorModeForRenderPass()),c.uniform1f(f.uniforms.u_brightness_low,i.paint.get("raster-brightness-min")),c.uniform1f(f.uniforms.u_brightness_high,i.paint.get("raster-brightness-max")),c.uniform1f(f.uniforms.u_saturation_factor,a(i.paint.get("raster-saturation"))),c.uniform1f(f.uniforms.u_contrast_factor,o(i.paint.get("raster-contrast"))),c.uniform3fv(f.uniforms.u_spin_weights,r(i.paint.get("raster-hue-rotate"))),c.uniform1f(f.uniforms.u_buffer_scale,1),c.uniform1i(f.uniforms.u_image0,0),c.uniform1i(f.uniforms.u_image1,1);for(var g=n.length&&n[0].overscaledZ,m=0,v=n;m<v.length;m+=1){var y=v[m];l.setDepthMode(t.depthModeForSublayer(y.overscaledZ-g,1===i.paint.get("raster-opacity")?p.ReadWrite:p.ReadOnly,c.LESS));var b=e.getTile(y),x=t.transform.calculatePosMatrix(y.toUnwrapped(),!0);b.registerFadeDuration(i.paint.get("raster-fade-duration")),c.uniformMatrix4fv(f.uniforms.u_matrix,!1,x);var _=e.findLoadedParent(y,0,{}),w=s(b,_,e,i,t.transform),C=void 0,S=void 0;if(l.activeTexture.set(c.TEXTURE0),b.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),l.activeTexture.set(c.TEXTURE1),_?(_.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),C=Math.pow(2,_.tileID.overscaledZ-b.tileID.overscaledZ),S=[b.tileID.canonical.x*C%1,b.tileID.canonical.y*C%1]):b.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),c.uniform2fv(f.uniforms.u_tl_parent,S||[0,0]),c.uniform1f(f.uniforms.u_scale_parent,C||1),c.uniform1f(f.uniforms.u_fade_t,w.mix),c.uniform1f(f.uniforms.u_opacity,w.opacity*i.paint.get("raster-opacity")),d instanceof u){var k=d.boundsBuffer;d.boundsVAO.bind(l,f,k,[]),c.drawArrays(c.TRIANGLE_STRIP,0,k.length)}else if(b.maskedBoundsBuffer&&b.maskedIndexBuffer&&b.segments)f.draw(l,c.TRIANGLES,i.id,b.maskedBoundsBuffer,b.maskedIndexBuffer,b.segments);else{var A=t.rasterBoundsBuffer,T=t.rasterBoundsVAO;T.bind(l,f,A,[]),c.drawArrays(c.TRIANGLE_STRIP,0,A.length)}}}}function r(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,i,n,r){var o=n.paint.get("raster-fade-duration");if(o>0){var a=c.now(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,h=i.getSource(),p=r.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!e||Math.abs(e.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),f=d&&t.refreshedUponExpiration?1:l.clamp(d?s:1-u,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util"),u=t("../source/image_source"),c=t("../util/browser"),h=t("../gl/stencil_mode"),p=t("../gl/depth_mode");e.exports=n},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/image_source":102,"../util/browser":252,"../util/util":275}],84:[function(t,e,i){"use strict";function n(t,e,i,n){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(g.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==i.paint.get("icon-opacity").constantOr(1)&&r(t,e,i,n,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright")),0!==i.paint.get("text-opacity").constantOr(1)&&r(t,e,i,n,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&l(t,e,i,n)}}function r(t,e,i,n,r,s,l,h,p,f){var g=t.context,v=g.gl,y=t.transform,b="map"===h,x="map"===p,_=b&&"line"===i.layout.get("symbol-placement"),w=b&&!x&&!_,C=x;g.setDepthMode(C?t.depthModeForSublayer(0,m.ReadOnly):m.disabled);for(var S,k=0,A=n;k<A.length;k+=1){var T=A[k],M=e.getTile(T),E=M.getBucket(i);if(E){var P=r?E.text:E.icon;if(P&&P.segments.get().length){var O=P.programConfigurations.get(i.id),I=r||E.sdfIcons,L=r?E.textSizeData:E.iconSizeData;if(S||(S=t.useProgram(I?"symbolSDF":"symbolIcon",O),O.setUniforms(t.context,S,i.paint,{zoom:t.transform.zoom}),o(S,t,i,r,w,x,L)),g.activeTexture.set(v.TEXTURE0),v.uniform1i(S.uniforms.u_texture,0),r)M.glyphAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),v.uniform2fv(S.uniforms.u_texsize,M.glyphAtlasTexture.size);else{var R=1!==i.layout.get("icon-size").constantOr(0)||E.iconsNeedLinear,D=x||0!==y.pitch;M.iconAtlasTexture.bind(I||t.options.rotating||t.options.zooming||R||D?v.LINEAR:v.NEAREST,v.CLAMP_TO_EDGE),v.uniform2fv(S.uniforms.u_texsize,M.iconAtlasTexture.size)}v.uniformMatrix4fv(S.uniforms.u_matrix,!1,t.translatePosMatrix(T.posMatrix,M,s,l));var z=u(M,1,t.transform.zoom),B=c.getLabelPlaneMatrix(T.posMatrix,x,b,t.transform,z),j=c.getGlCoordMatrix(T.posMatrix,x,b,t.transform,z);v.uniformMatrix4fv(S.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(j,M,s,l,!0)),_?(v.uniformMatrix4fv(S.uniforms.u_label_plane_matrix,!1,d),c.updateLineLabels(E,T.posMatrix,t,r,B,j,x,f)):v.uniformMatrix4fv(S.uniforms.u_label_plane_matrix,!1,B),v.uniform1f(S.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),a(S,O,t,i,M,P,r,I,x)}}}}function o(t,e,i,n,r,o,a){var s=e.context.gl,l=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(t.uniforms.u_is_text,n?1:0),s.uniform1f(t.uniforms.u_pitch,l.pitch/360*2*Math.PI);var u="constant"===a.functionType||"source"===a.functionType,c="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,u?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,c?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var p=h.evaluateSizeForZoom(a,l.zoom,f.properties[n?"text-size":"icon-size"]);void 0!==p.uSizeT&&s.uniform1f(t.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&s.uniform1f(t.uniforms.u_size,p.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,l.width/l.height),s.uniform1i(t.uniforms.u_rotate_symbol,r?1:0)}function a(t,e,i,n,r,o,a,l,u){var c=i.context,h=c.gl,p=i.transform;if(l){var d=0!==n.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),f=u?Math.cos(p._pitch)*p.cameraToCenterDistance:1;h.uniform1f(t.uniforms.u_gamma_scale,f),d&&(h.uniform1f(t.uniforms.u_is_halo,1),s(o,n,c,t)),h.uniform1f(t.uniforms.u_is_halo,0)}s(o,n,c,t)}function s(t,e,i,n){n.draw(i,i.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}var l=t("./draw_collision_debug"),u=t("../source/pixels_to_tile_units"),c=t("../symbol/projection"),h=t("../symbol/symbol_size"),p=t("@mapbox/gl-matrix").mat4,d=p.identity(new Float32Array(16)),f=t("../style/style_layer/symbol_style_layer_properties").layout,g=t("../gl/stencil_mode"),m=t("../gl/depth_mode");e.exports=n},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/projection":224,"../symbol/symbol_size":228,"./draw_collision_debug":76,"@mapbox/gl-matrix":2}],85:[function(t,e,i){"use strict";function n(t){var e=new a({width:0,height:0}),i={},n=new r(0,0,{autoResize:!0});for(var o in t){var l=t[o],u=i[o]={};for(var c in l){var h=l[+c];if(h&&0!==h.bitmap.width&&0!==h.bitmap.height){var p=n.packOne(h.bitmap.width+2*s,h.bitmap.height+2*s);e.resize({width:n.w,height:n.h}),a.copy(h.bitmap,e,{x:0,y:0},{x:p.x+s,y:p.y+s},h.bitmap),u[c]={rect:p,metrics:h.metrics}}}}return n.shrink(),e.resize({width:n.w,height:n.h}),{image:e,positions:i}}var r=t("@mapbox/shelf-pack"),o=t("../util/image"),a=o.AlphaImage,s=1;e.exports={makeGlyphAtlas:n}},{"../util/image":263,"@mapbox/shelf-pack":5}],86:[function(t,e,i){"use strict";var n=t("../style/load_glyph_range"),r=t("@mapbox/tiny-sdf"),o=t("../util/is_char_in_unicode_block"),a=t("../util/util"),s=a.asyncAll,l=t("../util/image"),u=l.AlphaImage,c=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};c.prototype.setURL=function(t){this.url=t},c.prototype.getGlyphs=function(t,e){var i=this,r=[];for(var o in t)for(var a=0,l=t[o];a<l.length;a+=1){var u=l[a];r.push({stack:o,id:u})}s(r,function(t,e){var r=t.stack,o=t.id,a=i.entries[r];a||(a=i.entries[r]={glyphs:{},requests:{}});var s=a.glyphs[o];if(void 0===s)if(s=i._tinySDF(a,r,o))e(null,{stack:r,id:o,glyph:s});else{var l=Math.floor(o/256);if(256*l>65535)e(new Error("glyphs > 65535 not supported"));else{var u=a.requests[l];u||(u=a.requests[l]=[],n(r,l,i.url,i.requestTransform,function(t,e){if(e)for(var i in e)a.glyphs[+i]=e[+i];for(var n=0,r=u;n<r.length;n+=1)(0,r[n])(t,e);delete a.requests[l]})),u.push(function(t,i){t?e(t):i&&e(null,{stack:r,id:o,glyph:i[o]||null})})}}else e(null,{stack:r,id:o,glyph:s})},function(t,i){if(t)e(t);else if(i){for(var n={},r=0,o=i;r<o.length;r+=1){var a=o[r],s=a.stack,l=a.id,u=a.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}e(null,n)}})},c.prototype._tinySDF=function(t,e,i){var n=this.localIdeographFontFamily;if(n&&(o["CJK Unified Ideographs"](i)||o["Hangul Syllables"](i))){var a=t.tinySDF;if(!a){var s="400";/bold/i.test(e)?s="900":/medium/i.test(e)?s="500":/light/i.test(e)&&(s="200"),a=t.tinySDF=new r(24,3,8,.25,n,s)}return{id:i,bitmap:new u({width:30,height:30},a.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=c},{"../style/load_glyph_range":184,"../util/image":263,"../util/is_char_in_unicode_block":265,"../util/util":275,"@mapbox/tiny-sdf":6}],87:[function(t,e,i){"use strict";function n(t,e){var i=e.pixelRatio,n={x:t.x+l,y:t.y+l,w:t.w-2*l,h:t.h-2*l};return{pixelRatio:i,textureRect:n,tl:[n.x,n.y],br:[n.x+n.w,n.y+n.h],displaySize:[n.w/i,n.h/i]}}function r(t){var e=new s({width:0,height:0}),i={},r=new o(0,0,{autoResize:!0});for(var a in t){var u=t[a],c=r.packOne(u.data.width+2*l,u.data.height+2*l);e.resize({width:r.w,height:r.h}),s.copy(u.data,e,{x:0,y:0},{x:c.x+l,y:c.y+l},u.data),i[a]=n(c,u)}return r.shrink(),e.resize({width:r.w,height:r.h}),{image:e,positions:i}}var o=t("@mapbox/shelf-pack"),a=t("../util/image"),s=a.RGBAImage,l=1;e.exports={imagePosition:n,makeImageAtlas:r}},{"../util/image":263,"@mapbox/shelf-pack":5}],88:[function(t,e,i){"use strict";var n=t("@mapbox/shelf-pack"),r=t("../util/image"),o=r.RGBAImage,a=t("./image_atlas"),s=a.imagePosition,l=t("./texture"),u=1,c=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new n(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new o({width:64,height:64}),this.dirty=!0};c.prototype.isLoaded=function(){return this.loaded},c.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var i=0,n=e.requestors;i<n.length;i+=1){var r=n[i],o=r.ids,a=r.callback;e._notify(o,a)}this.requestors=[]}},c.prototype.getImage=function(t){return this.images[t]},c.prototype.addImage=function(t,e){this.images[t]=e},c.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},c.prototype.getImages=function(t,e){var i=this,n=!0;if(!this.isLoaded())for(var r=0,o=t;r<o.length;r+=1){var a=o[r];i.images[a]||(n=!1)}this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},c.prototype._notify=function(t,e){for(var i=this,n={},r=0,o=t;r<o.length;r+=1){var a=o[r],s=i.images[a];s&&(n[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf})}e(null,n)},c.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},c.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var i=this.getImage(t);if(!i)return null;var n=i.data.width+2*u,r=i.data.height+2*u,a=this.shelfPack.packOne(n,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var l=i.data,c=this.atlasImage,h=a.x+u,p=a.y+u,d=l.width,f=l.height;o.copy(l,c,{x:0,y:0},{x:h,y:p},{width:d,height:f}),o.copy(l,c,{x:0,y:f-1},{x:h,y:p-1},{width:d,height:1}),o.copy(l,c,{x:0,y:0},{x:h,y:p+f},{width:d,height:1}),o.copy(l,c,{x:d-1,y:0},{x:h-1,y:p},{width:1,height:f}),o.copy(l,c,{x:0,y:0},{x:h+d,y:p},{width:1,height:f}),this.dirty=!0;var g=s(a,i);return this.patterns[t]={bin:a,position:g},g},c.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)},e.exports=c},{"../util/image":263,"./image_atlas":87,"./texture":93,"@mapbox/shelf-pack":5}],89:[function(t,e,i){"use strict";var n=t("../util/util"),r=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};r.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},r.prototype.addDash=function(t,e){var i=this,r=e?7:0,o=2*r+1;if(this.nextRow+o>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var l=this.width/a,u=l/2,c=t.length%2==1,h=-r;h<=r;h++)for(var p=i.nextRow+r+h,d=i.width*p,f=c?-t[t.length-1]:0,g=t[0],m=1,v=0;v<this.width;v++){for(;g<v/l;)f=g,g+=t[m],c&&m===t.length-1&&(g+=t[0]),m++;var y=Math.abs(v-f*l),b=Math.abs(v-g*l),x=Math.min(y,b),_=m%2==1,w=void 0;if(e){var C=r?h/r*(u+1):0;if(_){var S=u-Math.abs(C);w=Math.sqrt(x*x+S*S)}else w=u-Math.sqrt(x*x+C*C)}else w=(_?1:-1)*x;i.data[3+4*(d+v)]=Math.max(0,Math.min(255,w+128))}var k={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=o,this.dirty=!0,k},r.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},e.exports=r},{"../util/util":275}],90:[function(t,e,i){"use strict";var n=t("../util/browser"),r=t("@mapbox/gl-matrix").mat4,o=t("../source/source_cache"),a=t("../data/extent"),s=t("../source/pixels_to_tile_units"),l=t("../util/util"),u=t("./vertex_array_object"),c=t("../data/array_types"),h=c.RasterBoundsArray,p=c.PosArray,d=t("../data/raster_bounds_attributes"),f=t("../data/pos_attributes"),g=t("../data/program_configuration"),m=g.ProgramConfiguration,v=t("../symbol/cross_tile_symbol_index"),y=t("../shaders"),b=t("./program"),x=t("../gl/context"),_=t("../gl/depth_mode"),w=t("../gl/stencil_mode"),C=t("../gl/color_mode"),S=(t("./texture"),t("./tile_mask")),k=t("../style-spec/util/color"),A={symbol:t("./draw_symbol"),circle:t("./draw_circle"),heatmap:t("./draw_heatmap"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),hillshade:t("./draw_hillshade"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},T=function(t,e){this.context=new x(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new m,this.crossTileSymbolIndex=new v};T.prototype.resize=function(t,e){var i=this,r=this.context.gl;if(this.width=t*n.devicePixelRatio,this.height=e*n.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,a=i.style._order;o<a.length;o+=1){var s=a[o];i.style._layers[s].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},T.prototype.setup=function(){var t=this.context,e=new p;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=t.createVertexBuffer(e,f.members),this.tileExtentVAO=new u,this.tileExtentPatternVAO=new u;var i=new p;i.emplaceBack(0,0),i.emplaceBack(a,0),i.emplaceBack(a,a),i.emplaceBack(0,a),i.emplaceBack(0,0),this.debugBuffer=t.createVertexBuffer(i,f.members),this.debugVAO=new u;var n=new h;n.emplaceBack(0,0,0,0),n.emplaceBack(a,0,a,0),n.emplaceBack(0,a,0,a),n.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=t.createVertexBuffer(n,d.members),this.rasterBoundsVAO=new u;var r=new p;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,f.members),this.viewportVAO=new u},T.prototype.clearStencil=function(){var t=this.context,e=t.gl;t.setColorMode(C.disabled),t.setDepthMode(_.disabled),t.setStencilMode(new w({func:e.ALWAYS,mask:0},0,255,e.ZERO,e.ZERO,e.ZERO));var i=r.create();r.ortho(i,0,this.width,this.height,0,0,1),r.scale(i,i,[e.drawingBufferWidth,e.drawingBufferHeight,0]);var n=this.useProgram("clippingMask");e.uniformMatrix4fv(n.uniforms.u_matrix,!1,i),this.viewportVAO.bind(t,n,this.viewportBuffer,[]),e.drawArrays(e.TRIANGLE_STRIP,0,4)},T.prototype._renderTileClippingMasks=function(t){var e=this,i=this.context,n=i.gl;i.setColorMode(C.disabled),i.setDepthMode(_.disabled);var r=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=e._tileClippingMaskIDs[s.key]=r++;i.setStencilMode(new w({func:n.ALWAYS,mask:0},l,255,n.KEEP,n.KEEP,n.REPLACE));var u=e.useProgram("clippingMask");n.uniformMatrix4fv(u.uniforms.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(e.context,u,e.tileExtentBuffer,[]),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}},T.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new w({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},T.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new C([t.CONSTANT_COLOR,t.ONE],new k(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?C.unblended:C.alphaBlended},T.prototype.depthModeForSublayer=function(t,e,i){var n=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,r=n-1+this.depthRange;return new _(i||this.context.gl.LEQUAL,e,[r,n])},T.prototype.render=function(t,e){var i=this;for(var r in this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(n.now()),t.sourceCaches){var o=i.style.sourceCaches[r];o.used&&o.prepare(i.context)}var a=this.style._order,s=l.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type});for(var u in s)!function(t){var e=s[t],n=e.getVisibleCoordinates(),r=n.map(function(t){return e.getTile(t)});S(r,i.context)}(u);this.renderPass="offscreen";var c,h=[];this.depthRboNeedsClear=!0;for(var p=0;p<a.length;p++){var d=i.style._layers[a[p]];d.hasOffscreenPass()&&!d.isHidden(i.transform.zoom)&&(d.source!==(c&&c.id)&&(c=i.style.sourceCaches[d.source],h=[],c&&(h=c.getVisibleCoordinates(),h.reverse())),h.length&&i.renderLayer(i,c,d,h))}this.context.bindFramebuffer.set(null),this.context.clear({color:e.showOverdrawInspector?k.black:k.transparent,depth:1}),this._showOverdrawInspector=e.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var f,g=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var m=i.style._layers[a[i.currentLayer]];m.source!==(f&&f.id)&&(f=i.style.sourceCaches[m.source],g=[],f&&(i.clearStencil(),g=f.getVisibleCoordinates(),f.getSource().isTileClipped&&i._renderTileClippingMasks(g))),i.renderLayer(i,f,m,g)}this.renderPass="translucent";var v,y=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var b=i.style._layers[a[i.currentLayer]];b.source!==(v&&v.id)&&(v=i.style.sourceCaches[b.source],y=[],v&&(i.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&i._renderTileClippingMasks(y)),y.reverse()),i.renderLayer(i,v,b,y)}if(this.options.showTileBoundaries){var x=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];x&&A.debug(this,x,x.getVisibleCoordinates())}},T.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},T.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,A[i.type](t,e,i,n))},T.prototype.translatePosMatrix=function(t,e,i,n,o){if(!i[0]&&!i[1])return t;var a=o?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(a){var l=Math.sin(a),u=Math.cos(a);i=[i[0]*u-i[1]*l,i[0]*l+i[1]*u]}var c=[o?i[0]:s(e,i[0],this.transform.zoom),o?i[1]:s(e,i[1],this.transform.zoom),0],h=new Float32Array(16);return r.translate(h,t,c),h},T.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},T.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},T.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new b(this.context,y[t],e,this._showOverdrawInspector)),this.cache[i]},T.prototype.useProgram=function(t,e){var i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(i.program),i},e.exports=T},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../data/program_configuration":58,"../data/raster_bounds_attributes":59,"../gl/color_mode":65,"../gl/context":66,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":111,"../style-spec/util/color":153,"../symbol/cross_tile_symbol_index":218,"../util/browser":252,"../util/util":275,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_hillshade":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./program":92,"./texture":93,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],91:[function(t,e,i){"use strict";var n=t("../source/pixels_to_tile_units");i.isPatternMissing=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},i.prepare=function(t,e,i){var n=e.context,r=n.gl,o=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);r.uniform1i(i.uniforms.u_image,0),r.uniform2fv(i.uniforms.u_pattern_tl_a,o.tl),r.uniform2fv(i.uniforms.u_pattern_br_a,o.br),r.uniform2fv(i.uniforms.u_pattern_tl_b,a.tl),r.uniform2fv(i.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,u=s.height;r.uniform2fv(i.uniforms.u_texsize,[l,u]),r.uniform1f(i.uniforms.u_mix,t.t),r.uniform2fv(i.uniforms.u_pattern_size_a,o.displaySize),r.uniform2fv(i.uniforms.u_pattern_size_b,a.displaySize),r.uniform1f(i.uniforms.u_scale_a,t.fromScale),r.uniform1f(i.uniforms.u_scale_b,t.toScale),n.activeTexture.set(r.TEXTURE0),e.imageManager.bind(e.context)},i.setTile=function(t,e,i){var r=e.context.gl;r.uniform1f(i.uniforms.u_tile_units_to_pixels,1/n(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=a*(t.tileID.canonical.x+t.tileID.wrap*o),l=a*t.tileID.canonical.y;r.uniform2f(i.uniforms.u_pixel_coord_upper,s>>16,l>>16),r.uniform2f(i.uniforms.u_pixel_coord_lower,65535&s,65535&l)}},{"../source/pixels_to_tile_units":104}],92:[function(t,e,i){"use strict";var n=t("../util/browser"),r=t("../shaders"),o=t("../data/program_configuration"),a=(o.ProgramConfiguration,t("./vertex_array_object")),s=(t("../gl/context"),function(t,e,i,o){var a=this,s=t.gl;this.program=s.createProgram();var l=i.defines().concat("#define DEVICE_PIXEL_RATIO "+n.devicePixelRatio.toFixed(1));o&&l.push("#define OVERDRAW_INSPECTOR;");var u=l.concat(r.prelude.fragmentSource,e.fragmentSource).join("\n"),c=l.concat(r.prelude.vertexSource,e.vertexSource).join("\n"),h=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(h,u),s.compileShader(h),s.attachShader(this.program,h);var p=s.createShader(s.VERTEX_SHADER);s.shaderSource(p,c),s.compileShader(p),s.attachShader(this.program,p);for(var d=i.layoutAttributes||[],f=0;f<d.length;f++)s.bindAttribLocation(a.program,f,d[f].name);s.linkProgram(this.program),this.numAttributes=s.getProgramParameter(this.program,s.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var g=0;g<this.numAttributes;g++){var m=s.getActiveAttrib(a.program,g);m&&(a.attributes[m.name]=s.getAttribLocation(a.program,m.name))}for(var v=s.getProgramParameter(this.program,s.ACTIVE_UNIFORMS),y=0;y<v;y++){var b=s.getActiveUniform(a.program,y);b&&(a.uniforms[b.name]=s.getUniformLocation(a.program,b.name))}});s.prototype.draw=function(t,e,i,n,r,o,s,l,u){for(var c,h=this,p=t.gl,d=(c={},c[p.LINES]=2,c[p.TRIANGLES]=3,c)[e],f=0,g=o.get();f<g.length;f+=1){var m=g[f],v=m.vaos||(m.vaos={});(v[i]||(v[i]=new a)).bind(t,h,n,s?s.getPaintVertexBuffers():[],r,m.vertexOffset,l,u),p.drawElements(e,m.primitiveLength*d,p.UNSIGNED_SHORT,m.primitiveOffset*d*2)}},e.exports=s},{"../data/program_configuration":58,"../gl/context":66,"../shaders":97,"../util/browser":252,"./vertex_array_object":95}],93:[function(t,e,i){"use strict";var n=t("../util/window"),r=n.HTMLImageElement,o=n.HTMLCanvasElement,a=n.HTMLVideoElement,s=n.ImageData,l=function(t,e,i,n){this.context=t;var r=e.width,o=e.height;this.size=[r,o],this.format=i,this.texture=t.gl.createTexture(),this.update(e,n)};l.prototype.update=function(t,e){var i=t.width,n=t.height;this.size=[i,n];var l=this,u=l.context,c=u.gl;c.bindTexture(c.TEXTURE_2D,this.texture),u.pixelStoreUnpack.set(1),this.format===c.RGBA&&!1!==e&&u.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof r||t instanceof o||t instanceof a||t instanceof s?c.texImage2D(c.TEXTURE_2D,0,this.format,this.format,c.UNSIGNED_BYTE,t):c.texImage2D(c.TEXTURE_2D,0,this.format,i,n,0,this.format,c.UNSIGNED_BYTE,t.data)},l.prototype.bind=function(t,e,i){var n=this,r=n.context,o=r.gl;o.bindTexture(o.TEXTURE_2D,this.texture),t!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,e),this.wrap=e)},l.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},e.exports=l},{"../util/window":254}],94:[function(t,e,i){"use strict";function n(t,e,i,r,o){for(var s=0;s<i.length;s++){var l=i[s];if(r.isLessThan(l.tileID))break;if(e.key===l.tileID.key)return;if(l.tileID.isChildOf(e)){for(var u=e.children(1/0),c=0;c<u.length;c++)n(t,u[c],i.slice(s),r,o);return}}var h=e.overscaledZ-t.overscaledZ,p=new a(h,e.canonical.x-(t.canonical.x<<h),e.canonical.y-(t.canonical.y<<h));o[p.key]=o[p.key]||p}var r=t("../source/tile_id"),o=r.OverscaledTileID,a=r.CanonicalTileID;e.exports=function(t,e){for(var i=t.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),r=0;r<i.length;r++){var a={},s=i[r],l=i.slice(r+1);n(s.tileID.wrapped(),s.tileID,l,new o(0,s.tileID.wrap+1,0,0,0),a),s.setMask(a,e)}}},{"../source/tile_id":114}],95:[function(t,e,i){"use strict";var n=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};n.prototype.bind=function(t,e,i,n,r,o,a,s){var l=this;this.context=t;for(var u=this.boundPaintVertexBuffers.length!==n.length,c=0;!u&&c<n.length;c++)l.boundPaintVertexBuffers[c]!==n[c]&&(u=!0);var h=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==i||u||this.boundIndexBuffer!==r||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||h?this.freshBind(e,i,n,r,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind())},n.prototype.freshBind=function(t,e,i,n,r,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var h=l;h<s;h++)c.disableVertexAttribArray(h)}e.enableAttributes(c,t);for(var p=0,d=i;p<d.length;p+=1)d[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,r);for(var f=0,g=i;f<g.length;f+=1){var m=g[f];m.bind(),m.setVertexAttribPointers(c,t,r)}o&&(o.bind(),o.setVertexAttribPointers(c,t,r)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,r)),u.currentNumAttributes=l},n.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=n},{}],96:[function(t,e,i){"use strict";var n=t("../util/util");i.packUint8ToFloat=function(t,e){return t=n.clamp(Math.floor(t),0,255),e=n.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":275}],97:[function(t,e,i){"use strict";var n={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=function(t){var e=n[t],i={};e.fragmentSource=e.fragmentSource.replace(r,function(t,e,n,r,o){return i[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+r+" "+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(r,function(t,e,n,r,o){var a="float"===r?"vec2":"vec4";return i[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+r+" "+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+r+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n"})};for(var a in n)o(a);e.exports=n},{}],98:[function(t,e,i){"use strict";var n=t("./image_source"),r=t("../util/window"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,i,n,r){t.call(this,e,i,n,r),this.options=i,this.animate=void 0===i.animate||i.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){this.canvas=this.canvas||r.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero.")):(this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading())},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.prepare=function(){var t=this,e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var i=this.map.painter.context,n=i.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=i.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?e?this.texture.update(this.canvas):this._playing&&(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.canvas)):(this.texture=new s(i,this.canvas,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),t.tiles){var l=t.tiles[r];"loaded"!==l.state&&(l.state="loaded",l.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this._playing},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,i=[t.canvas.width,t.canvas.height];e<i.length;e+=1){var n=i[e];if(isNaN(n)||n<=0)return!0}return!1},e}(n);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/window":254,"./image_source":102}],99:[function(t,e,i){"use strict";function n(t){var e=a.document.createElement("a");return e.href=t,e.href}var r=t("../util/evented"),o=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,i,n,r){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=n,this.setEventedParent(r),this._data=i.data,this._options=o.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type);var a=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(i.clusterRadius||50)*a,log:!1}},i.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)t.fire("error",{error:e});else{var i={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(i.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire("data",i)}})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});var i={dataType:"source",sourceDataType:"content"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire("data",i)}),this},e.prototype._updateWorkerData=function(t){var e=this,i=o.extend({},this.workerOptions),r=this._data;"string"==typeof r?(i.request=this.map._transformRequest(n(r),l.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",i,function(i,n){e._loaded=!0,n&&n.resourceTiming&&n.resourceTiming[e.id]&&(e._resourceTiming=n.resourceTiming[e.id].slice(0)),t(i)},this.workerID)},e.prototype.loadTile=function(t,e){var i=this,n=void 0===t.workerID||"expired"===t.state?"loadTile":"reloadTile",r={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,r,function(r,o){return t.unloadVectorData(),t.aborted?e(null):r?e(r):(t.loadVectorData(o,i.map.painter,"reloadTile"===n),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},e.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},e.prototype.hasTransition=function(){return!1},e}(r);e.exports=c},{"../data/extent":53,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"../util/window":254}],100:[function(t,e,i){"use strict";function n(t,e){var i=t.source,n=t.tileID.canonical;if(!this._geoJSONIndexes[i])return e(null,null);var r=this._geoJSONIndexes[i].getTile(n.z,n.x,n.y);if(!r)return e(null,null);var o=new s(r.features),a=l(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:o,rawData:a.buffer})}var r=t("../util/ajax"),o=t("../util/performance"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),h=t("./vector_tile_worker_source"),p=function(t){function e(e,i,r){t.call(this,e,i,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var i=this;this.loadGeoJSON(t,function(n,r){if(n||!r)return e(n);if("object"!=typeof r)return e(new Error("Input data is not a valid GeoJSON object."));a(r,!0);try{i._geoJSONIndexes[t.source]=t.cluster?u(t.superclusterOptions).load(r.features):c(r,t.geojsonVtOptions)}catch(n){return e(n)}i.loaded[t.source]={};var s={};if(t.request&&t.request.collectResourceTiming){var l=o.getEntriesByName(t.request.url);l&&(s.resourceTiming={},s.resourceTiming[t.source]=JSON.parse(JSON.stringify(l)))}e(null,s)})},e.prototype.reloadTile=function(e,i){var n=this.loaded[e.source],r=e.uid;return n&&n[r]?t.prototype.reloadTile.call(this,e,i):this.loadTile(e,i)},e.prototype.loadGeoJSON=function(t,e){if(t.request)r.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t,e){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source],e()},e}(h);e.exports=p},{"../util/ajax":251,"../util/performance":268,"./geojson_wrapper":101,"./vector_tile_worker_source":116,"geojson-rewind":15,"geojson-vt":19,supercluster:32,"vt-pbf":34}],101:[function(t,e,i){"use strict";var n=t("@mapbox/point-geometry"),r=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),a=function(t){this._feature=t,this.extent=o,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};a.prototype.loadGeometry=function(){var t=this;if(1===this._feature.type){for(var e=[],i=0,r=t._feature.geometry;i<r.length;i+=1){var o=r[i];e.push([new n(o[0],o[1])])}return e}for(var a=[],s=0,l=t._feature.geometry;s<l.length;s+=1){for(var u=l[s],c=[],h=0,p=u;h<p.length;h+=1){var d=p[h];c.push(new n(d[0],d[1]))}a.push(c)}return a},a.prototype.toGeoJSON=function(t,e,i){return r.call(this,t,e,i)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new a(this._features[t])},e.exports=s},{"../data/extent":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],102:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("./tile_id"),o=r.CanonicalTileID,a=t("../geo/lng_lat"),s=t("@mapbox/point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../util/browser"),h=t("../data/extent"),p=t("../data/array_types"),d=p.RasterBoundsArray,f=t("../data/raster_bounds_attributes"),g=t("../render/vertex_array_object"),m=t("../render/texture"),v=function(t){function e(e,i,n,r){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,u.getImage(this.map._transformRequest(this.url,u.ResourceType.Image),function(e,i){e?t.fire("error",{error:e}):i&&(t.image=c.getImageData(i),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=n.getCoordinatesCenter(i);r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.tileID=new o(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom;var l=i.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*h),Math.round((e.row-r.row)*h))});return this._boundsArray=new d,this._boundsArray.emplaceBack(l[0].x,l[0].y,0,0),this._boundsArray.emplaceBack(l[1].x,l[1].y,h,0),this._boundsArray.emplaceBack(l[3].x,l[3].y,0,h),this._boundsArray.emplaceBack(l[2].x,l[2].y,h,h),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){var t=this;if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,f.members)),this.boundsVAO||(this.boundsVAO=new g),this.texture||(this.texture=new m(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),t.tiles){var r=t.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=t.texture)}}},e.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return!1},e}(l);e.exports=v},{"../data/array_types":39,"../data/extent":53,"../data/raster_bounds_attributes":59,"../geo/lng_lat":62,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"./tile_id":114,"@mapbox/point-geometry":4}],103:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,i){var s=function(t,e){if(t)return i(t);if(e){var r=n.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(r.vectorLayers=e.vector_layers,r.vectorLayerIds=r.vectorLayers.map(function(t){return t.id})),i(null,r)}};t.url?r.getJSON(e(a(t.url),r.ResourceType.Source),s):o.frame(function(){return s(null,t)})}},{"../util/ajax":251,"../util/browser":252,"../util/mapbox":267,"../util/util":275}],104:[function(t,e,i){"use strict";var n=t("../data/extent");e.exports=function(t,e,i){return e*(n/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}},{"../data/extent":53}],105:[function(t,e,i){"use strict";function n(t,e){var i=t.tileID,n=e.tileID;return i.overscaledZ-n.overscaledZ||i.canonical.y-n.canonical.y||i.wrap-n.wrap||i.canonical.x-n.canonical.x}function r(t){for(var e={},i={},n=0,r=t;n<r.length;n+=1){var o=r[n],a=o.queryResults,s=o.wrappedTileID,l=i[s]=i[s]||{};for(var u in a)for(var c=a[u],h=l[u]=l[u]||{},p=e[u]=e[u]||[],d=0,f=c;d<f.length;d+=1){var g=f[d];h[g.featureIndex]||(h[g.featureIndex]=!0,p.push(g.feature))}}return e}i.rendered=function(t,e,i,o,a,s,l){var u=t.tilesIn(i);u.sort(n);for(var c=[],h=0,p=u;h<p.length;h+=1){var d=p[h];c.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,d.queryGeometry,d.scale,o,s,t.id,l)})}return r(c)},i.source=function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],r={},o=0;o<i.length;o++){var a=i[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(n,e))}return n}},{}],106:[function(t,e,i){"use strict";var n=t("../util/ajax"),r=t("../util/util"),o=(t("../util/evented"),t("../util/mapbox").normalizeTileURL),a=t("../util/browser"),s=t("./tile_id"),l=s.OverscaledTileID,u=t("./raster_tile_source"),c=function(t){function e(e,i,n,o){t.call(this,e,i,n,o),this.type="raster-dem",this.maxzoom=22,this._options=r.extend({},i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},e.prototype.loadTile=function(t,e){function i(i,n){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(i)t.state="errored",e(i);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData(n),delete n.cacheControl,delete n.expires;var o=a.getImageData(n),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",s,r.bind(this)))}}function r(i,n){i&&(t.state="errored",e(i)),n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",e(null))}var s=o(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=n.getImage(this.map._transformRequest(s,n.ResourceType.Tile),i.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},e.prototype._getNeighboringTiles=function(t){var e=t.canonical,i=Math.pow(2,e.z),n=(e.x-1+i)%i,r=0===e.x?t.wrap-1:t.wrap,o=(e.x+1+i)%i,a=e.x+1===i?t.wrap+1:t.wrap,s={};return s[new l(t.overscaledZ,r,e.z,n,e.y).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y).key]={backfilled:!1},e.y>0&&(s[new l(t.overscaledZ,r,e.z,n,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y-1).key]={backfilled:!1}),e.y+1<i&&(s[new l(t.overscaledZ,r,e.z,n,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y+1).key]={backfilled:!1}),s},e.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},e}(u);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./raster_tile_source":108,"./tile_id":114}],107:[function(t,e,i){"use strict";var n=t("../data/dem_data"),r=n.DEMData,o=function(){this.loading={},this.loaded={}};o.prototype.loadTile=function(t,e){var i=t.source,n=t.uid;this.loading[i]||(this.loading[i]={});var o=new r(n);this.loading[i][n]=o,o.loadFromImage(t.rawImageData),delete this.loading[i][n],this.loaded[i]=this.loaded[i]||{},this.loaded[i][n]=o,e(null,o)},o.prototype.removeTile=function(t){var e=this.loaded[t.source],i=t.uid;e&&e[i]&&delete e[i]},e.exports=o},{"../data/dem_data":52}],108:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../util/ajax"),o=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,l=t("./tile_bounds"),u=t("../render/texture"),c=function(t){function e(e,i,r,o){t.call(this),this.id=e,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({},i),n.extend(this,n.pick(i,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(e,i){e?t.fire("error",e):i&&(n.extend(t,i),i.bounds&&(t.tileBounds=new l(i.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return n.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.loadTile=function(t,e){var i=this,n=s(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=r.getImage(this.map._transformRequest(n,r.ResourceType.Tile),function(n,r){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(n)t.state="errored",e(n);else if(r){i.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=i.map.painter.context,a=o.gl;t.texture=i.map.painter.getTileTexture(r.width),t.texture?(t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,r)):(t.texture=new u(o,r,a.RGBA),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},e.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},e.prototype.hasTransition=function(){return!1},e}(o);e.exports=c},{"../render/texture":93,"../util/ajax":251,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],109:[function(t,e,i){"use strict";var n=t("../util/ajax"),r=t("../util/evented"),o=t("../util/window"),a=!1,s=null;e.exports.evented=new r,e.exports.registerForPluginAvailability=function(t){return s?t({pluginBlobURL:s,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data],{type:"text/javascript"}))},e.exports.clearRTLTextPlugin=function(){a=!1,s=null},e.exports.setRTLTextPlugin=function(t,i){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=i,n.getArrayBuffer({url:t},function(t,n){t?i(t):n&&(s=e.exports.createBlobURL(n),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:i}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null},{"../util/ajax":251,"../util/evented":260,"../util/window":254}],110:[function(t,e,i){"use strict";var n=t("../util/util"),r={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),"raster-dem":t("../source/raster_dem_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};i.create=function(t,e,i,o){var a=new r[e.type](t,e,i,o);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return n.bindAll(["load","abort","unload","serialize","prepare"],a),a},i.getType=function(t){return r[t]},i.setType=function(t,e){r[t]=e}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_dem_tile_source":106,"../source/raster_tile_source":108,"../source/vector_tile_source":115,"../source/video_source":117,"../util/util":275}],111:[function(t,e,i){"use strict";function n(t,e){var i=e.zoomTo(t.canonical.z);return new p((i.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*h,(i.row-t.canonical.y)*h)}function r(t){return"raster"===t||"image"===t||"video"===t}var o=t("./source").create,a=t("./tile"),s=t("../util/evented"),l=t("../util/lru_cache"),u=t("../geo/coordinate"),c=t("../util/util"),h=t("../data/extent"),p=(t("../gl/context"),t("@mapbox/point-geometry")),d=t("../util/browser"),f=t("./tile_id"),g=f.OverscaledTileID,m=function(t){function e(e,i,n){var r=this;t.call(this),this.id=e,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=o(e,i,n,this),this._tiles={},this._cache=new l(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var i=t._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(t){var e=this;for(var i in this._source.prepare&&this._source.prepare(),e._tiles)e._tiles[i].upload(t)},e.prototype.getIds=function(){var t=this,e=function(e,i){var n=t._tiles[e].tileID,r=t._tiles[i].tileID,o=new p(n.canonical.x,n.canonical.y).rotate(t.transform.angle),a=new p(r.canonical.x,r.canonical.y).rotate(t.transform.angle);return n.overscaledZ-r.overscaledZ||a.y-o.y||a.x-o.x};return Object.keys(this._tiles).map(Number).sort(e)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},e.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._resetCache(),t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},e.prototype._tileLoaded=function(t,e,i,n){if(n)return t.state="errored",void(404!==n.status?this._source.fire("error",{tile:t,error:n}):this.update(this.transform));t.timeAdded=d.now(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._source.fire("data",{dataType:"source",tile:t,coord:t.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},e.prototype._backfillDEM=function(t){function e(t,e){t.needsHillshadePrepare=!0;var i=e.tileID.canonical.x-t.tileID.canonical.x,n=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===i&&0===n||Math.abs(n)>1||(Math.abs(i)>1&&(1===Math.abs(i+r)?i+=r:1===Math.abs(i-r)&&(i-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,i,n),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}for(var i=this,n=this.getRenderableIds(),r=0;r<n.length;r++){var o=n[r];if(t.neighboringTiles&&t.neighboringTiles[o]){var a=i.getTileByID(o);e(t,a),e(a,t)}}},e.prototype.getTile=function(t){return this.getTileByID(t.key)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,i){var n=this,r=!1;for(var o in n._tiles){var a=n._tiles[o];if(!(i[o]||!a.hasData()||a.tileID.overscaledZ<=t.overscaledZ||a.tileID.overscaledZ>e)){var s=Math.pow(2,a.tileID.canonical.z-t.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===t.canonical.x&&Math.floor(a.tileID.canonical.y/s)===t.canonical.y)for(i[o]=a.tileID,r=!0;a&&a.tileID.overscaledZ-1>t.overscaledZ;){var l=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!l)break;a=n._tiles[l.key],a&&a.hasData()&&(delete i[o],i[l.key]=l)}}}return r},e.prototype.findLoadedParent=function(t,e,i){for(var n=this,r=t.overscaledZ-1;r>=e;r--){var o=t.scaledTo(r);if(!o)return;var a=String(o.key),s=n._tiles[a];if(s&&s.hasData())return i[a]=o,s;if(n._cache.has(a))return i[a]=o,n._cache.get(a)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,i=Math.ceil(t.height/this._source.tileSize)+1,n=e*i,r=Math.floor(5*n),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)},e.prototype.update=function(t){var i=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(t),this._coveredTiles={},this.used?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new g(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(t){return i._source.hasTile(t)}))):n=[];var o,a=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),s=Math.max(a-e.maxOverzooming,this._source.minzoom),l=Math.max(a+e.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(n,a),h={};if(r(this._source.type))for(var p=Object.keys(u),f=0;f<p.length;f++){var m=p[f],v=u[m],y=i._tiles[m];if(y&&(void 0===y.fadeEndTime||y.fadeEndTime>=d.now())){i._findLoadedChildren(v,l,u)&&(u[m]=v);var b=i.findLoadedParent(v,s,h);b&&i._addTile(b.tileID)}}for(o in h)u[o]||(i._coveredTiles[o]=!0);for(o in h)u[o]=h[o];for(var x=c.keysDifference(this._tiles,u),_=0;_<x.length;_++)i._removeTile(x[_])}},e.prototype._updateRetainedTiles=function(t,i){for(var n=this,r={},o={},a=Math.max(i-e.maxOverzooming,this._source.minzoom),s=Math.max(i+e.maxUnderzooming,this._source.minzoom),l=0;l<t.length;l++){var u=t[l],c=n._addTile(u),h=!1;if(c.hasData())r[u.key]=u;else{h=c.wasRequested(),r[u.key]=u;var p=!0;if(i+1>n._source.maxzoom){var d=u.children(n._source.maxzoom)[0],f=n.getTile(d);f&&f.hasData()?r[d.key]=d:p=!1}else{n._findLoadedChildren(u,s,r);for(var g=u.children(n._source.maxzoom),m=0;m<g.length;m++)if(!r[g[m].key]){p=!1;break}}if(!p)for(var v=u.overscaledZ-1;v>=a;--v){var y=u.scaledTo(v);if(o[y.key])break;if(o[y.key]=!0,c=n.getTile(y),!c&&h&&(c=n._addTile(y)),c&&(r[y.key]=y,h=c.wasRequested(),c.hasData()))break}}}return r},e.prototype._addTile=function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t.key))&&this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e));var i=Boolean(e);return i||(e=new a(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,i||this._source.fire("dataloading",{tile:e,coord:e.tileID,dataType:"source"}),e):null},e.prototype._setTileReloadTimer=function(t,e){var i=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},e.prototype._setCacheInvalidationTimer=function(t,e){var i=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),delete i._cacheTimers[t]},n))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var i=e.tileID.key;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype.clearTiles=function(){var t=this;for(var e in this._shouldReloadOnResume=!1,this._paused=!1,t._tiles)t._removeTile(e);this._resetCache()},e.prototype._resetCache=function(){var t=this;for(var e in t._cacheTimers)clearTimeout(t._cacheTimers[e]);this._cacheTimers={},this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,i=[],r=this.getIds(),o=1/0,a=1/0,s=-1/0,l=-1/0,c=t[0].zoom,p=0;p<t.length;p++){var d=t[p];o=Math.min(o,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),l=Math.max(l,d.row)}for(var f=0;f<r.length;f++){var g=e._tiles[r[f]],m=g.tileID,v=[n(m,new u(o,a,c)),n(m,new u(s,l,c))];if(v[0].x<h&&v[0].y<h&&v[1].x>=0&&v[1].y>=0){for(var y=[],b=0;b<t.length;b++)y.push(n(m,t[b]));i.push({tile:g,tileID:m,queryGeometry:[y],scale:Math.pow(2,e.transform.zoom-g.tileID.overscaledZ)})}}return i},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),i=0,n=e;i<n.length;i+=1){var r=n[i];r.posMatrix=t.transform.calculatePosMatrix(r.toUnwrapped())}return e},e.prototype.hasTransition=function(){var t=this;if(this._source.hasTransition())return!0;if(r(this._source.type))for(var e in t._tiles){var i=t._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=d.now())return!0}return!1},e}(s);m.maxOverzooming=10,m.maxUnderzooming=3,e.exports=m},{"../data/extent":53,"../geo/coordinate":61,"../gl/context":66,"../util/browser":252,"../util/evented":260,"../util/lru_cache":266,"../util/util":275,"./source":110,"./tile":112,"./tile_id":114,"@mapbox/point-geometry":4}],112:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../data/bucket").deserialize,o=(t("../data/feature_index"),t("@mapbox/vector-tile")),a=t("pbf"),s=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),u=(t("../symbol/collision_index"),t("../data/bucket/symbol_bucket")),c=t("../data/array_types"),h=c.RasterBoundsArray,p=c.CollisionBoxArray,d=t("../data/raster_bounds_attributes"),f=t("../data/extent"),g=t("@mapbox/point-geometry"),m=t("../render/texture"),v=t("../data/segment"),y=v.SegmentVector,b=t("../data/index_array_type"),x=b.TriangleIndexArray,_=t("../util/browser"),w=3e4,C=function(t,e){this.tileID=t,this.uid=n.uniqueId(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};C.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<_.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},C.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},C.prototype.loadVectorData=function(t,e,i){var n=this;if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){if(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=t.collisionBoxArray,this.featureIndex=t.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=r(t.buckets,e.style),i)for(var o in n.buckets){var a=n.buckets[o];a instanceof u&&(a.justReloaded=!0)}t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new p},C.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},C.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},C.prototype.getBucket=function(t){return this.buckets[t.id]},C.prototype.upload=function(t){var e=this;for(var i in e.buckets){var n=e.buckets[i];n.uploaded||(n.upload(t),n.uploaded=!0)}var r=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new m(t,this.iconAtlasImage,r.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new m(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},C.prototype.queryRenderedFeatures=function(t,e,i,n,r,o,a){var s=this;if(!this.featureIndex||!this.collisionBoxArray)return{};var l=0,c={};for(var h in t){var p=s.getBucket(t[h]);p&&(l=Math.max(l,t[h].queryRadius(p)),p instanceof u&&void 0!==p.bucketInstanceId&&(c[p.bucketInstanceId]=!0))}return this.featureIndex.query({queryGeometry:e,scale:i,tileSize:this.tileSize,bearing:r,params:n,additionalRadius:l,collisionBoxArray:this.collisionBoxArray,sourceID:o,collisionIndex:a,bucketInstanceIds:c},t)},C.prototype.querySourceFeatures=function(t,e){var i=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new o.VectorTile(new a(this.rawTileData)).layers);var n=e?e.sourceLayer:"",r=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(r)for(var u=l(e&&e.filter),c={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},h=0;h<r.length;h++){var p=r.feature(h);if(u({zoom:i.tileID.overscaledZ},p)){var d=new s(p,c.z,c.x,c.y);d.tile=c,t.push(d)}}}},C.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},C.prototype.setMask=function(t,e){var i=this;if(!n.deepEqual(this.mask,t)&&(this.mask=t,this.clearMask(),!n.deepEqual(t,{0:!0}))){var r=new h,o=new x;this.segments=new y,this.segments.prepareSegment(0,r,o);for(var a=Object.keys(t),s=0;s<a.length;s++){var l=t[a[s]],u=f>>l.z,c=new g(l.x*u,l.y*u),p=new g(c.x+u,c.y+u),m=i.segments.prepareSegment(4,r,o);r.emplaceBack(c.x,c.y,c.x,c.y),r.emplaceBack(p.x,c.y,p.x,c.y),r.emplaceBack(c.x,p.y,c.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var v=m.vertexLength;o.emplaceBack(v,v+1,v+2),o.emplaceBack(v+1,v+2,v+3),m.vertexLength+=4,m.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(r,d.members),this.maskedIndexBuffer=e.createIndexBuffer(o)}},C.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},C.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=n.parseCacheControl(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),o=!1;if(this.expirationTime>r)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var a=this.expirationTime-e;a?this.expirationTime=r+Math.max(a,w):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},C.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},e.exports=C},{"../data/array_types":39,"../data/bucket":40,"../data/bucket/symbol_bucket":51,"../data/extent":53,"../data/feature_index":54,"../data/index_array_type":55,"../data/raster_bounds_attributes":59,"../data/segment":60,"../render/texture":93,"../style-spec/feature_filter":148,"../symbol/collision_index":217,"../util/browser":252,"../util/util":275,"../util/vectortile_to_geojson":276,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:30}],113:[function(t,e,i){"use strict";var n=t("../geo/lng_lat_bounds"),r=t("../util/util").clamp,o=function(t,e,i){this.bounds=n.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t){var e={minX:Math.floor(this.lngX(this.bounds.getWest(),t.z)),minY:Math.floor(this.latY(this.bounds.getNorth(),t.z)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),t.z)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),t.z))};return t.x>=e.minX&&t.x<e.maxX&&t.y>=e.minY&&t.y<e.maxY},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var i=r(Math.sin(Math.PI/180*t),-.9999,.9999),n=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+i)/(1-i))*-n},e.exports=o},{"../geo/lng_lat_bounds":63,"../util/util":275}],114:[function(t,e,i){"use strict";function n(t,e,i,n){(t*=2)<0&&(t=-1*t-1);var r=1<<e;return 32*(r*r*t+r*n+i)+e}function r(t,e,i){for(var n,r="",o=t;o>0;o--)n=1<<o-1,r+=(e&n?1:0)+(i&n?2:0);return r}var o=t("@mapbox/whoots-js"),a=t("../util/web_worker_transfer"),s=a.register,l=t("../geo/coordinate"),u=function(t,e,i){this.z=t,this.x=e,this.y=i,this.key=n(0,t,e,i)};u.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},u.prototype.url=function(t,e){var i=o.getTileBBox(this.x,this.y,this.z),n=r(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",i)};var c=function(t,e){this.wrap=t,this.canonical=e,this.key=n(t,e.z,e.x,e.y)},h=function(t,e,i,r,o){this.overscaledZ=t,this.wrap=e,this.canonical=new u(i,+r,+o),this.key=n(e,t,r,o)};h.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new h(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new h(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},h.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},h.prototype.children=function(t){if(this.overscaledZ>=t)return[new h(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,i=2*this.canonical.x,n=2*this.canonical.y;return[new h(e,this.wrap,e,i,n),new h(e,this.wrap,e,i+1,n),new h(e,this.wrap,e,i,n+1),new h(e,this.wrap,e,i+1,n+1)]},h.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},h.prototype.wrapped=function(){return new h(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},h.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},h.prototype.toUnwrapped=function(){return new c(this.wrap,this.canonical)},h.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},h.prototype.toCoordinate=function(){return new l(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},s("CanonicalTileID",u),s("OverscaledTileID",h,{omit:["posMatrix"]}),e.exports={CanonicalTileID:u,OverscaledTileID:h,UnwrappedTileID:c}},{"../geo/coordinate":61,"../util/web_worker_transfer":278,"@mapbox/whoots-js":12}],115:[function(t,e,i){"use strict";var n=t("../util/evented"),r=t("../util/util"),o=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,i,n,o){if(t.call(this),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,r.extend(this,r.pick(i,["url","scheme","tileSize"])),this._options=r.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,this.map._transformRequest,function(e,i){e?t.fire("error",e):i&&(r.extend(t,i),i.bounds&&(t.tileBounds=new s(i.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.loadTile=function(t,e){function i(i,n){return t.aborted?e(null):i?e(i):(n&&n.resourceTiming&&(t.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&t.setExpiryData(n),t.loadVectorData(n,this.map.painter),e(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}var n=t.tileID.overscaleFactor(),r=a(t.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(r,l.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*n,type:this.type,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:n,showCollisionBoxes:this.map.showCollisionBoxes};o.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,i.bind(this)):"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",o,i.bind(this),t.workerID)},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.hasTransition=function(){return!1},e}(n);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],116:[function(t,e,i){"use strict";function n(t,e){var i=r.getArrayBuffer(t.request,function(t,i){t?e(t):i&&e(null,{vectorTile:new o.VectorTile(new a(i.data)),rawData:i.data,cacheControl:i.cacheControl,expires:i.expires})});return function(){i.abort(),e()}}var r=t("../util/ajax"),o=t("@mapbox/vector-tile"),a=t("pbf"),s=t("./worker_tile"),l=t("../util/util"),u=t("../util/performance"),c=function(t,e,i){this.actor=t,this.layerIndex=e,this.loadVectorData=i||n,this.loading={},this.loaded={}};c.prototype.loadTile=function(t,e){var i=this,n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var o=this.loading[n][r]=new s(t);o.abort=this.loadVectorData(t,function(a,s){if(delete i.loading[n][r],a||!s)return e(a);var c=s.rawData,h={};s.expires&&(h.expires=s.expires),s.cacheControl&&(h.cacheControl=s.cacheControl);var p={};if(t.request&&t.request.collectResourceTiming){var d=u.getEntriesByName(t.request.url);d&&(p.resourceTiming=JSON.parse(JSON.stringify(d)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,i.layerIndex,i.actor,function(t,i){if(t||!i)return e(t);e(null,l.extend({rawTileData:c.slice(0)},i,h,p))}),i.loaded[n]=i.loaded[n]||{},i.loaded[n][r]=o})},c.prototype.reloadTile=function(t,e){function i(t,i){if(this.reloadCallback){var n=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,n)}e(t,i)}var n=this.loaded[t.source],r=t.uid,o=this;if(n&&n[r]){var a=n[r];a.showCollisionBoxes=t.showCollisionBoxes,"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,i.bind(a))}},c.prototype.abortTile=function(t,e){var i=this.loading[t.source],n=t.uid;i&&i[n]&&i[n].abort&&(i[n].abort(),delete i[n]),e()},c.prototype.removeTile=function(t,e){var i=this.loaded[t.source],n=t.uid;i&&i[n]&&delete i[n],e()},e.exports=c},{"../util/ajax":251,"../util/performance":268,"../util/util":275,"./worker_tile":119,"@mapbox/vector-tile":8,pbf:30}],117:[function(t,e,i){"use strict";var n=t("../util/ajax"),r=t("./image_source"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,i,n,r){t.call(this,e,i,n,r),this.roundZoom=!0,this.type="video",this.options=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,n.getVideo(e.urls,function(e,i){e?t.fire("error",{error:e}):i&&(t.video=i,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map._rerender()}),t.map&&t.video.play(),t._finishLoading())})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){var t=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,i=e.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new s(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),t.tiles){var r=t.tiles[n];"loaded"!==r.state&&(r.state="loaded",r.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this.video&&!this.video.paused},e}(r);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"./image_source":102}],118:[function(t,e,i){"use strict";var n=t("../util/actor"),r=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),a=t("./raster_dem_tile_worker_source"),s=t("./geojson_worker_source"),l=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new n(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,i){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=i},this.self.registerRTLTextPlugin=function(t){if(l.applyArabicShaping||l.processBidirectionalText)throw new Error("RTL text plugin already registered.");l.applyArabicShaping=t.applyArabicShaping,l.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e,i){this.getLayerIndex(t).replace(e),i()},u.prototype.updateLayers=function(t,e,i){this.getLayerIndex(t).update(e.layers,e.removedIds),i()},u.prototype.loadTile=function(t,e,i){this.getWorkerSource(t,e.type).loadTile(e,i)},u.prototype.loadDEMTile=function(t,e,i){this.getDEMWorkerSource(t).loadTile(e,i)},u.prototype.reloadTile=function(t,e,i){this.getWorkerSource(t,e.type).reloadTile(e,i)},u.prototype.abortTile=function(t,e,i){this.getWorkerSource(t,e.type).abortTile(e,i)},u.prototype.removeTile=function(t,e,i){this.getWorkerSource(t,e.type).removeTile(e,i)},u.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t).removeTile(e)},u.prototype.removeSource=function(t,e,i){var n=this.getWorkerSource(t,e.type);void 0!==n.removeSource?n.removeSource(e,i):i()},u.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t)}},u.prototype.loadRTLTextPlugin=function(t,e,i){try{l.applyArabicShaping||l.processBidirectionalText||(this.self.importScripts(e),l.applyArabicShaping&&l.processBidirectionalText||i(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){i(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},u.prototype.getWorkerSource=function(t,e){var i=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var n={send:function(e,n,r){i.actor.send(e,n,r,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](n,this.getLayerIndex(t))}return this.workerSources[t][e]},u.prototype.getDEMWorkerSource=function(t){return this.demWorkerSources[t]||(this.demWorkerSources[t]=new a),this.demWorkerSources[t]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":210,"../util/actor":250,"./geojson_worker_source":100,"./raster_dem_tile_worker_source":107,"./rtl_text_plugin":109,"./vector_tile_worker_source":116}],119:[function(t,e,i){"use strict";function n(t,e){for(var i=new m(e),n=0,r=t;n<r.length;n+=1)r[n].recalculate(i)}var r=t("../data/feature_index"),o=t("../symbol/symbol_layout"),a=o.performSymbolLayout,s=t("../data/array_types"),l=s.CollisionBoxArray,u=t("../util/dictionary_coder"),c=t("../data/bucket/symbol_bucket"),h=t("../util/util"),p=t("../render/image_atlas"),d=p.makeImageAtlas,f=t("../render/glyph_atlas"),g=f.makeGlyphAtlas,m=t("../style/evaluation_parameters"),v=t("./tile_id"),y=v.OverscaledTileID,b=function(t){this.tileID=new y(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};b.prototype.parse=function(t,e,i,o){function s(){var t=this;if(P)return o(P);if(O&&I){var e=g(O),i=d(I);for(var r in v){var s=v[r];s instanceof c&&(n(s.layers,t.zoom),a(s,O,e.positions,I,i.positions,t.showCollisionBoxes))}this.status="done",o(null,{buckets:h.values(v).filter(function(t){return!t.isEmpty()}),featureIndex:m,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,iconAtlasImage:i.image})}}var p=this;this.status="parsing",this.data=t,this.collisionBoxArray=new l;var f=new u(Object.keys(t.layers).sort()),m=new r(this.tileID,this.overscaling);m.bucketLayerIDs=[];var v={},y={featureIndex:m,iconDependencies:{},glyphDependencies:{}},b=e.familiesBySource[this.source];for(var x in b){var _=t.layers[x];if(_){1===_.version&&h.warnOnce('Vector tile source "'+p.source+'" layer "'+x+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=f.encode(x),C=[],S=0;S<_.length;S++){var k=_.feature(S);C.push({feature:k,index:S,sourceLayerIndex:w})}for(var A=0,T=b[x];A<T.length;A+=1){var M=T[A],E=M[0];E.minzoom&&p.zoom<Math.floor(E.minzoom)||E.maxzoom&&p.zoom>=E.maxzoom||"none"===E.visibility||(n(M,p.zoom),(v[E.id]=E.createBucket({index:m.bucketLayerIDs.length,layers:M,zoom:p.zoom,pixelRatio:p.pixelRatio,overscaling:p.overscaling,collisionBoxArray:p.collisionBoxArray})).populate(C,y),m.bucketLayerIDs.push(M.map(function(t){return t.id})))}}}var P,O,I,L=h.mapObject(y.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(L).length?i.send("getGlyphs",{uid:this.uid,stacks:L},function(t,e){P||(P=t,O=e,s.call(p))}):O={};var R=Object.keys(y.iconDependencies);R.length?i.send("getImages",{icons:R},function(t,e){P||(P=t,I=e,s.call(p))}):I={},s.call(this)},e.exports=b},{"../data/array_types":39,"../data/bucket/symbol_bucket":51,"../data/feature_index":54,"../render/glyph_atlas":85,"../render/image_atlas":87,"../style/evaluation_parameters":182,"../symbol/symbol_layout":227,"../util/dictionary_coder":257,"../util/util":275,"./tile_id":114}],120:[function(t,e,i){"use strict";function n(t,e){var i={};for(var n in t)"ref"!==n&&(i[n]=t[n]);return o.forEach(function(t){t in e&&(i[t]=e[t])}),i}function r(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=n(t[r],e[t[r].ref]));return t}var o=t("./util/ref_properties");e.exports=r},{"./util/ref_properties":159}],121:[function(t,e,i){"use strict";function n(t,e,i){i.push({command:f.addSource,args:[t,e[t]]})}function r(t,e,i){e.push({command:f.removeSource,args:[t]}),i[t]=!0}function o(t,e,i,o){r(t,i,o),n(t,e,i)}function a(t,e,i){var n;for(n in t[i])if(t[i].hasOwnProperty(n)&&"data"!==n&&!d(t[i][n],e[i][n]))return!1;for(n in e[i])if(e[i].hasOwnProperty(n)&&"data"!==n&&!d(t[i][n],e[i][n]))return!1;return!0}function s(t,e,i,s){var l;for(l in t=t||{},e=e||{},t)t.hasOwnProperty(l)&&(e.hasOwnProperty(l)||r(l,i,s));for(l in e)e.hasOwnProperty(l)&&(t.hasOwnProperty(l)?d(t[l],e[l])||("geojson"===t[l].type&&"geojson"===e[l].type&&a(t,e,l)?i.push({command:f.setGeoJSONSourceData,args:[l,e[l].data]}):o(l,e,i,s)):n(l,e,i))}function l(t,e,i,n,r,o){var a;for(a in t=t||{},e=e||{},t)t.hasOwnProperty(a)&&(d(t[a],e[a])||i.push({command:o,args:[n,a,e[a],r]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(d(t[a],e[a])||i.push({command:o,args:[n,a,e[a],r]}))}function u(t){return t.id}function c(t,e){return t[e.id]=e,t}function h(t,e,i){t=t||[],e=e||[];var n,r,o,a,s,h,p,g=t.map(u),m=e.map(u),v=t.reduce(c,{}),y=e.reduce(c,{}),b=g.slice(),x=Object.create(null);for(n=0,r=0;n<g.length;n++)o=g[n],y.hasOwnProperty(o)?r++:(i.push({command:f.removeLayer,args:[o]}),b.splice(b.indexOf(o,r),1));for(n=0,r=0;n<m.length;n++)o=m[m.length-1-n],b[b.length-1-n]!==o&&(v.hasOwnProperty(o)?(i.push({command:f.removeLayer,args:[o]}),b.splice(b.lastIndexOf(o,b.length-r),1)):r++,h=b[b.length-n],i.push({command:f.addLayer,args:[y[o],h]}),b.splice(b.length-n,0,o),x[o]=!0);for(n=0;n<m.length;n++)if(o=m[n],a=v[o],s=y[o],!x[o]&&!d(a,s))if(d(a.source,s.source)&&d(a["source-layer"],s["source-layer"])&&d(a.type,s.type)){for(p in l(a.layout,s.layout,i,o,null,f.setLayoutProperty),l(a.paint,s.paint,i,o,null,f.setPaintProperty),d(a.filter,s.filter)||i.push({command:f.setFilter,args:[o,s.filter]}),d(a.minzoom,s.minzoom)&&d(a.maxzoom,s.maxzoom)||i.push({command:f.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?l(a[p],s[p],i,o,p.slice(6),f.setPaintProperty):d(a[p],s[p])||i.push({command:f.setLayerProperty,args:[o,p,s[p]]}));for(p in s)s.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?l(a[p],s[p],i,o,p.slice(6),f.setPaintProperty):d(a[p],s[p])||i.push({command:f.setLayerProperty,args:[o,p,s[p]]}))}else i.push({command:f.removeLayer,args:[o]}),h=b[b.lastIndexOf(o)+1],i.push({command:f.addLayer,args:[s,h]})}function p(t,e){if(!t)return[{command:f.setStyle,args:[e]}];var i=[];try{if(!d(t.version,e.version))return[{command:f.setStyle,args:[e]}];d(t.center,e.center)||i.push({command:f.setCenter,args:[e.center]}),d(t.zoom,e.zoom)||i.push({command:f.setZoom,args:[e.zoom]}),d(t.bearing,e.bearing)||i.push({command:f.setBearing,args:[e.bearing]}),d(t.pitch,e.pitch)||i.push({command:f.setPitch,args:[e.pitch]}),d(t.sprite,e.sprite)||i.push({command:f.setSprite,args:[e.sprite]}),d(t.glyphs,e.glyphs)||i.push({command:f.setGlyphs,args:[e.glyphs]}),d(t.transition,e.transition)||i.push({command:f.setTransition,args:[e.transition]}),d(t.light,e.light)||i.push({command:f.setLight,args:[e.light]});var n={},r=[];s(t.sources,e.sources,r,n);var o=[];t.layers&&t.layers.forEach(function(t){n[t.source]?i.push({command:f.removeLayer,args:[t.id]}):o.push(t)}),i=i.concat(r),h(o,e.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:f.setStyle,args:[e]}]}return i}var d=t("./util/deep_equal"),f={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=p,e.exports.operations=f},{"./util/deep_equal":155}],122:[function(t,e,i){"use strict";function n(t,e,i){this.message=(t?t+": ":"")+i,null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}e.exports=n},{}],123:[function(t,e,i){"use strict";function n(t){return{type:t}}function r(t){return Array.isArray(t)?"("+t.map(a).join(", ")+")":"("+a(t.type)+"...)"}var o=t("./types"),a=o.toString,s=t("./parsing_context"),l=(t("./evaluation_context"),function(t,e,i,n){this.name=t,this.type=e,this._evaluate=i,this.args=n});l.prototype.evaluate=function(t){return this._evaluate(t,this.args)},l.prototype.eachChild=function(t){this.args.forEach(t)},l.prototype.possibleOutputs=function(){return[void 0]},l.parse=function(t,e){var i=t[0],n=l.definitions[i];if(!n)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(n)?n[0]:n.type,u=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,c=u.filter(function(e){var i=e[0];return!Array.isArray(i)||i.length===t.length-1}),h=[],p=1;p<t.length;p++){var d=t[p],f=void 0;if(1===c.length){var g=c[0][0];f=Array.isArray(g)?g[p-1]:g.type}var m=e.parse(d,1+h.length,f);if(!m)return null;h.push(m)}for(var v=null,y=0,b=c;y<b.length;y+=1){var x=b[y],_=x[0],w=x[1];if(v=new s(e.registry,e.path,null,e.scope),Array.isArray(_)&&_.length!==h.length)v.error("Expected "+_.length+" arguments, but found "+h.length+" instead.");else{for(var C=0;C<h.length;C++){var S=Array.isArray(_)?_[C]:_.type,k=h[C];v.concat(C+1).checkSubtype(S,k.type)}if(0===v.errors.length)return new l(i,o,w,h)}}if(1===c.length)e.errors.push.apply(e.errors,v.errors);else{var A=c.length?c:u,T=A.map(function(t){return r(t[0])}).join(" | "),M=h.map(function(t){return a(t.type)}).join(", ");e.error("Expected arguments of type "+T+", but found ("+M+") instead.")}return null},l.register=function(t,e){for(var i in l.definitions=e,e)t[i]=l},e.exports={CompoundExpression:l,varargs:n}},{"./evaluation_context":138,"./parsing_context":141,"./types":146}],124:[function(t,e,i){"use strict";var n=t("../types"),r=n.toString,o=n.array,a=n.ValueType,s=n.StringType,l=n.NumberType,u=n.BooleanType,c=n.checkSubtype,h=t("../values"),p=h.typeOf,d=t("../runtime_error"),f={string:s,number:l,boolean:u},g=function(t,e){this.type=t,this.input=e};g.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var i,n;if(t.length>2){var r=t[1];if("string"!=typeof r||!(r in f))return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=f[r]}else i=a;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);n=t[2]}var s=o(i,n),l=e.parse(t[t.length-1],t.length-1,a);return l?new g(s,l):null},g.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(c(this.type,p(e)))throw new d("Expected value to be of type "+r(this.type)+", but found "+r(p(e))+" instead.");return e},g.prototype.eachChild=function(t){t(this.input)},g.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},e.exports=g},{"../runtime_error":143,"../types":146,"../values":147}],125:[function(t,e,i){"use strict";var n=t("../types"),r=n.ObjectType,o=n.ValueType,a=n.StringType,s=n.NumberType,l=n.BooleanType,u=t("../runtime_error"),c=t("../types"),h=c.checkSubtype,p=c.toString,d=t("../values"),f=d.typeOf,g={string:a,number:s,boolean:l,object:r},m=function(t,e){this.type=t,this.args=e};m.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var i=t[0],n=g[i],r=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;r.push(s)}return new m(n,r)},m.prototype.evaluate=function(t){for(var e=this,i=0;i<this.args.length;i++){var n=e.args[i].evaluate(t);if(!h(e.type,f(n)))return n;if(i===e.args.length-1)throw new u("Expected value to be of type "+p(e.type)+", but found "+p(f(n))+" instead.")}return null},m.prototype.eachChild=function(t){this.args.forEach(t)},m.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=m},{"../runtime_error":143,"../types":146,"../values":147}],126:[function(t,e,i){"use strict";var n=t("../types"),r=n.array,o=n.ValueType,a=n.NumberType,s=t("../runtime_error"),l=function(t,e,i){this.type=t,this.index=e,this.input=i};l.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,a),n=e.parse(t[2],2,r(e.expectedType||o));if(!i||!n)return null;var s=n.type;return new l(s.itemType,i,n)},l.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0||e>=i.length)throw new s("Array index out of bounds: "+e+" > "+i.length+".");if(e!==Math.floor(e))throw new s("Array index must be an integer, but found "+e+" instead.");return i[e]},l.prototype.eachChild=function(t){t(this.index),t(this.input)},l.prototype.possibleOutputs=function(){return[void 0]},e.exports=l},{"../runtime_error":143,"../types":146}],127:[function(t,e,i){"use strict";var n=t("../types"),r=n.BooleanType,o=function(t,e,i){this.type=t,this.branches=e,this.otherwise=i};o.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var n=[],a=1;a<t.length-1;a+=2){var s=e.parse(t[a],a,r);if(!s)return null;var l=e.parse(t[a+1],a+1,i);if(!l)return null;n.push([s,l]),i=i||l.type}var u=e.parse(t[t.length-1],t.length-1,i);return u?new o(i,n,u):null},o.prototype.evaluate=function(t){for(var e=this,i=0,n=e.branches;i<n.length;i+=1){var r=n[i],o=r[0],a=r[1];if(o.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},o.prototype.eachChild=function(t){for(var e=this,i=0,n=e.branches;i<n.length;i+=1){var r=n[i],o=r[0],a=r[1];t(o),t(a)}t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../types":146}],128:[function(t,e,i){"use strict";var n=t("../types"),r=n.checkSubtype,o=n.ValueType,a=function(t,e){this.type=t,this.args=e};a.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null,n=e.expectedType;n&&"value"!==n.kind&&(i=n);for(var s=[],l=0,u=t.slice(1);l<u.length;l+=1){var c=u[l],h=e.parse(c,1+s.length,i,void 0,{omitTypeAnnotations:!0});if(!h)return null;i=i||h.type,s.push(h)}return n&&s.some(function(t){return r(n,t.type)})?new a(o,s):new a(i,s)},a.prototype.evaluate=function(t){for(var e=this,i=null,n=0,r=e.args;n<r.length;n+=1)if(null!==(i=r[n].evaluate(t)))break;return i},a.prototype.eachChild=function(t){this.args.forEach(t)},a.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=a},{"../types":146}],129:[function(t,e,i){"use strict";var n=t("../types"),r=n.ColorType,o=n.ValueType,a=n.NumberType,s=t("../values"),l=s.Color,u=s.validateRGBA,c=t("../runtime_error"),h={"to-number":a,"to-color":r},p=function(t,e){this.type=t,this.args=e};p.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var i=t[0],n=h[i],r=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;r.push(s)}return new p(n,r)},p.prototype.evaluate=function(t){var e=this;if("color"===this.type.kind){for(var i,n,r=0,o=e.args;r<o.length;r+=1)if(i=o[r].evaluate(t),n=null,"string"==typeof i){var a=t.parseColor(i);if(a)return a}else if(Array.isArray(i)&&!(n=i.length<3||i.length>4?"Invalid rbga value "+JSON.stringify(i)+": expected an array containing either three or four numeric values.":u(i[0],i[1],i[2],i[3])))return new l(i[0]/255,i[1]/255,i[2]/255,i[3]);throw new c(n||"Could not parse color from value '"+("string"==typeof i?i:JSON.stringify(i))+"'")}for(var s=null,h=0,p=e.args;h<p.length;h+=1)if(null!==(s=p[h].evaluate(t))){var d=Number(s);if(!isNaN(d))return d}throw new c("Could not convert "+JSON.stringify(s)+" to number.")},p.prototype.eachChild=function(t){this.args.forEach(t)},p.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=p},{"../runtime_error":143,"../types":146,"../values":147}],130:[function(t,e,i){"use strict";function n(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function r(t){return function(){function e(t,e){this.type=s,this.lhs=t,this.rhs=e}return e.parse=function(t,i){if(3!==t.length)return i.error("Expected two arguments.");var r=i.parse(t[1],1,a);if(!r)return null;var o=i.parse(t[2],2,a);return o?n(r.type)||n(o.type)?r.type.kind!==o.type.kind&&"value"!==r.type.kind&&"value"!==o.type.kind?i.error("Cannot compare "+u(r.type)+" and "+u(o.type)+"."):new e(r,o):i.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+u(r.type)+", "+u(o.type)+") instead."):null},e.prototype.evaluate=function(e){return t(this.lhs.evaluate(e),this.rhs.evaluate(e))},e.prototype.eachChild=function(t){t(this.lhs),t(this.rhs)},e.prototype.possibleOutputs=function(){return[!0,!1]},e}()}var o=t("../types"),a=o.ValueType,s=o.BooleanType,l=t("../types"),u=l.toString;e.exports={Equals:r(function(t,e){return t===e}),NotEquals:r(function(t,e){return t!==e})}},{"../types":146}],131:[function(t,e,i){"use strict";function n(t,e){var i=e[0],n=e[1],r=e[2],o=e[3];i=i.evaluate(t),n=n.evaluate(t),r=r.evaluate(t);var a=o?o.evaluate(t):1,s=k(i,n,r,a);if(s)throw new E(s);return new S(i/255*a,n/255*a,r/255*a,a)}function r(t,e){return t in e}function o(t,e){var i=e[t];return void 0===i?null:i}function a(t,e){return e[0].evaluate(t).length}function s(t,e){var i=e[0],n=e[1];return i.evaluate(t)<n.evaluate(t)}function l(t,e){var i=e[0],n=e[1];return i.evaluate(t)>n.evaluate(t)}function u(t,e){var i=e[0],n=e[1];return i.evaluate(t)<=n.evaluate(t)}function c(t,e){var i=e[0],n=e[1];return i.evaluate(t)>=n.evaluate(t)}function h(t,e,i,n){for(;i<=n;){var r=i+n>>1;if(e[r]===t)return!0;e[r]>t?n=r-1:i=r+1}return!1}var p=t("../types"),d=p.NumberType,f=p.StringType,g=p.BooleanType,m=p.ColorType,v=p.ObjectType,y=p.ValueType,b=p.ErrorType,x=p.array,_=p.toString,w=t("../values"),C=w.typeOf,S=w.Color,k=w.validateRGBA,A=t("../compound_expression"),T=A.CompoundExpression,M=A.varargs,E=t("../runtime_error"),P=t("./let"),O=t("./var"),I=t("./literal"),L=t("./assertion"),R=t("./array"),D=t("./coercion"),z=t("./at"),B=t("./match"),j=t("./case"),F=t("./step"),N=t("./interpolate"),V=t("./coalesce"),H=t("./equals"),G=H.Equals,U=H.NotEquals,W={"==":G,"!=":U,array:R,at:z,boolean:L,case:j,coalesce:V,interpolate:N,let:P,literal:I,match:B,number:L,object:L,step:F,string:L,"to-color":D,"to-number":D,var:O};T.register(W,{error:[b,[f],function(t,e){var i=e[0];throw new E(i.evaluate(t))}],typeof:[f,[y],function(t,e){var i=e[0];return _(C(i.evaluate(t)))}],"to-string":[f,[y],function(t,e){var i=e[0];i=i.evaluate(t);var n=typeof i;return null===i||"string"===n||"number"===n||"boolean"===n?String(i):i instanceof S?i.toString():JSON.stringify(i)}],"to-boolean":[g,[y],function(t,e){var i=e[0];return Boolean(i.evaluate(t))}],"to-rgba":[x(d,4),[m],function(t,e){var i=e[0],n=i.evaluate(t),r=n.r,o=n.g,a=n.b,s=n.a;return[255*r/s,255*o/s,255*a/s,s]}],rgb:[m,[d,d,d],n],rgba:[m,[d,d,d,d],n],length:{type:d,overloads:[[[f],a],[[x(y)],a]]},has:{type:g,overloads:[[[f],function(t,e){return r(e[0].evaluate(t),t.properties())}],[[f,v],function(t,e){var i=e[0],n=e[1];return r(i.evaluate(t),n.evaluate(t))}]]},get:{type:y,overloads:[[[f],function(t,e){return o(e[0].evaluate(t),t.properties())}],[[f,v],function(t,e){var i=e[0],n=e[1];return o(i.evaluate(t),n.evaluate(t))}]]},properties:[v,[],function(t){return t.properties()}],"geometry-type":[f,[],function(t){return t.geometryType()}],id:[y,[],function(t){return t.id()}],zoom:[d,[],function(t){return t.globals.zoom}],"heatmap-density":[d,[],function(t){return t.globals.heatmapDensity||0}],"+":[d,M(d),function(t,e){for(var i=0,n=0,r=e;n<r.length;n+=1)i+=r[n].evaluate(t);return i}],"*":[d,M(d),function(t,e){for(var i=1,n=0,r=e;n<r.length;n+=1)i*=r[n].evaluate(t);return i}],"-":{type:d,overloads:[[[d,d],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)-n.evaluate(t)}],[[d],function(t,e){return-e[0].evaluate(t)}]]},"/":[d,[d,d],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)/n.evaluate(t)}],"%":[d,[d,d],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)%n.evaluate(t)}],ln2:[d,[],function(){return Math.LN2}],pi:[d,[],function(){return Math.PI}],e:[d,[],function(){return Math.E}],"^":[d,[d,d],function(t,e){var i=e[0],n=e[1];return Math.pow(i.evaluate(t),n.evaluate(t))}],sqrt:[d,[d],function(t,e){var i=e[0];return Math.sqrt(i.evaluate(t))}],log10:[d,[d],function(t,e){var i=e[0];return Math.log10(i.evaluate(t))}],ln:[d,[d],function(t,e){var i=e[0];return Math.log(i.evaluate(t))}],log2:[d,[d],function(t,e){var i=e[0];return Math.log2(i.evaluate(t))}],sin:[d,[d],function(t,e){var i=e[0];return Math.sin(i.evaluate(t))}],cos:[d,[d],function(t,e){var i=e[0];return Math.cos(i.evaluate(t))}],tan:[d,[d],function(t,e){var i=e[0];return Math.tan(i.evaluate(t))}],asin:[d,[d],function(t,e){var i=e[0];return Math.asin(i.evaluate(t))}],acos:[d,[d],function(t,e){var i=e[0];return Math.acos(i.evaluate(t))}],atan:[d,[d],function(t,e){var i=e[0];return Math.atan(i.evaluate(t))}],min:[d,M(d),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[d,M(d),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],"filter-==":[g,[f,y],function(t,e){var i=e[0],n=e[1];return t.properties()[i.value]===n.value}],"filter-id-==":[g,[y],function(t,e){var i=e[0];return t.id()===i.value}],"filter-type-==":[g,[f],function(t,e){var i=e[0];return t.geometryType()===i.value}],"filter-<":[g,[f,y],function(t,e){var i=e[0],n=e[1],r=t.properties()[i.value],o=n.value;return typeof r==typeof o&&r<o}],"filter-id-<":[g,[y],function(t,e){var i=e[0],n=t.id(),r=i.value;return typeof n==typeof r&&n<r}],"filter->":[g,[f,y],function(t,e){var i=e[0],n=e[1],r=t.properties()[i.value],o=n.value;return typeof r==typeof o&&r>o}],"filter-id->":[g,[y],function(t,e){var i=e[0],n=t.id(),r=i.value;return typeof n==typeof r&&n>r}],"filter-<=":[g,[f,y],function(t,e){var i=e[0],n=e[1],r=t.properties()[i.value],o=n.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[g,[y],function(t,e){var i=e[0],n=t.id(),r=i.value;return typeof n==typeof r&&n<=r}],"filter->=":[g,[f,y],function(t,e){var i=e[0],n=e[1],r=t.properties()[i.value],o=n.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[g,[y],function(t,e){var i=e[0],n=t.id(),r=i.value;return typeof n==typeof r&&n>=r}],"filter-has":[g,[y],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[g,[],function(t){return null!==t.id()}],"filter-type-in":[g,[x(f)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[g,[x(y)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[g,[f,x(y)],function(t,e){var i=e[0];return e[1].value.indexOf(t.properties()[i.value])>=0}],"filter-in-large":[g,[f,x(y)],function(t,e){var i=e[0],n=e[1];return h(t.properties()[i.value],n.value,0,n.value.length-1)}],">":{type:g,overloads:[[[d,d],l],[[f,f],l]]},"<":{type:g,overloads:[[[d,d],s],[[f,f],s]]},">=":{type:g,overloads:[[[d,d],c],[[f,f],c]]},"<=":{type:g,overloads:[[[d,d],u],[[f,f],u]]},all:{type:g,overloads:[[[g,g],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)&&n.evaluate(t)}],[M(g),function(t,e){for(var i=0,n=e;i<n.length;i+=1)if(!n[i].evaluate(t))return!1;return!0}]]},any:{type:g,overloads:[[[g,g],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)||n.evaluate(t)}],[M(g),function(t,e){for(var i=0,n=e;i<n.length;i+=1)if(n[i].evaluate(t))return!0;return!1}]]},"!":[g,[g],function(t,e){return!e[0].evaluate(t)}],upcase:[f,[f],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[f,[f],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[f,M(f),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}]}),e.exports=W},{"../compound_expression":123,"../runtime_error":143,"../types":146,"../values":147,"./array":124,"./assertion":125,"./at":126,"./case":127,"./coalesce":128,"./coercion":129,"./equals":130,"./interpolate":132,"./let":133,"./literal":134,"./match":135,"./step":136,"./var":137}],132:[function(t,e,i){"use strict";function n(t,e,i,n){var r=n-i,o=t-i;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var r=t("@mapbox/unitbezier"),o=t("../../util/interpolate"),a=t("../types"),s=a.toString,l=a.NumberType,u=t("../stops"),c=u.findStopLessThanOrEqualTo,h=function(t,e,i,n){var r=this;this.type=t,this.interpolation=e,this.input=i,this.labels=[],this.outputs=[];for(var o=0,a=n;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];r.labels.push(l),r.outputs.push(u)}};h.interpolationFactor=function(t,e,i,o){var a=0;if("exponential"===t.name)a=n(e,t.base,i,o);else if("linear"===t.name)a=n(e,1,i,o);else if("cubic-bezier"===t.name){var s=t.controlPoints,l=new r(s[0],s[1],s[2],s[3]);a=l.solve(n(e,1,i,o))}return a},h.parse=function(t,e){var i=t[1],n=t[2],r=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var o=i[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:o}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var a=i.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,2,l)))return null;var u=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var p=0;p<r.length;p+=2){var d=r[p],f=r[p+1],g=p+3,m=p+4;if("number"!=typeof d)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(u.length&&u[u.length-1][0]>=d)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',g);var v=e.parse(f,m,c);if(!v)return null;c=c||v.type,u.push([d,v])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new h(c,i,n,u):e.error("Type "+s(c)+" is not interpolatable.")},h.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);var r=e.length;if(n>=e[r-1])return i[r-1].evaluate(t);var a=c(e,n),s=e[a],l=e[a+1],u=h.interpolationFactor(this.interpolation,n,s,l),p=i[a].evaluate(t),d=i[a+1].evaluate(t);return o[this.type.kind.toLowerCase()](p,d,u)},h.prototype.eachChild=function(t){var e=this;t(this.input);for(var i=0,n=e.outputs;i<n.length;i+=1)t(n[i])},h.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=h},{"../../util/interpolate":158,"../stops":145,"../types":146,"@mapbox/unitbezier":7}],133:[function(t,e,i){"use strict";var n=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};n.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},n.prototype.eachChild=function(t){for(var e=this,i=0,n=e.bindings;i<n.length;i+=1)t(n[i][1]);t(this.result)},n.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],r=1;r<t.length-1;r+=2){var o=t[r];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",r);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=e.parse(t[r+1],r+1);if(!a)return null;i.push([o,a])}var s=e.parse(t[t.length-1],t.length-1,void 0,i);return s?new n(i,s):null},n.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},e.exports=n},{}],134:[function(t,e,i){"use strict";var n=t("../values"),r=n.isValue,o=n.typeOf,a=function(t,e){this.type=t,this.value=e};a.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!r(t[1]))return e.error("invalid value");var i=t[1],n=o(i),s=e.expectedType;return"array"!==n.kind||0!==n.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(n=s),new a(n,i)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},a.prototype.possibleOutputs=function(){return[this.value]},e.exports=a},{"../values":147}],135:[function(t,e,i){"use strict";var n=t("../values"),r=n.typeOf,o=function(t,e,i,n,r,o){this.inputType=t,this.type=e,this.input=i,this.cases=n,this.outputs=r,this.otherwise=o};o.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var a={},s=[],l=2;l<t.length-1;l+=2){var u=t[l],c=t[l+1];Array.isArray(u)||(u=[u]);var h=e.concat(l);if(0===u.length)return h.error("Expected at least one branch label.");for(var p=0,d=u;p<d.length;p+=1){var f=d[p];if("number"!=typeof f&&"string"!=typeof f)return h.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return h.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return h.error("Numeric branch labels must be integer values.");if(i){if(h.checkSubtype(i,r(f)))return null}else i=r(f);if(void 0!==a[String(f)])return h.error("Branch labels must be unique.");a[String(f)]=s.length}var g=e.parse(c,l,n);if(!g)return null;n=n||g.type,s.push(g)}var m=e.parse(t[1],1,i);if(!m)return null;var v=e.parse(t[t.length-1],t.length-1,n);return v?new o(i,n,m,a,s,v):null},o.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},o.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../values":147}],136:[function(t,e,i){"use strict";var n=t("../types"),r=n.NumberType,o=t("../stops"),a=o.findStopLessThanOrEqualTo,s=function(t,e,i){var n=this;this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,o=i;r<o.length;r+=1){var a=o[r],s=a[0],l=a[1];n.labels.push(s),n.outputs.push(l)}};s.parse=function(t,e){var i=t[1],n=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,1,r)))return null;var o=[],a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType),n.unshift(-1/0);for(var l=0;l<n.length;l+=2){var u=n[l],c=n[l+1],h=l+1,p=l+2;if("number"!=typeof u)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(o.length&&o[o.length-1][0]>=u)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',h);var d=e.parse(c,p,a);if(!d)return null;a=a||d.type,o.push([u,d])}return new s(a,i,o)},s.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);var r=e.length;return n>=e[r-1]?i[r-1].evaluate(t):i[a(e,n)].evaluate(t)},s.prototype.eachChild=function(t){var e=this;t(this.input);for(var i=0,n=e.outputs;i<n.length;i+=1)t(n[i])},s.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=s},{"../stops":145,"../types":146}],137:[function(t,e,i){"use strict";var n=function(t,e){this.type=e,this.name=t};n.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new n(i,e.scope.get(i).type):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},n.prototype.evaluate=function(t){return t.scope.get(this.name).evaluate(t)},n.prototype.eachChild=function(){},n.prototype.possibleOutputs=function(){return[void 0]},e.exports=n},{}],138:[function(t,e,i){"use strict";var n=t("./scope"),r=t("./values"),o=r.Color,a=["Unknown","Point","LineString","Polygon"],s=function(){this.scope=new n,this._parseColorCache={}};s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},s.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?a[this.feature.type]:this.feature.type:null},s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},s.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},s.prototype.popScope=function(){this.scope=this.scope.parent},s.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=o.parse(t)),e},e.exports=s},{"./scope":144,"./values":147}],139:[function(t,e,i){"use strict";function n(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in x}function r(t,e,i){void 0===i&&(i={});var n=new p(x,[],l(e)),r=n.parse(t);return r?S(!1===i.handleErrors?new A(r):new T(r,e)):k(n.errors)}function o(t,e,i){if(void 0===i&&(i={}),t=r(t,e,i),"error"===t.result)return t;var n=t.value.expression,o=_.isFeatureConstant(n);if(!o&&!e["property-function"])return k([new h("","property expressions not supported")]);var a=_.isGlobalPropertyConstant(n,["zoom"]);if(!a&&!1===e["zoom-function"])return k([new h("","zoom expressions not supported")]);var l=s(n);return l||a?l instanceof h?k([l]):l instanceof v&&"piecewise-constant"===e.function?k([new h("",'"interpolate" expressions cannot be used with this property')]):S(l?new E(o?"camera":"composite",t.value,l):new M(o?"constant":"source",t.value)):k([new h("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function a(t,e){if(O(t))return new D(t,e);if(n(t)){var i=o(t,e);if("error"===i.result)throw new Error(i.value.map(function(t){return t.key+": "+t.message}).join(", "));return i.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=R.parse(t)),{kind:"constant",evaluate:function(){return r}}}function s(t){var e=null;if(t instanceof b)e=s(t.result);else if(t instanceof y)for(var i=0,n=t.args;i<n.length;i+=1){var r=n[i];if(e=s(r))break}else(t instanceof m||t instanceof v)&&t.input instanceof g&&"zoom"===t.input.name&&(e=t);return e instanceof h?e:(t.eachChild(function(t){var i=s(t);i instanceof h?e=i:!e&&i?e=new h("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new h("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e)}function l(t){var e={color:B,string:j,number:F,enum:j,boolean:N};return"array"===t.type?H(e[t.value]||V,t.length):e[t.type]||null}function u(t){return"color"===t.type&&O(t.default)?new R(0,0,0,0):"color"===t.type?R.parse(t.default)||null:void 0===t.default?null:t.default}var c=t("../util/extend"),h=t("./parsing_error"),p=t("./parsing_context"),d=t("./evaluation_context"),f=t("./compound_expression"),g=f.CompoundExpression,m=t("./definitions/step"),v=t("./definitions/interpolate"),y=t("./definitions/coalesce"),b=t("./definitions/let"),x=t("./definitions"),_=t("./is_constant"),w=t("./runtime_error"),C=t("../util/result"),S=C.success,k=C.error,A=function(t){this.expression=t};A.prototype.evaluate=function(t,e){return this._evaluator||(this._evaluator=new d),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)};var T=function(t){function e(e,i){t.call(this,e),this._warningHistory={},this._defaultValue=u(i),"enum"===i.type&&(this._enumValues=i.values)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.evaluate=function(t,e){this._evaluator||(this._evaluator=new d),this._evaluator.globals=t,this._evaluator.feature=e;try{var i=this.expression.evaluate(this._evaluator);if(null===i||void 0===i)return this._defaultValue;if(this._enumValues&&!(i in this._enumValues))throw new w("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(i)+" instead.");return i}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}},e}(A),M=function(t,e){this.kind=t,this._styleExpression=e};M.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)};var E=function(t,e,i){this.kind=t,this.zoomStops=i.labels,this._styleExpression=e,i instanceof v&&(this._interpolationType=i.interpolation)};E.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)},E.prototype.interpolationFactor=function(t,e,i){return this._interpolationType?v.interpolationFactor(this._interpolationType,t,e,i):0};var P=t("../function"),O=P.isFunction,I=P.createFunction,L=t("./values"),R=L.Color,D=function(t,e){this._parameters=t,this._specification=e,c(this,I(this._parameters,this._specification))};D.deserialize=function(t){return new D(t._parameters,t._specification)},D.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}},e.exports={StyleExpression:A,StyleExpressionWithErrorHandling:T,isExpression:n,createExpression:r,createPropertyExpression:o,normalizePropertyExpression:a,ZoomConstantExpression:M,ZoomDependentExpression:E,StylePropertyFunction:D};var z=t("./types"),B=z.ColorType,j=z.StringType,F=z.NumberType,N=z.BooleanType,V=z.ValueType,H=z.array},{"../function":149,"../util/extend":156,"../util/result":160,"./compound_expression":123,"./definitions":131,"./definitions/coalesce":128,"./definitions/interpolate":132,"./definitions/let":133,"./definitions/step":136,"./evaluation_context":138,"./is_constant":140,"./parsing_context":141,"./parsing_error":142,"./runtime_error":143,"./types":146,"./values":147}],140:[function(t,e,i){"use strict";function n(t){if(t instanceof a){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!n(t)&&(e=!1)}),e}function r(t,e){if(t instanceof a&&e.indexOf(t.name)>=0)return!1;var i=!0;return t.eachChild(function(t){i&&!r(t,e)&&(i=!1)}),i}var o=t("./compound_expression"),a=o.CompoundExpression;e.exports={isFeatureConstant:n,isGlobalPropertyConstant:r}},{"./compound_expression":123}],141:[function(t,e,i){"use strict";function n(e){var i=t("./compound_expression"),n=i.CompoundExpression,r=t("./is_constant"),o=r.isGlobalPropertyConstant,a=r.isFeatureConstant;if(e instanceof t("./definitions/var"))return!1;if(e instanceof n&&"error"===e.name)return!1;var s=!0;return e.eachChild(function(t){t instanceof l||(s=!1)}),!!s&&a(e)&&o(e,["zoom","heatmap-density"])}var r=t("./scope"),o=t("./types"),a=o.checkSubtype,s=t("./parsing_error"),l=t("./definitions/literal"),u=t("./definitions/assertion"),c=t("./definitions/array"),h=t("./definitions/coercion"),p=function(t,e,i,n,o){void 0===e&&(e=[]),void 0===n&&(n=new r),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=n,this.errors=o,this.expectedType=i};p.prototype.parse=function(e,i,r,o,a){void 0===a&&(a={});var s=this;if(i&&(s=s.concat(i,r,o)),null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return s.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var p=e[0];if("string"!=typeof p)return s.error("Expression name must be a string, but found "+typeof p+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var d=s.registry[p];if(d){var f=d.parse(e,s);if(!f)return null;if(s.expectedType){var g=s.expectedType,m=f.type;if("string"!==g.kind&&"number"!==g.kind&&"boolean"!==g.kind||"value"!==m.kind)if("array"===g.kind&&"value"===m.kind)a.omitTypeAnnotations||(f=new c(g,f));else if("color"!==g.kind||"value"!==m.kind&&"string"!==m.kind){if(s.checkSubtype(s.expectedType,f.type))return null}else a.omitTypeAnnotations||(f=new h(g,[f]));else a.omitTypeAnnotations||(f=new u(g,[f]))}if(!(f instanceof l)&&n(f)){var v=new(t("./evaluation_context"));try{f=new l(f.type,f.evaluate(v))}catch(e){return s.error(e.message),null}}return f}return s.error('Unknown expression "'+p+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?s.error("'undefined' value invalid. Use null instead."):"object"==typeof e?s.error('Bare objects invalid. Use ["literal", {...}] instead.'):s.error("Expected an array, but found "+typeof e+" instead.")},p.prototype.concat=function(t,e,i){var n="number"==typeof t?this.path.concat(t):this.path,r=i?this.scope.concat(i):this.scope;return new p(this.registry,n,e||null,r,this.errors)},p.prototype.error=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];var n=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new s(n,t))},p.prototype.checkSubtype=function(t,e){var i=a(t,e);return i&&this.error(i),i},e.exports=p},{"./compound_expression":123,"./definitions/array":124,"./definitions/assertion":125,"./definitions/coercion":129,"./definitions/literal":134,"./definitions/var":137,"./evaluation_context":138,"./is_constant":140,"./parsing_error":142,"./scope":144,"./types":146}],142:[function(t,e,i){"use strict";var n=function(t){function e(e,i){t.call(this,i),this.message=i,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.exports=n},{}],143:[function(t,e,i){"use strict";var n=function(t){this.name="ExpressionEvaluationError",this.message=t};n.prototype.toJSON=function(){return this.message},e.exports=n},{}],144:[function(t,e,i){"use strict";var n=function(t,e){var i=this;void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var o=r[n],a=o[0],s=o[1];i.bindings[a]=s}};n.prototype.concat=function(t){return new n(this,t)},n.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},n.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},e.exports=n},{}],145:[function(t,e,i){"use strict";function n(t,e){for(var i,n,o=t.length,a=0,s=o-1,l=0;a<=s;){if(l=Math.floor((a+s)/2),i=t[l],n=t[l+1],e===i||e>i&&e<n)return l;if(i<e)a=l+1;else{if(!(i>e))throw new r("Input is not a number.");s=l-1}}return Math.max(l-1,0)}var r=t("./runtime_error");e.exports={findStopLessThanOrEqualTo:n}},{"./runtime_error":143}],146:[function(t,e,i){"use strict";function n(t,e){return{kind:"array",itemType:t,N:e}}function r(t){if("array"===t.kind){var e=r(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function o(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!o(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var i=0,n=f;i<n.length;i+=1){var a=n[i];if(!o(a,e))return null}}return"Expected "+r(t)+" but found "+r(e)+" instead."}var a={kind:"null"},s={kind:"number"},l={kind:"string"},u={kind:"boolean"},c={kind:"color"},h={kind:"object"},p={kind:"value"},d={kind:"error"},f=[a,s,l,u,c,h,n(p)];e.exports={NullType:a,NumberType:s,StringType:l,BooleanType:u,ColorType:c,ObjectType:h,ValueType:p,array:n,ErrorType:d,toString:r,checkSubtype:o}},{}],147:[function(t,e,i){"use strict";function n(t,e,i,n){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[t,e,i,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,i,n]:[t,e,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function r(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof a)return!0;if(Array.isArray(t)){for(var e=0,i=t;e<i.length;e+=1)if(!r(i[e]))return!1;return!0}if("object"==typeof t){for(var n in t)if(!r(t[n]))return!1;return!0}return!1}function o(t){if(null===t)return l;if("string"==typeof t)return c;if("boolean"==typeof t)return h;if("number"==typeof t)return u;if(t instanceof a)return p;if(Array.isArray(t)){for(var e,i=t.length,n=0,r=t;n<r.length;n+=1){var s=r[n],m=o(s);if(e){if(e===m)continue;e=f;break}e=m}return g(e||f,i)}return d}var a=t("../util/color"),s=t("./types"),l=s.NullType,u=s.NumberType,c=s.StringType,h=s.BooleanType,p=s.ColorType,d=s.ObjectType,f=s.ValueType,g=s.array;e.exports={Color:a,validateRGBA:n,isValue:r,typeOf:o}},{"../util/color":153,"./types":146}],148:[function(t,e,i){"use strict";function n(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var r=i[e];if(!n(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}function r(t){if(!t)return function(){return!0};n(t)||(t=a(t));var e=d(t,f);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,i){return e.value.evaluate(t,i)}}function o(t,e){return t<e?-1:t>e?1:0}function a(t){if(!t)return!0;var e=t[0];return t.length<=1?"any"!==e:"=="===e?s(t[1],t[2],"=="):"!="===e?h(s(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e):"any"===e?l(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(a)):"none"===e?["all"].concat(t.slice(1).map(a).map(h)):"in"===e?u(t[1],t.slice(2)):"!in"===e?h(u(t[1],t.slice(2))):"has"===e?c(t[1]):"!has"!==e||h(c(t[1]))}function s(t,e,i){switch(t){case"$type":return["filter-type-"+i,e];case"$id":return["filter-id-"+i,e];default:return["filter-"+i,t,e]}}function l(t){return["any"].concat(t.map(a))}function u(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(o)]]:["filter-in-small",t,["literal",e]]}}function c(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function h(t){return["!",t]}var p=t("../expression"),d=p.createExpression;e.exports=r,e.exports.isExpressionFilter=n;var f={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":139}],149:[function(t,e,i){"use strict";function n(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function r(t){return t}function o(t,e){var i,n,r,h="color"===e.type,p=t.stops&&"object"==typeof t.stops[0][0],m=p||void 0!==t.property,v=p||!m,b=t.type||("interpolated"===e.function?"exponential":"interval");if(h&&(t=g({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],f.parse(t[1])]})),t.default?t.default=f.parse(t.default):t.default=f.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!d[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===b)i=u;else if("interval"===b)i=l;else if("categorical"===b){i=s,n=Object.create(null);for(var x=0,_=t.stops;x<_.length;x+=1){var w=_[x];n[w[0]]=w[1]}r=typeof t.stops[0][0]}else{if("identity"!==b)throw new Error('Unknown function type "'+b+'"');i=c}if(p){for(var C={},S=[],k=0;k<t.stops.length;k++){var A=t.stops[k],T=A[0].zoom;void 0===C[T]&&(C[T]={zoom:T,type:t.type,property:t.property,default:t.default,stops:[]},S.push(T)),C[T].stops.push([A[0].value,A[1]])}for(var M=[],E=0,P=S;E<P.length;E+=1){var O=P[E];M.push([C[O].zoom,o(C[O],e)])}return{kind:"composite",interpolationFactor:y.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:M.map(function(t){return t[0]}),evaluate:function(i,n){var r=i.zoom;return u({stops:M,base:t.base},e,r).evaluate(r,n)}}}return v?{kind:"camera",interpolationFactor:"exponential"===b?y.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(t){return t[0]}),evaluate:function(o){var a=o.zoom;return i(t,e,a,n,r)}}:{kind:"source",evaluate:function(o,s){var l=s&&s.properties?s.properties[t.property]:void 0;return void 0===l?a(t.default,e.default):i(t,e,l,n,r)}}}function a(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function s(t,e,i,n,r){return a(typeof i===r?n[i]:void 0,t.default,e.default)}function l(t,e,i){if("number"!==m(i))return a(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var r=h(t.stops,i);return t.stops[r][1]}function u(t,e,i){var n=void 0!==t.base?t.base:1;if("number"!==m(i))return a(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[o-1][0])return t.stops[o-1][1];var s=h(t.stops,i),l=p(i,n,t.stops[s][0],t.stops[s+1][0]),u=t.stops[s][1],c=t.stops[s+1][1],f=v[e.type]||r;if(t.colorSpace&&"rgb"!==t.colorSpace){var g=d[t.colorSpace];f=function(t,e){return g.reverse(g.interpolate(g.forward(t),g.forward(e),l))}}return"function"==typeof u.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=u.evaluate.apply(void 0,t),n=c.evaluate.apply(void 0,t);if(void 0!==i&&void 0!==n)return f(i,n,l)}}:f(u,c,l)}function c(t,e,i){return"color"===e.type?i=f.parse(i):m(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),a(i,t.default,e.default)}function h(t,e){for(var i,n,r=t.length,o=0,a=r-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),i=t[s][0],n=t[s+1][0],e===i||e>i&&e<n)return s;i<e?o=s+1:i>e&&(a=s-1)}return Math.max(s-1,0)}function p(t,e,i,n){var r=n-i,o=t-i;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var d=t("../util/color_spaces"),f=t("../util/color"),g=t("../util/extend"),m=t("../util/get_type"),v=t("../util/interpolate"),y=t("../expression/definitions/interpolate");e.exports={createFunction:o,isFunction:n}},{"../expression/definitions/interpolate":132,"../util/color":153,"../util/color_spaces":154,"../util/extend":156,"../util/get_type":157,"../util/interpolate":158}],150:[function(t,e,i){"use strict";function n(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",r=0,o=t;r<o.length;r+=1)i+=n(o[r])+",";return i+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+n(t[a[l]])+",";return s+"}"}function r(t){for(var e="",i=0,r=a;i<r.length;i+=1)e+="/"+n(t[r[i]]);return e}function o(t){for(var e={},i=0;i<t.length;i++){var n=r(t[i]),o=e[n];o||(o=e[n]=[]),o.push(t[i])}var a=[];for(var s in e)a.push(e[s]);return a}var a=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":159}],151:[function(t,e,i){"use strict";e.exports=t("./v8.json")},{"./v8.json":152}],152:[function(t,e,i){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],153:[function(t,e,i){"use strict";var n=t("csscolorparser"),r=n.parseCSSColor,o=function(t,e,i,n){void 0===n&&(n=1),this.r=t,this.g=e,this.b=i,this.a=n};o.parse=function(t){if(t){if(t instanceof o)return t;if("string"==typeof t){var e=r(t);if(e)return new o(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},o.prototype.toString=function(){var t=this,e=function(e){return Math.round(255*e/t.a)};return"rgba("+[this.r,this.g,this.b].map(e).concat(this.a).join(",")+")"},o.black=new o(0,0,0,1),o.white=new o(1,1,1,1),o.transparent=new o(0,0,0,0),e.exports=o},{csscolorparser:13}],154:[function(t,e,i){"use strict";function n(t){return t>w?Math.pow(t,1/3):t/_+b}function r(t){return t>x?t*t*t:_*(t-b)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t.r),i=a(t.g),r=a(t.b),o=n((.4124564*e+.3575761*i+.1804375*r)/m),s=n((.2126729*e+.7151522*i+.072175*r)/v);return{l:116*s-16,a:500*(o-s),b:200*(s-n((.0193339*e+.119192*i+.9503041*r)/y)),alpha:t.a}}function l(t){var e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=v*r(e),i=m*r(i),n=y*r(n),new f(o(3.2404542*i-1.5371385*e-.4985314*n),o(-.969266*i+1.8760108*e+.041556*n),o(.0556434*i-.2040259*e+1.0572252*n),t.alpha)}function u(t,e,i){return{l:g(t.l,e.l,i),a:g(t.a,e.a,i),b:g(t.b,e.b,i),alpha:g(t.alpha,e.alpha,i)}}function c(t){var e=s(t),i=e.l,n=e.a,r=e.b,o=Math.atan2(r,n)*S;return{h:o<0?o+360:o,c:Math.sqrt(n*n+r*r),l:i,alpha:t.a}}function h(t){var e=t.h*C,i=t.c;return l({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})}function p(t,e,i){var n=e-t;return t+i*(n>180||n<-180?n-360*Math.round(n/360):n)}function d(t,e,i){return{h:p(t.h,e.h,i),c:g(t.c,e.c,i),l:g(t.l,e.l,i),alpha:g(t.alpha,e.alpha,i)}}var f=t("./color"),g=t("./interpolate").number,m=.95047,v=1,y=1.08883,b=4/29,x=6/29,_=3*x*x,w=x*x*x,C=Math.PI/180,S=180/Math.PI;e.exports={lab:{forward:s,reverse:l,interpolate:u},hcl:{forward:c,reverse:h,interpolate:d}}},{"./color":153,"./interpolate":158}],155:[function(t,e,i){"use strict";function n(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!n(t[r],e[r]))return!1;return!0}return t===e}e.exports=n},{}],156:[function(t,e,i){"use strict";e.exports=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var n=0,r=e;n<r.length;n+=1){var o=r[n];for(var a in o)t[a]=o[a]}return t}},{}],157:[function(t,e,i){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],158:[function(t,e,i){"use strict";function n(t,e,i){return t*(1-i)+e*i}function r(t,e,i){return new a(n(t.r,e.r,i),n(t.g,e.g,i),n(t.b,e.b,i),n(t.a,e.a,i))}function o(t,e,i){return t.map(function(t,r){return n(t,e[r],i)})}var a=t("./color");e.exports={number:n,color:r,array:o}},{"./color":153}],159:[function(t,e,i){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],160:[function(t,e,i){"use strict";function n(t){return{result:"success",value:t}}function r(t){return{result:"error",value:t}}e.exports={success:n,error:r}},{}],161:[function(t,e,i){"use strict";function n(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function r(t){return Array.isArray(t)?t.map(r):n(t)}e.exports=n,e.exports.deep=r},{}],162:[function(t,e,i){"use strict";var n=t("../util/extend"),r=t("../util/unbundle_jsonlint"),o=t("../expression"),a=o.isExpression,s=t("../function"),l=s.isFunction;e.exports=function(e){var i=t("./validate_function"),o=t("./validate_expression"),s=t("./validate_object"),u={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},c=e.value,h=e.valueSpec,p=e.styleSpec;return h.function&&l(r(c))?i(e):h.function&&a(r.deep(c))?o(e):h.type&&u[h.type]?u[h.type](e):s(n({},e,{valueSpec:h.type?p[h.type]:h}))}},{"../expression":139,"../function":149,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate_array":163,"./validate_boolean":164,"./validate_color":165,"./validate_constants":166,"./validate_enum":167,"./validate_expression":168,"./validate_filter":169,"./validate_function":170,"./validate_layer":172,"./validate_light":174,"./validate_number":175,"./validate_object":176,"./validate_source":179,"./validate_string":180}],163:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||r;if("array"!==n(e))return[new o(l,e,"array expected, "+n(e)+" found")];if(i.length&&e.length!==i.length)return[new o(l,e,"array length "+i.length+" expected, length "+e.length+" found")];if(i["min-length"]&&e.length<i["min-length"])return[new o(l,e,"array length at least "+i["min-length"]+" expected, length "+e.length+" found")];var c={type:i.value};s.$version<7&&(c.function=i.function),"object"===n(i.value)&&(c=i.value);for(var h=[],p=0;p<e.length;p++)h=h.concat(u({array:e,arrayIndex:p,value:e[p],valueSpec:c,style:a,styleSpec:s,key:l+"["+p+"]"}));return h}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],164:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"boolean"!==o?[new r(i,e,"boolean expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],165:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,i=t.value,a=r(i);return"string"!==a?[new n(e,i,"color expected, "+a+" found")]:null===o(i)?[new n(e,i,'color expected, "'+i+'" found')]:[]}},{"../error/validation_error":122,"../util/get_type":157,csscolorparser:13}],166:[function(t,e,i){"use strict";var n=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.value;return i?[new n(e,i,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":122}],167:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(r(i))&&a.push(new n(e,i,"expected one of ["+o.values.join(", ")+"], "+JSON.stringify(i)+" found")):-1===Object.keys(o.values).indexOf(r(i))&&a.push(new n(e,i,"expected one of ["+Object.keys(o.values).join(", ")+"], "+JSON.stringify(i)+" found")),a}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161}],168:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../expression"),o=r.createExpression,a=r.createPropertyExpression,s=t("../util/unbundle_jsonlint");e.exports=function(t){var e=("property"===t.expressionContext?a:o)(s.deep(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new n(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new n(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":122,"../expression":139,"../util/unbundle_jsonlint":161}],169:[function(t,e,i){"use strict";function n(t){var e=t.value,i=t.key;if("array"!==s(e))return[new r(i,e,"array expected, "+s(e)+" found")];var o,u=t.styleSpec,c=[];if(e.length<1)return[new r(i,e,"filter array must have at least 1 element")];switch(c=c.concat(a({key:i+"[0]",value:e[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),l(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===l(e[1])&&c.push(new r(i,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&c.push(new r(i,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&"string"!==(o=s(e[1]))&&c.push(new r(i+"[1]",e[1],"string expected, "+o+" found"));for(var h=2;h<e.length;h++)o=s(e[h]),"$type"===l(e[1])?c=c.concat(a({key:i+"["+h+"]",value:e[h],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&c.push(new r(i+"["+h+"]",e[h],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var p=1;p<e.length;p++)c=c.concat(n({key:i+"["+p+"]",value:e[p],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=s(e[1]),2!==e.length?c.push(new r(i,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==o&&c.push(new r(i+"[1]",e[1],"string expected, "+o+" found"))}return c}var r=t("../error/validation_error"),o=t("./validate_expression"),a=t("./validate_enum"),s=t("../util/get_type"),l=t("../util/unbundle_jsonlint"),u=t("../util/extend"),c=t("../feature_filter"),h=c.isExpressionFilter;e.exports=function(t){return h(l.deep(t.value))?o(u({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):n(t)}},{"../error/validation_error":122,"../feature_filter":148,"../util/extend":156,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_expression":168}],170:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),l=t("./validate_number"),u=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new n(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:i})),"array"===r(o)&&0===o.length&&e.push(new n(t.key,o,"array must have at least one stop")),e}function i(t){var e=[],i=t.value,s=t.key;if("array"!==r(i))return[new n(s,i,"array expected, "+r(i)+" found")];if(2!==i.length)return[new n(s,i,"array length 2 expected, length "+i.length+" found")];if(x){if("object"!==r(i[0]))return[new n(s,i,"object expected, "+r(i[0])+" found")];if(void 0===i[0].zoom)return[new n(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new n(s,i,"object stop key must have value")];if(f&&f>u(i[0].zoom))return[new n(s,i[0].zoom,"stop zoom values must appear in ascending order")];u(i[0].zoom)!==f&&(f=u(i[0].zoom),d=void 0,v={}),e=e.concat(a({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:c}}))}else e=e.concat(c({key:s+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return e.concat(o({key:s+"[1]",value:i[1],valueSpec:g,style:t.style,styleSpec:t.styleSpec}))}function c(t,e){var i=r(t.value),o=u(t.value),a=null!==t.value?t.value:e;if(p){if(i!==p)return[new n(t.key,a,i+" stop domain type must match previous stop domain type "+p)]}else p=i;if("number"!==i&&"string"!==i&&"boolean"!==i)return[new n(t.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==i&&"categorical"!==m){var s="number expected, "+i+" found";return g["property-function"]&&void 0===m&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new n(t.key,a,s)]}return"categorical"!==m||"number"!==i||isFinite(o)&&Math.floor(o)===o?"categorical"!==m&&"number"===i&&void 0!==d&&o<d?[new n(t.key,a,"stop domain values must appear in ascending order")]:(d=o,"categorical"===m&&o in v?[new n(t.key,a,"stop domain values must be unique")]:(v[o]=!0,[])):[new n(t.key,a,"integer expected, found "+o)]}function h(t){return o({key:t.key,value:t.value,valueSpec:g,style:t.style,styleSpec:t.styleSpec})}var p,d,f,g=t.valueSpec,m=u(t.value.type),v={},y="categorical"!==m&&void 0===t.value.property,b=!y,x="array"===r(t.value.stops)&&"array"===r(t.value.stops[0])&&"object"===r(t.value.stops[0][0]),_=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:h}});return"identity"===m&&y&&_.push(new n(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||_.push(new n(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&_.push(new n(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(b&&!t.valueSpec["property-function"]?_.push(new n(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&_.push(new n(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!x||void 0!==t.value.property||_.push(new n(t.key,t.value,'"property" property is required')),_}},{"../error/validation_error":122,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_array":163,"./validate_number":175,"./validate_object":176}],171:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("./validate_string");e.exports=function(t){var e=t.value,i=t.key,o=r(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new n(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new n(i,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":122,"./validate_string":180}],172:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("./validate"),c=t("../util/extend");e.exports=function(t){var e=[],i=t.value,h=t.key,p=t.style,d=t.styleSpec;i.type||i.ref||e.push(new n(h,i,'either "type" or "ref" is required'));var f,g=r(i.type),m=r(i.ref);if(i.id)for(var v=r(i.id),y=0;y<t.arrayIndex;y++){var b=p.layers[y];r(b.id)===v&&e.push(new n(h,i.id,'duplicate layer id "'+i.id+'", previously used at line '+b.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new n(h,i[t],'"'+t+'" is prohibited for ref layers'))}),p.layers.forEach(function(t){r(t.id)===m&&(f=t)}),f?f.ref?e.push(new n(h,i.ref,"ref cannot reference another ref layer")):g=r(f.type):e.push(new n(h,i.ref,'ref layer "'+m+'" not found'));else if("background"!==g)if(i.source){var x=p.sources&&p.sources[i.source],_=x&&r(x.type);x?"vector"===_&&"raster"===g?e.push(new n(h,i.source,'layer "'+i.id+'" requires a raster source')):"raster"===_&&"raster"!==g?e.push(new n(h,i.source,'layer "'+i.id+'" requires a vector source')):"vector"!==_||i["source-layer"]?"raster-dem"===_&&"hillshade"!==g&&e.push(new n(h,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):e.push(new n(h,i,'layer "'+i.id+'" must specify a "source-layer"')):e.push(new n(h,i.source,'source "'+i.source+'" not found'))}else e.push(new n(h,i,'missing required property "source"'));return e=e.concat(o({key:h,value:i,valueSpec:d.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return u({key:h+".type",value:i.type,valueSpec:d.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"})},filter:a,layout:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(c({layerType:g},t))}}})},paint:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(c({layerType:g},t))}}})}}}))}},{"../error/validation_error":122,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_filter":169,"./validate_layout_property":173,"./validate_object":176,"./validate_paint_property":177}],173:[function(t,e,i){"use strict";var n=t("./validate_property");e.exports=function(t){return n(t,"layout")}},{"./validate_property":178}],174:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,i=t.styleSpec,a=i.light,s=t.style,l=[],u=r(e);if(void 0===e)return l;if("object"!==u)return l.concat([new n("light",e,"object expected, "+u+" found")]);for(var c in e){var h=c.match(/^(.*)-transition$/);l=h&&a[h[1]]&&a[h[1]].transition?l.concat(o({key:c,value:e[c],valueSpec:i.transition,style:s,styleSpec:i})):a[c]?l.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:i})):l.concat([new n(c,e[c],'unknown property "'+c+'"')])}return l}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],175:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,a=n(i);return"number"!==a?[new r(e,i,"number expected, "+a+" found")]:"minimum"in o&&i<o.minimum?[new r(e,i,i+" is less than the minimum value "+o.minimum)]:"maximum"in o&&i>o.maximum?[new r(e,i,i+" is greater than the maximum value "+o.maximum)]:[]}},{"../error/validation_error":122,"../util/get_type":157}],176:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,i=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],h=r(i);if("object"!==h)return[new n(e,i,"object expected, "+h+" found")];for(var p in i){var d=p.split(".")[0],f=a[d]||a["*"],g=void 0;if(s[d])g=s[d];else if(a[d])g=o;else if(s["*"])g=s["*"];else{if(!a["*"]){c.push(new n(e,i[p],'unknown property "'+p+'"'));continue}g=o}c=c.concat(g({key:(e?e+".":e)+p,value:i[p],valueSpec:f,style:l,styleSpec:u,object:i,objectKey:p},i))}for(var m in a)s[m]||a[m].required&&void 0===a[m].default&&void 0===i[m]&&c.push(new n(e,i,'missing required property "'+m+'"'));return c}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],177:[function(t,e,i){"use strict";var n=t("./validate_property");e.exports=function(t){return n(t,"paint")}},{"./validate_property":178}],178:[function(t,e,i){"use strict";var n=t("./validate"),r=t("../error/validation_error"),o=t("../util/get_type"),a=t("../function"),s=a.isFunction,l=t("../util/unbundle_jsonlint");e.exports=function(t,e){var i=t.key,a=t.style,u=t.styleSpec,c=t.value,h=t.objectKey,p=u[e+"_"+t.layerType];if(!p)return[];var d=h.match(/^(.*)-transition$/);if("paint"===e&&d&&p[d[1]]&&p[d[1]].transition)return n({key:i,value:c,valueSpec:u.transition,style:a,styleSpec:u});var f,g=t.valueSpec||p[h];if(!g)return[new r(i,c,'unknown property "'+h+'"')];if("string"===o(c)&&g["property-function"]&&!g.tokens&&(f=/^{([^}]+)}$/.exec(c)))return[new r(i,c,'"'+h+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(f[1])+" }`.")];var m=[];return"symbol"===t.layerType&&("text-field"===h&&a&&!a.glyphs&&m.push(new r(i,c,'use of "text-field" requires a style "glyphs" property')),"text-font"===h&&s(l.deep(c))&&"identity"===l(c.type)&&m.push(new r(i,c,'"text-font" does not support identity functions'))),m.concat(n({key:t.key,value:c,valueSpec:g,style:a,styleSpec:u,expressionContext:"property",propertyKey:h}))}},{"../error/validation_error":122,"../function":149,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162}],179:[function(t,e,i){"use strict";var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,i=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new n(i,e,'"type" is required')];var u=r(e.type),c=[];switch(u){case"vector":case"raster":case"raster-dem":if(c=c.concat(o({key:i,value:e,valueSpec:s["source_"+u.replace("-","_")],style:t.style,styleSpec:s})),"url"in e)for(var h in e)["type","url","tileSize"].indexOf(h)<0&&c.push(new n(i+"."+h,e[h],'a source with a "url" property may not include a "'+h+'" property'));return c;case"geojson":return o({key:i,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return o({key:i,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return o({key:i,value:e,valueSpec:s.source_image,style:l,styleSpec:s});case"canvas":return o({key:i,value:e,valueSpec:s.source_canvas,style:l,styleSpec:s});default:return a({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:l,styleSpec:s})}}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_object":176}],180:[function(t,e,i){"use strict";var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"string"!==o?[new r(i,e,"string expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],181:[function(t,e,i){"use strict";function n(t,e){e=e||l;var i=[];return i=i.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u,"*":function(){return[]}}})),t.constants&&(i=i.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(i)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("./reference/latest"),u=t("./validate/validate_glyphs_url");n.source=o(t("./validate/validate_source")),n.light=o(t("./validate/validate_light")),n.layer=o(t("./validate/validate_layer")),n.filter=o(t("./validate/validate_filter")),n.paintProperty=o(t("./validate/validate_paint_property")),n.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=n},{"./reference/latest":151,"./validate/validate":162,"./validate/validate_constants":166,"./validate/validate_filter":169,"./validate/validate_glyphs_url":171,"./validate/validate_layer":172,"./validate/validate_layout_property":173,"./validate/validate_light":174,"./validate/validate_paint_property":177,"./validate/validate_source":179}],182:[function(t,e,i){"use strict";var n=t("./zoom_history"),r=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new n,this.transition={})};r.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},e.exports=r},{"./zoom_history":212}],183:[function(t,e,i){"use strict";var n=t("../style-spec/reference/latest"),r=t("../util/util"),o=t("../util/evented"),a=t("./validate_style"),s=t("../util/util"),l=s.sphericalToCartesian,u=(t("../style-spec/util/color"),t("../style-spec/util/interpolate")),c=t("./properties"),h=c.Properties,p=c.Transitionable,d=(c.Transitioning,c.PossiblyEvaluated,c.DataConstantProperty),f=function(){this.specification=n.light.position};f.prototype.possiblyEvaluate=function(t,e){return l(t.expression.evaluate(e))},f.prototype.interpolate=function(t,e,i){return{x:u.number(t.x,e.x,i),y:u.number(t.y,e.y,i),z:u.number(t.z,e.z,i)}};var g=new h({anchor:new d(n.light.anchor),position:new f,color:new d(n.light.color),intensity:new d(n.light.intensity)}),m="-transition",v=function(t){function e(e){t.call(this),this._transitionable=new p(g),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLight=function(){return this._transitionable.serialize()},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var i in t){var n=t[i];r.endsWith(i,m)?e._transitionable.setTransition(i.slice(0,-m.length),n):e._transitionable.setValue(i,n)}},e.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},e.prototype.hasTransition=function(){return this._transitioning.hasTransition()},e.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,r.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:n})))},e}(o);e.exports=v},{"../style-spec/reference/latest":151,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/evented":260,"../util/util":275,"./properties":188,"./validate_style":211}],184:[function(t,e,i){"use strict";var n=t("../util/mapbox"),r=n.normalizeGlyphsURL,o=t("../util/ajax"),a=t("./parse_glyph_pbf");e.exports=function(t,e,i,n,s){var l=256*e,u=l+255,c=n(r(i).replace("{fontstack}",t).replace("{range}",l+"-"+u),o.ResourceType.Glyphs);o.getArrayBuffer(c,function(t,e){if(t)s(t);else if(e){for(var i={},n=0,r=a(e.data);n<r.length;n+=1){var o=r[n];i[o.id]=o}s(null,i)}})}},{"../util/ajax":251,"../util/mapbox":267,"./parse_glyph_pbf":186}],185:[function(t,e,i){"use strict";var n=t("../util/ajax"),r=t("../util/browser"),o=t("../util/mapbox"),a=o.normalizeSpriteURL,s=t("../util/image"),l=s.RGBAImage;e.exports=function(t,e,i){function o(){if(c)i(c);else if(s&&u){var t=r.getImageData(u),e={};for(var n in s){var o=s[n],a=o.width,h=o.height,p=o.x,d=o.y,f=o.sdf,g=o.pixelRatio,m=new l({width:a,height:h});l.copy(t,m,{x:p,y:d},{x:0,y:0},{width:a,height:h}),e[n]={data:m,pixelRatio:g,sdf:f}}i(null,e)}}var s,u,c,h=r.devicePixelRatio>1?"@2x":"";n.getJSON(e(a(t,h,".json"),n.ResourceType.SpriteJSON),function(t,e){c||(c=t,s=e,o())}),n.getImage(e(a(t,h,".png"),n.ResourceType.SpriteImage),function(t,e){c||(c=t,u=e,o())})}},{"../util/ajax":251,"../util/browser":252,"../util/image":263,"../util/mapbox":267}],186:[function(t,e,i){"use strict";function n(t,e,i){1===t&&i.readMessage(r,e)}function r(t,e,i){if(3===t){var n=i.readMessage(o,{}),r=n.id,a=n.bitmap,l=n.width,c=n.height,h=n.left,p=n.top,d=n.advance;e.push({id:r,bitmap:new s({width:l+2*u,height:c+2*u},a),metrics:{width:l,height:c,left:h,top:p,advance:d}})}}function o(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}var a=t("../util/image"),s=a.AlphaImage,l=t("pbf"),u=3;e.exports=function(t){return new l(t).readFields(n,[])},e.exports.GLYPH_PBF_BORDER=u},{"../util/image":263,pbf:30}],187:[function(t,e,i){"use strict";var n=t("../util/browser"),r=t("../symbol/placement"),o=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};o.prototype.continuePlacement=function(t,e,i,n,r){for(var o=this;this._currentTileIndex<t.length;){var a=t[o._currentTileIndex];if(e.placeLayerTile(n,a,i,o._seenCrossTileIDs),o._currentTileIndex++,r())return!0}};var a=function(t,e,i,n,o){this.placement=new r(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=n,this._done=!1};a.prototype.isDone=function(){return this._done},a.prototype.continuePlacement=function(t,e,i){for(var r=this,a=n.now(),s=function(){var t=n.now()-a;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var l=t[r._currentPlacementIndex],u=e[l],c=r.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=c)&&(!u.maxzoom||u.maxzoom>c)){if(r._inProgressLayer||(r._inProgressLayer=new o),r._inProgressLayer.continuePlacement(i[u.source],r.placement,r._showCollisionBoxes,u,s))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},a.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement},e.exports=a},{"../symbol/placement":223,"../util/browser":252}],188:[function(t,e,i){"use strict";var n=t("../util/util"),r=n.clone,o=n.extend,a=n.easeCubicInOut,s=t("../style-spec/util/interpolate"),l=t("../style-spec/expression"),u=l.normalizePropertyExpression,c=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),h=c.register,p=function(t,e){this.property=t,this.value=e,this.expression=u(void 0===e?t.specification.default:e,t.specification)};p.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},p.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var d=function(t){this.property=t,this.value=new p(t,void 0)};d.prototype.transitioned=function(t,e){return new g(this.property,this.value,e,o({},t.transition,this.transition),t.now)},d.prototype.untransitioned=function(){return new g(this.property,this.value,null,{},0)};var f=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};f.prototype.getValue=function(t){return r(this._values[t].value.value)},f.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].value=new p(this._values[t].property,null===e?void 0:r(e))},f.prototype.getTransition=function(t){return r(this._values[t].transition)},f.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].transition=r(e)||void 0},f.prototype.serialize=function(){for(var t=this,e={},i=0,n=Object.keys(t._values);i<n.length;i+=1){var r=n[i],o=t.getValue(r);void 0!==o&&(e[r]=o);var a=t.getTransition(r);void 0!==a&&(e[r+"-transition"]=a)}return e},f.prototype.transitioned=function(t,e){for(var i=this,n=new m(this._properties),r=0,o=Object.keys(i._values);r<o.length;r+=1){var a=o[r];n._values[a]=i._values[a].transitioned(t,e._values[a])}return n},f.prototype.untransitioned=function(){for(var t=this,e=new m(this._properties),i=0,n=Object.keys(t._values);i<n.length;i+=1){var r=n[i];e._values[r]=t._values[r].untransitioned()}return e};var g=function(t,e,i,n,r){this.property=t,this.value=e,this.begin=r+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&&(n.delay||n.duration)&&(this.prior=i)};g.prototype.possiblyEvaluate=function(t){var e=t.now||0,i=this.value.possiblyEvaluate(t),n=this.prior;if(n){if(e>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(e<this.begin)return n.possiblyEvaluate(t);var r=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(t),i,a(r))}return i};var m=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};m.prototype.possiblyEvaluate=function(t){for(var e=this,i=new b(this._properties),n=0,r=Object.keys(e._values);n<r.length;n+=1){var o=r[n];i._values[o]=e._values[o].possiblyEvaluate(t)}return i},m.prototype.hasTransition=function(){for(var t=this,e=0,i=Object.keys(t._values);e<i.length;e+=1){var n=i[e];if(t._values[n].prior)return!0}return!1};var v=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};v.prototype.getValue=function(t){return r(this._values[t].value)},v.prototype.setValue=function(t,e){this._values[t]=new p(this._values[t].property,null===e?void 0:r(e))},v.prototype.serialize=function(){for(var t=this,e={},i=0,n=Object.keys(t._values);i<n.length;i+=1){var r=n[i],o=t.getValue(r);void 0!==o&&(e[r]=o)}return e},v.prototype.possiblyEvaluate=function(t){for(var e=this,i=new b(this._properties),n=0,r=Object.keys(e._values);n<r.length;n+=1){var o=r[n];i._values[o]=e._values[o].possiblyEvaluate(t)}return i};var y=function(t,e,i){this.property=t,this.value=e,this.globals=i};y.prototype.isConstant=function(){return"constant"===this.value.kind},y.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},y.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var b=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};b.prototype.get=function(t){return this._values[t]};var x=function(t){this.specification=t};x.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},x.prototype.interpolate=function(t,e,i){var n=s[this.specification.type];return n?n(t,e,i):t};var _=function(t){this.specification=t};_.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new y(this,{kind:"constant",value:t.expression.evaluate(e)},e):new y(this,t.expression,e)},_.prototype.interpolate=function(t,e,i){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==e.value.value){var n=s[this.specification.type];return n?new y(this,{kind:"constant",value:n(t.value.value,e.value.value,i)},t.globals):t}},_.prototype.evaluate=function(t,e,i){return"constant"===t.kind?t.value:t.evaluate(e,i)};var w=function(t){this.specification=t};w.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var i=t.expression.evaluate(e);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}},w.prototype._calculate=function(t,e,i,n){var r=n.zoom,o=r-Math.floor(r),a=n.crossFadingFactor();return r>n.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:i,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}},w.prototype.interpolate=function(t){return t};var C=function(t){this.specification=t};C.prototype.possiblyEvaluate=function(){},C.prototype.interpolate=function(){};var S=function(t){var e=this;for(var i in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},t){var n=t[i],r=e.defaultPropertyValues[i]=new p(n,void 0),o=e.defaultTransitionablePropertyValues[i]=new d(n);e.defaultTransitioningPropertyValues[i]=o.untransitioned(),e.defaultPossiblyEvaluatedValues[i]=r.possiblyEvaluate({})}};h("DataDrivenProperty",_),h("DataConstantProperty",x),h("CrossFadedProperty",w),h("HeatmapColorProperty",C),e.exports={PropertyValue:p,Transitionable:f,Transitioning:m,Layout:v,PossiblyEvaluatedPropertyValue:y,PossiblyEvaluated:b,DataConstantProperty:x,DataDrivenProperty:_,CrossFadedProperty:w,HeatmapColorProperty:C,Properties:S}},{"../style-spec/expression":139,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/util":275,"../util/web_worker_transfer":278}],189:[function(t,e,i){"use strict";function n(t,e,i){var n=e.paint.get(t).value;return"constant"===n.kind?n.value:i.programConfigurations.get(e.id).binders[t].statistics.max}function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e,i,n,r){if(!e[0]&&!e[1])return t;var o=a.convert(e);"viewport"===i&&o._rotate(-n);for(var s=[],l=0;l<t.length;l++){for(var u=t[l],c=[],h=0;h<u.length;h++)c.push(u[h].sub(o._mult(r)));s.push(c)}return s}var a=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:n,translateDistance:r,translate:o}},{"@mapbox/point-geometry":4}],190:[function(t,e,i){"use strict";var n=t("../util/evented"),r=t("./style_layer"),o=t("./load_sprite"),a=t("../render/image_manager"),s=t("../render/glyph_manager"),l=t("./light"),u=t("../render/line_atlas"),c=t("../util/util"),h=t("../util/ajax"),p=t("../util/mapbox"),d=t("../util/browser"),f=t("../util/dispatcher"),g=t("./validate_style"),m=t("../source/source").getType,v=t("../source/source").setType,y=t("../source/query_features"),b=t("../source/source_cache"),x=(t("../source/geojson_source"),t("../style-spec/reference/latest")),_=t("../util/global_worker_pool"),w=t("../style-spec/deref"),C=t("../style-spec/diff"),S=t("../source/rtl_text_plugin"),k=t("./pauseable_placement"),A=t("./zoom_history"),T=t("../symbol/cross_tile_symbol_index"),M=c.pick(C.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),E=c.pick(C.operations,["setCenter","setZoom","setBearing","setPitch"]),P=function(t){function e(e,i){var n=this;void 0===i&&(i={}),t.call(this),this.map=e,this.dispatcher=new f(_(),this),this.imageManager=new a,this.glyphManager=new s(e._transformRequest,i.localIdeographFontFamily),this.lineAtlas=new u(256,512),this.crossTileSymbolIndex=new T,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new A,this._loaded=!1,this._resetUpdates();var r=this;this._rtlTextPluginCallback=S.registerForPluginAvailability(function(t){for(var e in r.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback),r.sourceCaches)r.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=n.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var r in n._layers){var o=n._layers[r];o.source===i.id&&n._validateLayer(o)}}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadURL=function(t,e){var i=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"});var n="boolean"==typeof e.validate?e.validate:!p.isMapboxURL(t);t=p.normalizeStyleURL(t,e.accessToken);var r=this.map._transformRequest(t,h.ResourceType.Style);h.getJSON(r,function(t,e){t?i.fire("error",{error:t}):e&&i._load(e,n)})},e.prototype.loadJSON=function(t,e){var i=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"}),d.frame(function(){i._load(t,!1!==e.validate)})},e.prototype._load=function(t,e){var i=this;if(!e||!g.emitErrors(this,g(t))){for(var n in this._loaded=!0,this.stylesheet=t,t.sources)i.addSource(n,t.sources[n],{validate:!1});t.sprite?o(t.sprite,this.map._transformRequest,function(t,e){if(t)i.fire("error",t);else if(e)for(var n in e)i.imageManager.addImage(n,e[n]);i.imageManager.setLoaded(!0),i.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var a=w(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,u=a;s<u.length;s+=1){var c=u[s];c=r.create(c),c.setEventedParent(i,{layer:{id:c.id}}),i._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new l(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var i=t.sourceLayer;if(i){var n=e.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire("error",{error:new Error('Source layer "'+i+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')})}}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype.hasTransitions=function(){var t=this;if(this.light&&this.light.hasTransition())return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].hasTransition())return!0;for(var i in t._layers)if(t._layers[i].hasTransition())return!0;return!1},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t){var e=this;if(this._loaded){if(this._changed){var i=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);for(var r in(i.length||n.length)&&this._updateWorkerLayers(i,n),e._updatedSources){var o=e._updatedSources[r];"reload"===o?e._reloadSource(r):"clear"===o&&e._clearSource(r)}for(var a in e._updatedPaintProps)e._layers[a].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var s in e.sourceCaches)e.sourceCaches[s].used=!1;for(var l=0,u=e._order;l<u.length;l+=1){var c=u[l],h=e._layers[c];h.recalculate(t),!h.isHidden(t.zoom)&&h.source&&(e.sourceCaches[h.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},e.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),g.emitErrors(this,g(t)))return!1;t=c.clone(t),t.layers=w(t.layers);var i=C(this.serialize(),t).filter(function(t){return!(t.command in E)});if(0===i.length)return!1;var n=i.filter(function(t){return!(t.command in M)});if(n.length>0)throw new Error("Unimplemented: "+n.map(function(t){return t.command}).join(", ")+".");return i.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addImage=function(t,e){if(this.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},e.prototype.getImage=function(t){return this.imageManager.getImage(t)},e.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},e.prototype.addSource=function(t,e,i){var n=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(g.source,"sources."+t,e,null,i))){this.map&&this.map._collectResourceTiming&&(e.collectResourceTiming=!0);var r=this.sourceCaches[t]=new b(t,e,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:n.loaded(),source:r.serialize(),sourceId:t}}),r.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){var e=this;if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var i in e._layers)if(e._layers[i].source===t)return e.fire("error",{error:new Error('Source "'+t+'" cannot be removed while layer "'+i+'" is using it.')});var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},e.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,i){this._checkLoaded();var n=t.id;if("object"==typeof t.source&&(this.addSource(n,t.source),t=c.clone(t),t=c.extend(t,{source:n})),!this._validate(g.layer,"layers."+n,t,{arrayIndex:-1},i)){var o=r.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:n}});var a=e?this._order.indexOf(e):this._order.length;if(e&&-1===a)return void this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')});if(this._order.splice(a,0,n),this._layerOrderChanged=!0,this._layers[n]=o,this._removedLayers[n]&&o.source){var s=this._removedLayers[n];delete this._removedLayers[n],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o)}},e.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,this._layers[t]){var i=this._order.indexOf(t);this._order.splice(i,1);var n=e?this._order.indexOf(e):this._order.length;e&&-1===n?this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')}):(this._order.splice(n,0,t),this._layerOrderChanged=!0)}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")})},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(e){e.setEventedParent(null);var i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")})},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);n?n.minzoom===e&&n.maxzoom===i||(null!=e&&(n.minzoom=e),null!=i&&(n.maxzoom=i),this._updateLayer(n)):this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},e.prototype.setFilter=function(t,e){this._checkLoaded();var i=this.getLayer(t);if(i)return c.deepEqual(i.filter,e)?void 0:null===e||void 0===e?(i.filter=void 0,void this._updateLayer(i)):void(this._validate(g.filter,"layers."+i.id+".filter",e)||(i.filter=c.clone(e),this._updateLayer(i)));this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);n?c.deepEqual(n.getLayoutProperty(e),i)||(n.setLayoutProperty(e,i),this._updateLayer(n)):this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);if(n){if(!c.deepEqual(n.getPaintProperty(e),i)){var r=n._transitionablePaint._values[e].value.isDataDriven();n.setPaintProperty(e,i),(n._transitionablePaint._values[e].value.isDataDriven()||r)&&this._updateLayer(n),this._changed=!0,this._updatedPaintProps[t]=!0}}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,i=[],n=this._order.length-1;n>=0;n--)for(var r=e._order[n],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s[r];if(l)for(var u=0,c=l;u<c.length;u+=1){var h=c[u];i.push(h)}}return i},e.prototype.queryRenderedFeatures=function(t,e,i,n){var r=this;e&&e.filter&&this._validate(g.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=e.layers;a<s.length;a+=1){var l=s[a],u=r._layers[l];if(!u)return r.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."}),[];o[u.source]=!0}}var c=[];for(var h in r.sourceCaches)if(!e.layers||o[h]){var p=y.rendered(r.sourceCaches[h],r._layers,t,e,i,n,r.placement?r.placement.collisionIndex:null);c.push(p)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(g.filter,"querySourceFeatures.filter",e.filter);var i=this.sourceCaches[t];return i?y.source(i,e):[]},e.prototype.addSourceType=function(t,e,i){return m(t)?i(new Error('A source type called "'+t+'" already exists.')):(v(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t){this._checkLoaded();var e=this.light.getLight(),i=!1;for(var n in t)if(!c.deepEqual(t[n],e[n])){i=!0;break}if(i){var r={now:d.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(r)}},e.prototype._validate=function(t,e,i,n,r){return(!r||!1!==r.validate)&&g.emitErrors(this,t.call(g,c.extend({key:e,style:this.serialize(),value:i,styleSpec:x},n)))},e.prototype._remove=function(){var t=this;for(var e in S.evented.off("pluginAvailable",this._rtlTextPluginCallback),t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var i in e.sourceCaches)e.sourceCaches[i].update(t)},e.prototype._generateCollisionBoxes=function(){var t=this;for(var e in t.sourceCaches)t._reloadSource(e)},e.prototype._updatePlacement=function(t,e,i){for(var n=this,r=!1,o=!1,a={},s=0,l=n._order;s<l.length;s+=1){var u=l[s],c=n._layers[u];if("symbol"===c.type){if(!a[c.source]){var h=n.sourceCaches[c.source];a[c.source]=h.getRenderableIds().map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=n.crossTileSymbolIndex.addLayer(c,a[c.source]);r=r||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.now()))&&(this.pauseablePlacement=new k(t,this._order,f,e,i),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,d.now()),o=!0),r&&this.pauseablePlacement.placement.setStale()),o||r)for(var g=0,m=n._order;g<m.length;g+=1){var v=m[g],y=n._layers[v];"symbol"===y.type&&n.placement.updateLayerOpacities(y,a[y.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.now())},e.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},e.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},e}(n);e.exports=P},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":109,"../source/source":110,"../source/source_cache":111,"../style-spec/deref":120,"../style-spec/diff":121,"../style-spec/reference/latest":151,"../symbol/cross_tile_symbol_index":218,"../util/ajax":251,"../util/browser":252,"../util/dispatcher":258,"../util/evented":260,"../util/global_worker_pool":262,"../util/mapbox":267,"../util/util":275,"./light":183,"./load_sprite":185,"./pauseable_placement":187,"./style_layer":191,"./validate_style":211,"./zoom_history":212}],191:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../style-spec/reference/latest"),o=t("./validate_style"),a=t("../util/evented"),s=t("./properties"),l=s.Layout,u=s.Transitionable,c=(s.Transitioning,s.Properties,"-transition"),h=function(t){function e(e,i){var n=this;for(var r in t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},i.layout&&(this._unevaluatedLayout=new l(i.layout)),this._transitionablePaint=new u(i.paint),e.paint)n.setPaintProperty(r,e.paint[r],{validate:!1});for(var o in e.layout)n.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,i){if(null!==e&&void 0!==e){var n="layers."+this.id+".layout."+t;if(this._validate(o.layoutProperty,n,t,e,i))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"},e.prototype.getPaintProperty=function(t){return n.endsWith(t,c)?this._transitionablePaint.getTransition(t.slice(0,-c.length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,i){if(null!==e&&void 0!==e){var r="layers."+this.id+".paint."+t;if(this._validate(o.paintProperty,r,t,e,i))return}n.endsWith(t,c)?this._transitionablePaint.setTransition(t.slice(0,-c.length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),n.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,i,n,a){return(!a||!1!==a.validate)&&o.emitErrors(this,t.call(o,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:r,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(a);e.exports=h;var p={circle:t("./style_layer/circle_style_layer"),heatmap:t("./style_layer/heatmap_style_layer"),hillshade:t("./style_layer/hillshade_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:t("./style_layer/background_style_layer"),raster:t("./style_layer/raster_style_layer")};h.create=function(t){return new p[t.type](t)}},{"../style-spec/reference/latest":151,"../util/evented":260,"../util/util":275,"./properties":188,"./style_layer/background_style_layer":192,"./style_layer/circle_style_layer":194,"./style_layer/fill_extrusion_style_layer":196,"./style_layer/fill_style_layer":198,"./style_layer/heatmap_style_layer":200,"./style_layer/hillshade_style_layer":202,"./style_layer/line_style_layer":204,"./style_layer/raster_style_layer":206,"./style_layer/symbol_style_layer":208,"./validate_style":211}],192:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("./background_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n));e.exports=a},{"../properties":188,"../style_layer":191,"./background_style_layer_properties":193}],193:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty),l=(r.HeatmapColorProperty,new o({"background-color":new a(n.paint_background["background-color"]),"background-pattern":new s(n.paint_background["background-pattern"]),"background-opacity":new a(n.paint_background["background-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],194:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/circle_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsBufferedMultiPoint,s=t("../query_utils"),l=s.getMaximumPaintValue,u=s.translateDistance,c=s.translate,h=t("./circle_style_layer_properties"),p=t("../properties"),d=(p.Transitionable,p.Transitioning,p.PossiblyEvaluated,function(t){function e(e){t.call(this,e,h)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(t){var e=t;return l("circle-radius",this,e)+l("circle-stroke-width",this,e)+u(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,r,o){var s=c(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),r,o),l=this.paint.get("circle-radius").evaluate(e)*o,u=this.paint.get("circle-stroke-width").evaluate(e)*o;return a(s,i,l+u)},e}(n));e.exports=d},{"../../data/bucket/circle_bucket":42,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./circle_style_layer_properties":195}],195:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty,new o({"circle-radius":new s(n.paint_circle["circle-radius"]),"circle-color":new s(n.paint_circle["circle-color"]),"circle-blur":new s(n.paint_circle["circle-blur"]),"circle-opacity":new s(n.paint_circle["circle-opacity"]),"circle-translate":new a(n.paint_circle["circle-translate"]),"circle-translate-anchor":new a(n.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(n.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(n.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(n.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(n.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(n.paint_circle["circle-stroke-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],196:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/fill_extrusion_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_extrusion_style_layer_properties"),h=t("../properties"),p=(h.Transitionable,h.Transitioning,h.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,r,o){var s=u(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),r,o);return a(s,i)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(n));e.exports=p},{"../../data/bucket/fill_extrusion_bucket":46,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_extrusion_style_layer_properties":197}],197:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"fill-extrusion-opacity":new a(n["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(n["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(n["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(n["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new l(n["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(n["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(n["paint_fill-extrusion"]["fill-extrusion-base"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],198:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/fill_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_style_layer_properties"),h=t("../properties"),p=(h.Transitionable,h.Transitioning,h.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,n,r,o){var s=u(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),r,o);return a(s,i)},e}(n));e.exports=p},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_style_layer_properties":199}],199:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"fill-antialias":new a(n.paint_fill["fill-antialias"]),"fill-opacity":new s(n.paint_fill["fill-opacity"]),"fill-color":new s(n.paint_fill["fill-color"]),"fill-outline-color":new s(n.paint_fill["fill-outline-color"]),"fill-translate":new a(n.paint_fill["fill-translate"]),"fill-translate-anchor":new a(n.paint_fill["fill-translate-anchor"]),"fill-pattern":new l(n.paint_fill["fill-pattern"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],200:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/heatmap_bucket"),o=t("../../util/image").RGBAImage,a=t("./heatmap_style_layer_properties"),s=t("../properties"),l=(s.Transitionable,s.Transitioning,s.PossiblyEvaluated,function(t){function e(e){t.call(this,e,a),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.setPaintProperty=function(e,i,n){t.prototype.setPaintProperty.call(this,e,i,n),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),i=e.length,n=4;n<i;n+=4){var r=t.evaluate({heatmapDensity:n/i});e[n+0]=Math.floor(255*r.r/r.a),e[n+1]=Math.floor(255*r.g/r.a),e[n+2]=Math.floor(255*r.b/r.a),e[n+3]=Math.floor(255*r.a)}this.colorRamp=new o({width:256,height:1},e),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(n));e.exports=l},{"../../data/bucket/heatmap_bucket":47,"../../util/image":263,"../properties":188,"../style_layer":191,"./heatmap_style_layer_properties":201}],201:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty),u=new o({"heatmap-radius":new s(n.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(n.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(n.paint_heatmap["heatmap-intensity"]),"heatmap-color":new l(n.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(n.paint_heatmap["heatmap-opacity"])});e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],202:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("./hillshade_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(n));e.exports=a},{"../properties":188,"../style_layer":191,"./hillshade_style_layer_properties":203}],203:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty,r.HeatmapColorProperty,new o({"hillshade-illumination-direction":new a(n.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(n.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(n.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(n.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(n.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(n.paint_hillshade["hillshade-accent-color"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],204:[function(t,e,i){"use strict";function n(t,e){return e>0?e+2*t:t}function r(t,e){for(var i=[],n=new o(0,0),r=0;r<t.length;r++){for(var a=t[r],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],h=a[l+1],p=0===l?n:c.sub(u)._unit()._perp(),d=l===a.length-1?n:h.sub(c)._unit()._perp(),f=p._add(d)._unit(),g=f.x*d.x+f.y*d.y;f._mult(1/g),s.push(f._mult(e)._add(c))}i.push(s)}return i}var o=t("@mapbox/point-geometry"),a=t("../style_layer"),s=t("../../data/bucket/line_bucket"),l=t("../../util/intersection_tests"),u=l.multiPolygonIntersectsBufferedMultiLine,c=t("../query_utils"),h=c.getMaximumPaintValue,p=c.translateDistance,d=c.translate,f=t("./line_style_layer_properties"),g=t("../../util/util"),m=g.extend,v=t("../evaluation_parameters"),y=t("../properties"),b=(y.Transitionable,y.Transitioning,y.Layout,y.PossiblyEvaluated,y.DataDrivenProperty),x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,i){return i=new v(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,zoomHistory:i.zoomHistory,transition:i.transition}),t.prototype.possiblyEvaluate.call(this,e,i)},e.prototype.evaluate=function(e,i,n){return i=m({},i,{zoom:Math.floor(i.zoom)}),t.prototype.evaluate.call(this,e,i,n)},e}(b),_=new x(f.paint.properties["line-width"].specification);_.useIntegerZoom=!0;var w=function(t){function e(e){t.call(this,e,f)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=_.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new s(t)},e.prototype.queryRadius=function(t){var e=t,i=n(h("line-width",this,e),h("line-gap-width",this,e)),r=h("line-offset",this,e);return i/2+Math.abs(r)+p(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,i,o,a,s){var l=d(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,s),c=s/2*n(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),h=this.paint.get("line-offset").evaluate(e);return h&&(i=r(i,h*s)),u(l,i,c)},e}(a);e.exports=w},{"../../data/bucket/line_bucket":49,"../../util/intersection_tests":264,"../../util/util":275,"../evaluation_parameters":182,"../properties":188,"../query_utils":189,"../style_layer":191,"./line_style_layer_properties":205,"@mapbox/point-geometry":4}],205:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"line-cap":new a(n.layout_line["line-cap"]),"line-join":new s(n.layout_line["line-join"]),"line-miter-limit":new a(n.layout_line["line-miter-limit"]),"line-round-limit":new a(n.layout_line["line-round-limit"])})),c=new o({"line-opacity":new s(n.paint_line["line-opacity"]),"line-color":new s(n.paint_line["line-color"]),"line-translate":new a(n.paint_line["line-translate"]),"line-translate-anchor":new a(n.paint_line["line-translate-anchor"]),"line-width":new s(n.paint_line["line-width"]),"line-gap-width":new s(n.paint_line["line-gap-width"]),"line-offset":new s(n.paint_line["line-offset"]),"line-blur":new s(n.paint_line["line-blur"]),"line-dasharray":new l(n.paint_line["line-dasharray"]),"line-pattern":new l(n.paint_line["line-pattern"])});e.exports={paint:c,layout:u}},{"../../style-spec/reference/latest":151,"../properties":188}],206:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("./raster_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(n));e.exports=a},{"../properties":188,"../style_layer":191,"./raster_style_layer_properties":207}],207:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty,r.HeatmapColorProperty,new o({"raster-opacity":new a(n.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(n.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(n.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(n.paint_raster["raster-brightness-max"]),"raster-saturation":new a(n.paint_raster["raster-saturation"]),"raster-contrast":new a(n.paint_raster["raster-contrast"]),"raster-fade-duration":new a(n.paint_raster["raster-fade-duration"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],208:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/symbol_bucket"),o=t("../../util/token"),a=t("../../style-spec/expression"),s=a.isExpression,l=t("./symbol_style_layer_properties"),u=t("../properties"),c=(u.Transitionable,u.Transitioning,u.Layout,u.PossiblyEvaluated,function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var i=this.layout.get(t).evaluate(e),n=this._unevaluatedLayout._values[t];return n.isDataDriven()||s(n.value)?i:o(e.properties,i)},e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(n));e.exports=c},{"../../data/bucket/symbol_bucket":51,"../../style-spec/expression":139,"../../util/token":274,"../properties":188,"../style_layer":191,"./symbol_style_layer_properties":209}],209:[function(t,e,i){"use strict";var n=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty,new o({"symbol-placement":new a(n.layout_symbol["symbol-placement"]),"symbol-spacing":new a(n.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(n.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(n.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(n.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(n.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(n.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(n.layout_symbol["icon-size"]),"icon-text-fit":new a(n.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(n.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(n.layout_symbol["icon-image"]),"icon-rotate":new s(n.layout_symbol["icon-rotate"]),"icon-padding":new a(n.layout_symbol["icon-padding"]),"icon-keep-upright":new a(n.layout_symbol["icon-keep-upright"]),"icon-offset":new s(n.layout_symbol["icon-offset"]),"icon-anchor":new s(n.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(n.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(n.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(n.layout_symbol["text-rotation-alignment"]),"text-field":new s(n.layout_symbol["text-field"]),"text-font":new s(n.layout_symbol["text-font"]),"text-size":new s(n.layout_symbol["text-size"]),"text-max-width":new s(n.layout_symbol["text-max-width"]),"text-line-height":new a(n.layout_symbol["text-line-height"]),"text-letter-spacing":new s(n.layout_symbol["text-letter-spacing"]),"text-justify":new s(n.layout_symbol["text-justify"]),"text-anchor":new s(n.layout_symbol["text-anchor"]),"text-max-angle":new a(n.layout_symbol["text-max-angle"]),"text-rotate":new s(n.layout_symbol["text-rotate"]),"text-padding":new a(n.layout_symbol["text-padding"]),"text-keep-upright":new a(n.layout_symbol["text-keep-upright"]),"text-transform":new s(n.layout_symbol["text-transform"]),"text-offset":new s(n.layout_symbol["text-offset"]),"text-allow-overlap":new a(n.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(n.layout_symbol["text-ignore-placement"]),"text-optional":new a(n.layout_symbol["text-optional"])})),u=new o({"icon-opacity":new s(n.paint_symbol["icon-opacity"]),"icon-color":new s(n.paint_symbol["icon-color"]),"icon-halo-color":new s(n.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(n.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(n.paint_symbol["icon-halo-blur"]),"icon-translate":new a(n.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(n.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(n.paint_symbol["text-opacity"]),"text-color":new s(n.paint_symbol["text-color"]),"text-halo-color":new s(n.paint_symbol["text-halo-color"]),"text-halo-width":new s(n.paint_symbol["text-halo-width"]),"text-halo-blur":new s(n.paint_symbol["text-halo-blur"]),"text-translate":new a(n.paint_symbol["text-translate"]),"text-translate-anchor":new a(n.paint_symbol["text-translate-anchor"])});e.exports={paint:u,layout:l}},{"../../style-spec/reference/latest":151,"../properties":188}],210:[function(t,e,i){"use strict";var n=t("./style_layer"),r=t("../util/util"),o=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var i=this,s=0,l=t;s<l.length;s+=1){var u=l[s];i._layerConfigs[u.id]=u;var c=i._layers[u.id]=n.create(u);c._featureFilter=o(c.filter)}for(var h=0,p=e;h<p.length;h+=1){var d=p[h];delete i._layerConfigs[d],delete i._layers[d]}this.familiesBySource={};for(var f=a(r.values(this._layerConfigs)),g=0,m=f;g<m.length;g+=1){var v=m[g],y=v.map(function(t){return i._layers[t.id]}),b=y[0];if("none"!==b.visibility){var x=b.source||"",_=i.familiesBySource[x];_||(_=i.familiesBySource[x]={});var w=b.sourceLayer||"_geojsonTileLayer",C=_[w];C||(C=_[w]=[]),C.push(y)}}},e.exports=s},{"../style-spec/feature_filter":148,"../style-spec/group_by_layout":150,"../util/util":275,"./style_layer":191}],211:[function(t,e,i){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var i=0,n=e;i<n.length;i+=1){var r=n[i],o=r.message;t.fire("error",{error:new Error(o)})}return!0}return!1}},{"../style-spec/validate_style.min":181}],212:[function(t,e,i){"use strict";var n=function(){this.first=!0};n.prototype.update=function(t,e){var i=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=i,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=i,!0):(this.lastFloorZoom>i?(this.lastIntegerZoom=i+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<i&&(this.lastIntegerZoom=i,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=i,!0))},e.exports=n},{}],213:[function(t,e,i){"use strict";var n=t("@mapbox/point-geometry"),r=t("../util/web_worker_transfer"),o=r.register,a=function(t){function e(e,i,n,r){t.call(this,e,i),this.angle=n,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(n);o("Anchor",a),e.exports=a},{"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],214:[function(t,e,i){"use strict";function n(t,e,i,n,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-i/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<i/2;){var c=t[a-1],h=t[a],p=t[a+1];if(!p)return!1;var d=c.angleTo(h)-h.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>r)return!1;a++,s+=h.dist(p)}return!0}e.exports=n},{}],215:[function(t,e,i){"use strict";function n(t,e,i,n,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var h=l[c],p=l[c+1];h.x<e&&p.x<e||(h.x<e?h=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round():p.x<e&&(p=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round()),h.y<i&&p.y<i||(h.y<i?h=new r(h.x+(p.x-h.x)*((i-h.y)/(p.y-h.y)),i)._round():p.y<i&&(p=new r(h.x+(p.x-h.x)*((i-h.y)/(p.y-h.y)),i)._round()),h.x>=n&&p.x>=n||(h.x>=n?h=new r(n,h.y+(p.y-h.y)*((n-h.x)/(p.x-h.x)))._round():p.x>=n&&(p=new r(n,h.y+(p.y-h.y)*((n-h.x)/(p.x-h.x)))._round()),h.y>=o&&p.y>=o||(h.y>=o?h=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o)._round():p.y>=o&&(p=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o)._round()),u&&h.equals(u[u.length-1])||(u=[h],a.push(u)),u.push(p)))))}return a}var r=t("@mapbox/point-geometry");e.exports=n},{"@mapbox/point-geometry":4}],216:[function(t,e,i){"use strict";var n=function(t,e,i,n,r,o,a,s,l,u,c){var h=a.top*s-l,p=a.bottom*s+l,d=a.left*s-l,f=a.right*s+l;if(this.boxStartIndex=t.length,u){var g=p-h,m=f-d;g>0&&(g=Math.max(10*s,g),this._addLineCollisionCircles(t,e,i,i.segment,m,g,n,r,o,c))}else t.emplaceBack(i.x,i.y,d,h,f,p,n,r,o,0,0);this.boxEndIndex=t.length};n.prototype._addLineCollisionCircles=function(t,e,i,n,r,o,a,s,l,u){var c=o/2,h=Math.floor(r/c),p=1+.4*Math.log(u)/Math.LN2,d=Math.floor(h*p/2),f=-o/2,g=i,m=n+1,v=f,y=-r/2,b=y-r/4;do{if(--m<0){if(v>y)return;m=0;break}v-=e[m].dist(g),g=e[m]}while(v>b);for(var x=e[m].dist(e[m+1]),_=-d;_<h+d;_++){var w=_*c,C=y+w;if(w<0&&(C+=w),w>r&&(C+=w-r),!(C<v)){for(;v+x<C;){if(v+=x,++m+1>=e.length)return;x=e[m].dist(e[m+1])}var S=C-v,k=e[m],A=e[m+1],T=A.sub(k)._unit()._mult(S)._add(k)._round(),M=Math.abs(C-f)<c?0:.8*(C-f);t.emplaceBack(T.x,T.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,M)}}},e.exports=n},{}],217:[function(t,e,i){"use strict";function n(t,e,i){t[e+4]=i?1:0}var r=t("@mapbox/point-geometry"),o=t("../util/intersection_tests"),a=t("./grid_index"),s=t("@mapbox/gl-matrix"),l=(s.mat4,t("../symbol/projection")),u=100,c=function(t,e,i){void 0===e&&(e=new a(t.width+2*u,t.height+2*u,25)),void 0===i&&(i=new a(t.width+2*u,t.height+2*u,25)),this.transform=t,this.grid=e,this.ignoredGrid=i,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+u,this.screenBottomBoundary=t.height+u};c.prototype.placeCollisionBox=function(t,e,i,n){var r=this.projectAndGetPerspectiveRatio(n,t.anchorPointX,t.anchorPointY),o=i*r.perspectiveRatio,a=t.x1*o+r.point.x,s=t.y1*o+r.point.y,l=t.x2*o+r.point.x,u=t.y2*o+r.point.y;return!e&&this.grid.hitTest(a,s,l,u)?{box:[],offscreen:!1}:{box:[a,s,l,u],offscreen:this.isOffscreen(a,s,l,u)}},c.prototype.approximateTileDistance=function(t,e,i,n,r){var o=r?1:n/this.pitchfactor,a=t.lastSegmentViewportDistance*i;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},c.prototype.placeCollisionCircles=function(t,e,i,o,a,s,u,c,h,p,d,f,g){var m=this,v=[],y=this.projectAnchor(p,s.anchorX,s.anchorY),b={},x=h/24,_=s.lineOffsetX*h,w=s.lineOffsetY*h,C=new r(s.anchorX,s.anchorY),S=l.project(C,d).point,k=l.placeFirstAndLastGlyph(x,c,_,w,!1,S,C,s,u,d,b,!0),A=!1,T=!0,M=y.perspectiveRatio*o,E=1/(o*i),P=0,O=0;k&&(P=this.approximateTileDistance(k.first.tileDistance,k.first.angle,E,y.cameraDistance,g),O=this.approximateTileDistance(k.last.tileDistance,k.last.angle,E,y.cameraDistance,g));for(var I=0;I<t.length;I+=5){var L=t[I],R=t[I+1],D=t[I+2],z=t[I+3];if(!k||z<-P||z>O)n(t,I,!1);else{var B=m.projectPoint(p,L,R),j=D*M;if(v.length>0){var F=B.x-v[v.length-4],N=B.y-v[v.length-3];if(j*j*2>F*F+N*N&&I+8<t.length){var V=t[I+8];if(V>-P&&V<O){n(t,I,!1);continue}}}var H=I/5;if(v.push(B.x,B.y,j,H),n(t,I,!0),T=T&&m.isOffscreen(B.x-j,B.y-j,B.x+j,B.y+j),!e&&m.grid.hitTestCircle(B.x,B.y,j)){if(!f)return{circles:[],offscreen:!1};A=!0}}}return{circles:A?[]:v,offscreen:T}},c.prototype.queryRenderedSymbols=function(t,e,i,n,a,s){var l=this,u={},c=[];if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return c;for(var h=this.transform.calculatePosMatrix(e.toUnwrapped()),p=[],d=1/0,f=1/0,g=-1/0,m=-1/0,v=0;v<t.length;v++)for(var y=t[v],b=0;b<y.length;b++){var x=l.projectPoint(h,y[b].x,y[b].y);d=Math.min(d,x.x),f=Math.min(f,x.y),g=Math.max(g,x.x),m=Math.max(m,x.y),p.push(x)}for(var _=e.key,w=[],C=this.grid.query(d,f,g,m),S=0;S<C.length;S++)C[S].sourceID===a&&C[S].tileID===_&&s[C[S].bucketInstanceId]&&w.push(C[S].boxIndex);for(var k=this.ignoredGrid.query(d,f,g,m),A=0;A<k.length;A++)k[A].sourceID===a&&k[A].tileID===_&&s[k[A].bucketInstanceId]&&w.push(k[A].boxIndex);for(var T=0;T<w.length;T++){var M=n.get(w[T]),E=M.sourceLayerIndex,P=M.featureIndex,O=M.bucketIndex;if(void 0===u[E]&&(u[E]={}),void 0===u[E][P]&&(u[E][P]={}),!u[E][P][O]){var I=l.projectAndGetPerspectiveRatio(h,M.anchorPointX,M.anchorPointY),L=i*I.perspectiveRatio,R=M.x1*L+I.point.x,D=M.y1*L+I.point.y,z=M.x2*L+I.point.x,B=M.y2*L+I.point.y,j=[new r(R,D),new r(z,D),new r(z,B),new r(R,B)];o.polygonIntersectsPolygon(p,j)&&(u[E][P][O]=!0,c.push(w[T]))}}return c},c.prototype.insertCollisionBox=function(t,e,i,n,r,o){var a=e?this.ignoredGrid:this.grid,s={tileID:i,sourceID:n,bucketInstanceId:r,boxIndex:o};a.insert(s,t[0],t[1],t[2],t[3])},c.prototype.insertCollisionCircles=function(t,e,i,n,r,o){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:i,sourceID:n,bucketInstanceId:r,boxIndex:o+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},c.prototype.projectAnchor=function(t,e,i){var n=[e,i,0,1];return l.xyTransformMat4(n,n,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},c.prototype.projectPoint=function(t,e,i){var n=[e,i,0,1];return l.xyTransformMat4(n,n,t),new r((n[0]/n[3]+1)/2*this.transform.width+u,(-n[1]/n[3]+1)/2*this.transform.height+u)},c.prototype.projectAndGetPerspectiveRatio=function(t,e,i){var n=[e,i,0,1];return l.xyTransformMat4(n,n,t),{point:new r((n[0]/n[3]+1)/2*this.transform.width+u,(-n[1]/n[3]+1)/2*this.transform.height+u),perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5}},c.prototype.isOffscreen=function(t,e,i,n){return i<u||t>=this.screenRightBoundary||n<u||e>this.screenBottomBoundary},e.exports=c},{"../symbol/projection":224,"../util/intersection_tests":264,"./grid_index":220,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],218:[function(t,e,i){"use strict";var n=t("../data/extent"),r=512/n/2,o=function(t,e,i){var n=this;this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(var r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.key;n.indexedSymbolInstances[s]||(n.indexedSymbolInstances[s]=[]),n.indexedSymbolInstances[s].push({crossTileID:a.crossTileID,coord:n.getScaledCoordinates(a,t)})}};o.prototype.getScaledCoordinates=function(t,e){var i=e.canonical.z-this.tileID.canonical.z,o=r/Math.pow(2,i),a=t.anchor;return{x:Math.floor((e.canonical.x*n+a.x)*o),y:Math.floor((e.canonical.y*n+a.y)*o)}},o.prototype.findMatches=function(t,e,i){for(var n=this,r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,a=t;o<a.length;o+=1){var s=a[o];if(!s.crossTileID){var l=n.indexedSymbolInstances[s.key];if(l)for(var u=n.getScaledCoordinates(s,e),c=0,h=l;c<h.length;c+=1){var p=h[c];if(Math.abs(p.coord.x-u.x)<=r&&Math.abs(p.coord.y-u.y)<=r&&!i[p.crossTileID]){i[p.crossTileID]=!0,s.crossTileID=p.crossTileID;break}}}}};var a=function(){this.maxCrossTileID=0};a.prototype.generate=function(){return++this.maxCrossTileID};var s=function(){this.indexes={},this.usedCrossTileIDs={}};s.prototype.addBucket=function(t,e,i){var n=this;if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0,a=e.symbolInstances;r<a.length;r+=1)a[r].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var s=this.usedCrossTileIDs[t.overscaledZ];for(var l in n.indexes){var u=n.indexes[l];if(Number(l)>t.overscaledZ)for(var c in u){var h=u[c];h.tileID.isChildOf(t)&&h.findMatches(e.symbolInstances,t,s)}else{var p=t.scaledTo(Number(l)),d=u[p.key];d&&d.findMatches(e.symbolInstances,t,s)}}for(var f=0,g=e.symbolInstances;f<g.length;f+=1){var m=g[f];m.crossTileID||(m.crossTileID=i.generate(),s[m.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new o(t,e.symbolInstances,e.bucketInstanceId),!0},s.prototype.removeBucketCrossTileIDs=function(t,e){var i=this;for(var n in e.indexedSymbolInstances)for(var r=0,o=e.indexedSymbolInstances[n];r<o.length;r+=1){var a=o[r];delete i.usedCrossTileIDs[t][a.crossTileID]}},s.prototype.removeStaleBuckets=function(t){var e=this,i=!1;for(var n in e.indexes){var r=e.indexes[n];for(var o in r)t[r[o].bucketInstanceId]||(e.removeBucketCrossTileIDs(n,r[o]),delete r[o],i=!0)}return i};var l=function(){this.layerIndexes={},this.crossTileIDs=new a,this.maxBucketInstanceId=0};l.prototype.addLayer=function(t,e){var i=this,n=this.layerIndexes[t.id];void 0===n&&(n=this.layerIndexes[t.id]=new s);for(var r=!1,o={},a=0,l=e;a<l.length;a+=1){var u=l[a],c=u.getBucket(t);c&&(c.bucketInstanceId||(c.bucketInstanceId=++i.maxBucketInstanceId),n.addBucket(u.tileID,c,i.crossTileIDs)&&(r=!0),o[c.bucketInstanceId]=!0)}return n.removeStaleBuckets(o)&&(r=!0),r},l.prototype.pruneUnusedLayers=function(t){var e=this,i={};for(var n in t.forEach(function(t){i[t]=!0}),e.layerIndexes)i[n]||delete e.layerIndexes[n]},e.exports=l},{"../data/extent":53}],219:[function(t,e,i){"use strict";function n(t,e,i,n,o,a,s,l,u){var c=n?.6*a*s:0,h=Math.max(n?n.right-n.left:0,o?o.right-o.left:0),p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-h*s<e/4&&(e=h*s+e/4);var d=2*a;return r(t,p?e/2*l%e:(h/2+d)*s*l%e,e,c,i,h*s,p,!1,u)}function r(t,e,i,n,l,u,c,h,p){for(var d=u/2,f=0,g=0;g<t.length-1;g++)f+=t[g].dist(t[g+1]);for(var m=0,v=e-i,y=[],b=0;b<t.length-1;b++){for(var x=t[b],_=t[b+1],w=x.dist(_),C=_.angleTo(x);v+i<m+w;){v+=i;var S=(v-m)/w,k=o(x.x,_.x,S),A=o(x.y,_.y,S);if(k>=0&&k<p&&A>=0&&A<p&&v-d>=0&&v+d<=f){var T=new a(k,A,C,b);T._round(),n&&!s(t,T,u,n,l)||y.push(T)}}m+=w}return h||y.length||c||(y=r(t,m/2,i,n,l,u,c,!0,p)),y}var o=t("../style-spec/util/interpolate").number,a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=n},{"../style-spec/util/interpolate":158,"../symbol/anchor":213,"./check_max_angle":214}],220:[function(t,e,i){"use strict";var n=function(t,e,i){var n=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(e/i);for(var o=0;o<this.xCellCount*this.yCellCount;o++)n.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};n.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},n.prototype.insert=function(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},n.prototype.insertCircle=function(t,e,i,n){this._forEachCell(e-n,i-n,e+n,i+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(i),this.circles.push(n)},n.prototype._insertBoxCell=function(t,e,i,n,r,o){this.boxCells[r].push(o)},n.prototype._insertCircleCell=function(t,e,i,n,r,o){this.circleCells[r].push(o)},n.prototype._query=function(t,e,i,n,r){if(i<0||t>this.width||n<0||e>this.height)return!r&&[];var o=[];if(t<=0&&e<=0&&this.width<=i&&this.height<=n)o=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:r,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,i,n,this._queryCell,o,a)}return r?o.length>0:o},n.prototype._queryCircle=function(t,e,i,n){var r=t-i,o=t+i,a=e-i,s=e+i;if(o<0||r>this.width||s<0||a>this.height)return!n&&[];var l=[],u={hitTest:n,circle:{x:t,y:e,radius:i},seenUids:{box:{},circle:{}}};return this._forEachCell(r,a,o,s,this._queryCellCircle,l,u),n?l.length>0:l},n.prototype.query=function(t,e,i,n){return this._query(t,e,i,n,!1)},n.prototype.hitTest=function(t,e,i,n){return this._query(t,e,i,n,!0)},n.prototype.hitTestCircle=function(t,e,i){return this._queryCircle(t,e,i,!0)},n.prototype._queryCell=function(t,e,i,n,r,o,a){var s=this,l=a.seenUids,u=this.boxCells[r];if(null!==u)for(var c=this.bboxes,h=0,p=u;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(t<=c[f+2]&&e<=c[f+3]&&i>=c[f+0]&&n>=c[f+1]){if(a.hitTest)return o.push(!0),!0;o.push(s.boxKeys[d])}}}var g=this.circleCells[r];if(null!==g)for(var m=this.circles,v=0,y=g;v<y.length;v+=1){var b=y[v];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(s._circleAndRectCollide(m[x],m[x+1],m[x+2],t,e,i,n)){if(a.hitTest)return o.push(!0),!0;o.push(s.circleKeys[b])}}}},n.prototype._queryCellCircle=function(t,e,i,n,r,o,a){var s=this,l=a.circle,u=a.seenUids,c=this.boxCells[r];if(null!==c)for(var h=this.bboxes,p=0,d=c;p<d.length;p+=1){var f=d[p];if(!u.box[f]){u.box[f]=!0;var g=4*f;if(s._circleAndRectCollide(l.x,l.y,l.radius,h[g+0],h[g+1],h[g+2],h[g+3]))return o.push(!0),!0}}var m=this.circleCells[r];if(null!==m)for(var v=this.circles,y=0,b=m;y<b.length;y+=1){var x=b[y];if(!u.circle[x]){u.circle[x]=!0;var _=3*x;if(s._circlesCollide(v[_],v[_+1],v[_+2],l.x,l.y,l.radius))return o.push(!0),!0}}},n.prototype._forEachCell=function(t,e,i,n,r,o,a){for(var s=this,l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(i),h=this._convertToYCellCoord(n),p=l;p<=c;p++)for(var d=u;d<=h;d++){var f=s.xCellCount*d+p;if(r.call(s,t,e,i,n,f,o,a))return}},n.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},n.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},n.prototype._circlesCollide=function(t,e,i,n,r,o){var a=n-t,s=r-e,l=i+o;return l*l>a*a+s*s},n.prototype._circleAndRectCollide=function(t,e,i,n,r,o,a){var s=(o-n)/2,l=Math.abs(t-(n+s));if(l>s+i)return!1;var u=(a-r)/2,c=Math.abs(e-(r+u));if(c>u+i)return!1;if(l<=s||c<=u)return!0;var h=l-s,p=c-u;return h*h+p*p<=i*i},e.exports=n},{}],221:[function(t,e,i){"use strict";e.exports=function(t){function e(e){s.push(t[e]),l++}function i(t,e,i){var n=a[t];return delete a[t],a[e]=n,s[n].geometry[0].pop(),s[n].geometry[0]=s[n].geometry[0].concat(i[0]),n}function n(t,e,i){var n=o[e];return delete o[e],o[t]=n,s[n].geometry[0].shift(),s[n].geometry[0]=i[0].concat(s[n].geometry[0]),n}function r(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var o={},a={},s=[],l=0,u=0;u<t.length;u++){var c=t[u],h=c.geometry,p=c.text;if(p){var d=r(p,h),f=r(p,h,!0);if(d in a&&f in o&&a[d]!==o[f]){var g=n(d,f,h),m=i(d,f,s[g].geometry);delete o[d],delete a[f],a[r(p,s[m].geometry,!0)]=m,s[g].geometry=null}else d in a?i(d,f,h):f in o?n(d,f,h):(e(u),o[d]=l-1,a[f]=l-1)}else e(u)}return s.filter(function(t){return t.geometry})}},{}],222:[function(t,e,i){"use strict";var n=t("../util/web_worker_transfer"),r=n.register,o=function(){this.opacity=0,this.targetOpacity=0,this.time=0};o.prototype.clone=function(){var t=new o;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},r("OpacityState",o),e.exports=o},{"../util/web_worker_transfer":278}],223:[function(t,e,i){"use strict";function n(t,e,i){t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0),t.emplaceBack(e?1:0,i?1:0)}function r(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,i=Math.floor(127*t.opacity);return i*g+e*m+i*v+e*y+i*b+e*x+i*_+e}var o=t("./collision_index"),a=t("../data/extent"),s=t("./symbol_size"),l=t("./projection"),u=t("../style/style_layer/symbol_style_layer_properties").layout,c=t("../source/pixels_to_tile_units"),h=function(t,e,i,n){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):n&&i?1:0,this.placed=i};h.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var p=function(t,e,i,n,r){this.text=new h(t?t.text:null,e,i,r),this.icon=new h(t?t.icon:null,e,n,r)};p.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var d=function(t,e,i){this.text=t,this.icon=e,this.skipFade=i},f=function(t,e){this.transform=t.clone(),this.collisionIndex=new o(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};f.prototype.placeLayerTile=function(t,e,i,n){var r=e.getBucket(t);if(r){var o=r.layers[0].layout,s=Math.pow(2,this.transform.zoom-e.tileID.overscaledZ),u=e.tileSize/a,h=this.transform.calculatePosMatrix(e.tileID.toUnwrapped()),p=l.getLabelPlaneMatrix(h,"map"===o.get("text-pitch-alignment"),"map"===o.get("text-rotation-alignment"),this.transform,c(e,1,this.transform.zoom)),d=l.getLabelPlaneMatrix(h,"map"===o.get("icon-pitch-alignment"),"map"===o.get("icon-rotation-alignment"),this.transform,c(e,1,this.transform.zoom));this.placeLayerBucket(r,h,p,d,s,u,i,n,e.collisionBoxArray,e.tileID.key,t.source)}},f.prototype.placeLayerBucket=function(t,e,i,n,r,o,a,l,c,h,p){for(var f=this,g=t.layers[0].layout,m=s.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,u.properties["text-size"]),v=!t.hasTextData()||g.get("text-optional"),y=!t.hasIconData()||g.get("icon-optional"),b=0,x=t.symbolInstances;b<x.length;b+=1){var _=x[b];if(!l[_.crossTileID]){var w=!1,C=!1,S=!0,k=null,A=null,T=null;_.collisionArrays||(_.collisionArrays=t.deserializeCollisionBoxes(c,_.textBoxStartIndex,_.textBoxEndIndex,_.iconBoxStartIndex,_.iconBoxEndIndex)),_.collisionArrays.textBox&&(k=f.collisionIndex.placeCollisionBox(_.collisionArrays.textBox,g.get("text-allow-overlap"),o,e),w=k.box.length>0,S=S&&k.offscreen);var M=_.collisionArrays.textCircles;if(M){var E=t.text.placedSymbolArray.get(_.placedTextSymbolIndices[0]),P=s.evaluateSizeForFeature(t.textSizeData,m,E);A=f.collisionIndex.placeCollisionCircles(M,g.get("text-allow-overlap"),r,o,_.key,E,t.lineVertexArray,t.glyphOffsetArray,P,e,i,a,"map"===g.get("text-pitch-alignment")),w=g.get("text-allow-overlap")||A.circles.length>0,S=S&&A.offscreen}_.collisionArrays.iconBox&&(T=f.collisionIndex.placeCollisionBox(_.collisionArrays.iconBox,g.get("icon-allow-overlap"),o,e),C=T.box.length>0,S=S&&T.offscreen),v||y?y?v||(C=C&&w):w=C&&w:C=w=C&&w,w&&k&&f.collisionIndex.insertCollisionBox(k.box,g.get("text-ignore-placement"),h,p,t.bucketInstanceId,_.textBoxStartIndex),C&&T&&f.collisionIndex.insertCollisionBox(T.box,g.get("icon-ignore-placement"),h,p,t.bucketInstanceId,_.iconBoxStartIndex),w&&A&&f.collisionIndex.insertCollisionCircles(A.circles,g.get("text-ignore-placement"),h,p,t.bucketInstanceId,_.textBoxStartIndex),f.placements[_.crossTileID]=new d(w,C,S||t.justReloaded),l[_.crossTileID]=!0}}t.justReloaded=!1},f.prototype.commit=function(t,e){var i=this;this.commitTime=e;var n=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var a in i.placements){var s=i.placements[a],l=o[a];l?(i.opacities[a]=new p(l,r,s.text,s.icon),n=n||s.text!==l.text.placed||s.icon!==l.icon.placed):(i.opacities[a]=new p(null,r,s.text,s.icon,s.skipFade),n=n||s.text||s.icon)}for(var u in o){var c=o[u];if(!i.opacities[u]){var h=new p(c,r,!1,!1);h.isHidden()||(i.opacities[u]=h,n=n||c.text.placed||c.icon.placed)}}n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},f.prototype.updateLayerOpacities=function(t,e){for(var i=this,n={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.getBucket(t);s&&i.updateBucketOpacities(s,n,a.collisionBoxArray)}},f.prototype.updateBucketOpacities=function(t,e,i){var o=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var a=t.layers[0].layout,s=new p(null,0,a.get("text-allow-overlap"),a.get("icon-allow-overlap"),!0),l=0;l<t.symbolInstances.length;l++){var u=t.symbolInstances[l],c=e[u.crossTileID],h=o.opacities[u.crossTileID];h?c&&(h=s):(h=s,o.opacities[u.crossTileID]=h),e[u.crossTileID]=!0;var d=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,f=u.numIconVertices>0;if(d){for(var g=r(h.text),m=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,v=0;v<m;v++)t.text.opacityVertexArray.emplaceBack(g);for(var y=0,b=u.placedTextSymbolIndices;y<b.length;y+=1){var x=b[y];t.text.placedSymbolArray.get(x).hidden=h.text.isHidden()}}if(f){for(var _=r(h.icon),w=0;w<u.numIconVertices/4;w++)t.icon.opacityVertexArray.emplaceBack(_);t.icon.placedSymbolArray.get(l).hidden=h.icon.isHidden()}u.collisionArrays||(u.collisionArrays=t.deserializeCollisionBoxes(i,u.textBoxStartIndex,u.textBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex));var C=u.collisionArrays;if(C){C.textBox&&t.hasCollisionBoxData()&&n(t.collisionBox.collisionVertexArray,h.text.placed,!1),C.iconBox&&t.hasCollisionBoxData()&&n(t.collisionBox.collisionVertexArray,h.icon.placed,!1);var S=C.textCircles;if(S&&t.hasCollisionCircleData())for(var k=0;k<S.length;k+=5){var A=c||0===S[k+4];n(t.collisionCircle.collisionVertexArray,h.text.placed,A)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},f.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},f.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},f.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},f.prototype.setStale=function(){this.stale=!0};var g=Math.pow(2,25),m=Math.pow(2,24),v=Math.pow(2,17),y=Math.pow(2,16),b=Math.pow(2,9),x=Math.pow(2,8),_=Math.pow(2,1);e.exports=f},{"../data/extent":53,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"./collision_index":217,"./projection":224,"./symbol_size":228}],224:[function(t,e,i){"use strict";function n(t,e,i,n,r){var o=v.identity(new Float32Array(16));return e?(v.identity(o),v.scale(o,o,[1/r,1/r,1]),i||v.rotateZ(o,o,n.angle)):(v.scale(o,o,[n.width/2,-n.height/2,1]),v.translate(o,o,[1,-1,0]),v.multiply(o,o,t)),o}function r(t,e,i,n,r){var o=v.identity(new Float32Array(16));return e?(v.multiply(o,o,t),v.scale(o,o,[r,r,1]),i||v.rotateZ(o,o,-n.angle)):(v.scale(o,o,[1,-1,1]),v.translate(o,o,[-1,-1,0]),v.scale(o,o,[2/n.width,2/n.height,1])),o}function o(t,e){var i=[t.x,t.y,0,1];f(i,i,e);var n=i[3];return{point:new g(i[0]/n,i[1]/n),signedDistanceFromCamera:n}}function a(t,e){var i=t[0]/t[3],n=t[1]/t[3];return i>=-e[0]&&i<=e[0]&&n>=-e[1]&&n<=e[1]}function s(t,e,i,n,r,s,l,u){var h=n?t.textSizeData:t.iconSizeData,p=b.evaluateSizeForZoom(h,i.transform.zoom,w.properties[n?"text-size":"icon-size"]),f=[256/i.width*2+1,256/i.height*2+1],m=n?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();for(var v=t.lineVertexArray,x=n?t.text.placedSymbolArray:t.icon.placedSymbolArray,_=i.transform.width/i.transform.height,S=!1,k=0;k<x.length;k++){var A=x.get(k);if(A.hidden||A.writingMode===C.vertical&&!S)d(A.numGlyphs,m);else{S=!1;var T=[A.anchorX,A.anchorY,0,1];if(y.transformMat4(T,T,e),a(T,f)){var M=T[3],E=.5+M/i.transform.cameraToCenterDistance*.5,P=b.evaluateSizeForFeature(h,p,A),O=l?P*E:P/E,I=new g(A.anchorX,A.anchorY),L=o(I,r).point,R={},D=c(A,O,!1,u,e,r,s,t.glyphOffsetArray,v,m,L,I,R,_);S=D.useVertical,(D.notEnoughRoom||S||D.needsFlipping&&c(A,O,!0,u,e,r,s,t.glyphOffsetArray,v,m,L,I,R,_).notEnoughRoom)&&d(A.numGlyphs,m)}else d(A.numGlyphs,m)}}n?t.text.dynamicLayoutVertexBuffer.updateData(m):t.icon.dynamicLayoutVertexBuffer.updateData(m)}function l(t,e,i,n,r,o,a,s,l,u,c,h){var d=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,g=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),v=e.getoffsetX(d-1),y=p(t*m,i,n,r,o,a,s.segment,f,g,l,u,c,h);if(!y)return null;var b=p(t*v,i,n,r,o,a,s.segment,f,g,l,u,c,h);return b?{first:y,last:b}:null}function u(t,e,i,n){return t===C.horizontal&&Math.abs(i.y-e.y)>Math.abs(i.x-e.x)*n?{useVertical:!0}:(t===C.vertical?e.y<i.y:e.x>i.x)?{needsFlipping:!0}:null}function c(t,e,i,n,r,a,s,c,d,f,m,v,y,b){var x,w=e/24,C=t.lineOffsetX*e,S=t.lineOffsetY*e;if(t.numGlyphs>1){var k=t.glyphStartIndex+t.numGlyphs,A=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,M=l(w,c,C,S,i,m,v,t,d,a,y,!1);if(!M)return{notEnoughRoom:!0};var E=o(M.first.point,s).point,P=o(M.last.point,s).point;if(n&&!i){var O=u(t.writingMode,E,P,b);if(O)return O}x=[M.first];for(var I=t.glyphStartIndex+1;I<k-1;I++)x.push(p(w*c.getoffsetX(I),C,S,i,m,v,t.segment,A,T,d,a,y,!1));x.push(M.last)}else{if(n&&!i){var L=o(v,r).point,R=t.lineStartIndex+t.segment+1,D=new g(d.getx(R),d.gety(R)),z=o(D,r),B=z.signedDistanceFromCamera>0?z.point:h(v,D,L,1,r),j=u(t.writingMode,L,B,b);if(j)return j}var F=p(w*c.getoffsetX(t.glyphStartIndex),C,S,i,m,v,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,d,a,y,!1);if(!F)return{notEnoughRoom:!0};x=[F]}for(var N=0,V=x;N<V.length;N+=1){var H=V[N];_(f,H.point,H.angle)}return{}}function h(t,e,i,n,r){var a=o(t.add(t.sub(e)._unit()),r).point,s=i.sub(a);return i.add(s._mult(n/s.mag()))}function p(t,e,i,n,r,a,s,l,u,c,p,d,f){var m=n?t-e:t+e,v=m>0?1:-1,y=0;n&&(v*=-1,y=Math.PI),v<0&&(y+=Math.PI);for(var b=v>0?l+s:l+s+1,x=b,_=r,w=r,C=0,S=0,k=Math.abs(m);C+S<=k;){if((b+=v)<l||b>=u)return null;if(w=_,void 0===(_=d[b])){var A=new g(c.getx(b),c.gety(b)),T=o(A,p);if(T.signedDistanceFromCamera>0)_=d[b]=T.point;else{var M=b-v;_=h(0===C?a:new g(c.getx(M),c.gety(M)),A,w,k-C+1,p)}}C+=S,S=w.dist(_)}var E=(k-C)/S,P=_.sub(w),O=P.mult(E)._add(w);return O._add(P._unit()._perp()._mult(i*v)),{point:O,angle:y+Math.atan2(_.y-w.y,_.x-w.x),tileDistance:f?{prevTileDistance:b-v===x?0:c.gettileUnitDistanceFromAnchor(b-v),lastSegmentViewportDistance:k-C}:null}}function d(t,e){for(var i=0;i<t;i++){var n=e.length;e.resize(n+4),e.float32.set(S,3*n)}}function f(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[4]*r+i[12],t[1]=i[1]*n+i[5]*r+i[13],t[3]=i[3]*n+i[7]*r+i[15],t}var g=t("@mapbox/point-geometry"),m=t("@mapbox/gl-matrix"),v=m.mat4,y=m.vec4,b=t("./symbol_size"),x=t("../data/bucket/symbol_bucket"),_=x.addDynamicAttributes,w=t("../style/style_layer/symbol_style_layer_properties").layout,C=t("../symbol/shaping").WritingMode;e.exports={updateLineLabels:s,getLabelPlaneMatrix:n,getGlCoordMatrix:r,project:o,placeFirstAndLastGlyph:l,xyTransformMat4:f};var S=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":51,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/shaping":226,"./symbol_size":228,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],225:[function(t,e,i){"use strict";function n(t,e,i,n,r,a,s){var l,u,c,h,p=e.image,d=i.layout,f=e.top-1/p.pixelRatio,g=e.left-1/p.pixelRatio,m=e.bottom+1/p.pixelRatio,v=e.right+1/p.pixelRatio;if("none"!==d.get("icon-text-fit")&&r){var y=v-g,b=m-f,x=d.get("text-size").evaluate(s)/24,_=r.left*x,w=r.right*x,C=r.top*x,S=r.bottom*x,k=w-_,A=S-C,T=d.get("icon-text-fit-padding")[0],M=d.get("icon-text-fit-padding")[1],E=d.get("icon-text-fit-padding")[2],P=d.get("icon-text-fit-padding")[3],O="width"===d.get("icon-text-fit")?.5*(A-b):0,I="height"===d.get("icon-text-fit")?.5*(k-y):0,L="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?k:y,R="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?A:b;l=new o(_+I-P,C+O-T),u=new o(_+I+M+L,C+O-T),c=new o(_+I+M+L,C+O+E+R),h=new o(_+I-P,C+O+E+R)}else l=new o(g,f),u=new o(v,f),c=new o(v,m),h=new o(g,m);var D=i.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(D){var z=Math.sin(D),B=Math.cos(D),j=[B,-z,z,B];l._matMult(j),u._matMult(j),h._matMult(j),c._matMult(j)}return[{tl:l,tr:u,bl:h,br:c,tex:{x:p.textureRect.x-1,y:p.textureRect.y-1,w:p.textureRect.w+2,h:p.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function r(t,e,i,n,r,a,l){for(var u=i.layout.get("text-rotate").evaluate(a)*Math.PI/180,c=i.layout.get("text-offset").evaluate(a).map(function(t){return 24*t}),h=e.positionedGlyphs,p=[],d=0;d<h.length;d++){var f=h[d],g=l[f.glyph];if(g){var m=g.rect;if(m){var v=s+1,y=g.metrics.advance/2,b=n?[f.x+y,f.y]:[0,0],x=n?[0,0]:[f.x+y+c[0],f.y+c[1]],_=g.metrics.left-v-y+x[0],w=-g.metrics.top-v+x[1],C=_+m.w,S=w+m.h,k=new o(_,w),A=new o(C,w),T=new o(_,S),M=new o(C,S);if(n&&f.vertical){var E=new o(-y,y),P=-Math.PI/2,O=new o(5,0);k._rotateAround(P,E)._add(O),A._rotateAround(P,E)._add(O),T._rotateAround(P,E)._add(O),M._rotateAround(P,E)._add(O)}if(u){var I=Math.sin(u),L=Math.cos(u),R=[L,-I,I,L];k._matMult(R),A._matMult(R),T._matMult(R),M._matMult(R)}p.push({tl:k,tr:A,bl:T,br:M,tex:m,writingMode:e.writingMode,glyphOffset:b})}}}return p}var o=t("@mapbox/point-geometry"),a=t("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;e.exports={getIconQuads:n,getGlyphQuads:r}},{"../style/parse_glyph_pbf":186,"@mapbox/point-geometry":4}],226:[function(t,e,i){"use strict";function n(t,e){for(var i=[],n=0,r=0,o=e;r<o.length;r+=1){var a=o[r];i.push(t.substring(n,a)),n=a}return n<t.length&&i.push(t.substring(n,t.length)),i}function r(t,e,i,r,o,a,s,l,u,h){var d=t.trim();h===b.vertical&&(d=v(d));var f,g=[],m={positionedGlyphs:g,text:d,top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:h},x=y.processBidirectionalText;return f=x?x(d,c(d,s,i,e)):n(d,c(d,s,i,e)),p(m,e,f,r,o,a,h,s,u),!!g.length&&m}function o(t,e,i,n){for(var r=0,o=0;o<t.length;o++){var a=n[t.charCodeAt(o)];a&&(r+=a.metrics.advance+e)}return r/Math.max(1,Math.ceil(r/i))}function a(t,e,i,n){var r=Math.pow(t-e,2);return n?t<e?r/2:2*r:r+Math.abs(i)*i}function s(t,e){var i=0;return 10===t&&(i-=1e4),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function l(t,e,i,n,r,o){for(var s=null,l=a(e,i,r,o),u=0,c=n;u<c.length;u+=1){var h=c[u],p=e-h.x,d=a(p,i,r,o)+h.badness;d<=l&&(s=h,l=d)}return{index:t,x:e,priorBreak:s,badness:l}}function u(t){return t?u(t.priorBreak).concat(t.index):[]}function c(t,e,i,n){if(!i)return[];if(!t)return[];for(var r=[],a=o(t,e,i,n),c=0,h=0;h<t.length;h++){var p=t.charCodeAt(h),d=n[p];d&&!x[p]&&(c+=d.metrics.advance+e),h<t.length-1&&(_[p]||m.charAllowsIdeographicBreaking(p))&&r.push(l(h+1,c,a,r,s(p,t.charCodeAt(h+1)),!1))}return u(l(t.length,c,a,r,0,!0))}function h(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function p(t,e,i,n,r,o,a,s,l){for(var u=0,c=-17,p=0,g=t.positionedGlyphs,v="right"===o?1:"left"===o?0:.5,y=0,x=i;y<x.length;y+=1){var _=x[y];if(_=_.trim(),_.length){for(var w=g.length,C=0;C<_.length;C++){var S=_.charCodeAt(C),k=e[S];k&&(m.charHasUprightVerticalOrientation(S)&&a!==b.horizontal?(g.push({glyph:S,x:u,y:0,vertical:!0}),u+=l+s):(g.push({glyph:S,x:u,y:c,vertical:!1}),u+=k.metrics.advance+s))}if(g.length!==w){var A=u-s;p=Math.max(A,p),d(g,e,w,g.length-1,v)}u=0,c+=n}else c+=n}var T=h(r),M=T.horizontalAlign,E=T.verticalAlign;f(g,v,M,E,p,n,i.length);var P=i.length*n;t.top+=-E*P,t.bottom=t.top+P,t.left+=-M*p,t.right=t.left+p}function d(t,e,i,n,r){if(r){var o=e[t[n].glyph];if(o)for(var a=o.metrics.advance,s=(t[n].x+a)*r,l=i;l<=n;l++)t[l].x-=s}}function f(t,e,i,n,r,o,a){for(var s=(e-i)*r,l=(-n*a+.5)*o,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}function g(t,e,i){var n=h(i),r=n.horizontalAlign,o=n.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*r,u=l+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:l,right:u}}var m=t("../util/script_detection"),v=t("../util/verticalize_punctuation"),y=t("../source/rtl_text_plugin"),b={horizontal:1,vertical:2,horizontalOnly:3};e.exports={shapeText:r,shapeIcon:g,WritingMode:b};var x={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":109,"../util/script_detection":269,"../util/verticalize_punctuation":277}],227:[function(t,e,i){"use strict";function n(t,e,i,n,o,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=S/s,t.compareText={},t.iconsNeedLinear=!1;var l=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var h=t.textSizeData.zoomRange,p=h.min,m=h.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new A(p)),u["text-size"].possiblyEvaluate(new A(m))]}if("composite"===t.iconSizeData.functionType){var v=t.iconSizeData.zoomRange,y=v.min,b=v.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new A(y)),u["icon-size"].possiblyEvaluate(new A(b))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new A(t.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new A(t.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new A(18));for(var w=24*l.get("text-line-height"),C="map"===l.get("text-rotation-alignment")&&"line"===l.get("symbol-placement"),k=l.get("text-keep-upright"),T=0,M=t.features;T<M.length;T+=1){var E=M[T],P=l.get("text-font").evaluate(E).join(","),O=e[P]||{},I=i[P]||{},L={},R=E.text;if(R){var D=_.allowsVerticalWritingMode(R),z=l.get("text-offset").evaluate(E).map(function(t){return 24*t}),B=24*l.get("text-letter-spacing").evaluate(E),j=_.allowsLetterSpacing(R)?B:0,F=l.get("text-anchor").evaluate(E),N=l.get("text-justify").evaluate(E),V="line"!==l.get("symbol-placement")?24*l.get("text-max-width").evaluate(E):0;L.horizontal=d(R,O,V,w,F,N,j,z,24,g.horizontal),D&&C&&k&&(L.vertical=d(R,O,V,w,F,N,j,z,24,g.vertical))}var H=void 0;if(E.icon){var G=n[E.icon];G&&(H=f(o[E.icon],l.get("icon-offset").evaluate(E),l.get("icon-anchor").evaluate(E)),void 0===t.sdfIcons?t.sdfIcons=G.sdf:t.sdfIcons!==G.sdf&&x.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),G.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(L.horizontal||H)&&r(t,E,L,H,I,c)}a&&t.generateCollisionDebugBuffers()}function r(t,e,i,n,r,o){var h=o.layoutTextSize.evaluate(e),p=o.layoutIconSize.evaluate(e),d=o.textMaxSize.evaluate(e);void 0===d&&(d=h);var f=t.layers[0].layout,g=f.get("text-offset").evaluate(e),m=f.get("icon-offset").evaluate(e),v=h/24,y=t.tilePixelRatio*v,b=t.tilePixelRatio*d/24,x=t.tilePixelRatio*p,_=t.tilePixelRatio*f.get("symbol-spacing"),k=f.get("text-padding")*t.tilePixelRatio,A=f.get("icon-padding")*t.tilePixelRatio,T=f.get("text-max-angle")/180*Math.PI,M="map"===f.get("text-rotation-alignment")&&"line"===f.get("symbol-placement"),E="map"===f.get("icon-rotation-alignment")&&"line"===f.get("symbol-placement"),P=f.get("symbol-placement"),O=_/2,I=function(s,l){l.x<0||l.x>=S||l.y<0||l.y>=S||t.symbolInstances.push(a(t,l,s,i,n,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,k,M,g,x,A,E,m,{zoom:t.zoom},e,r,o))};if("line"===P)for(var L=0,R=c(e.geometry,0,0,S,S);L<R.length;L+=1)for(var D=R[L],z=u(D,_,T,i.vertical||i.horizontal,n,24,b,t.overscaling,S),B=0,j=z;B<j.length;B+=1){var F=j[B],N=i.horizontal;N&&s(t,N.text,O,F)||I(D,F)}else if("Polygon"===e.type)for(var V=0,H=C(e.geometry,0);V<H.length;V+=1){var G=H[V],U=w(G,16);I(G[0],new l(U.x,U.y,0))}else if("LineString"===e.type)for(var W=0,$=e.geometry;W<$.length;W+=1){var q=$[W];I(q,new l(q[0].x,q[0].y,0))}else if("Point"===e.type)for(var X=0,Y=e.geometry;X<Y.length;X+=1)for(var K=Y[X],Z=0,J=K;Z<J.length;Z+=1){var Q=J[Z];I([Q],new l(Q.x,Q.y,0))}}function o(t,e,i,n,r,o,a,s,l,u,c,h,p){var d=v(e,i,n,r,o,a,h),f=t.textSizeData,g=null;return"source"===f.functionType?g=[10*n.layout.get("text-size").evaluate(a)]:"composite"===f.functionType&&(g=[10*p.compositeTextSizes[0].evaluate(a),10*p.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,d,g,s,r,a,u,e,l.lineStartIndex,l.lineLength),c.push(t.text.placedSymbolArray.length-1),4*d.length}function a(t,e,i,n,r,a,s,l,u,c,p,d,f,m,v,_,w,C,S,A,T,M){var E,P,O=t.addToLineVertexArray(e,i),I=0,L=0,R=0,D=n.horizontal?n.horizontal.text:"",z=[];n.horizontal&&(E=new b(s,i,e,l,u,c,n.horizontal,p,d,f,t.overscaling),L+=o(t,e,n.horizontal,a,f,S,A,m,O,n.vertical?g.horizontal:g.horizontalOnly,z,T,M),n.vertical&&(R+=o(t,e,n.vertical,a,f,S,A,m,O,g.vertical,z,T,M)));var B=E?E.boxStartIndex:t.collisionBoxArray.length,j=E?E.boxEndIndex:t.collisionBoxArray.length;if(r){var F=y(e,r,a,w,n.horizontal,S,A);P=new b(s,i,e,l,u,c,r,v,_,!1,t.overscaling),I=4*F.length;var N=t.iconSizeData,V=null;"source"===N.functionType?V=[10*a.layout.get("icon-size").evaluate(A)]:"composite"===N.functionType&&(V=[10*M.compositeIconSizes[0].evaluate(A),10*M.compositeIconSizes[1].evaluate(A)]),t.addSymbols(t.icon,F,V,C,w,A,!1,e,O.lineStartIndex,O.lineLength)}var H=P?P.boxStartIndex:t.collisionBoxArray.length,G=P?P.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=k.MAX_GLYPHS&&x.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:D,textBoxStartIndex:B,textBoxEndIndex:j,iconBoxStartIndex:H,iconBoxEndIndex:G,textOffset:m,iconOffset:C,anchor:e,line:i,featureIndex:l,feature:A,numGlyphVertices:L,numVerticalGlyphVertices:R,numIconVertices:I,textOpacityState:new h,iconOpacityState:new h,isDuplicate:!1,placedTextSymbolIndices:z,crossTileID:0}}function s(t,e,i,n){var r=t.compareText;if(e in r){for(var o=r[e],a=o.length-1;a>=0;a--)if(n.dist(o[a])<i)return!0}else r[e]=[];return r[e].push(n),!1}var l=t("./anchor"),u=t("./get_anchors"),c=t("./clip_line"),h=t("./opacity_state"),p=t("./shaping"),d=p.shapeText,f=p.shapeIcon,g=p.WritingMode,m=t("./quads"),v=m.getGlyphQuads,y=m.getIconQuads,b=t("./collision_feature"),x=t("../util/util"),_=t("../util/script_detection"),w=t("../util/find_pole_of_inaccessibility"),C=t("../util/classify_rings"),S=t("../data/extent"),k=t("../data/bucket/symbol_bucket"),A=t("../style/evaluation_parameters");t("@mapbox/point-geometry");e.exports={performSymbolLayout:n}},{"../data/bucket/symbol_bucket":51,"../data/extent":53,"../style/evaluation_parameters":182,"../util/classify_rings":255,"../util/find_pole_of_inaccessibility":261,"../util/script_detection":269,"../util/util":275,"./anchor":213,"./clip_line":215,"./collision_feature":216,"./get_anchors":219,"./opacity_state":222,"./quads":225,"./shaping":226,"@mapbox/point-geometry":4}],228:[function(t,e,i){"use strict";function n(t,e){var i=e.expression;if("constant"===i.kind)return{functionType:"constant",layoutSize:i.evaluate({zoom:t+1})};if("source"===i.kind)return{functionType:"source"};for(var n=i.zoomStops,r=0;r<n.length&&n[r]<=t;)r++;r=Math.max(0,r-1);for(var o=r;o<n.length&&n[o]<t+1;)o++;o=Math.min(n.length-1,o);var a={min:n[r],max:n[o]};return"composite"===i.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:i.evaluate({zoom:t+1}),zoomRange:a,sizeRange:{min:i.evaluate({zoom:a.min}),max:i.evaluate({zoom:a.max})},propertyValue:e.value}}function r(t,e,i){var n=e;return"source"===t.functionType?i.lowerSize/10:"composite"===t.functionType?l.number(i.lowerSize/10,i.upperSize/10,n.uSizeT):n.uSize}function o(t,e,i){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var n=t.propertyValue,r=t.zoomRange,o=t.sizeRange,a=s(n,i.specification),l=u.clamp(a.interpolationFactor(e,r.min,r.max),0,1);return{uSizeT:0,uSize:o.min+l*(o.max-o.min)}}var c=t.propertyValue,h=t.zoomRange,p=s(c,i.specification);return{uSizeT:u.clamp(p.interpolationFactor(e,h.min,h.max),0,1),uSize:0}}var a=t("../style-spec/expression"),s=a.normalizePropertyExpression,l=t("../style-spec/util/interpolate"),u=t("../util/util");e.exports={getSizeData:n,evaluateSizeForFeature:r,evaluateSizeForZoom:o}},{"../style-spec/expression":139,"../style-spec/util/interpolate":158,"../util/util":275}],229:[function(t,e,i){"use strict";var n=t("../source/rtl_text_plugin");e.exports=function(t,e,i){var r=e.layout.get("text-transform").evaluate(i);return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),n.applyArabicShaping&&(t=n.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":109}],230:[function(t,e,i){"use strict";var n=t("@mapbox/point-geometry"),r=t("../util/dom"),o=t("../util/window"),a=!!o.navigator.platform&&/iPad|iPhone|iPod/.test(o.navigator.platform),s={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function i(t){b("mouseout",t)}function o(e){t.doubleClickZoom.isActive()||t.stop(),S=r.mousePos(_,e),b("mousedown",e),C=!0}function l(e){var i=t.dragRotate&&t.dragRotate.isActive();w&&!i&&b("contextmenu",w),w=null,C=!1,b("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var i=e.toElement||e.target;i&&i!==_;)i=i.parentNode;i===_&&b("mousemove",e)}}function c(t){for(var e=t.toElement||t.target;e&&e!==_;)e=e.parentNode;e===_&&b("mouseover",t)}function h(e){t.stop(),x("touchstart",e),!e.touches||e.touches.length>1||(k?(clearTimeout(k),k=null,b("dblclick",e)):k=setTimeout(g,300))}function p(t){x("touchmove",t)}function d(t){x("touchend",t)}function f(t){x("touchcancel",t)}function g(){k=null}function m(t){r.mousePos(_,t).equals(S)&&b("click",t)}function v(t){b("dblclick",t),t.preventDefault()}function y(e){var i=t.dragRotate&&t.dragRotate.isActive();C||i?C&&(w=e):b("contextmenu",e),e.preventDefault()}function b(e,i){var n=r.mousePos(_,i);return t.fire(e,{lngLat:t.unproject(n),point:n,originalEvent:i})}function x(e,i){var o=r.touchPos(_,i),a=o.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new n(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:i})}var _=t.getCanvasContainer(),w=null,C=!1,S=null,k=null;for(var A in s)t[A]=new s[A](t,e),e.interactive&&e[A]&&t[A].enable(e[A]);r.addEventListener(_,"mouseout",i),r.addEventListener(_,"mousedown",o),r.addEventListener(_,"mouseup",l),r.addEventListener(_,"mousemove",u),r.addEventListener(_,"mouseover",c),r.addEventListener(_,"touchstart",h,{passive:!0}),r.addEventListener(_,"touchmove",p,{passive:!a}),r.addEventListener(_,"touchend",d),r.addEventListener(_,"touchcancel",f),r.addEventListener(_,"click",m),r.addEventListener(_,"dblclick",v),r.addEventListener(_,"contextmenu",y)}},{"../util/dom":259,"../util/window":254,"./handler/box_zoom":239,"./handler/dblclick_zoom":240,"./handler/drag_pan":241,"./handler/drag_rotate":242,"./handler/keyboard":243,"./handler/scroll_zoom":244,"./handler/touch_zoom_rotate":245,"@mapbox/point-geometry":4}],231:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../style-spec/util/interpolate").number,o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("@mapbox/point-geometry"),u=t("../util/evented"),c=function(t){function e(e,i){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=i.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,i){return t=l.convert(t).mult(-1),this.panTo(this.transform.center,n.extend({offset:t},e),i)},e.prototype.panTo=function(t,e,i){return this.easeTo(n.extend({center:t},e),i)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,i){return this.easeTo(n.extend({zoom:t},e),i)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,i){return this.easeTo(n.extend({bearing:t},e),i)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,n.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,i){if(e=n.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var r=e.padding;e.padding={top:r,bottom:r,right:r,left:r}}if(!n.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return n.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=s.convert(t);var o=[(e.padding.left-e.padding.right)/2,(e.padding.top-e.padding.bottom)/2],a=Math.min(e.padding.right,e.padding.left),u=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=l.convert(e.offset),h=this.transform,p=h.project(t.getNorthWest()),d=h.project(t.getSouthEast()),f=d.sub(p),g=(h.width-2*a-2*Math.abs(c.x))/f.x,m=(h.height-2*u-2*Math.abs(c.y))/f.y;return m<0||g<0?(n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=h.unproject(p.add(d).div(2)),e.zoom=Math.min(h.scaleZoom(h.scale*Math.min(g,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,i):this.flyTo(e,i))},e.prototype.jumpTo=function(t,e){this.stop();var i=this.transform,n=!1,r=!1,o=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(n=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=a.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(r=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(o=!0,i.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var i=this;this.stop(),t=n.extend({offset:[0,0],duration:500,easing:n.ease},t),!1===t.animate&&(t.duration=0);var o=this.transform,s=this.getZoom(),u=this.getBearing(),c=this.getPitch(),h="zoom"in t?+t.zoom:s,p="bearing"in t?this._normalizeBearing(t.bearing,u):u,d="pitch"in t?+t.pitch:c,f=o.centerPoint.add(l.convert(t.offset)),g=o.pointLocation(f),m=a.convert(t.center||g);this._normalizeCenter(m);var v,y,b=o.project(g),x=o.project(m).sub(b),_=o.zoomScale(h-s);return t.around&&(v=a.convert(t.around),y=o.locationPoint(v)),this.zooming=h!==s,this.rotating=u!==p,this.pitching=d!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(i.zooming&&(o.zoom=r(s,h,t)),i.rotating&&(o.bearing=r(u,p,t)),i.pitching&&(o.pitch=r(c,d,t)),v)o.setLocationAtPoint(v,y);else{var n=o.zoomScale(o.zoom-s),a=h>s?Math.min(2,_):Math.max(.5,_),l=Math.pow(a,1-t),g=o.unproject(b.add(x.mult(t*l)).mult(n));o.setLocationAtPoint(o.renderWorldCopies?g.wrap():g,f)}i._fireMoveEvents(e)},function(){t.delayEndEvents?i._onEaseEnd=setTimeout(function(){return i._afterEase(e)},t.delayEndEvents):i._afterEase(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._afterEase=function(t){var e=this.zooming,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),i&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function i(t){var e=(A*A-k*k+(t?-1:1)*P*P*T*T)/(2*(t?A:k)*P*T);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return o(t)/s(t)}var c=this;this.stop(),t=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},t);var h=this.transform,p=this.getZoom(),d=this.getBearing(),f=this.getPitch(),g="zoom"in t?n.clamp(+t.zoom,h.minZoom,h.maxZoom):p,m="bearing"in t?this._normalizeBearing(t.bearing,d):d,v="pitch"in t?+t.pitch:f,y=h.zoomScale(g-p),b=h.centerPoint.add(l.convert(t.offset)),x=h.pointLocation(b),_=a.convert(t.center||x);this._normalizeCenter(_);var w=h.project(x),C=h.project(_).sub(w),S=t.curve,k=Math.max(h.width,h.height),A=k/y,T=C.mag();if("minZoom"in t){var M=n.clamp(Math.min(t.minZoom,p,g),h.minZoom,h.maxZoom),E=k/h.zoomScale(M-p);S=Math.sqrt(E/T*2)}var P=S*S,O=i(0),I=function(t){return s(O)/s(O+S*t)},L=function(t){return k*((s(O)*u(O+S*t)-o(O))/P)/T},R=(i(1)-O)/S;if(Math.abs(T)<1e-6||!isFinite(R)){if(Math.abs(k-A)<1e-6)return this.easeTo(t,e);var D=A<k?-1:1;R=Math.abs(Math.log(A/k))/S,L=function(){return 0},I=function(t){return Math.exp(D*S*t)}}if("duration"in t)t.duration=+t.duration;else{var z="screenSpeed"in t?+t.screenSpeed/S:+t.speed;t.duration=1e3*R/z}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=d!==m,this.pitching=v!==f,this._prepareEase(e,!1),this._ease(function(t){var i=t*R,n=1/I(i);h.zoom=p+h.scaleZoom(n),c.rotating&&(h.bearing=r(d,m,t)),c.pitching&&(h.pitch=r(f,v,t));var o=h.unproject(w.add(C.mult(L(i))).mult(n));h.setLocationAtPoint(h.renderWorldCopies?o.wrap():o,b),c._fireMoveEvents(e)},function(){return c._afterEase(e)},t),this},e.prototype.isEasing=function(){return!!this._isEasing},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._onFrame&&this._finishAnimation(),this},e.prototype._ease=function(t,e,i){var n=this;!1===i.animate||0===i.duration?(t(1),e()):(this._easeStart=o.now(),this._isEasing=!0,this._easeOptions=i,this._startAnimation(function(e){var i=Math.min((o.now()-n._easeStart)/n._easeOptions.duration,1);t(n._easeOptions.easing(i)),1===i&&n.stop()},function(){n._isEasing=!1,e()}))},e.prototype._updateCamera=function(){this._onFrame&&this._onFrame(this.transform)},e.prototype._startAnimation=function(t,e){return void 0===e&&(e=function(){}),this.stop(),this._onFrame=t,this._finishFn=e,this._update(),this},e.prototype._finishAnimation=function(){delete this._onFrame;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=n.wrap(t,-180,180);var i=Math.abs(t-e);return Math.abs(t-360-e)<i&&(t-=360),Math.abs(t+360-e)<i&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},e}(u);e.exports=c},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":158,"../util/browser":252,"../util/evented":260,"../util/util":275,"@mapbox/point-geometry":4}],232:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/config"),a=function(t){this.options=t,r.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(t){var i=e.reduce(function(t,i,n){return i.value&&(t+=i.key+"="+i.value+(n<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+i+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var r=i[n].getSource();r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}),t.length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=a},{"../../util/config":256,"../../util/dom":259,"../../util/util":275}],233:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=function(){this._fullscreen=!1,r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){n.remove(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullScreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":259,"../../util/util":275,"../../util/window":254}],234:[function(t,e,i){"use strict";function n(t){void 0!==r?t(r):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){r="denied"!==e.state,t(r)}):(r=!!s.navigator.geolocation,t(r))}var r,o=t("../../util/evented"),a=t("../../util/dom"),s=t("../../util/window"),l=t("../../util/util"),u=t("../../geo/lng_lat"),c=t("../marker"),h={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},p="mapboxgl-ctrl",d=function(t){function e(e){t.call(this),this.options=l.extend({},h,e),l.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div",p+" "+p+"-group"),n(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),a.remove(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new u(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=a.create("button",p+"-icon "+p+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new c(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},e}(o);e.exports=d},{"../../geo/lng_lat":62,"../../util/dom":259,"../../util/evented":260,"../../util/util":275,"../../util/window":254,"../marker":248}],235:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=function(){r.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=o},{"../../util/dom":259,"../../util/util":275}],236:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../handler/drag_rotate"),a={showCompass:!0,showZoom:!0},s=function(t){var e=this;this.options=r.extend({},a,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()})),this.options.showCompass&&(r.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};s.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},s.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new o(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},s.prototype.onRemove=function(){n.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},s.prototype._createButton=function(t,e,i){var r=n.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",i),r},e.exports=s},{"../../util/dom":259,"../../util/util":275,"../handler/drag_rotate":242}],237:[function(t,e,i){"use strict";function n(t,e,i){var n=i&&i.maxWidth||100,a=t._container.clientHeight/2,s=o(t.unproject([0,a]),t.unproject([n,a]));if(i&&"imperial"===i.unit){var l=3.2808*s;l>5280?r(e,n,l/5280,"mi"):r(e,n,l,"ft")}else if(i&&"nautical"===i.unit){var u=s/1852;r(e,n,u,"nm")}else r(e,n,s,"m")}function r(t,e,i,n){var r=a(i),o=r/i;"m"===n&&r>=1e3&&(r/=1e3,n="km"),t.style.width=e*o+"px",t.innerHTML=r+n}function o(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-t.lng)*i);return 6371e3*Math.acos(Math.min(o,1))}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}var s=t("../../util/dom"),l=t("../../util/util"),u=function(t){this.options=t,l.bindAll(["_onMove"],this)};u.prototype.getDefaultPosition=function(){return"bottom-left"},u.prototype._onMove=function(){n(this._map,this._container,this.options)},u.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},u.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=u},{"../../util/dom":259,"../../util/util":275}],238:[function(t,e,i){"use strict"},{}],239:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=n.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,i=n.mousePos(this._el,t);this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,i.x),o=Math.max(e.x,i.x),a=Math.min(e.y,i.y),s=Math.max(e.y,i.y);n.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=o-r+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,i=n.mousePos(this._el,t),o=(new r).extend(this._map.unproject(e)).extend(this._map.unproject(i));this._finish(),e.x===i.x&&e.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":63,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],240:[function(t,e,i){"use strict";var n=t("../../util/util"),r=function(t){this._map=t,n.bindAll(["_onDblClick","_onZoomEnd"],this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.isActive=function(){return!!this._active},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},r.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},e.exports=r},{"../../util/util":275}],241:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=.3,l=r.bezier(0,0,s,1),u=1400,c=2500,h=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp","_onDragFrame","_onDragFinished"],this)};h.prototype.isEnabled=function(){return!!this._enabled},h.prototype.isActive=function(){return!!this._active},h.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),n.addEventListener(this._el,"mousedown",this._onDown),n.addEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!0)},h.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),n.removeEventListener(this._el,"mousedown",this._onDown),n.removeEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!1)},h.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(n.addEventListener(o.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(o.document,"touchend",this._onTouchEnd)):(n.addEventListener(o.document,"mousemove",this._onMove),n.addEventListener(o.document,"mouseup",this._onMouseUp)),n.addEventListener(o,"blur",this._onMouseUp),this._active=!1,this._previousPos=n.mousePos(this._el,t),this._inertia=[[a.now(),this._previousPos]])},h.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this._lastMoveEvent=t,t.preventDefault();var e=n.mousePos(this._el,t);if(this._drainInertiaBuffer(),this._inertia.push([a.now(),e]),!this._previousPos)return void(this._previousPos=e);this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()}},h.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;e&&(t.setLocationAtPoint(t.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",e),this._fireEvent("move",e),this._previousPos=this._pos,delete this._lastMoveEvent)},h.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,delete this._pos,this._fireEvent("dragend",t),this._drainInertiaBuffer();var i=function(){e._map.moving=!1,e._fireEvent("moveend",t)},n=this._inertia;if(n.length<2)return void i();var r=n[n.length-1],o=n[0],a=r[1].sub(o[1]),h=(r[0]-o[0])/1e3;if(0===h||r[1].equals(o[1]))return void i();var p=a.mult(s/h),d=p.mag();d>u&&(d=u,p._unit()._mult(d));var f=d/(c*s),g=p.mult(-f/2);this._map.panBy(g,{duration:1e3*f,easing:l,noMoveStart:!0},{originalEvent:t})}},h.prototype._onUp=function(t){this._onDragFinished(t)},h.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),n.removeEventListener(o.document,"mousemove",this._onMove),n.removeEventListener(o.document,"mouseup",this._onMouseUp),n.removeEventListener(o,"blur",this._onMouseUp))},h.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),n.removeEventListener(o.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(o.document,"touchend",this._onTouchEnd))},h.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},h.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button)},h.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=h},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],242:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=.25,l=r.bezier(0,0,s,1),u=180,c=720,h=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,r.bindAll(["_onDown","_onMove","_onUp","_onDragFrame","_onDragFinished"],this)};h.prototype.isEnabled=function(){return!!this._enabled},h.prototype.isActive=function(){return!!this._active},h.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},h.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},h.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,i=t.button;if(void 0!==o.InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(i=0),i!==e)return}else if(t.ctrlKey||0!==t.button)return;n.disableDrag(),o.document.addEventListener("mousemove",this._onMove,{capture:!0}),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[a.now(),this._map.getBearing()]],this._previousPos=n.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},h.prototype._onMove=function(t){this._lastMoveEvent=t;var e=n.mousePos(this._el,t);this._previousPos?(this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()):this._previousPos=e},h.prototype._onUp=function(t){o.document.removeEventListener("mousemove",this._onMove,{capture:!0}),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),n.enableDrag(),this._onDragFinished(t)},h.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;if(e){var i=this._previousPos,n=this._pos,r=.8*(i.x-n.x),o=-.5*(i.y-n.y),s=t.bearing-r,l=t.pitch-o,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([a.now(),this._map._normalizeBearing(s,c[1])]),t.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._previousPos=this._pos}},h.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),r=this._inertia,o=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(r.length<2)return void o();var a=r[0],h=r[r.length-1],p=r[r.length-2],d=i._normalizeBearing(n,p[1]),f=h[1]-a[1],g=f<0?-1:1,m=(h[0]-a[0])/1e3;if(0===f||0===m)return void o();var v=Math.abs(f*(s/m));v>u&&(v=u);var y=v/(c*s);d+=g*v*(y/2),Math.abs(i._normalizeBearing(d,0))<this._bearingSnap&&(d=i._normalizeBearing(0,d)),i.rotateTo(d,{duration:1e3*y,easing:l,noMoveStart:!0},{originalEvent:t})}},h.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},h.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=h},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],243:[function(t,e,i){"use strict";function n(t){return t*(2-t)}var r=t("../../util/util"),o=100,a=15,s=10,l=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onKeyDown"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},l.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},l.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,r=0,l=0,u=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),l=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),l=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),u=-1);break;case 40:t.shiftKey?r=-1:(u=1,t.preventDefault());break;default:return}var c=this._map,h=c.getZoom(),p={duration:300,delayEndEvents:500,easing:n,zoom:e?Math.round(h)+e*(t.shiftKey?2:1):h,bearing:c.getBearing()+i*a,pitch:c.getPitch()+r*s,offset:[-l*o,-u*o],center:c.getCenter()};c.easeTo(p,{originalEvent:t})}},e.exports=l},{"../../util/util":275}],244:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/browser"),a=t("../../util/window"),s=t("../../style-spec/util/interpolate").number,l=t("../../geo/lng_lat"),u=4.000244140625,c=.01,h=1/450,p=2,d=a.navigator.userAgent.toLowerCase(),f=-1!==d.indexOf("firefox"),g=-1!==d.indexOf("safari")&&-1===d.indexOf("chrom"),m=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,r.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};m.prototype.isEnabled=function(){return!!this._enabled},m.prototype.isActive=function(){return!!this._active},m.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},m.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},m.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,f&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,g&&(e/=3));var i=o.now(),n=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==e&&e%u==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":n>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(n*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()},m.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},m.prototype._start=function(t){if(this._delta){this._active=!0,this._map.moving=!0,this._map.zooming=!0,this._map.fire("movestart",{originalEvent:t}),this._map.fire("zoomstart",{originalEvent:t}),clearTimeout(this._finishTimeout);var e=n.mousePos(this._el,t);this._around=l.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._map._startAnimation(this._onScrollFrame,this._onScrollFinished)}},m.prototype._onScrollFrame=function(t){if(this.isActive()){if(0!==this._delta){var e="wheel"===this._type&&Math.abs(this._delta)>u?h:c,i=p/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);var n="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(n*i))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}if("wheel"===this._type){var r=Math.min((o.now()-this._lastWheelEventTime)/200,1),a=this._easing(r);t.zoom=s(this._startZoom,this._targetZoom,a),1===r&&this._map.stop()}else t.zoom=this._targetZoom,this._map.stop();t.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire("move",{originalEvent:this._lastWheelEvent}),this._map.fire("zoom",{originalEvent:this._lastWheelEvent})}},m.prototype._onScrollFinished=function(){var t=this;this.isActive()&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.moving=!1,t._map.zooming=!1,t._map.fire("zoomend"),t._map.fire("moveend"),delete t._targetZoom},200))},m.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var i=this._prevEase,n=(o.now()-i.start)/i.duration,a=i.easing(n+.01)-i.easing(n),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);e=r.bezier(s,l,.25,1)}return this._prevEase={start:o.now(),duration:t,easing:e},e},e.exports=m},{"../../geo/lng_lat":62,"../../style-spec/util/interpolate":158,"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],245:[function(t,e,i){"use strict";var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=.15,l=r.bezier(0,0,s,1),u=12,c=2.5,h=.15,p=10,d=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onStart","_onMove","_onEnd"],this)};d.prototype.isEnabled=function(){return!!this._enabled},d.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),n.addEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},d.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),n.removeEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!1)},d.prototype.disableRotation=function(){this._rotationDisabled=!0},d.prototype.enableRotation=function(){this._rotationDisabled=!1},d.prototype._onStart=function(t){if(2===t.touches.length){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]);this._startVec=e.sub(i),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],n.addEventListener(o.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(o.document,"touchend",this._onEnd)}},d.prototype._onMove=function(t){if(2===t.touches.length){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]),r=e.add(i).div(2),o=e.sub(i),s=o.mag()/this._startVec.mag(),l=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var c={duration:0,around:u.unproject(r)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+l),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=u.transform.scaleZoom(this._startScale*s)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),s,r]),u.easeTo(c,{originalEvent:t})}else{var d=Math.abs(1-s)>h;Math.abs(l)>p?this._gestureIntent="rotate":d&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},d.prototype._onEnd=function(t){n.removeEventListener(o.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(o.document,"touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,i=this._map;if(e.length<2)i.snapToNorth({},{originalEvent:t});else{var r=e[e.length-1],a=e[0],h=i.transform.scaleZoom(this._startScale*r[1]),p=i.transform.scaleZoom(this._startScale*a[1]),d=h-p,f=(r[0]-a[0])/1e3,g=r[2];if(0!==f&&h!==p){var m=d*s/f;Math.abs(m)>c&&(m=m>0?c:-c);var v=1e3*Math.abs(m/(u*s)),y=h+m*v/2e3;y<0&&(y=0),i.easeTo({zoom:y,duration:v,easing:l,around:this._aroundCenter?i.getCenter():i.unproject(g)},{originalEvent:t})}else i.snapToNorth({},{originalEvent:t})}},d.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=d},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],246:[function(t,e,i){"use strict";var n=t("../util/util"),r=t("../util/window"),o=t("../util/throttle"),a=function(){n.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=o(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(t){return this._map=t,r.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return r.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,n),o=Math.round(e.lng*r)/r,a=Math.round(e.lat*r)/r,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+i:"#"+i+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},a.prototype._onHashChange=function(){var t=r.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var t=this.getHashString();r.history.replaceState("","",t)},e.exports=a},{"../util/throttle":272,"../util/util":275,"../util/window":254}],247:[function(t,e,i){"use strict";function n(t){t.parentNode&&t.parentNode.removeChild(t)}var r=t("../util/util"),o=t("../util/browser"),a=t("../util/window"),s=t("../util/window"),l=s.HTMLImageElement,u=s.HTMLElement,c=t("../util/dom"),h=t("../util/ajax"),p=t("../style/style"),d=t("../style/evaluation_parameters"),f=t("../render/painter"),g=t("../geo/transform"),m=t("./hash"),v=t("./bind_handlers"),y=t("./camera"),b=t("../geo/lng_lat"),x=t("../geo/lng_lat_bounds"),_=t("@mapbox/point-geometry"),w=t("./control/attribution_control"),C=t("./control/logo_control"),S=t("@mapbox/mapbox-gl-supported"),k=t("../util/image"),A=k.RGBAImage;t("./events");var T=0,M=22,E={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:T,maxZoom:M,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},P=function(t){function e(e){if(e=r.extend({},E,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new g(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,i,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming;var n=e.transformRequest;if(this._transformRequest=n?function(t,e){return n(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var o=a.document.getElementById(e.container);if(!o)throw new Error("Container '"+e.container+"' not found.");this._container=o}else{if(!(e.container instanceof u))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),v(this,e),this._hash=e.hash&&(new m).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new w),this.addControl(new C,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],i=t[1];return this._resizeCanvas(e,i),this.transform.resize(e,i),this.painter.resize(e,i),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new x(this.transform.pointLocation(new _(0,this.transform.height)),this.transform.pointLocation(new _(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new _(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new _(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new x([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=x.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?T:t)>=T&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+T+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?M:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(b.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(_.convert(t))},e.prototype.on=function(e,i,n){var o=this;if(void 0===n)return t.prototype.on.call(this,e,i);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:i,listener:n,delegates:{mousemove:function(a){var s=o.getLayer(i)?o.queryRenderedFeatures(a.point,{layers:[i]}):[];s.length?t||(t=!0,n.call(o,r.extend({features:s},a,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:i,listener:n,delegates:{mousemove:function(t){(o.getLayer(i)?o.queryRenderedFeatures(t.point,{layers:[i]}):[]).length?a=!0:a&&(a=!1,n.call(o,r.extend({},t,{type:e})))},mouseout:function(t){a&&(a=!1,n.call(o,r.extend({},t,{type:e})))}}}}var s,l=function(t){var e=o.getLayer(i)?o.queryRenderedFeatures(t.point,{layers:[i]}):[];e.length&&n.call(o,r.extend({features:e},t))};return{layer:i,listener:n,delegates:(s={},s[e]=l,s)}}();for(var s in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a),a.delegates)o.on(s,a.delegates[s]);return this},e.prototype.off=function(e,i,n){var r=this;if(void 0===n)return t.prototype.off.call(this,e,i);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===i&&s.listener===n){for(var l in s.delegates)r.off(l,s.delegates[l]);return o.splice(a,1),r}}return this},e.prototype.queryRenderedFeatures=function(t,e){return 2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&function(t){return t instanceof _||Array.isArray(t)}(arguments[0])?(t=arguments[0],e={}):1===arguments.length?(t=void 0,e=arguments[0]):(t=void 0,e={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e,i=this;if(void 0===t&&(t=[_.convert([0,0]),_.convert([this.transform.width,this.transform.height])]),t instanceof _||"number"==typeof t[0])e=[_.convert(t)];else{var n=[_.convert(t[0]),_.convert(t[1])];e=[n[0],new _(n[1].x,n[0].y),n[1],new _(n[0].x,n[1].y),n[0]]}return e.map(function(t){return i.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){r.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new p(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e],n=i._tiles;for(var r in n){var o=n[r];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,i){void 0===i&&(i={});var n=i.pixelRatio;void 0===n&&(n=1);var r=i.sdf;if(void 0===r&&(r=!1),e instanceof l){var a=o.getImageData(e),s=a.width,u=a.height,c=a.data;this.style.addImage(t,{data:new A({width:s,height:u},c),pixelRatio:n,sdf:r})}else{if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var h=e.width,p=e.height,d=e.data;this.style.addImage(t,{data:new A({width:h,height:p},d.slice(0)),pixelRatio:n,sdf:r})}},e.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire("error",{error:new Error("Missing required image id")}),!1)},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){h.getImage(this._transformRequest(t,h.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},e.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},e.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=c.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=c.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=c.create("div","mapboxgl-ctrl-"+t,n)})},e.prototype._resizeCanvas=function(t,e){var i=a.devicePixelRatio||1;this._canvas.width=i*t,this._canvas.height=i*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=r.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},S.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);e?this.painter=new f(e,this.transform):this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},e.prototype._render=function(){this._updateCamera();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,i=o.now();this.style.zoomHistory.update(e,i);var n=new d(e,{now:i,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=n.crossFadingFactor();1===r&&r===this._crossFadingFactor||(t=!0,this._crossFadingFactor=r),this.style.update(n)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),n(this._canvasContainer),n(this._controlContainer),n(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=o.frame(function(){t._frameId=null,t._render()}))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(t){this._repaint=t,this._update()},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,i),e}(y);e.exports=P},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":90,"../style/evaluation_parameters":182,"../style/style":190,"../util/ajax":251,"../util/browser":252,"../util/dom":259,"../util/image":263,"../util/util":275,"../util/window":254,"./bind_handlers":230,"./camera":231,"./control/attribution_control":232,"./control/logo_control":235,"./events":238,"./hash":246,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],248:[function(t,e,i){"use strict";var n=t("../util/dom"),r=t("../geo/lng_lat"),o=t("@mapbox/point-geometry"),a=t("../util/smart_wrap"),s=t("../util/util"),l=s.bindAll,u=function(t,e){if(l(["_update","_onMapClick"],this),!t){t=n.create("div");var i=n.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var r=n.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],c=0,h=u;c<h.length;c+=1){var p=h[c],d=n.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",p.rx),d.setAttributeNS(null,"ry",p.ry),s.appendChild(d)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill","#3FB1CE");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(g);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var v=n.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(v);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var b=n.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"transform","translate(8.0, 8.0)");var x=n.createNS("http://www.w3.org/2000/svg","circle");x.setAttributeNS(null,"fill","#000000"),x.setAttributeNS(null,"opacity","0.25"),x.setAttributeNS(null,"cx","5.5"),x.setAttributeNS(null,"cy","5.5"),x.setAttributeNS(null,"r","5.4999962");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#FFFFFF"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962"),b.appendChild(x),b.appendChild(_),a.appendChild(s),a.appendChild(f),a.appendChild(m),a.appendChild(y),a.appendChild(b),i.appendChild(a),t.appendChild(i);var w=[0,-14];e&&e.offset||(e?e.offset=w:e={offset:w})}this._offset=o.convert(e&&e.offset||[0,0]),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};u.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(t){return this._lngLat=r.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},u.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},u.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},u.prototype.getOffset=function(){return this._offset},u.prototype.setOffset=function(t){return this._offset=o.convert(t),this._update(),this},e.exports=u},{"../geo/lng_lat":62,"../util/dom":259,"../util/smart_wrap":270,"../util/util":275,"@mapbox/point-geometry":4}],249:[function(t,e,i){"use strict";function n(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l(-e,e),bottom:new l(0,-t),"bottom-left":new l(e,-e),"bottom-right":new l(-e,-e),left:new l(t,0),right:new l(-t,0)}}if(t instanceof l||Array.isArray(t)){var i=l.convert(t);return{top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return n(new l(0,0))}var r=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat"),l=t("@mapbox/point-geometry"),u=t("../util/window"),c=t("../util/smart_wrap"),h={closeButton:!0,closeOnClick:!0},p=function(t){function e(e){t.call(this),this.options=r.extend(Object.create(h),e),r.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=s.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(u.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,i=u.document.createDocumentFragment(),n=u.document.createElement("body");for(n.innerHTML=t;;){if(!(e=n.firstChild))break;i.appendChild(e)}return this.setDOMContent(i)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=c(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,i=n(this.options.offset);if(!e){var r=this._container.offsetWidth,o=this._container.offsetHeight;e=t.y+i.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<r/2?e.push("left"):t.x>this._map.transform.width-r/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=t.add(i[e]).round(),l={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},u=this._container.classList;for(var h in l)u.remove("mapboxgl-popup-anchor-"+h);u.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,l[e]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(o);e.exports=p},{"../geo/lng_lat":62,"../util/dom":259,"../util/evented":260,"../util/smart_wrap":270,"../util/util":275,"../util/window":254,"@mapbox/point-geometry":4}],250:[function(t,e,i){"use strict";var n=t("./util"),r=t("./web_worker_transfer"),o=r.serialize,a=r.deserialize,s=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.callbackID=0,n.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};s.prototype.send=function(t,e,i,n){var r=i?this.mapId+":"+this.callbackID++:null;i&&(this.callbacks[r]=i);var a=[];this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:t,id:String(r),data:o(e,a)},a)},s.prototype.receive=function(t){var e,i=this,n=t.data,r=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var s=function(t,e){var n=[];i.target.postMessage({sourceMapId:i.mapId,type:"<response>",id:String(r),error:t?String(t):null,data:o(e,n)},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(new Error(n.error)):e&&e(null,a(n.data));else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,a(n.data),s);else if(void 0!==n.id&&this.parent.getWorkerSource){var l=n.type.split("."),u=this.parent.getWorkerSource(n.sourceMapId,l[0]);u[l[1]](a(n.data),s)}else this.parent[n.type](a(n.data))}},s.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=s},{"./util":275,"./web_worker_transfer":278}],251:[function(t,e,i){"use strict";function n(t){var e=new o.XMLHttpRequest;for(var i in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(i,t.headers[i]);return e.withCredentials="include"===t.credentials,e}function r(t){var e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}var o=t("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};i.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(t){function e(e,i){t.call(this,e),this.status=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);i.getJSON=function(t,e){var i=n(t);return i.setRequestHeader("Accept","application/json"),i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if(i.status>=200&&i.status<300&&i.response){var t;try{t=JSON.parse(i.response)}catch(t){return e(t)}e(null,t)}else e(new s(i.statusText,i.status))},i.send(),i},i.getArrayBuffer=function(t,e){var i=n(t);return i.responseType="arraybuffer",i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){var t=i.response;if(0===t.byteLength&&200===i.status)return e(new Error("http status 200 returned without content."));i.status>=200&&i.status<300&&i.response?e(null,{data:t,cacheControl:i.getResponseHeader("Cache-Control"),expires:i.getResponseHeader("Expires")}):e(new s(i.statusText,i.status))},i.send(),i};var l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";i.getImage=function(t,e){return i.getArrayBuffer(t,function(t,i){if(t)e(t);else if(i){var n=new o.Image,r=o.URL||o.webkitURL;n.onload=function(){e(null,n),r.revokeObjectURL(n.src)};var a=new o.Blob([new Uint8Array(i.data)],{type:"image/png"});n.cacheControl=i.cacheControl,n.expires=i.expires,n.src=i.data.byteLength?r.createObjectURL(a):l}})},i.getVideo=function(t,e){var i=o.document.createElement("video");i.onloadstart=function(){e(null,i)};for(var n=0;n<t.length;n++){var a=o.document.createElement("source");r(t[n])||(i.crossOrigin="Anonymous"),a.src=t[n],i.appendChild(a)}return i}},{"./window":254}],252:[function(t,e,i){"use strict";var n=t("./window"),r=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),o=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,a=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame;e.exports={now:r,frame:function(t){return o(t)},cancelFrame:function(t){return a(t)},getImageData:function(t){var e=n.document.createElement("canvas"),i=e.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height)},hardwareConcurrency:n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},supportsWebp:!1};var s=n.document.createElement("img");s.onload=function(){e.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":254}],253:[function(t,e,i){"use strict";var n=t("webworkify"),r=t("../window"),o=r.URL.createObjectURL(new n(t("../../source/worker"),{bare:!0}));e.exports=function(){return new r.Worker(o)}},{"../../source/worker":118,"../window":254,webworkify:36}],254:[function(t,e,i){"use strict";e.exports=self},{}],255:[function(t,e,i){"use strict";function n(t,e){return e.area-t.area}var r=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var i=t.length;if(i<=1)return[t];for(var a,s,l=[],u=0;u<i;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[t[u]]):a.push(t[u]))}if(a&&l.push(a),e>1)for(var h=0;h<l.length;h++)l[h].length<=e||(r(l[h],e,1,l[h].length-1,n),l[h]=l[h].slice(0,e));return l}},{"./util":275,quickselect:31}],256:[function(t,e,i){"use strict";var n={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=n},{}],257:[function(t,e,i){"use strict";var n=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var i=0;i<t.length;i++){var n=t[i];e._stringToNumber[n]=i,e._numberToString[i]=n}};n.prototype.encode=function(t){return this._stringToNumber[t]},n.prototype.decode=function(t){return this._numberToString[t]},e.exports=n},{}],258:[function(t,e,i){"use strict";var n=t("./util"),r=t("./actor"),o=function(t,e){var i=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=o[a],l=new r(s,e,i.id);l.name="Worker "+a,i.actors.push(l)}};o.prototype.broadcast=function(t,e,i){i=i||function(){},n.asyncAll(this.actors,function(i,n){i.send(t,e,n)},i)},o.prototype.send=function(t,e,i,n){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i),n},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":250,"./util":275}],259:[function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e];return t[0]}var r=t("@mapbox/point-geometry"),o=t("./window");i.create=function(t,e,i){var n=o.document.createElement(t);return e&&(n.className=e),i&&i.appendChild(n),n},i.createNS=function(t,e){return o.document.createElementNS(t,e)};var a,s=o.document.documentElement.style,l=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){l&&(a=s[l],s[l]="none")},i.enableDrag=function(){l&&(s[l]=a)};var u=n(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[u]=e};var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});o.addEventListener("test",h,h),o.removeEventListener("test",h,h)}catch(t){c=!1}i.addEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&c?t.addEventListener(e,i,n):t.addEventListener(e,i,n.capture)},i.removeEventListener=function(t,e,i,n){void 0===n&&(n={}),"passive"in n&&c?t.removeEventListener(e,i,n):t.removeEventListener(e,i,n.capture)};var p=function(t){t.preventDefault(),t.stopPropagation(),o.removeEventListener("click",p,!0)};i.suppressClick=function(){o.addEventListener("click",p,!0),o.setTimeout(function(){o.removeEventListener("click",p,!0)},0)},i.mousePos=function(t,e){var i=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new r(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)},i.touchPos=function(t,e){for(var i=t.getBoundingClientRect(),n=[],o="touchend"===e.type?e.changedTouches:e.touches,a=0;a<o.length;a++)n.push(new r(o[a].clientX-i.left-t.clientLeft,o[a].clientY-i.top-t.clientTop));return n},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":254,"@mapbox/point-geometry":4}],260:[function(t,e,i){"use strict";function n(t,e,i){i[t]=i[t]||[],i[t].push(e)}function r(t,e,i){if(i&&i[t]){var n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}var o=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},n(t,e,this._listeners),this},a.prototype.off=function(t,e){return r(t,e,this._listeners),r(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},n(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var i=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var n=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0,s=n;a<s.length;a+=1)s[a].call(i,e);for(var l=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0,c=l;u<c.length;u+=1){var h=c[u];r(t,h,i._oneTimeListeners),h.call(i,e)}this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":275}],261:[function(t,e,i){"use strict";function n(t,e){return e.max-t.max}function r(t,e,i,n){this.p=new l(t,e),this.h=i,this.d=o(this.p,n),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var i=!1,n=1/0,r=0;r<e.length;r++)for(var o=e[r],a=0,s=o.length,l=s-1;a<s;l=a++){var c=o[a],h=o[l];c.y>t.y!=h.y>t.y&&t.x<(h.x-c.x)*(t.y-c.y)/(h.y-c.y)+c.x&&(i=!i),n=Math.min(n,u(t,c,h))}return(i?1:-1)*Math.sqrt(n)}function a(t){for(var e=0,i=0,n=0,o=t[0],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l],h=u.x*c.y-c.x*u.y;i+=(u.x+c.x)*h,n+=(u.y+c.y)*h,e+=3*h}return new r(i/e,n/e,0,t)}var s=t("tinyqueue"),l=t("@mapbox/point-geometry"),u=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);for(var o=1/0,u=1/0,c=-1/0,h=-1/0,p=t[0],d=0;d<p.length;d++){var f=p[d];(!d||f.x<o)&&(o=f.x),(!d||f.y<u)&&(u=f.y),(!d||f.x>c)&&(c=f.x),(!d||f.y>h)&&(h=f.y)}var g=c-o,m=h-u,v=Math.min(g,m),y=v/2,b=new s(null,n);if(0===v)return new l(o,u);for(var x=o;x<c;x+=v)for(var _=u;_<h;_+=v)b.push(new r(x+y,_+y,y,t));for(var w=a(t),C=b.length;b.length;){var S=b.pop();(S.d>w.d||!w.d)&&(w=S,i&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,C)),S.max-w.d<=e||(y=S.h/2,b.push(new r(S.p.x-y,S.p.y-y,y,t)),b.push(new r(S.p.x+y,S.p.y-y,y,t)),b.push(new r(S.p.x-y,S.p.y+y,y,t)),b.push(new r(S.p.x+y,S.p.y+y,y,t)),C+=4)}return i&&(console.log("num probes: "+C),console.log("best distance: "+w.d)),w.p}},{"./intersection_tests":264,"@mapbox/point-geometry":4,tinyqueue:33}],262:[function(t,e,i){"use strict";var n,r=t("./worker_pool");e.exports=function(){return n||(n=new r),n}},{"./worker_pool":279}],263:[function(t,e,i){"use strict";function n(t,e,i,n){var r=e.width,o=e.height;if(n){if(n.length!==r*o*i)throw new RangeError("mismatched image size")}else n=new Uint8Array(r*o*i);return t.width=r,t.height=o,t.data=n,t}function r(t,e,i){var r=e.width,a=e.height;if(r!==t.width||a!==t.height){var s=n({},{width:r,height:a},i);o(t,s,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,a)},i),t.width=r,t.height=a,t.data=s.data}}function o(t,e,i,n,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<r.height;l++)for(var u=((i.y+l)*t.width+i.x)*o,c=((n.y+l)*e.width+n.x)*o,h=0;h<r.width*o;h++)s[c+h]=a[u+h];return e}var a=t("./web_worker_transfer"),s=a.register,l=function(t,e){n(this,t,1,e)};l.prototype.resize=function(t){r(this,t,1)},l.prototype.clone=function(){return new l({width:this.width,height:this.height},new Uint8Array(this.data))},l.copy=function(t,e,i,n,r){o(t,e,i,n,r,1)};var u=function(t,e){n(this,t,4,e)};u.prototype.resize=function(t){r(this,t,4)},u.prototype.clone=function(){return new u({width:this.width,height:this.height},new Uint8Array(this.data))},u.copy=function(t,e,i,n,r){o(t,e,i,n,r,4)},s("AlphaImage",l),s("RGBAImage",u),e.exports={AlphaImage:l,RGBAImage:u}},{"./web_worker_transfer":278}],264:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<t.length;i++)if(d(e,t[i]))return!0;for(var n=0;n<e.length;n++)if(d(t,e[n]))return!0;return!!l(t,e)}function r(t,e,i){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];if(d(r,l))return!0;if(c(l,r,i))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return p(e,t[0][0]);for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++)if(p(t,n[r]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(p(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(l(a,e[u]))return!0}return!1}function a(t,e,i){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var l=0;l<r.length;l++)if(d(a,r[l]))return!0;if(s(a,r,i))return!0}return!1}function s(t,e,i){if(t.length>1){if(l(t,e))return!0;for(var n=0;n<e.length;n++)if(c(e[n],t,i))return!0}for(var r=0;r<t.length;r++)if(c(t[r],e,i))return!0;return!1}function l(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var n=t[i],r=t[i+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(u(n,r,a,s))return!0}return!1}function u(t,e,i,n){return g(t,i,n)!==g(e,i,n)&&g(t,e,i)!==g(t,e,n)}function c(t,e,i){var n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(var r=1;r<e.length;r++)if(h(t,e[r-1],e[r])<n)return!0;return!1}function h(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return r<0?t.distSqr(e):r>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(r)._add(e))}function p(t,e){for(var i,n,r,o=!1,a=0;a<t.length;a++){i=t[a];for(var s=0,l=i.length-1;s<i.length;l=s++)n=i[s],r=i[l],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(o=!o)}return o}function d(t,e){for(var i=!1,n=0,r=t.length-1;n<t.length;r=n++){var o=t[n],a=t[r];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(i=!i)}return i}var f=t("./util"),g=f.isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:n,distToSegmentSquared:h}},{"./util":275}],265:[function(t,e,i){"use strict";var n={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=n},{}],266:[function(t,e,i){"use strict";var n=function(t,e){this.max=t,this.onRemove=e,this.reset()};n.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},n.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.getAndRemove(this.order[0]);i&&this.onRemove(i)}return this},n.prototype.has=function(t){return t in this.data},n.prototype.keys=function(){return this.order},n.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},n.prototype.get=function(t){return this.has(t)?this.data[t]:null},n.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},n.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var i=e.getAndRemove(e.order[0]);i&&e.onRemove(i)}return this},e.exports=n},{}],267:[function(t,e,i){"use strict";function n(t,e){var i=a(l.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!l.REQUIRE_ACCESS_TOKEN)return s(t);if(!(e=e||l.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function r(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(l.ACCESS_TOKEN||""))}function a(t){var e=t.match(p);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var l=t("./config"),u=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";i.isMapboxURL=r,i.normalizeStyleURL=function(t,e){if(!r(t))return t;var i=a(t);return i.path="/styles/v1"+i.path,n(i,e)},i.normalizeGlyphsURL=function(t,e){if(!r(t))return t;var i=a(t);return i.path="/fonts/v1"+i.path,n(i,e)},i.normalizeSourceURL=function(t,e){if(!r(t))return t;var i=a(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),n(i,e)},i.normalizeSpriteURL=function(t,e,i,o){var l=a(t);return r(t)?(l.path="/styles/v1"+l.path+"/sprite"+e+i,n(l,o)):(l.path+=""+e+i,s(l))};var h=/(\.(png|jpg)\d*)(?=$)/;i.normalizeTileURL=function(t,e,i){if(!e||!r(e))return t;var n=a(t),l=u.devicePixelRatio>=2||512===i?"@2x":"",c=u.supportsWebp?".webp":"$1";return n.path=n.path.replace(h,""+l+c),o(n.params),s(n)};var p=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":252,"./config":256}],268:[function(t,e,i){"use strict";e.exports={getEntriesByName:function(t){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(t)}}},{}],269:[function(t,e,i){"use strict";var n=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!i.charAllowsIdeographicBreaking(r.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(i.charHasUprightVerticalOrientation(r.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!i.charAllowsLetterSpacing(r.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!n.Arabic(t)&&!n["Arabic Supplement"](t)&&!n["Arabic Extended-A"](t)&&!n["Arabic Presentation Forms-A"](t)&&!n["Arabic Presentation Forms-B"](t)},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!n["Bopomofo Extended"](t)||!!n.Bopomofo(t)||!!n["CJK Compatibility Forms"](t)||!!n["CJK Compatibility Ideographs"](t)||!!n["CJK Compatibility"](t)||!!n["CJK Radicals Supplement"](t)||!!n["CJK Strokes"](t)||!!n["CJK Symbols and Punctuation"](t)||!!n["CJK Unified Ideographs Extension A"](t)||!!n["CJK Unified Ideographs"](t)||!!n["Enclosed CJK Letters and Months"](t)||!!n["Halfwidth and Fullwidth Forms"](t)||!!n.Hiragana(t)||!!n["Ideographic Description Characters"](t)||!!n["Kangxi Radicals"](t)||!!n["Katakana Phonetic Extensions"](t)||!!n.Katakana(t)||!!n["Vertical Forms"](t)||!!n["Yi Radicals"](t)||!!n["Yi Syllables"](t))},i.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!n["Bopomofo Extended"](t)||!!n.Bopomofo(t)||!(!n["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!n["CJK Compatibility Ideographs"](t)||!!n["CJK Compatibility"](t)||!!n["CJK Radicals Supplement"](t)||!!n["CJK Strokes"](t)||!(!n["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!n["CJK Unified Ideographs Extension A"](t)||!!n["CJK Unified Ideographs"](t)||!!n["Enclosed CJK Letters and Months"](t)||!!n["Hangul Compatibility Jamo"](t)||!!n["Hangul Jamo Extended-A"](t)||!!n["Hangul Jamo Extended-B"](t)||!!n["Hangul Jamo"](t)||!!n["Hangul Syllables"](t)||!!n.Hiragana(t)||!!n["Ideographic Description Characters"](t)||!!n.Kanbun(t)||!!n["Kangxi Radicals"](t)||!!n["Katakana Phonetic Extensions"](t)||!(!n.Katakana(t)||12540===t)||!(!n["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!n["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!n["Unified Canadian Aboriginal Syllabics"](t)||!!n["Unified Canadian Aboriginal Syllabics Extended"](t)||!!n["Vertical Forms"](t)||!!n["Yijing Hexagram Symbols"](t)||!!n["Yi Syllables"](t)||!!n["Yi Radicals"](t))},i.charHasNeutralVerticalOrientation=function(t){return!(!n["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||!(!n["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||!!n["Letterlike Symbols"](t)||!!n["Number Forms"](t)||!(!n["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||!(!n["Control Pictures"](t)||9251===t)||!!n["Optical Character Recognition"](t)||!!n["Enclosed Alphanumerics"](t)||!!n["Geometric Shapes"](t)||!(!n["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||!(!n["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||!!n["CJK Symbols and Punctuation"](t)||!!n.Katakana(t)||!!n["Private Use Area"](t)||!!n["CJK Compatibility Forms"](t)||!!n["Small Form Variants"](t)||!!n["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t},i.charHasRotatedVerticalOrientation=function(t){return!(i.charHasUprightVerticalOrientation(t)||i.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":265}],270:[function(t,e,i){"use strict";var n=t("../geo/lng_lat");e.exports=function(t,e,i){if(t=new n(t.lng,t.lat),e){var r=new n(t.lng-360,t.lat),o=new n(t.lng+360,t.lat),a=i.locationPoint(t).distSqr(e);i.locationPoint(r).distSqr(e)<a?t=r:i.locationPoint(o).distSqr(e)<a&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var s=i.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":62}],271:[function(t,e,i){"use strict";function n(t,e){void 0===e&&(e=1);var i=0,n=0;return{members:t.map(function(t){var a=r(t.type),s=i=o(i,Math.max(e,a)),l=t.components||1;return n=Math.max(n,a),i+=a*l,{name:t.name,type:t.type,components:l,offset:s}}),size:o(i,Math.max(n,e)),alignment:e}}function r(t){return a[t].BYTES_PER_ELEMENT}function o(t,e){return Math.ceil(t/e)*e}var a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},s=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},l=128,u=5,c=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};c.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},c.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},c.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},c.prototype.clear=function(){this.length=0},c.prototype.resize=function(t){this.reserve(t),this.length=t},c.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*u),l),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},c.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},e.exports.StructArray=c,e.exports.Struct=s,e.exports.viewTypes=a,e.exports.createLayout=n},{}],272:[function(t,e,i){"use strict";e.exports=function(t,e){var i=!1,n=0,r=function(){n=0,i&&(t(),n=setTimeout(r,e),i=!1)};return function(){return i=!0,n||r(),n}}},{}],273:[function(t,e,i){"use strict";function n(t,e,i,n){function r(e,r,a){var u,c,h,p;if(a>=0&&a<=o)for(u=e;u<r;u++)c=Math.floor(u/o),h=(u%o+o)%o,0!==c&&!0!==n||(p=new l(i,c,t,h,a),s[p.key]=p)}void 0===n&&(n=!0);var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}function r(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,i,n,r){var o=Math.max(i,Math.floor(e.y0)),a=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,h=e.dx<0,p=o;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,f=u*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;r(Math.floor(f),Math.ceil(d),p)}}function a(t,e,i,n,a,s){var l,u=r(t,e),c=r(e,i),h=r(i,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>h.dy&&(l=u,u=h,h=l),c.dy>h.dy&&(l=c,c=h,h=l),u.dy&&o(h,u,n,a,s),c.dy&&o(h,c,n,a,s)}t("../geo/coordinate");var s=t("../source/tile_id"),l=s.OverscaledTileID;e.exports=n},{"../geo/coordinate":61,"../source/tile_id":114}],274:[function(t,e,i){"use strict";function n(t,e){return e.replace(/{([^{}]+)}/g,function(e,i){return i in t?String(t[i]):""})}e.exports=n},{}],275:[function(t,e,i){"use strict";var n=t("@mapbox/unitbezier"),r=t("../geo/coordinate");t("@mapbox/point-geometry");i.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},i.bezier=function(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}},i.ease=i.bezier(.25,.1,.25,1),i.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},i.wrap=function(t,e,i){var n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r},i.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var n=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0==--n&&i(o,r)})})},i.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},i.keysDifference=function(t,e){var i=[];for(var n in t)n in e||i.push(n);return i},i.extend=function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var n=0,r=e;n<r.length;n+=1){var o=r[n];for(var a in o)t[a]=o[a]}return t},i.pick=function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];r in t&&(i[r]=t[r])}return i};var o=1;i.uniqueId=function(){return o++},i.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},i.getCoordinatesCenter=function(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,a=0;a<t.length;a++)e=Math.min(e,t[a].column),i=Math.min(i,t[a].row),n=Math.max(n,t[a].column),o=Math.max(o,t[a].row);var s=n-e,l=o-i,u=Math.max(s,l),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new r((e+n)/2,(i+o)/2,0).zoomTo(c)},i.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},i.mapObject=function(t,e,i){var n=this,r={};for(var o in t)r[o]=e.call(i||n,t[o],o,t);return r},i.filterObject=function(t,e,i){var n=this,r={};for(var o in t)e.call(i||n,t[o],o,t)&&(r[o]=t[o]);return r},i.deepEqual=t("../style-spec/util/deep_equal"),i.clone=function(t){return Array.isArray(t)?t.map(i.clone):"object"==typeof t&&t?i.mapObject(t,i.clone):t},i.arraysIntersect=function(t,e){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1};var a={};i.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},i.isCounterClockwise=function(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)},i.calculateSignedArea=function(t){for(var e=0,i=0,n=t.length,r=n-1,o=void 0,a=void 0;i<n;r=i++)o=t[i],a=t[r],e+=(a.x-o.x)*(o.y+a.y);return e},i.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],n=t[t.length-1];return!(Math.abs(e.x-n.x)>0||Math.abs(e.y-n.y)>0)&&Math.abs(i.calculateSignedArea(t))>.01},i.sphericalToCartesian=function(t){var e=t[0],i=t[1],n=t[2];return i+=90,i*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(i)*Math.sin(n),y:e*Math.sin(i)*Math.sin(n),z:e*Math.cos(n)}},i.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,i={};if(t.replace(e,function(t,e,n,r){var o=n||r;return i[e]=!o||o.toLowerCase(),""}),i["max-age"]){var n=parseInt(i["max-age"],10);isNaN(n)?delete i["max-age"]:i["max-age"]=n}return i}},{"../geo/coordinate":61,"../style-spec/util/deep_equal":155,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],276:[function(t,e,i){"use strict";var n=function(t,e,i,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},r={geometry:{}};r.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},r.geometry.set=function(t){this._geometry=t},n.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var i in t)"_geometry"!==i&&"_vectorTileFeature"!==i&&(e[i]=t[i]);return e},Object.defineProperties(n.prototype,r),e.exports=n},{}],277:[function(t,e,i){"use strict";var n=t("./script_detection");e.exports=function(t){for(var i="",r=0;r<t.length;r++){var o=t.charCodeAt(r+1)||null,a=t.charCodeAt(r-1)||null;o&&n.charHasRotatedVerticalOrientation(o)&&!e.exports.lookup[t[r+1]]||a&&n.charHasRotatedVerticalOrientation(a)&&!e.exports.lookup[t[r-1]]||!e.exports.lookup[t[r]]?i+=t[r]:i+=e.exports.lookup[t[r]]}return i},e.exports.lookup={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},{"./script_detection":269}],278:[function(t,e,i){"use strict";function n(t,e,i){void 0===i&&(i={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),b[t]={klass:e,omit:i.omit||[],shallow:i.shallow||[]}}function r(t,e){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var i=t;return e&&e.push(i.buffer),i}if(t instanceof y)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(r(s,e))}return n}if("object"==typeof t){var l=t.constructor,u=l._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c={};if(l.serialize)c._serialized=l.serialize(t,e);else for(var h in t)if(t.hasOwnProperty(h)&&!(b[u].omit.indexOf(h)>=0)){var p=t[h];c[h]=b[u].shallow.indexOf(h)>=0?p:r(p,e)}return{name:u,properties:c}}throw new Error("can't serialize object of type "+typeof t)}function o(t){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof y)return t;if(Array.isArray(t))return t.map(function(t){return o(t)});if("object"==typeof t){var e=t,i=e.name,n=e.properties;if(!i)throw new Error("can't deserialize object of anonymous class");var r=b[i],a=r.klass;if(!a)throw new Error("can't deserialize unregistered class "+i);if(a.deserialize)return a.deserialize(n._serialized);for(var s=Object.create(a.prototype),l=0,u=Object.keys(n);l<u.length;l+=1){var c=u[l];s[c]=b[i].shallow.indexOf(c)>=0?n[c]:o(n[c])}return s}throw new Error("can't deserialize object of type "+typeof t)}var a=t("grid-index"),s=t("../style-spec/util/color"),l=t("../style-spec/expression"),u=l.StylePropertyFunction,c=l.StyleExpression,h=l.StyleExpressionWithErrorHandling,p=l.ZoomDependentExpression,d=l.ZoomConstantExpression,f=t("../style-spec/expression/compound_expression"),g=f.CompoundExpression,m=t("../style-spec/expression/definitions"),v=t("./window"),y=v.ImageData,b={};for(var x in n("Object",Object),a.serialize=function(t,e){var i=t.toArrayBuffer();return e&&e.push(i),i},a.deserialize=function(t){return new a(t)},n("Grid",a),n("Color",s),n("StylePropertyFunction",u),n("StyleExpression",c,{omit:["_evaluator"]}),n("StyleExpressionWithErrorHandling",h,{omit:["_evaluator"]}),n("ZoomDependentExpression",p),n("ZoomConstantExpression",d),n("CompoundExpression",g,{omit:["_evaluate"]}),m)m[x]._classRegistryKey||n("Expression_"+x,m[x]);e.exports={register:n,serialize:r,deserialize:o}},{"../style-spec/expression":139,"../style-spec/expression/compound_expression":123,"../style-spec/expression/definitions":131,"../style-spec/util/color":153,"./window":254,"grid-index":24}],279:[function(t,e,i){"use strict";var n=t("./web_worker"),r=function(){this.active={}};r.prototype.acquire=function(e){var i=this;if(!this.workers){var r=t("../").workerCount;for(this.workers=[];this.workers.length<r;)i.workers.push(new n)}return this.active[e]=!0,this.workers.slice()},r.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=r},{"../":73,"./web_worker":253}]},{},[73])(73)})},"2p1q":function(t,e,i){var n=i("lDLk"),r=i("fU25");t.exports=i("bUqO")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},"3EgV":function(t,e,i){(function(e,i){t.exports=i()})("undefined"!==typeof self&&self,function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=72)}([function(t,e,i){"use strict";var n=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]={name:"colorable",props:{color:String},data:function(){return{defaultColor:null}},computed:{computedColor:function(){return this.color||this.defaultColor}},methods:{addBackgroundColorClassChecks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computedColor,i=Object.assign({},t);return e&&(i[e]=!0),i},addTextColorClassChecks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.computedColor,i=Object.assign({},t);if(e){var r=e.trim().split(" "),o=n(r,2),a=o[0],s=o[1];i[a+"--text"]=!0,s&&(i["text--"+s]=!0)}return i}}}},function(t,e,i){"use strict";e["a"]={name:"themeable",props:{dark:Boolean,light:Boolean},computed:{themeClasses:function(){return{"theme--light":this.light,"theme--dark":this.dark}}}}},function(t,e,i){"use strict";e["d"]=o,e["e"]=a,e["b"]=s,e["a"]=l,e["h"]=u,e["c"]=c,e["i"]=h,e["f"]=d,e["g"]=f;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",i=arguments[2];return i=i||t.replace(/__/g,"-"),{name:"v-"+i,functional:!0,render:function(i,n){var r=n.data,o=n.children;return r.staticClass=(t+" "+(r.staticClass||"")).trim(),i(e,r,o)}}}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",i=arguments[2];return{name:t,functional:!0,props:{origin:{type:String,default:e}},render:function(e,r){return r.data=r.data||{},r.data.props={name:t},r.data.on=r.data.on||{},Object.isExtensible(r.data.on)||(r.data.on=n({},r.data.on)),i&&(r.data.props.mode=i),r.data.on.beforeEnter=function(t){t.style.transformOrigin=r.props.origin,t.style.webkitTransformOrigin=r.props.origin},e("transition",r.data,r.children)}}}function s(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"in-out";return{name:t,functional:!0,props:{css:{type:Boolean,default:i},mode:{type:String,default:r}},render:function(i,r){var o={props:n({},r.props,{name:t}),on:e};return i("transition",o,r.children)}}}function l(t,e,i){var n=function n(){i(),t.removeEventListener(e,n,!1)};t.addEventListener(e,n,!1)}function u(t,e){if(e&&e.constructor===String){e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),n=0,r=i.length;n<r;++n){var o=i[n];if(!(t instanceof Object&&o in t))return;t=t[o]}return t}}function c(t){return[].concat(r(Array.from({length:t},function(t,e){return e})))}function h(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=window.getComputedStyle(t).getPropertyValue("z-index");return isNaN(e)?h(t.parentNode):e}var p={"&":"&amp;","<":"&lt;",">":"&gt;"};function d(t){return t.replace(/[&<>]/g,function(t){return p[t]||t})}function f(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];"undefined"!==typeof t[r]&&(i[r]=t[r])}return i}},function(t,e,i){"use strict";var n=i(92);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";e["a"]=a,e["b"]=s;var n=i(5);function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t,e){return function(){return Object(n["b"])("The "+t+" component must be used inside a "+e)}}function a(t,e,i){var n=e&&i?{register:o(e,i),unregister:o(e,i)}:null;return{name:"registrable-inject",inject:r({},t,{default:n})}}function s(t){return{name:"registrable-provide",methods:{register:null,unregister:null},provide:function(){return r({},t,{register:this.register,unregister:this.unregister})}}}},function(t,e,i){"use strict";function n(t,e){var i=e?' in "'+e.$options.name+'"':"";return"[Vuetify] "+t+i}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.warn(n(t,e))}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.error(n(t,e))}e["b"]=r,e["a"]=o},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return{name:"toggleable",model:{prop:e,event:i},props:n({},e,{required:!1}),data:function(){return{isActive:!!this[e]}},watch:(t={},n(t,e,function(t){this.isActive=!!t}),n(t,"isActive",function(t){!!t!==this[e]&&this.$emit(i,t)}),t)}}e["b"]=r;var o=r();e["a"]=o},function(t,e,i){"use strict";i.d(e,"f",function(){return l}),i.d(e,"e",function(){return u}),i.d(e,"b",function(){return f}),i.d(e,"c",function(){return g}),i.d(e,"d",function(){return m}),i.d(e,"a",function(){return x});var n=i(2),r=i(41),o=Object(n["e"])("bottom-sheet-transition"),a=Object(n["e"])("carousel-transition"),s=Object(n["e"])("carousel-reverse-transition"),l=Object(n["e"])("tab-transition"),u=Object(n["e"])("tab-reverse-transition"),c=Object(n["e"])("menu-transition"),h=Object(n["e"])("fab-transition","center center","out-in"),p=Object(n["e"])("dialog-transition"),d=Object(n["e"])("dialog-bottom-transition"),f=Object(n["e"])("fade-transition"),g=Object(n["e"])("scale-transition"),m=Object(n["e"])("slide-x-transition"),v=Object(n["e"])("slide-x-reverse-transition"),y=Object(n["e"])("slide-y-transition"),b=Object(n["e"])("slide-y-reverse-transition"),x=Object(n["b"])("expand-transition",Object(r["a"])()),_=Object(n["b"])("row-expand-transition",Object(r["a"])("datatable__expand-col--expanded"));function w(t){t.component("v-bottom-sheet-transition",o),t.component("v-carousel-transition",a),t.component("v-carousel-reverse-transition",s),t.component("v-dialog-transition",p),t.component("v-dialog-bottom-transition",d),t.component("v-fab-transition",h),t.component("v-fade-transition",f),t.component("v-menu-transition",c),t.component("v-scale-transition",g),t.component("v-slide-x-transition",m),t.component("v-slide-x-reverse-transition",v),t.component("v-slide-y-transition",y),t.component("v-slide-y-reverse-transition",b),t.component("v-tab-reverse-transition",u),t.component("v-tab-transition",l),t.component("v-expand-transition",x),t.component("v-row-expand-transition",_)}e["g"]=w},function(t,e,i){"use strict";function n(){return!1}function r(t,e,i){i.args=i.args||{};var r=i.args.closeConditional||n;if(t&&!1!==r(t)&&!("isTrusted"in t&&!t.isTrusted||"pointerType"in t&&!t.pointerType)){var a=(i.args.include||function(){return[]})();a.push(e),!o(t,a)&&setTimeout(function(){r(t)&&i.value()},0)}}function o(t,e){var i=t.clientX,n=t.clientY,r=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value;if(a(c,i,n))return!0}}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}return!1}function a(t,e,i){var n=t.getBoundingClientRect();return e>=n.left&&e<=n.right&&i>=n.top&&i<=n.bottom}e["a"]={name:"click-outside",inserted:function(t,e){var i=function(i){return r(i,t,e)},n=document.querySelector("[data-app]")||document.body;n.addEventListener("click",i,!0),t._clickOutside=i},unbind:function(t){var e=document.querySelector("[data-app]")||document.body;e&&e.removeEventListener("click",t._clickOutside,!0),delete t._clickOutside}}},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var r=function(t,e){var i=t.changedTouches[0];e.touchstartX=i.clientX,e.touchstartY=i.clientY,e.start&&e.start(Object.assign(t,e))},o=function(t,e){var i=t.changedTouches[0];e.touchendX=i.clientX,e.touchendY=i.clientY,e.end&&e.end(Object.assign(t,e)),s(e)},a=function(t,e){var i=t.changedTouches[0];e.touchmoveX=i.clientX,e.touchmoveY=i.clientY,e.move&&e.move(Object.assign(t,e))},s=function(t){var e=t.touchstartX,i=t.touchendX,n=t.touchstartY,r=t.touchendY,o=.5,a=16;t.offsetX=i-e,t.offsetY=r-n,Math.abs(t.offsetY)<o*Math.abs(t.offsetX)&&(t.left&&i<e-a&&t.left(t),t.right&&i>e+a&&t.right(t)),Math.abs(t.offsetX)<o*Math.abs(t.offsetY)&&(t.up&&r<n-a&&t.up(t),t.down&&r>n+a&&t.down(t))};function l(t,e,i){var s=e.value,l=i.context,u={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:s.left,right:s.right,up:s.up,down:s.down,start:s.start,move:s.move,end:s.end},c=s.parent?t.parentNode:t,h=s.options||{passive:!0};if(c){var p={touchstart:function(t){return r(t,u)},touchend:function(t){return o(t,u)},touchmove:function(t){return a(t,u)}};c._touchHandlers=Object.assign(Object(c._touchHandlers),n({},l._uid,p));var d=!0,f=!1,g=void 0;try{for(var m,v=Object.keys(p)[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var y=m.value;c.addEventListener(y,p[y],h)}}catch(t){f=!0,g=t}finally{try{!d&&v.return&&v.return()}finally{if(f)throw g}}}}function u(t,e,i){var n=e.value,r=i.context,o=n.parent?t.parentNode:t;if(o){var a=o._touchHandlers[r._uid],s=!0,l=!1,u=void 0;try{for(var c,h=Object.keys(a)[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var p=c.value;o.removeEventListener(p,a[p])}}catch(t){l=!0,u=t}finally{try{!s&&h.return&&h.return()}finally{if(l)throw u}}delete o._touchHandlers[r._uid]}}e["a"]={name:"touch",inserted:l,unbind:u}},function(t,e,i){"use strict";var n=i(111);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";function n(t,e){var i=e.value,n=e.options||{passive:!0};window.addEventListener("resize",i,n),t._onResize={callback:i,options:n},e.modifiers&&e.modifiers.quiet||i()}function r(t,e){var i=t._onResize,n=i.callback,r=i.options;window.removeEventListener("resize",n,r),delete t._onResize}e["a"]={name:"resize",inserted:n,unbind:r}},function(t,e,i){"use strict";e["b"]=r;var n=i(2);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};return{name:"positionable",props:t.length?Object(n["g"])(e,t):e}}e["a"]=r()},function(t,e,i){"use strict";var n=i(17),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"routable",directives:{Ripple:n["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:[Boolean,Object],tag:String,target:String},methods:{click:function(){},generateRouteLink:function(){var t=this.exact,e=void 0,i=o({attrs:{disabled:this.disabled},class:this.classes,props:{},directives:[{name:"ripple",value:!(!this.ripple||this.disabled)&&this.ripple}]},this.to?"nativeOn":"on",r({},this.$listeners,{click:this.click}));if("undefined"===typeof this.exact&&(t="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var n=this.activeClass,a=this.exactActiveClass||n;this.proxyClass&&(n+=" "+this.proxyClass,a+=" "+this.proxyClass),e=this.nuxt?"nuxt-link":"router-link",Object.assign(i.props,{to:this.to,exact:t,activeClass:n,exactActiveClass:a,append:this.append,replace:this.replace})}else e=(this.href?"a":this.tag)||"a","a"===e&&(this.href&&(i.attrs.href=this.href),this.target&&(i.attrs.target=this.target));return{tag:e,data:i}}}}},function(t,e,i){"use strict";var n=i(178),r=i(179),o=i(22);i.d(e,"a",function(){return n["a"]}),i.d(e,"b",function(){return r["a"]}),i.d(e,"c",function(){return o["a"]})},function(t,e,i){"use strict";e["a"]=r;var n=i(12);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{name:"applicationable",mixins:[Object(n["b"])(["absolute","fixed"])],props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()}},activated:function(){this.callUpdate()},created:function(){for(var t=0,i=e.length;t<i;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.bind(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(t){(t||this.app)&&this.$vuetify.application.unbind(this._uid,this.applicationProperty)},updateApplication:function(){}}}}},function(t,e,i){"use strict";e["a"]={name:"bootable",data:function(){return{isBooted:!1}},props:{lazy:Boolean},watch:{isActive:function(){this.isBooted=!0}},methods:{showLazyContent:function(t){return this.isBooted||!this.lazy||this.isActive?t:null}}}},function(t,e,i){"use strict";function n(t,e){t.style["transform"]=e,t.style["webkitTransform"]=e}var r={show:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e._ripple&&e._ripple.enabled){var r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="ripple__container",i.class&&(r.className+=" "+i.class);var a=e.clientWidth>e.clientHeight?e.clientWidth:e.clientHeight;o.className="ripple__animation",o.style.width=a*(i.center?1:2)+"px",o.style.height=o.style.width,e.appendChild(r);var s=window.getComputedStyle(e);"absolute"!==s.position&&"fixed"!==s.position&&(e.style.position="relative");var l=e.getBoundingClientRect(),u=i.center?"50%":t.clientX-l.left+"px",c=i.center?"50%":t.clientY-l.top+"px";o.classList.add("ripple__animation--enter"),o.classList.add("ripple__animation--visible"),n(o,"translate(-50%, -50%) translate("+u+", "+c+") scale3d(0.01,0.01,0.01)"),o.dataset.activated=Date.now(),setTimeout(function(){o.classList.remove("ripple__animation--enter"),n(o,"translate(-50%, -50%) translate("+u+", "+c+")  scale3d(0.99,0.99,0.99)")},0)}},hide:function(t){if(t._ripple&&t._ripple.enabled){var e=t.getElementsByClassName("ripple__animation");if(0!==e.length){var i=e[e.length-1],n=Date.now()-Number(i.dataset.activated),r=400-n;r=r<0?0:r,setTimeout(function(){i.classList.remove("ripple__animation--visible"),setTimeout(function(){try{e.length<1&&(t.style.position=null),i.parentNode&&t.removeChild(i.parentNode)}catch(t){}},300)},r)}}}};function o(t){return"undefined"===typeof t||!!t}function a(t){var e={},i=t.currentTarget;e.center=i._ripple.centered,i._ripple.class&&(e.class=i._ripple.class),r.show(t,i,e)}function s(t){r.hide(t.currentTarget)}function l(t,e,i){var n=o(e.value);n||r.hide(t),t._ripple=t._ripple||{},t._ripple.enabled=n;var l=e.value||{};l.center&&(t._ripple.centered=!0),l.class&&(t._ripple.class=e.value.class),n&&!i?("ontouchstart"in window&&(t.addEventListener("touchend",s,!1),t.addEventListener("touchcancel",s,!1)),t.addEventListener("mousedown",a,!1),t.addEventListener("mouseup",s,!1),t.addEventListener("mouseleave",s,!1),t.addEventListener("dragstart",s,!1)):!n&&i&&u(t)}function u(t){t.removeEventListener("touchstart",a,!1),t.removeEventListener("mousedown",a,!1),t.removeEventListener("touchend",s,!1),t.removeEventListener("touchcancel",s,!1),t.removeEventListener("mouseup",s,!1),t.removeEventListener("mouseleave",s,!1),t.removeEventListener("dragstart",s,!1)}function c(t,e){l(t,e,!1)}function h(t,e){delete t._ripple,u(t)}function p(t,e){if(e.value!==e.oldValue){var i=o(e.oldValue);l(t,e,i)}}e["a"]={name:"ripple",bind:c,unbind:h,update:p}},function(t,e){},function(t,e,i){"use strict";var n=i(43),r=i(1),o=i(131),a=i(3);function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"input",mixins:[n["a"],r["a"],o["a"]],data:function(){return{isFocused:!1,tabFocused:!1,internalTabIndex:null,lazyValue:this.value}},props:{appendIcon:String,appendIconCb:Function,disabled:Boolean,hint:String,hideDetails:Boolean,label:String,persistentHint:Boolean,placeholder:String,prependIcon:String,prependIconCb:Function,readonly:Boolean,required:Boolean,tabindex:{default:0},toggleKeys:{type:Array,default:function(){return[13,32]}},value:{required:!1}},computed:{inputGroupClasses:function(){return Object.assign({"input-group":!0,"input-group--async-loading":!1!==this.loading,"input-group--focused":this.isFocused,"input-group--dirty":this.isDirty,"input-group--tab-focused":this.tabFocused,"input-group--disabled":this.disabled,"input-group--error":this.hasError,"input-group--append-icon":this.appendIcon,"input-group--prepend-icon":this.prependIcon,"input-group--required":this.required,"input-group--hide-details":this.hideDetails,"input-group--placeholder":!!this.placeholder,"theme--dark":this.dark,"theme--light":this.light},this.classes)},isDirty:function(){return!!this.inputValue}},methods:{groupFocus:function(t){},groupBlur:function(t){this.tabFocused=!1},genLabel:function(){return this.$createElement("label",{attrs:{for:this.$attrs.id}},this.$slots.label||this.label)},genMessages:function(){var t=null;return this.hint&&(this.isFocused||this.persistentHint)&&!this.validations.length?t=[this.genHint()]:this.validations.length&&(t=[this.genError(this.validations[0])]),this.$createElement("transition",{props:{name:"slide-y-transition"}},t)},genHint:function(){return this.$createElement("div",{class:"input-group__messages input-group__hint",domProps:{innerHTML:this.hint}})},genError:function(t){return this.$createElement("div",{class:"input-group__messages input-group__error"},t)},genIcon:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="append"===t&&this.clearable&&this.isDirty,r=n?"clear":this[t+"Icon"],o=n?this.clearableCallback:this[t+"IconCb"]||i;return this.$createElement(a["a"],{class:(e={},s(e,"input-group__"+t+"-icon",!0),s(e,"input-group__icon-cb",!!o),s(e,"input-group__icon-clearable",n),e),props:{disabled:this.disabled},on:{click:function(t){o&&(t.stopPropagation(),o())}}},r)},genInputGroup:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],o=[],a=[];i=Object.assign({},{class:this.inputGroupClasses,attrs:{tabindex:this.disabled?-1:this.internalTabIndex||this.tabindex},on:{focus:this.groupFocus,blur:this.groupBlur,click:function(){return e.tabFocused=!1},keyup:function(t){[9,16].includes(t.keyCode)&&(e.tabFocused=!0)},keydown:function(t){e.toggle&&e.toggleKeys.includes(t.keyCode)&&(t.preventDefault(),e.toggle())}}},i),(this.$slots.label||this.label)&&r.push(this.genLabel()),o.push(t),this.prependIcon&&o.unshift(this.genIcon("prepend")),(this.appendIcon||this.clearable)&&o.push(this.genIcon("append",n));var s=this.genProgress();return s&&a.push(s),r.push(this.$createElement("div",{class:"input-group__input"},o)),!this.hideDetails&&a.push(this.genMessages()),this.counter&&a.push(this.genCounter()),r.push(this.$createElement("div",{class:"input-group__details"},a)),this.$createElement("div",i,r)}}}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t){for(var e=[],i=0;i<t.length;i++){var o=t[i];o.isActive&&o.isDependent?e.push(o):e.push.apply(e,n(r(o.$children)))}return e}e["a"]={name:"dependent",data:function(){return{closeDependents:!0,isDependent:!0}},methods:{getOpenDependents:function(){return this.closeDependents?r(this.$children):[]},getOpenDependentElements:function(){for(var t=[],e=this.getOpenDependents(),i=0;i<e.length;i++)t.push.apply(t,n(e[i].getClickableDependentElements()));return t},getClickableDependentElements:function(){var t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),t.push.apply(t,n(this.getOpenDependentElements())),t}},watch:{isActive:function(t){if(!t)for(var e=this.getOpenDependents(),i=0;i<e.length;i++)e[i].isActive=!1}}}},function(t,e,i){"use strict";var n=i(17);e["a"]={name:"rippleable",directives:{Ripple:n["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{directives:[]};return e.class=this.rippleClasses||"input-group--selection-controls__ripple",e.directives.push({name:"ripple",value:this.ripple&&!this.disabled&&{center:!0}}),e.on=Object.assign({},this.$listeners,{click:function(e){t.$emit("click",e),t.toggle()}}),this.$createElement("div",e)}}}},function(t,e,i){"use strict";var n=function(t,e,i){return e>>=0,t=String(t),i=String(i),t.length>e?String(t):(e-=t.length,e>i.length&&(i+=i.repeat(e/i.length)),i.slice(0,e)+String(t))};e["a"]=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return n(t,e,"0")}},function(t,e,i){"use strict";e["a"]={name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame(function(){t.$el.setAttribute("data-booted",!0),t.isBooted=!0})}}},function(t,e,i){"use strict";e["a"]={name:"transitionable",props:{mode:String,origin:String,transition:String}}},function(t,e,i){"use strict";var n=i(16),r=i(5),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function a(t){var e="undefined"===typeof t?"undefined":o(t);return"boolean"===e||"string"===e||t.nodeType===Node.ELEMENT_NODE}e["a"]={name:"detachable",mixins:[n["a"]],props:{attach:{type:null,default:!1,validator:a},contentClass:{default:""}},mounted:function(){this.initDetach()},deactivated:function(){this.isActive=!1},beforeDestroy:function(){if(this.$refs.content)try{this.$refs.content.parentNode.removeChild(this.$refs.content)}catch(t){}},methods:{initDetach:function(){if(!this._isDestroyed&&this.$refs.content&&""!==this.attach&&!0!==this.attach&&"attach"!==this.attach){var t=void 0;t=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,t?t.insertBefore(this.$refs.content,t.firstChild):Object(r["b"])("Unable to locate target "+(this.attach||"[data-app]"),this)}}}}},function(t,e,i){"use strict";e["a"]={name:"returnable",data:function(){return{originalValue:null}},props:{returnValue:null},watch:{isActive:function(t){t?this.originalValue=this.returnValue:this.$emit("update:returnValue",this.originalValue)}},methods:{save:function(t){this.originalValue=t,this.isActive=!1}}}},function(t,e,i){"use strict";var n=i(2),r=i(118),o=i(120),a=i(121),s=Object(n["d"])("card__actions"),l=Object(n["d"])("card__text");r["a"].install=function(t){t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a["a"].name,a["a"]),t.component(s.name,s),t.component(l.name,l)},e["a"]=r["a"]},function(t,e,i){"use strict";var n=i(128);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e){},function(t,e,i){"use strict";var n=i(146);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e){},function(t,e,i){"use strict";function n(t){return{name:"v-"+t,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,i){var n=i.props,r=i.data,o=i.children;if(r.staticClass=(t+" "+(r.staticClass||"")).trim(),r.attrs){var a=Object.keys(r.attrs).filter(function(t){var e=r.attrs[t];return e||"string"===typeof e});a.length&&(r.staticClass+=" "+a.join(" ")),delete r.attrs}return n.id&&(r.domProps=r.domProps||{},r.domProps.id=n.id),e(n.tag,r,o)}}}e["a"]=n},function(t,e,i){"use strict";e["a"]=r,e["b"]=o;var n=i(5);function r(t){var e=void 0;if("number"===typeof t)e=t;else{if("string"!==typeof t)throw new TypeError("Colors can only be numbers or strings, recieved "+t.constructor.name+" instead");var i="#"===t[0]?t.substring(1):t;3===i.length&&(i=i.split("").map(function(t){return t+t}).join("")),6!==i.length&&Object(n["b"])("'"+t+"' is not a valid rgb color"),e=parseInt(i,16)}return e<0?(Object(n["b"])("Colors cannot be negative: '"+t+"'"),e=0):(e>16777215||isNaN(e))&&(Object(n["b"])("'"+t+"' is not a valid rgb color"),e=16777215),e}function o(t){return t=t.toString(16),t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}},function(t,e,i){"use strict";var n=i(94);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(4),r=i(5);e["a"]={name:"button-group",mixins:[Object(n["b"])("buttonGroup")],data:function(){return{buttons:[],listeners:[],isDestroying:!1}},watch:{buttons:"update"},methods:{getValue:function(t){return null!=this.buttons[t].value?this.buttons[t].value:null!=this.buttons[t].$el.value&&""!==this.buttons[t].$el.value?this.buttons[t].$el.value:t},update:function(){for(var t=[],e=0;e<this.buttons.length;e++){var i=this.buttons[e].$el,n=this.buttons[e];i.removeAttribute("data-only-child"),this.isSelected(e)?(!n.to&&(n.isActive=!0),t.push(e)):!n.to&&(n.isActive=!1)}1===t.length&&this.buttons[t[0]].$el.setAttribute("data-only-child",!0),this.ensureMandatoryInvariant(t.length>0)},register:function(t){var e=this.buttons.length;this.buttons.push(t),this.listeners.push(this.updateValue.bind(this,e)),t.$on("click",this.listeners[e])},unregister:function(t){if(this.isDestroying){var e=this.buttons.indexOf(t);-1!==e&&t.$off("click",this.listeners[e])}else this.redoRegistrations(t)},redoRegistrations:function(t){for(var e=0,i=[],n=0;n<this.buttons.length;++n){var r=this.buttons[n];r!==t&&(i.push(r),e+=Boolean(this.isSelected(n))),r.$off("click",this.listeners[n])}this.buttons=[],this.listeners=[];for(var o=0;o<i.length;++o)this.register(i[o]);this.ensureMandatoryInvariant(e>0),this.updateAllValues&&this.updateAllValues()},ensureMandatoryInvariant:function(t){this.mandatory&&!t&&(this.listeners.length?this.listeners[0]():Object(r["b"])("There must be at least one v-btn child if the mandatory property is true.",this))}},mounted:function(){this.update()},beforeDestroy:function(){this.isDestroying=!0}}},function(t,e,i){"use strict";var n=i(105),r=(i.n(n),i(20)),o=i(25),a=i(37),s=i(26),l=i(38),u=i(6),c=i(8),h=i(2);function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-dialog",mixins:[r["a"],o["a"],a["a"],s["a"],l["a"],u["a"]],directives:{ClickOutside:c["a"]},data:function(){return{isDependent:!1,stackClass:"dialog__content__active",stackMinZIndex:200}},props:{disabled:Boolean,persistent:Boolean,fullscreen:Boolean,fullWidth:Boolean,maxWidth:{type:[String,Number],default:"none"},origin:{type:String,default:"center center"},width:{type:[String,Number],default:"auto"},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"}},computed:{classes:function(){var t;return t={},p(t,("dialog "+this.contentClass).trim(),!0),p(t,"dialog--active",this.isActive),p(t,"dialog--persistent",this.persistent),p(t,"dialog--fullscreen",this.fullscreen),p(t,"dialog--scrollable",this.scrollable),t},contentClasses:function(){return{dialog__content:!0,dialog__content__active:this.isActive}}},watch:{isActive:function(t){t?this.show():(this.removeOverlay(),this.unbind())}},mounted:function(){this.isBooted=this.isActive,this.isActive&&this.show()},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{closeConditional:function(t){return this.isActive&&!this.persistent&&Object(h["i"])(this.$refs.content)>=this.getMaxZIndex()&&!this.$refs.content.contains(t.target)},show:function(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.fullscreen&&this.hideScroll(),this.$refs.content.focus(),this.$listeners.keydown&&this.bind()},bind:function(){window.addEventListener("keydown",this.onKeydown)},unbind:function(){window.removeEventListener("keydown",this.onKeydown)},onKeydown:function(t){this.$emit("keydown",t)}},render:function(t){var e=this,i=[],n={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:function(){return e.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(t){t.stopPropagation()}}};this.fullscreen||(n.style={maxWidth:"none"===this.maxWidth?void 0:isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px",width:"auto"===this.width?void 0:isNaN(this.width)?this.width:this.width+"px"}),this.$slots.activator&&i.push(t("div",{class:"dialog__activator",on:{click:function(t){t.stopPropagation(),e.disabled||(e.isActive=!e.isActive)}}},[this.$slots.activator]));var r=t("transition",{props:{name:this.transition||"",origin:this.origin}},[t("div",n,this.showLazyContent(this.$slots.default))]);return i.push(t("div",{class:this.contentClasses,domProps:{tabIndex:-1},style:{zIndex:this.activeZIndex},ref:"content"},[r])),t("div",{staticClass:"dialog__container",style:{display:!this.$slots.activator||this.fullWidth?"block":"inline-block"}},i)}}},function(t,e,i){"use strict";var n=i(106);i.n(n);e["a"]={name:"overlayable",data:function(){return{overlay:null,overlayOffset:0,overlayTimeout:null,overlayTransitionDuration:650}},props:{hideOverlay:Boolean},beforeDestroy:function(){this.removeOverlay()},methods:{genOverlay:function(){var t=this;if(!this.isActive||this.hideOverlay||this.isActive&&this.overlayTimeout||this.overlay)return clearTimeout(this.overlayTimeout),this.overlay&&this.overlay.classList.add("overlay--active");this.overlay=document.createElement("div"),this.overlay.className="overlay",this.absolute&&(this.overlay.className+=" overlay--absolute"),this.hideScroll();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");return e&&e.insertBefore(this.overlay,e.firstChild),this.overlay.clientHeight,requestAnimationFrame(function(){t.overlay.className+=" overlay--active",void 0!==t.activeZIndex&&(t.overlay.style.zIndex=t.activeZIndex-1)}),!0},removeOverlay:function(){var t=this;if(!this.overlay)return this.showScroll();this.overlay.classList.remove("overlay--active"),this.overlayTimeout=setTimeout(function(){try{t.overlay.parentNode.removeChild(t.overlay),t.overlay=null,t.showScroll()}catch(t){}clearTimeout(t.overlayTimeout),t.overlayTimeout=null},this.overlayTransitionDuration)},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName))return;var e=[38,33],i=[40,34];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!i.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(t);return["auto","scroll"].includes(e["overflow-y"])&&t.scrollHeight>t.clientHeight},shouldScroll:function(t,e){return 0===t.scrollTop&&e<0||t.scrollTop+t.clientHeight===t.scrollHeight&&e>0},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var e=t.path||this.composedPath(t),i=t.deltaY||-t.wheelDelta;if("keydown"===t.type&&e[0]===document.body){var n=this.$refs.dialog,r=window.getSelection().anchorNode;return!this.hasScrollbar(n)||!this.isInside(r,n)||this.shouldScroll(n,i)}for(var o=0;o<e.length;o++){var a=e[o];if(a===document)return!0;if(a===document.documentElement)return!0;if(a===this.$refs.content)return!0;if(this.hasScrollbar(a))return this.shouldScroll(a,i)}return!0},composedPath:function(t){if(t.composedPath)return t.composedPath();var e=[],i=t.target;while(i){if(e.push(i),"HTML"===i.tagName)return e.push(document),e.push(window),e;i=i.parentElement}},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(window.addEventListener("wheel",this.scrollListener),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}},function(t,e,i){"use strict";var n=i(2);function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e["a"]={name:"stackable",data:function(){return{stackBase:null,stackClass:"unpecified",stackElement:null,stackExclude:null,stackMinZIndex:0}},computed:{activeZIndex:function(){if("undefined"===typeof window)return 0;var t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:Object(n["i"])(t);return null==e?e:parseInt(e)}},methods:{getMaxZIndex:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.stackBase||this.$el,i=[this.stackMinZIndex,Object(n["i"])(e)],o=[].concat(r(document.getElementsByClassName(this.stackClass))),a=0;a<o.length;a++)t.includes(o[a])||i.push(Object(n["i"])(o[a]));return Math.max.apply(Math,i)}}}},function(t,e,i){"use strict";var n=i(113);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(126);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(2);e["a"]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{enter:function(e,i){e._parent=e.parentNode,Object(n["a"])(e,"transitionend",i),e.style.overflow="hidden",e.style.height=0,e.style.display="block",t&&e._parent.classList.add(t),setTimeout(function(){return e.style.height=e.scrollHeight+"px"},100)},afterEnter:function(t){t.style.overflow=null,t.style.height=null},leave:function(t,e){Object(n["a"])(t,"transitionend",e),t.style.overflow="hidden",t.style.height=t.offsetHeight+"px",setTimeout(function(){return t.style.height=0},100)},afterLeave:function(e){t&&e._parent.classList.remove(t)}}}},function(t,e,i){"use strict";var n=i(0),r=i(19);e["a"]={name:"selectable",mixins:[r["a"],n["a"]],model:{prop:"inputValue",event:"change"},data:function(){return{defaultColor:"accent"}},props:{id:String,inputValue:null,falseValue:null,trueValue:null},computed:{isActive:function(){return Array.isArray(this.inputValue)?-1!==this.inputValue.indexOf(this.value):this.trueValue&&this.falseValue?this.inputValue===this.trueValue:this.value?this.value===this.inputValue:Boolean(this.inputValue)},isDirty:function(){return this.isActive}},watch:{indeterminate:function(t){this.inputIndeterminate=t}},methods:{genLabel:function(){return this.$createElement("label",{on:{click:this.toggle},attrs:{for:this.id}},this.$slots.label||this.label)},toggle:function(){if(!this.disabled){var t=this.inputValue;if(Array.isArray(t)){t=t.slice();var e=t.indexOf(this.value);-1===e?t.push(this.value):t.splice(e,1)}else t=this.trueValue||this.falseValue?t===this.trueValue?this.falseValue:this.trueValue:this.value?this.value===this.inputValue?null:this.value:!t;this.validate(!0,t),this.$emit("change",t)}}}}},function(t,e,i){"use strict";var n=i(44);e["a"]={name:"loadable",props:{loading:{type:[Boolean,String],default:!1}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(n["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:2,indeterminate:!0}})}}}},function(t,e,i){"use strict";var n=i(129);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(132);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(10),r=i(3),o=i(47),a=i(49),s=i(1),l=i(43),u=i(2),c=i(5),h=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]={name:"data-iterable",data:function(){return{searchLength:0,defaultPagination:{descending:!1,page:1,rowsPerPage:5,sortBy:null,totalItems:0},expanded:{},actionsClasses:"data-iterator__actions",actionsRangeControlsClasses:"data-iterator__actions__range-controls",actionsSelectClasses:"data-iterator__actions__select",actionsPaginationClasses:"data-iterator__actions__pagination"}},mixins:[a["a"],l["a"],s["a"]],props:{expand:Boolean,hideActions:Boolean,disableInitialSort:Boolean,mustSort:Boolean,noResultsText:{type:String,default:"No matching records found"},nextIcon:{type:String,default:"chevron_right"},prevIcon:{type:String,default:"chevron_left"},rowsPerPageItems:{type:Array,default:function(){return[5,10,25,{text:"All",value:-1}]}},rowsPerPageText:{type:String,default:"Items per page:"},selectAll:[Boolean,String],search:{required:!1},filter:{type:Function,default:function(t,e){return null!=t&&"boolean"!==typeof t&&-1!==t.toString().toLowerCase().indexOf(e)}},customFilter:{type:Function,default:function(t,e,i){return e=e.toString().toLowerCase(),""===e.trim()?t:t.filter(function(t){return Object.keys(t).some(function(n){return i(t[n],e)})})}},customSort:{type:Function,default:function(t,e,i){return null===e?t:t.sort(function(t,n){var r=Object(u["h"])(t,e),o=Object(u["h"])(n,e);if(i){var a=[o,r];r=a[0],o=a[1]}if(!isNaN(r)&&!isNaN(o))return r-o;if(null===r&&null===o)return 0;var s=[r,o].map(function(t){return(t||"").toString().toLocaleLowerCase()}),l=h(s,2);return r=l[0],o=l[1],r>o?1:r<o?-1:0})}},value:{type:Array,default:function(){return[]}},items:{type:Array,required:!0,default:function(){return[]}},totalItems:{type:Number,default:null},itemKey:{type:String,default:"id"},pagination:{type:Object,default:function(){}}},computed:{computedPagination:function(){return this.hasPagination?this.pagination:this.defaultPagination},hasPagination:function(){var t=this.pagination||{};return Object.keys(t).length>0},hasSelectAll:function(){return void 0!==this.selectAll&&!1!==this.selectAll},itemsLength:function(){return this.search?this.searchLength:this.totalItems||this.items.length},indeterminate:function(){return this.hasSelectAll&&this.someItems&&!this.everyItem},everyItem:function(){var t=this;return this.filteredItems.length&&this.filteredItems.every(function(e){return t.isSelected(e)})},someItems:function(){var t=this;return this.filteredItems.some(function(e){return t.isSelected(e)})},getPage:function(){var t=this.computedPagination.rowsPerPage;return t===Object(t)?t.value:t},pageStart:function(){return-1===this.getPage?0:(this.computedPagination.page-1)*this.getPage},pageStop:function(){return-1===this.getPage?this.itemsLength:this.computedPagination.page*this.getPage},filteredItems:function(){return this.filteredItemsImpl()},selected:function(){for(var t={},e=0;e<this.value.length;e++)t[this.value[e][this.itemKey]]=!0;return t}},watch:{itemsLength:function(t){this.updatePagination({page:1,totalItems:t})}},methods:{initPagination:function(){this.rowsPerPageItems.length?this.defaultPagination.rowsPerPage=this.rowsPerPageItems[0]:Object(c["b"])("The prop 'rows-per-page-items' can not be empty",this),this.defaultPagination.totalItems=this.itemsLength,this.updatePagination(Object.assign({},this.defaultPagination,this.pagination))},updatePagination:function(t){var e=this.hasPagination?this.pagination:this.defaultPagination,i=Object.assign({},e,t);this.$emit("update:pagination",i),this.hasPagination||(this.defaultPagination=i)},isSelected:function(t){return this.selected[t[this.itemKey]]},isExpanded:function(t){return this.expanded[t[this.itemKey]]},filteredItemsImpl:function(){if(this.totalItems)return this.items;var t=this.items.slice(),e="undefined"!==typeof this.search&&null!==this.search;if(e){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];t=this.customFilter.apply(this,[t,this.search,this.filter].concat(n)),this.searchLength=t.length}return t=this.customSort(t,this.computedPagination.sortBy,this.computedPagination.descending),this.hideActions&&!this.hasPagination?t:t.slice(this.pageStart,this.pageStop)},sort:function(t){var e=this.computedPagination,i=e.sortBy,n=e.descending;null===i?this.updatePagination({sortBy:t,descending:!1}):i!==t||n?i!==t?this.updatePagination({sortBy:t,descending:!1}):this.mustSort?this.updatePagination({sortBy:t,descending:!1}):this.updatePagination({sortBy:null,descending:null}):this.updatePagination({descending:!0})},toggle:function(t){for(var e=this,i=Object.assign({},this.selected),n=0;n<this.filteredItems.length;n++)i[this.filteredItems[n][this.itemKey]]=t;this.$emit("input",this.items.filter(function(t){return i[t[e.itemKey]]}))},createProps:function(t,e){var i=this,n={item:t,index:e},r=this.itemKey,o=t[r];return Object.defineProperty(n,"selected",{get:function(){return i.selected[t[i.itemKey]]},set:function(e){null==o&&Object(c["b"])('"'+r+'" attribute must be defined for item',i);var n=i.value.slice();e?n.push(t):n=n.filter(function(t){return t[r]!==o}),i.$emit("input",n)}}),Object.defineProperty(n,"expanded",{get:function(){return i.expanded[t[i.itemKey]]},set:function(t){if(null==o&&Object(c["b"])('"'+r+'" attribute must be defined for item',i),!i.expand)for(var e in i.expanded)i.expanded.hasOwnProperty(e)&&i.$set(i.expanded,e,!1);i.$set(i.expanded,o,t)}}),n},genItems:function(){if(!this.itemsLength&&!this.items.length){var t=this.$slots["no-data"]||this.noDataText;return[this.genEmptyItems(t)]}if(!this.filteredItems.length){var e=this.$slots["no-results"]||this.noResultsText;return[this.genEmptyItems(e)]}return this.genFilteredItems()},genPrevIcon:function(){var t=this;return this.$createElement(n["a"],{props:{disabled:1===this.computedPagination.page,icon:!0,flat:!0,dark:this.dark,light:this.light},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e-1})}},attrs:{"aria-label":"Previous page"}},[this.$createElement(r["a"],this.prevIcon)])},genNextIcon:function(){var t=this,e=this.computedPagination,i=e.rowsPerPage<0||e.page*e.rowsPerPage>=this.itemsLength||this.pageStop<0;return this.$createElement(n["a"],{props:{disabled:i,icon:!0,flat:!0,dark:this.dark,light:this.light},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e+1})}},attrs:{"aria-label":"Next page"}},[this.$createElement(r["a"],this.nextIcon)])},genSelect:function(){var t=this;return this.$createElement("div",{class:this.actionsSelectClasses},[this.rowsPerPageText,this.$createElement(o["a"],{attrs:{"aria-label":this.rowsPerPageText},props:{items:this.rowsPerPageItems,value:this.computedPagination.rowsPerPage,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:function(e){t.updatePagination({page:1,rowsPerPage:e})}}})])},genPagination:function(){var t="";if(this.itemsLength){var e=this.itemsLength<this.pageStop||this.pageStop<0?this.itemsLength:this.pageStop;t=this.$scopedSlots.pageText?this.$scopedSlots.pageText({pageStart:this.pageStart+1,pageStop:e,itemsLength:this.itemsLength}):this.pageStart+1+"-"+e+" of "+this.itemsLength}return this.$createElement("div",{class:this.actionsPaginationClasses},[t])},genActions:function(){var t=this.$createElement("div",{class:this.actionsRangeControlsClasses},[this.genPagination(),this.genPrevIcon(),this.genNextIcon()]);return[this.$createElement("div",{class:this.actionsClasses},[this.rowsPerPageItems.length>1?this.genSelect():null,t])]}}}},function(t,e,i){"use strict";var n=i(137);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e){},function(t,e,i){"use strict";e["a"]={name:"filterable",props:{noDataText:{type:String,default:"No data available"}}}},function(t,e,i){"use strict";var n=i(139);e["a"]={name:"maskable",data:function(){return{selection:0,lazySelection:0,preDefined:{"credit-card":"#### - #### - #### - ####",date:"##/##/####","date-with-time":"##/##/#### ##:##",phone:"(###) ### - ####",social:"###-##-####",time:"##:##","time-with-seconds":"##:##:##"}}},props:{dontFillMaskBlanks:Boolean,mask:{type:[Object,String],default:null},returnMaskedValue:Boolean},computed:{masked:function(){var t=this.preDefined[this.mask],e=t||this.mask||"";return e.split("")}},watch:{mask:function(){var t=this;if(this.$refs.input){for(var e=this.$refs.input.value,i=this.maskText(Object(n["c"])(this.lazyValue)),r=0,o=this.selection,a=0;a<o;a++)Object(n["a"])(e[a])||r++;if(o=0,i)for(var s=0;s<i.length;s++)if(Object(n["a"])(i[s])||r--,o++,r<=0)break;this.$nextTick(function(){t.$refs.input.value=i,t.setCaretPosition(o)})}}},beforeMount:function(){if(this.mask&&null!=this.value&&this.returnMaskedValue){var t=this.maskText(this.value);t!==this.value&&this.$emit("input",t)}},methods:{setCaretPosition:function(t){var e=this;this.selection=t,window.setTimeout(function(){e.$refs.input&&e.$refs.input.setSelectionRange(e.selection,e.selection)},0)},updateRange:function(){if(this.$refs.input){var t=this.maskText(this.lazyValue),e=0;if(this.$refs.input.value=t,t)for(var i=0;i<t.length;i++){if(this.lazySelection<=0)break;Object(n["a"])(t[i])||this.lazySelection--,e++}this.setCaretPosition(e),this.$emit("input",this.returnMaskedValue?this.$refs.input.value:this.lazyValue)}},maskText:function(t){return this.mask?Object(n["b"])(t,this.masked,this.dontFillMaskBlanks):t},unmaskText:function(t){return this.mask&&!this.returnMaskedValue?Object(n["c"])(t):t},setSelectionRange:function(){this.$nextTick(this.updateRange)},resetSelections:function(t){if(t.selectionEnd){this.selection=t.selectionEnd,this.lazySelection=0;for(var e=0;e<this.selection;e++)Object(n["a"])(t.value[e])||this.lazySelection++}}}}},function(t,e,i){"use strict";e["a"]={name:"soloable",props:{flat:Boolean,soloInverted:Boolean,solo:Boolean},computed:{isSolo:function(){return this.solo||this.soloInverted}},methods:{genSoloClasses:function(){return{"input-group--solo":this.isSolo,"input-group--solo-inverted":this.soloInverted,"elevation-0":this.flat}}}}},function(t,e,i){"use strict";var n=i(144);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";e["a"]={name:"delayable",data:function(){return{openTimeout:null,closeTimeout:null}},props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:200}},methods:{clearDelay:function(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay:function(t,e){this.clearDelay();var i=parseInt(this[t+"Delay"],10);this[t+"Timeout"]=setTimeout(e,i)}}}},function(t,e,i){"use strict";var n=i(12),r=i(38),o=i(1),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0},hasWindow:!1};e["a"]={name:"menuable",mixins:[n["a"],r["a"],o["a"]],data:function(){return{absoluteX:0,absoluteY:0,dimensions:Object.assign({},s),isContentActive:!1,pageYOffset:0,stackClass:"menuable__content__active",stackMinZIndex:6}},props:{activator:{default:null,validator:function(t){return["string","object"].includes("undefined"===typeof t?"undefined":a(t))}},allowOverflow:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:Number,default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},computed:{computedLeft:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=t.width<e.width?e.width:t.width,n=0;return n+=this.left?t.left-(i-t.width):t.left,this.offsetX&&(n+=this.left?-t.width:t.width),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),n},computedTop:function(){var t=this.dimensions.activator,e=this.dimensions.content,i=this.top?t.bottom-e.height:t.top;return this.isAttached||(i+=this.pageYOffset),this.offsetY&&(i+=this.top?-t.height:t.height),this.nudgeTop&&(i-=this.nudgeTop),this.nudgeBottom&&(i+=this.nudgeBottom),i},hasActivator:function(){return!!this.$slots.activator||this.activator},isAttached:function(){return!1!==this.attach}},watch:{disabled:function(t){t&&this.callDeactivate()},isActive:function(t){this.disabled||(t?this.callActivate():this.callDeactivate())}},beforeMount:function(){this.checkForWindow()},methods:{absolutePosition:function(){return{offsetTop:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate:function(){},calcLeft:function(){return(this.isAttached?this.computedLeft:this.calcXOverflow(this.computedLeft))+"px"},calcTop:function(){return(this.isAttached?this.computedTop:this.calcYOverflow(this.computedTop))+"px"},calcXOverflow:function(t){var e=isNaN(parseInt(this.maxWidth))?0:parseInt(this.maxWidth),i=this.getInnerWidth(),n=Math.max(this.dimensions.content.width,e),r=t+n,o=r-i;return(!this.left||this.right)&&o>0&&(t=i-n-(i>600?30:12)),t<0&&(t=12),t},calcYOverflow:function(t){var e=this.getInnerHeight(),i=this.pageYOffset+e,n=this.dimensions.activator,r=this.dimensions.content.height,o=t+r,a=i<o;return a&&this.offsetOverflow?t=this.pageYOffset+(n.top-r):a&&!this.allowOverflow?t=i-r-12:t<this.pageYOffset&&!this.allowOverflow&&(t=this.pageYOffset+12),t<12?12:t},callActivate:function(){this.hasWindow&&this.activate()},callDeactivate:function(){this.isContentActive=!1,this.deactivate()},checkForWindow:function(){this.hasWindow||(this.hasWindow="undefined"!==typeof window)},checkForPageYOffset:function(){this.hasWindow&&(this.pageYOffset=this.getOffsetTop())},deactivate:function(){},getActivator:function(){return this.activator?"string"===typeof this.activator?document.querySelector(this.activator):this.activator:this.$refs.activator.children.length>0?this.$refs.activator.children[0]:this.$refs.activator},getInnerHeight:function(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getInnerWidth:function(){return this.hasWindow?window.innerWidth:0},getOffsetTop:function(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect:function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),left:Math.round(e.left),bottom:Math.round(e.bottom),right:Math.round(e.right),width:Math.round(e.width),height:Math.round(e.height)}},measure:function(t,e){if(t=e?t.querySelector(e):t,!t||!this.hasWindow)return null;var i=this.getRoundedBoundedClientRect(t);if(this.isAttached){var n=window.getComputedStyle(t);i.left=parseInt(n.marginLeft),i.top=parseInt(n.marginTop)}return i},sneakPeek:function(t){var e=this;requestAnimationFrame(function(){var i=e.$refs.content;if(!i||e.isShown(i))return t();i.style.display="inline-block",t(),i.style.display="none"})},startTransition:function(){var t=this;requestAnimationFrame(function(){return t.isContentActive=!0})},isShown:function(t){return"none"!==t.style.display},updateDimensions:function(){var t=this;this.checkForWindow(),this.checkForPageYOffset();var e={};e.activator=!this.hasActivator||this.absolute?this.absolutePosition():this.measure(this.getActivator()),this.sneakPeek(function(){e.content=t.measure(t.$refs.content),t.dimensions=e})}}}},function(t,e,i){"use strict";var n=i(152);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";i.d(e,"d",function(){return c}),i.d(e,"e",function(){return h});var n=i(2),r=i(154),o=i(156),a=i(157),s=i(158),l=i(159);i.d(e,"a",function(){return r["a"]}),i.d(e,"b",function(){return a["a"]}),i.d(e,"c",function(){return s["a"]});var u=Object(n["d"])("list__tile__action-text","span"),c=Object(n["d"])("list__tile__content","div"),h=Object(n["d"])("list__tile__title","div"),p=Object(n["d"])("list__tile__sub-title","div");r["a"].install=function(t){t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a["a"].name,a["a"]),t.component(s["a"].name,s["a"]),t.component(u.name,u),t.component(l["a"].name,l["a"]),t.component(c.name,c),t.component(p.name,p),t.component(h.name,h)},e["f"]=r["a"]},function(t,e,i){"use strict";var n=i(176),r=(i.n(n),i(3)),o=i(58);e["a"]={name:"v-date-picker-title",mixins:[o["a"]],data:function(){return{isReversing:!1}},props:{date:{type:String,default:""},selectingYear:Boolean,year:{type:[Number,String],default:""},yearIcon:{type:String},value:{type:String}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(r["a"],{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[this.year,this.yearIcon?this.genYearIcon():null],"date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(t){return this.genPickerButton("selectingYear",!1,this.genTitleText(t),"date-picker-title__date")}},render:function(t){return t("div",{staticClass:"date-picker-title"},[this.getYearBtn(),this.genTitleDate()])}}},function(t,e,i){"use strict";e["a"]={methods:{genPickerButton:function(t,e,i){var n=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=this[t]===e,a=function(i){i.stopPropagation(),n.$emit("update:"+t,e)};return this.$createElement("div",{staticClass:("picker__title__btn "+r).trim(),class:{active:o},on:o?void 0:{click:a}},Array.isArray(i)?i:[i])}}}},function(t,e,i){"use strict";var n=i(177),r=(i.n(n),i(10)),o=i(3),a=i(0),s=i(14),l=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]={name:"v-date-picker-header",mixins:[a["a"]],data:function(){return{isReversing:!1,defaultColor:"accent"}},props:{disabled:Boolean,format:{type:Function,default:null},locale:{type:String,default:"en-us"},min:String,max:String,nextIcon:{type:String,default:"chevron_right"},prevIcon:{type:String,default:"chevron_left"},value:{type:[Number,String],required:!0}},computed:{formatter:function(){return this.format?this.format:String(this.value).split("-")[1]?Object(s["a"])(this.locale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):Object(s["a"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,i=this.disabled||t<0&&this.min&&this.calculateChange(t)<this.min||t>0&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(r["a"],{props:{dark:this.dark,disabled:i,icon:!0},nativeOn:{click:function(i){i.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(o["a"],t<0?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=String(this.value).split("-").map(function(t){return 1*t}),i=l(e,2),n=i[0],r=i[1];return null==r?""+(n+t):Object(s["b"])(String(this.value),t)},genHeader:function(){var t=this,e=this.$createElement("strong",{class:this.disabled?void 0:this.addTextColorClassChecks(),key:String(this.value),on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(String(this.value))]),i=this.$createElement("transition",{props:{name:this.isReversing?"tab-reverse-transition":"tab-transition"}},[e]);return this.$createElement("div",{staticClass:"date-picker-header__value",class:{"date-picker-header__value--disabled":this.disabled}},[i])}},render:function(t){return this.$createElement("div",{staticClass:"date-picker-header"},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}}},function(t,e,i){"use strict";var n=i(0),r=i(61),o=i(14),a=i(2);e["a"]={name:"v-date-picker-date-table",mixins:[n["a"],r["a"]],props:{events:{type:[Array,Object,Function],default:function(){return null}},eventColor:{type:[String,Function,Object],default:"warning"},firstDayOfWeek:{type:[String,Number],default:0},weekdayFormat:{type:Function,default:null}},computed:{formatter:function(){return this.format||Object(o["a"])(this.locale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||Object(o["a"])(this.locale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(a["c"])(7).map(function(i){return t.weekdayFormatter("2017-01-"+(e+i+15))}):Object(a["c"])(7).map(function(t){return["S","M","T","W","T","F","S"][(t+e)%7]})}},methods:{calculateTableDate:function(t){return Object(o["b"])(this.tableDate,Math.sign(t||1))},genTHead:function(){var t=this,e=this.weekDays.map(function(e){return t.$createElement("th",e)});return this.$createElement("thead",this.genTR(e))},genEvent:function(t){var e=void 0;return e="string"===typeof this.eventColor?this.eventColor:"function"===typeof this.eventColor?this.eventColor(t):this.eventColor[t],this.$createElement("div",{staticClass:"date-picker-table__event",class:this.addBackgroundColorClassChecks({},e||this.color)})},weekDaysBeforeFirstDayOfTheMonth:function(){var t=new Date(this.displayedYear+"-"+Object(o["c"])(this.displayedMonth+1)+"-01T00:00:00+00:00"),e=t.getUTCDay();return(e-parseInt(this.firstDayOfWeek)+7)%7},isEvent:function(t){return Array.isArray(this.events)?this.events.indexOf(t)>-1:this.events instanceof Function&&this.events(t)},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),i=[],n=this.weekDaysBeforeFirstDayOfTheMonth();while(n--)i.push(this.$createElement("td"));for(n=1;n<=e;n++){var r=this.displayedYear+"-"+Object(o["c"])(this.displayedMonth+1)+"-"+Object(o["c"])(n);i.push(this.$createElement("td",[this.genButton(r,!0),this.isEvent(r)?this.genEvent(r):null])),i.length%7===0&&(t.push(this.genTR(i)),i=[])}return i.length&&t.push(this.genTR(i)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(t){return this.genTable("date-picker-table date-picker-table--date",[this.genTHead(),this.genTBody()])}}},function(t,e,i){"use strict";var n=i(180),r=(i.n(n),i(9)),o=i(62);e["a"]={directives:{Touch:r["a"]},data:function(){return{defaultColor:"accent",isReversing:!1}},props:{allowedDates:Function,current:String,disabled:Boolean,format:{type:Function,default:null},locale:{type:String,default:"en-us"},min:String,max:String,scrollable:Boolean,tableDate:{type:String,required:!0},value:{type:String,required:!1}},computed:{computedTransition:function(){return this.isReversing?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return this.tableDate.split("-")[1]-1},displayedYear:function(){return 1*this.tableDate.split("-")[0]}},watch:{tableDate:function(t,e){this.isReversing=t<e}},methods:{genButtonClasses:function(t,e,i){var n=t===this.value,r=t===this.current,o={"btn--active":n,"btn--flat":!n,"btn--icon":n&&!e&&i,"btn--floating":i,"btn--depressed":!i&&n,"btn--disabled":e||this.disabled&&n,"btn--outline":r&&!n};return n?this.addBackgroundColorClassChecks(o):r?this.addTextColorClassChecks(o):o},genButton:function(t,e){var i=this,n=!Object(o["a"])(t,this.min,this.max,this.allowedDates);return this.$createElement("button",{staticClass:"btn",class:this.genButtonClasses(t,n,e),attrs:{type:"button"},domProps:{disabled:n,innerHTML:'<div class="btn__content">'+this.formatter(t)+"</div>"},on:n?{}:{click:function(){return i.$emit("input",t)}}})},wheel:function(t){t.preventDefault(),this.$emit("tableDate",this.calculateTableDate(t.deltaY))},touch:function(t){this.$emit("tableDate",this.calculateTableDate(t))},genTable:function(t,e){var i=this,n=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),r={name:"touch",value:{left:function(t){return t.offsetX<-15&&i.touch(1)},right:function(t){return t.offsetX>15&&i.touch(-1)}}};return this.$createElement("div",{staticClass:t,on:this.scrollable?{wheel:this.wheel}:void 0,directives:[r]},[n])}}}},function(t,e,i){"use strict";function n(t,e,i,n){return(!n||n(t))&&(!e||t>=e)&&(!i||t<=i)}e["a"]=n},function(t,e,i){"use strict";var n=i(0),r=i(61),o=i(14);e["a"]={name:"v-date-picker-month-table",mixins:[n["a"],r["a"]],computed:{formatter:function(){return this.format||Object(o["a"])(this.locale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return""+(parseInt(this.tableDate,10)+Math.sign(t||1))},genTBody:function(){for(var t=this,e=[],i=Array(3).fill(null),n=12/i.length,r=function(n){var r=i.map(function(e,r){var a=n*i.length+r;return t.$createElement("td",{key:a},[t.genButton(t.displayedYear+"-"+Object(o["c"])(a+1),!1)])});e.push(t.$createElement("tr",{key:n},r))},a=0;a<n;a++)r(a);return this.$createElement("tbody",e)}},render:function(t){return this.genTable("date-picker-table date-picker-table--month",[this.genTBody()])}}},function(t,e,i){"use strict";var n=i(181),r=(i.n(n),i(0)),o=i(14);e["a"]={name:"v-date-picker-years",mixins:[r["a"]],data:function(){return{defaultColor:"primary"}},props:{format:{type:Function,default:null},locale:{type:String,default:"en-us"},min:[Number,String],max:[Number,String],value:[Number,String]},computed:{formatter:function(){return this.format||Object(o["a"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){this.$el.scrollTop=this.$el.scrollHeight/2-this.$el.offsetHeight/2},methods:{genYearItem:function(t){var e=this,i=this.formatter(""+t);return this.$createElement("li",{key:t,class:parseInt(this.value,10)===t?this.addTextColorClassChecks({active:!0}):{},on:{click:function(){return e.$emit("input",t)}}},i)},genYearItems:function(){for(var t=[],e=this.value?parseInt(this.value,10):(new Date).getFullYear(),i=this.max?parseInt(this.max,10):e+100,n=Math.min(i,this.min?parseInt(this.min,10):e-100),r=i;r>=n;r--)t.push(this.genYearItem(r));return t}},render:function(t){return this.$createElement("ul",{staticClass:"date-picker-years",ref:"years"},this.genYearItems())}}},function(t,e,i){"use strict";var n=i(66),r=i(0),o=i(1);e["a"]={name:"picker",mixins:[r["a"],o["a"]],props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290,validator:function(t){return parseInt(t,10)>0}}},methods:{genPickerTitle:function(){},genPickerBody:function(){},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){return this.$createElement(n["a"],{staticClass:t,class:this.fullWidth?["picker--full-width"]:[],props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width}},[this.noTitle?null:this.genPickerTitle(),this.genPickerBody(),this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])])}}}},function(t,e,i){"use strict";var n=i(182);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(4),r=i(9);e["a"]={name:"v-tabs-items",mixins:[Object(n["b"])("tabs")],directives:{Touch:r["a"]},inject:{registerItems:{default:null},tabProxy:{default:null},unregisterItems:{default:null}},data:function(){return{items:[],lazyValue:this.value,reverse:!1}},props:{cycle:Boolean,touchless:Boolean,value:[Number,String]},computed:{activeIndex:function(){var t=this;return this.items.findIndex(function(e,i){return(e.id||i.toString())===t.lazyValue})},activeItem:function(){if(this.items.length)return this.items[this.activeIndex]},inputValue:{get:function(){return this.lazyValue},set:function(t){t=t.toString(),this.lazyValue=t,this.tabProxy?this.tabProxy(t):this.$emit("input",t)}}},watch:{activeIndex:function(t,e){this.reverse=t<e,this.updateItems()},value:function(t){this.lazyValue=t}},mounted:function(){this.registerItems&&this.registerItems(this.changeModel)},beforeDestroy:function(){this.unregisterItems&&this.unregisterItems()},methods:{changeModel:function(t){this.inputValue=t},next:function(t){var e=this.activeIndex+1;if(!this.items[e]){if(!t)return;e=0}this.inputValue=this.items[e].id||e},prev:function(t){var e=this.activeIndex-1;if(!this.items[e]){if(!t)return;e=this.items.length-1}this.inputValue=this.items[e].id||e},onSwipe:function(t){this[t](this.cycle)},register:function(t){this.items.push(t)},unregister:function(t){this.items=this.items.filter(function(e){return e!==t})},updateItems:function(){for(var t=this.items.length;--t>=0;)this.items[t].toggle(this.lazyValue,this.reverse,this.isBooted,t);this.isBooted=!0}},render:function(t){var e=this,i={staticClass:"tabs__items",directives:[]};return!this.touchless&&i.directives.push({name:"touch",value:{left:function(){return e.onSwipe("next")},right:function(){return e.onSwipe("prev")}}}),t("div",i,this.$slots.default)}}},function(t,e,i){"use strict";var n=i(0);e["a"]={name:"v-tabs-slider",mixins:[n["a"]],data:function(){return{defaultColor:"accent"}},render:function(t){return t("div",{staticClass:"tabs__slider",class:this.addBackgroundColorClassChecks()})}}},function(t,e,i){"use strict";var n=i(249),r=(i.n(n),i(58)),o=i(14);e["a"]={name:"v-time-picker-title",mixins:[r["a"]],props:{ampm:Boolean,hour:Number,minute:Number,period:{type:String,validator:function(t){return"am"===t||"pm"===t}},selectingHour:Boolean},methods:{genTime:function(){var t=this.hour;this.ampm&&(t=t?(t-1)%12+1:12);var e=null==this.hour?"--":this.ampm?t:Object(o["c"])(t),i=null==this.minute?"--":Object(o["c"])(this.minute);return this.$createElement("div",{class:"time-picker-title__time"},[this.genPickerButton("selectingHour",!0,e),this.$createElement("span",":"),this.genPickerButton("selectingHour",!1,i)])},genAmPm:function(){return this.$createElement("div",{staticClass:"time-picker-title__ampm"},[this.genPickerButton("period","am","am"),this.genPickerButton("period","pm","pm")])}},render:function(t){return t("div",{staticClass:"time-picker-title"},[this.genTime(),this.ampm?this.genAmPm():null])}}},function(t,e,i){"use strict";var n=i(250),r=(i.n(n),i(0)),o=i(1);e["a"]={name:"v-time-picker-clock",mixins:[r["a"],o["a"]],data:function(){return{defaultColor:"accent",inputValue:this.value,isDragging:!1}},props:{allowedValues:Function,double:Boolean,format:{type:Function,default:function(t){return t}},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,rotate:{type:Number,default:0},size:{type:[Number,String],default:270},step:{type:Number,default:1},value:Number},computed:{count:function(){return this.max-this.min+1},innerRadius:function(){return this.radius-Math.max(.4*this.radius,48)},outerRadius:function(){return this.radius-4},roundCount:function(){return this.double?this.count/2:this.count},degreesPerUnit:function(){return 360/this.roundCount},degrees:function(){return this.degreesPerUnit*Math.PI/180},radius:function(){return this.size/2},displayedValue:function(){return null==this.value?this.min:this.value}},watch:{value:function(t){this.inputValue=t}},methods:{wheel:function(t){t.preventDefault();var e=this.displayedValue+Math.sign(t.wheelDelta||1);this.update((e-this.min+this.count)%this.count+this.min)},handScale:function(t){return this.double&&t-this.min>=this.roundCount?this.innerRadius/this.radius:this.outerRadius/this.radius},isAllowed:function(t){return!this.allowedValues||this.allowedValues(t)},genValues:function(){for(var t=[],e=this.min;e<=this.max;e+=this.step){var i={active:e===this.displayedValue,disabled:!this.isAllowed(e)};t.push(this.$createElement("span",{class:this.addBackgroundColorClassChecks(i,e===this.value?this.computedColor:null),style:this.getTransform(e),domProps:{innerHTML:"<span>"+this.format(e)+"</span>"}}))}return t},genHand:function(){var t="scaleY("+this.handScale(this.displayedValue)+")",e=this.rotate+this.degreesPerUnit*(this.displayedValue-this.min);return this.$createElement("div",{staticClass:"time-picker-clock__hand",class:null==this.value?{}:this.addBackgroundColorClassChecks(),style:{transform:"rotate("+e+"deg) "+t}})},getTransform:function(t){var e=this.getPosition(t),i=e.x,n=e.y;return{transform:"translate("+i+"px, "+n+"px)"}},getPosition:function(t){var e=(this.radius-24)*this.handScale(t),i=this.rotate*Math.PI/180;return{x:Math.round(Math.sin((t-this.min)*this.degrees+i)*e),y:Math.round(-Math.cos((t-this.min)*this.degrees+i)*e)}},onMouseDown:function(t){t.preventDefault(),this.isDragging=!0,this.onDragMove(t)},onMouseUp:function(){this.isDragging=!1,this.isAllowed(this.inputValue)&&this.$emit("change",this.inputValue)},onDragMove:function(t){if(t.preventDefault(),this.isDragging||"click"===t.type){var e=this.$refs.clock.getBoundingClientRect(),i=e.width,n=e.top,r=e.left,o="touches"in t?t.touches[0]:t,a=o.clientX,s=o.clientY,l={x:i/2,y:-i/2},u={x:a-r,y:n-s},c=Math.round(this.angle(l,u)-this.rotate+360)%360,h=this.double&&this.euclidean(l,u)<(this.outerRadius+this.innerRadius)/2-16,p=Math.round(c/this.degreesPerUnit)+this.min+(h?this.roundCount:0);c>=360-this.degreesPerUnit/2?this.update(h?this.max:this.min):this.update(p)}},update:function(t){this.inputValue!==t&&this.isAllowed(t)&&(this.inputValue=t,this.$emit("input",t))},euclidean:function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},angle:function(t,e){var i=2*Math.atan2(e.y-t.y-this.euclidean(t,e),e.x-t.x);return Math.abs(180*i/Math.PI)}},render:function(t){var e=this,i={staticClass:"time-picker-clock",class:{"time-picker-clock--indeterminate":null==this.value},on:{mousedown:this.onMouseDown,mouseup:this.onMouseUp,mouseleave:function(){return e.isDragging&&e.onMouseUp()},touchstart:this.onMouseDown,touchend:this.onMouseUp,mousemove:this.onDragMove,touchmove:this.onDragMove},style:{height:this.size+"px",width:this.size+"px"},ref:"clock"};return this.scrollable&&(i.on.wheel=this.wheel),this.$createElement("div",i,[this.genHand(),this.genValues()])}}},function(t,e,i){"use strict";function n(t,e){var i=e.value,n=e.options||{passive:!0},r=e.arg||window;"undefined"!==r&&(r!==window&&(r=document.querySelector(r)),r.addEventListener("scroll",i,n),t._onScroll={callback:i,options:n,target:r})}function r(t,e){if(t._onScroll){var i=t._onScroll,n=i.callback,r=i.options,o=i.target;o.removeEventListener("scroll",n,r),delete t._onScroll}}e["a"]={name:"scroll",inserted:n,unbind:r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(73),r=(i.n(n),i(74)),o=i(258),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function s(t,e){var i=r["Vuetify"];t.use(i,a({components:r,directives:o},e))}s.version="1.0.14","undefined"!==typeof window&&window.Vue&&window.Vue.use(s),e["default"]=s},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(75);i.d(e,"Vuetify",function(){return n["a"]});var r=i(81);i.d(e,"VApp",function(){return r["a"]});var o=i(89);i.d(e,"VAlert",function(){return o["a"]});var a=i(34);i.d(e,"VAvatar",function(){return a["a"]});var s=i(96);i.d(e,"VBadge",function(){return s["a"]});var l=i(99);i.d(e,"VBottomNav",function(){return l["a"]});var u=i(102);i.d(e,"VBottomSheet",function(){return u["a"]});var c=i(107);i.d(e,"VBreadcrumbs",function(){return c["a"]});var h=i(10);i.d(e,"VBtn",function(){return h["a"]});var p=i(115);i.d(e,"VBtnToggle",function(){return p["a"]});var d=i(27);i.d(e,"VCard",function(){return d["a"]});var f=i(122);i.d(e,"VCarousel",function(){return f["a"]});var g=i(28);i.d(e,"VCheckbox",function(){return g["a"]});var m=i(45);i.d(e,"VChip",function(){return m["a"]});var v=i(134);i.d(e,"VDataIterator",function(){return v["a"]});var y=i(164);i.d(e,"VDataTable",function(){return y["a"]});var b=i(174);i.d(e,"VDatePicker",function(){return b["a"]});var x=i(184);i.d(e,"VDialog",function(){return x["a"]});var _=i(52);i.d(e,"VDivider",function(){return _["a"]});var w=i(185);i.d(e,"VExpansionPanel",function(){return w["a"]});var C=i(189);i.d(e,"VFooter",function(){return C["a"]});var S=i(192);i.d(e,"VForm",function(){return S["a"]});var k=i(194);i.d(e,"VGrid",function(){return k["a"]});var A=i(3);i.d(e,"VIcon",function(){return A["a"]});var T=i(40);i.d(e,"VJumbotron",function(){return T["a"]});var M=i(56);i.d(e,"VList",function(){return M["f"]});var E=i(30);i.d(e,"VMenu",function(){return E["a"]});var P=i(200);i.d(e,"VNavigationDrawer",function(){return P["a"]});var O=i(203);i.d(e,"VPagination",function(){return O["a"]});var I=i(206);i.d(e,"VParallax",function(){return I["a"]});var L=i(66);i.d(e,"VPicker",function(){return L["a"]});var R=i(39);i.d(e,"VProgressCircular",function(){return R["a"]});var D=i(44);i.d(e,"VProgressLinear",function(){return D["a"]});var z=i(210);i.d(e,"VRadioGroup",function(){return z["a"]});var B=i(47);i.d(e,"VSelect",function(){return B["a"]});var j=i(215);i.d(e,"VSlider",function(){return j["a"]});var F=i(218);i.d(e,"VSnackbar",function(){return F["a"]});var N=i(221);i.d(e,"VSpeedDial",function(){return N["a"]});var V=i(224);i.d(e,"VStepper",function(){return V["a"]});var H=i(55);i.d(e,"VSubheader",function(){return H["a"]});var G=i(229);i.d(e,"VSwitch",function(){return G["a"]});var U=i(232);i.d(e,"VSystemBar",function(){return U["a"]});var W=i(235);i.d(e,"VTabs",function(){return W["a"]});var $=i(245);i.d(e,"VTextField",function(){return $["a"]});var q=i(247);i.d(e,"VTimePicker",function(){return q["a"]});var X=i(251);i.d(e,"VToolbar",function(){return X["a"]});var Y=i(255);i.d(e,"VTooltip",function(){return Y["a"]});var K=i(7);i.d(e,"Transitions",function(){return K["g"]})},function(t,e,i){"use strict";var n=i(76),r=i(77),o=i(78),a=i(5),s=i(79),l={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.installed||(this.installed=!0,u(t),t.prototype.$vuetify=new t({data:{application:n["a"],breakpoint:{},dark:!1,options:Object(o["a"])(e.options),theme:Object(r["a"])(e.theme)},methods:{goTo:s["a"]}}),e.transitions&&Object.values(e.transitions).forEach(function(e){void 0!==e.name&&e.name.startsWith("v-")&&t.component(e.name,e)}),e.directives&&Object.values(e.directives).forEach(function(e){t.directive(e.name,e)}),e.components&&Object.values(e.components).forEach(function(e){t.use(e)}))}};function u(t){var e="^2.5.0",i=e.split(".").map(function(t){return t.replace(/\D/g,"")}),n=t.version.split("."),r=n[0]===i[0]&&(n[1]>i[1]||n[1]===i[1]&&n[2]>=i[2]);r||Object(a["b"])("Vuetify requires Vue version "+e)}e["a"]=l},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={bar:0,bottom:0,footer:0,left:0,right:0,top:0,components:{bar:{},bottom:{},footer:{},left:{},right:{},top:{}},bind:function(t,e,i){this.components[e]&&(this.components[e]=n({},t,i),this.update(e))},unbind:function(t,e){null!=this.components[e][t]&&(delete this.components[e][t],this.update(e))},update:function(t){this[t]=Object.values(this.components[t]).reduce(function(t,e){return t+e},0)}}},function(t,e,i){"use strict";e["a"]=r;var n={primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"};function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},n,t)}},function(t,e,i){"use strict";e["a"]=r;var n={themeVariations:["primary","secondary","accent"],minifyTheme:null,themeCache:null};function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},n,t)}},function(t,e,i){"use strict";e["a"]=c;var n=i(5),r=i(80),o={duration:500,offset:0,easing:"easeInOutCubic"};function a(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function s(){return window.innerHeight||(document.documentElement||document.body).clientHeight}function l(t){return null!=t&&t._isVue}function u(t,e){var i=void 0;if(l(t)&&(t=t.$el),t instanceof Element)i=t.getBoundingClientRect().top+window.scrollY;else if("string"===typeof t)i=document.querySelector(t).offsetTop;else{if("number"!==typeof t)return;i=t}return Math.round(Math.min(Math.max(i+e.offset,0),a()-s()))}function c(t,e){if("undefined"!==typeof window){var i=Object.assign({},o,e),a=performance.now(),s=window.pageYOffset,l=u(t,i),c=l-s,h="function"===typeof i.easing?i.easing:r[i.easing];if(isNaN(l)){var p=null==t?t:t.constructor.name;return Object(n["a"])("Target must be a Selector/Number/DOMElement/VueComponent, received "+p+" instead.")}if(!h)return Object(n["a"])("Easing function '"+i.easing+"' not found.");window.requestAnimationFrame(d)}function d(t){var e=Math.min(1,(t-a)/i.duration),n=Math.floor(s+c*h(e));window.scrollTo(0,n),Math.round(window.pageYOffset)!==l&&1!==e&&window.requestAnimationFrame(d)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"linear",function(){return n}),i.d(e,"easeInQuad",function(){return r}),i.d(e,"easeOutQuad",function(){return o}),i.d(e,"easeInOutQuad",function(){return a}),i.d(e,"easeInCubic",function(){return s}),i.d(e,"easeOutCubic",function(){return l}),i.d(e,"easeInOutCubic",function(){return u}),i.d(e,"easeInQuart",function(){return c}),i.d(e,"easeOutQuart",function(){return h}),i.d(e,"easeInOutQuart",function(){return p}),i.d(e,"easeInQuint",function(){return d}),i.d(e,"easeOutQuint",function(){return f}),i.d(e,"easeInOutQuint",function(){return g});var n=function(t){return t},r=function(t){return t*t},o=function(t){return t*(2-t)},a=function(t){return t<.5?2*t*t:(4-2*t)*t-1},s=function(t){return t*t*t},l=function(t){return--t*t*t+1},u=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},c=function(t){return t*t*t*t},h=function(t){return 1- --t*t*t*t},p=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},d=function(t){return t*t*t*t*t},f=function(t){return 1+--t*t*t*t*t},g=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},function(t,e,i){"use strict";var n=i(82);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(83),r=(i.n(n),i(84)),o=i(88),a=i(11);function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-app",mixins:[o["a"],r["a"]],directives:{Resize:a["a"]},props:{id:{type:String,default:"app"},dark:Boolean},computed:{classes:function(){return s({},"theme--"+(this.dark?"dark":"light"),!0)}},mounted:function(){this.$vuetify.dark=this.dark},watch:{dark:function(){this.$vuetify.dark=this.dark}},render:function(t){var e={staticClass:"application",class:this.classes,attrs:{"data-app":!0},domProps:{id:this.id},directives:[{name:"resize",value:this.onResize}]},i=t("div",{staticClass:"application--wrap"},this.$slots.default);return t("div",e,[i])}}},function(t,e){},function(t,e,i){"use strict";var n=i(33),r=i(85);e["a"]={data:function(){return{style:null}},computed:{parsedTheme:function(){return r["c"](this.$vuetify.theme)},generatedStyles:function(){var t=this.parsedTheme,e=void 0;if(null!=this.$vuetify.options.themeCache&&(e=this.$vuetify.options.themeCache.get(t),null!=e))return e;var i=Object.keys(t);e="a { color: "+Object(n["b"])(t.primary)+"; }";for(var o=0;o<i.length;++o){var a=i[o],s=t[a];this.$vuetify.options.themeVariations.includes(a)?e+=r["b"](a,s).join(""):e+=r["a"](a,s)}return null!=this.$vuetify.options.minifyTheme&&(e=this.$vuetify.options.minifyTheme(e)),null!=this.$vuetify.options.themeCache&&this.$vuetify.options.themeCache.set(t,e),e},vueMeta:function(){return{style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet"}]}}},metaInfo:function(){return this.vueMeta},head:function(){return this.vueMeta},watch:{generatedStyles:function(){!this.meta&&this.applyTheme()}},created:function(){this.$meta||("undefined"===typeof document&&this.$ssrContext?(this.$ssrContext.head=this.$ssrContext.head||"",this.$ssrContext.head+='<style type="text/css" id="vuetify-theme-stylesheet">'+this.generatedStyles+"</style>"):"undefined"!==typeof document&&(this.genStyle(),this.applyTheme()))},methods:{applyTheme:function(){this.style&&(this.style.innerHTML=this.generatedStyles)},genStyle:function(){var t=document.getElementById("vuetify-theme-stylesheet");t||(t=document.createElement("style"),t.type="text/css",t.id="vuetify-theme-stylesheet",document.head.appendChild(t)),this.style=t}}}},function(t,e,i){"use strict";e["c"]=a,e["b"]=s,i.d(e,"a",function(){return c});var n=i(33),r=i(86),o=i(87);function a(t){for(var e=Object.keys(t),i={},r=0;r<e.length;++r){var o=e[r],a=t[o];i[o]=Object(n["a"])(a)}return i}function s(t,e){var i=Array(10);i[0]=c(t,e);for(var n=1,r=5;n<=5;++n,--r)i[n]=h(t,l(e,r),"lighten",r);for(var o=1;o<=4;++o)i[o+5]=h(t,u(e,o),"darken",o);return i}function l(t,e){var i=o["a"](r["b"](t));return i[0]=i[0]+10*e,r["a"](o["b"](i))}function u(t,e){var i=o["a"](r["b"](t));return i[0]=i[0]-10*e,r["a"](o["b"](i))}var c=function(t,e){return e=Object(n["b"])(e),"\n."+t+" {\n  background-color: "+e+" !important;\n  border-color: "+e+" !important;\n}\n."+t+"--text {\n  color: "+e+" !important;\n}\n."+t+"--text input,\n."+t+"--text textarea {\n  caret-color: "+e+" !important;\n}\n."+t+"--after::after {\n  background: "+e+" !important;\n}"},h=function(t,e,i,r){return e=Object(n["b"])(e),"\n."+t+"."+i+"-"+r+" {\n  background-color: "+e+" !important;\n  border-color: "+e+" !important;\n}\n."+t+"--text.text--"+i+"-"+r+" {\n  color: "+e+" !important;\n}\n."+t+"--text.text--"+i+"-"+r+" input,\n."+t+"--text.text--"+i+"-"+r+" textarea {\n  caret-color: "+e+" !important;\n}\n."+t+"."+i+"-"+r+"--after::after {\n  background: "+e+" !important;\n}"}},function(t,e,i){"use strict";e["a"]=l,e["b"]=u;var n=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],r=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},o=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function s(t){return Math.max(0,Math.min(1,t))}function l(t){for(var e=Array(3),i=r,o=n,a=0;a<3;++a)e[a]=Math.round(255*s(i(o[a][0]*t[0]+o[a][1]*t[1]+o[a][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function u(t){for(var e=Array(3),i=a,n=o,r=i((t>>16&255)/255),s=i((t>>8&255)/255),l=i((t>>0&255)/255),u=0;u<3;++u)e[u]=n[u][0]*r+n[u][1]*s+n[u][2]*l;return e}},function(t,e,i){"use strict";e["a"]=a,e["b"]=s;var n=.20689655172413793,r=function(t){return t>Math.pow(n,3)?Math.cbrt(t):t/(3*Math.pow(n,2))+4/29},o=function(t){return t>n?Math.pow(t,3):3*Math.pow(n,2)*(t-4/29)};function a(t){var e=r,i=e(t[1]);return[116*i-16,500*(e(t[0]/.95047)-i),200*(i-e(t[2]/1.08883))]}function s(t){var e=o,i=(t[0]+16)/116;return[.95047*e(i+t[1]/500),e(i),1.08883*e(i-t[2]/200)]}},function(t,e,i){"use strict";var n={data:function(){return{clientWidth:r.getWidth(),clientHeight:r.getHeight(),resizeTimeout:null}},computed:{breakpoint:function(){var t=this.clientWidth<600,e=this.clientWidth<960&&!t,i=this.clientWidth<1264&&!(e||t),n=this.clientWidth<1904&&!(i||e||t),r=this.clientWidth>=1904&&!(n||i||e||t),o=t,a=e,s=(t||e)&&!(i||n||r),l=!t&&(e||i||n||r),u=i,c=(t||e||i)&&!(n||r),h=!(t||e)&&(i||n||r),p=n,d=(t||e||i||n)&&!r,f=!(t||e||i)&&(n||r),g=r,m=void 0;switch(!0){case t:m="xs";break;case e:m="sm";break;case i:m="md";break;case n:m="lg";break;default:m="xl";break}var v={xs:t,sm:e,md:i,lg:n,xl:r,name:m,xsOnly:o,smOnly:a,smAndDown:s,smAndUp:l,mdOnly:u,mdAndDown:c,mdAndUp:h,lgOnly:p,lgAndDown:d,lgAndUp:f,xlOnly:g,width:this.clientWidth,height:this.clientHeight};return v}},watch:{breakpoint:function(t){this.$vuetify.breakpoint=t}},created:function(){this.$vuetify.breakpoint=this.breakpoint},methods:{onResize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.clientWidth=r.getWidth(),t.clientHeight=r.getHeight()},200)}}},r={getWidth:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)},getHeight:function(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}};e["a"]=n},function(t,e,i){"use strict";var n=i(90);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(91),r=(i.n(n),i(3)),o=i(0),a=i(6),s=i(24);e["a"]={name:"v-alert",mixins:[o["a"],a["a"],s["a"]],props:{dismissible:Boolean,icon:String,outline:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}}},data:function(){return{defaultColor:"error"}},computed:{classes:function(){var t=this.type&&!this.color?this.type:this.computedColor,e={"alert--dismissible":this.dismissible,"alert--outline":this.outline};return this.outline?this.addTextColorClassChecks(e,t):this.addBackgroundColorClassChecks(e,t)},computedIcon:function(){if(this.icon||!this.type)return this.icon;switch(this.type){case"info":return"info";case"error":return"warning";case"success":return"check_circle";case"warning":return"priority_high"}}},render:function(t){var e=this,i=[t("div",this.$slots.default)];if(this.computedIcon&&i.unshift(t(r["a"],{class:"alert__icon"},this.computedIcon)),this.dismissible){var n=t("a",{class:"alert__dismissible",on:{click:function(){return e.$emit("input",!1)}}},[t(r["a"],{props:{right:!0}},"cancel")]);i.push(n)}var o=t("div",{staticClass:"alert",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},i);return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[o]):o}}},function(t,e){},function(t,e,i){"use strict";var n=i(93),r=(i.n(n),i(1)),o=i(0),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s={small:"16px",default:"24px",medium:"28px",large:"36px",xLarge:"40px"};function l(t){return["fas","far","fal","fab"].some(function(e){return t.includes(e)})}e["a"]={name:"v-icon",functional:!0,mixins:[o["a"],r["a"]],props:{disabled:Boolean,large:Boolean,left:Boolean,medium:Boolean,right:Boolean,size:{type:[Number,String]},small:Boolean,xLarge:Boolean},render:function(t,e){var i=e.props,n=e.data,r=e.children,u=void 0===r?[]:r,c=i.small,h=i.medium,p=i.large,d=i.xLarge,f={small:c,medium:h,large:p,xLarge:d},g=Object.keys(f).find(function(t){return f[t]&&t}),m=g&&s[g]||i.size;m&&(n.style=a({fontSize:m},n.style));var v="";u.length?v=u.pop().text:n.domProps&&(v=n.domProps.textContent||n.domProps.innerHTML||v,delete n.domProps.textContent,delete n.domProps.innerHTML);var y="material-icons",b=v.indexOf("-"),x=b>-1;x?(y=v.slice(0,b),l(y)&&(y="")):u.push(v),n.attrs=n.attrs||{},"aria-hidden"in n.attrs||(n.attrs["aria-hidden"]=!0);var _=Object.assign({"icon--disabled":i.disabled,"icon--left":i.left,"icon--right":i.right,"theme--dark":i.dark,"theme--light":i.light},i.color?o["a"].methods.addTextColorClassChecks.call(i,{},i.color):{});return n.staticClass=["icon",n.staticClass,Object.keys(_).filter(function(t){return _[t]}).join(" "),y,x?v:null].reduce(function(t,e){return e?t+" "+e:t}).trim(),t("i",n,u)}}},function(t,e){},function(t,e,i){"use strict";var n=i(95),r=(i.n(n),i(0));e["a"]={name:"v-avatar",functional:!0,mixins:[r["a"]],props:{size:{type:[Number,String],default:48},tile:Boolean},render:function(t,e){var i=e.data,n=e.props,o=e.children;i.staticClass=("avatar "+(i.staticClass||"")).trim(),i.style=i.style||{},n.tile&&(i.staticClass+=" avatar--tile");var a=parseInt(n.size)+"px";return i.style.height=a,i.style.width=a,i.class=[i.class,r["a"].methods.addBackgroundColorClassChecks.call(n,{},n.color)],t("div",i,o)}}},function(t,e){},function(t,e,i){"use strict";var n=i(97);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(98),r=(i.n(n),i(0)),o=i(6),a=i(12),s=i(24);e["a"]={name:"v-badge",mixins:[r["a"],o["a"],Object(a["b"])(["left","bottom"]),s["a"]],props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"badge--bottom":this.bottom,"badge--left":this.left,"badge--overlap":this.overlap}}},render:function(t){var e=this.$slots.badge?[t("span",{staticClass:"badge__badge",class:this.addBackgroundColorClassChecks(),attrs:this.attrs,directives:[{name:"show",value:this.isActive}]},this.$slots.badge)]:null;return t("span",{staticClass:"badge",class:this.classes},[this.$slots.default,t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e)])}}},function(t,e){},function(t,e,i){"use strict";var n=i(100);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(101),r=(i.n(n),i(15)),o=i(35),a=i(0);e["a"]={name:"v-bottom-nav",mixins:[Object(r["a"])("bottom",["height","value"]),o["a"],a["a"]],props:{active:[Number,String],height:{default:56,type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},shift:Boolean,value:{required:!1}},watch:{active:function(){this.update()}},computed:{classes:function(){return{"bottom-nav--absolute":this.absolute,"bottom-nav--fixed":!this.absolute&&(this.app||this.fixed),"bottom-nav--shift":this.shift,"bottom-nav--active":this.value}},computedHeight:function(){return parseInt(this.height)}},methods:{isSelected:function(t){var e=this.getValue(t);return this.active===e},updateApplication:function(){return this.value?this.computedHeight:0},updateValue:function(t){var e=this.getValue(t);this.$emit("update:active",e)}},render:function(t){return t("div",{staticClass:"bottom-nav",class:this.addBackgroundColorClassChecks(this.classes),style:{height:parseInt(this.computedHeight)+"px"},ref:"content"},this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(103);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(104),r=(i.n(n),i(36)),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={name:"v-bottom-sheet",props:{disabled:Boolean,fullWidth:Boolean,hideOverlay:Boolean,inset:Boolean,lazy:Boolean,maxWidth:{type:[String,Number],default:"auto"},persistent:Boolean,value:null},render:function(t){var e=t("template",{slot:"activator"},this.$slots.activator),i=["bottom-sheet",this.inset?"bottom-sheet--inset":""].join(" ");return t(r["a"],{attrs:o({},this.$props),on:o({},this.$listeners),props:{contentClass:i,transition:"bottom-sheet-transition",value:this.value}},[e,this.$slots.default])}}},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(108),r=i(110);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(109);i.n(n);e["a"]={name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},large:Boolean,justifyCenter:Boolean,justifyEnd:Boolean},computed:{classes:function(){return{"breadcrumbs--large":this.large}},computedDivider:function(){return this.$slots.divider?this.$slots.divider:this.divider},styles:function(){var t=this.justifyCenter?"center":this.justifyEnd?"flex-end":"flex-start";return{"justify-content":t}}},methods:{genChildren:function(){if(!this.$slots.default)return null;for(var t=[],e={staticClass:"breadcrumbs__divider"},i=this.$slots.default.length,n=0;n<i;n++){var r=this.$slots.default[n];t.push(r),r.componentOptions&&"v-breadcrumbs-item"===r.componentOptions.tag&&n!==i-1&&t.push(this.$createElement("li",e,this.computedDivider))}return t}},render:function(t){return t("ul",{staticClass:"breadcrumbs",class:this.classes,style:this.styles},this.genChildren())}}},function(t,e){},function(t,e,i){"use strict";var n=i(13);function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-breadcrumbs-item",mixins:[n["a"]],props:{activeClass:{type:String,default:"breadcrumbs__item--disabled"}},computed:{classes:function(){return r({breadcrumbs__item:!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data;return t("li",[t(i,n,this.$slots.default)])}}},function(t,e,i){"use strict";var n=i(112),r=(i.n(n),i(39)),o=i(0),a=i(12),s=i(13),l=i(1),u=i(6),c=i(4),h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-btn",mixins:[o["a"],s["a"],a["a"],l["a"],Object(u["b"])("inputValue"),Object(c["a"])("buttonGroup")],props:{activeClass:{type:String,default:"btn--active"},block:Boolean,depressed:Boolean,fab:Boolean,flat:Boolean,icon:Boolean,large:Boolean,loading:Boolean,outline:Boolean,ripple:{type:[Boolean,Object],default:!0},round:Boolean,small:Boolean,tag:{type:String,default:"button"},type:{type:String,default:"button"},value:null},computed:{classes:function(){var t,e=p((t={btn:!0},d(t,this.activeClass,this.isActive),d(t,"btn--absolute",this.absolute),d(t,"btn--block",this.block),d(t,"btn--bottom",this.bottom),d(t,"btn--disabled",this.disabled),d(t,"btn--flat",this.flat),d(t,"btn--floating",this.fab),d(t,"btn--fixed",this.fixed),d(t,"btn--hover",this.hover),d(t,"btn--icon",this.icon),d(t,"btn--large",this.large),d(t,"btn--left",this.left),d(t,"btn--loader",this.loading),d(t,"btn--outline",this.outline),d(t,"btn--depressed",this.depressed&&!this.flat||this.outline),d(t,"btn--right",this.right),d(t,"btn--round",this.round),d(t,"btn--router",this.to),d(t,"btn--small",this.small),d(t,"btn--top",this.top),t),this.themeClasses);return this.outline||this.flat?this.addTextColorClassChecks(e):this.addBackgroundColorClassChecks(e)}},methods:{click:function(t){!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t)},genContent:function(){return this.$createElement("div",{class:"btn__content"},[this.$slots.default])},genLoader:function(){var t=[];return this.$slots.loader?t.push(this.$slots.loader):t.push(this.$createElement(r["a"],{props:{indeterminate:!0,size:23,width:2}})),this.$createElement("span",{class:"btn__loading"},t)}},mounted:function(){this.buttonGroup&&this.buttonGroup.register(this)},beforeDestroy:function(){this.buttonGroup&&this.buttonGroup.unregister(this)},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data,r=[this.genContent()];return"button"===i&&(n.attrs.type=this.type),this.loading&&r.push(this.genLoader()),n.attrs.value=["string","number"].includes(h(this.value))?this.value:JSON.stringify(this.value),t(i,n,r)}}},function(t,e){},function(t,e,i){"use strict";var n=i(114),r=(i.n(n),i(0));e["a"]={name:"v-progress-circular",mixins:[r["a"]],props:{button:Boolean,indeterminate:Boolean,rotate:{type:Number,default:0},size:{type:[Number,String],default:32},width:{type:Number,default:4},value:{type:Number,default:0}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return this.addTextColorClassChecks({"progress-circular":!0,"progress-circular--indeterminate":this.indeterminate,"progress-circular--button":this.button})},normalizedValue:function(){return this.value<0?0:this.value>100?100:this.value},radius:function(){return 20},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return this.width/this.size*this.viewBoxSize*2},styles:function(){return{height:this.calculatedSize+"px",width:this.calculatedSize+"px"}},svgStyles:function(){return{transform:"rotate("+this.rotate+"deg)"}},viewBoxSize:function(){return this.radius/(1-this.width/this.size)}},methods:{genCircle:function(t,e,i){return t("circle",{class:"progress-circular__"+e,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":i}})},genSvg:function(t){var e=[this.indeterminate||this.genCircle(t,"underlay",0),this.genCircle(t,"overlay",this.strokeDashOffset)];return t("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:this.viewBoxSize+" "+this.viewBoxSize+" "+2*this.viewBoxSize+" "+2*this.viewBoxSize}},e)}},render:function(t){var e=t("div",{class:"progress-circular__info"},[this.$slots.default]),i=this.genSvg(t);return t("div",{class:this.classes,style:this.styles,on:this.$listeners},[i,e])}}},function(t,e){},function(t,e,i){"use strict";var n=i(116);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(117),r=(i.n(n),i(35)),o=i(1),a=i(5);e["a"]={name:"v-btn-toggle",model:{prop:"inputValue",event:"change"},mixins:[r["a"],o["a"]],props:{inputValue:{required:!1},mandatory:Boolean,multiple:Boolean},computed:{classes:function(){return{"btn-toggle":!0,"btn-toggle--selected":this.hasValue,"theme--light":this.light,"theme--dark":this.dark}},hasValue:function(){return this.multiple&&this.inputValue.length||!this.multiple&&null!==this.inputValue&&"undefined"!==typeof this.inputValue}},watch:{inputValue:{handler:function(){this.update()},deep:!0}},methods:{isSelected:function(t){var e=this.getValue(t);return this.multiple?this.inputValue.includes(e):this.inputValue===e},updateValue:function(t){var e=this.getValue(t);if(!this.multiple){if(this.mandatory&&this.inputValue===e)return;return this.$emit("change",this.inputValue===e?null:e)}var i=this.inputValue.slice(),n=i.indexOf(e);if(n>-1){if(this.mandatory&&1===i.length)return;i.length>=1&&i.splice(n,1)}else i.push(e);this.$emit("change",i)},updateAllValues:function(){if(this.multiple){for(var t=[],e=0;e<this.buttons.length;++e){var i=this.getValue(e),n=this.inputValue.indexOf(i);-1!==n&&t.push(i)}this.$emit("change",t)}}},created:function(){this.multiple&&!Array.isArray(this.inputValue)&&Object(a["b"])("Model must be bound to an array if the multiple property is true.",this)},render:function(t){return t("div",{class:this.classes},this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(119),r=(i.n(n),i(0)),o=i(13),a=i(1);e["a"]={name:"v-card",mixins:[r["a"],o["a"],a["a"]],props:{flat:Boolean,height:{type:String,default:"auto"},hover:Boolean,img:String,raised:Boolean,tag:{type:String,default:"div"},tile:Boolean,width:[String,Number]},computed:{classes:function(){return this.addBackgroundColorClassChecks({card:!0,"card--flat":this.flat,"card--horizontal":this.horizontal,"card--hover":this.hover,"card--raised":this.raised,"card--tile":this.tile,"theme--light":this.light,"theme--dark":this.dark})},styles:function(){var t={height:isNaN(this.height)?this.height:this.height+"px"};return this.img&&(t.background='url("'+this.img+'") center center / cover no-repeat'),this.width&&(t.width=isNaN(this.width)?this.width:this.width+"px"),t}},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data;return n.style=this.styles,t(i,n,this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";e["a"]={name:"v-card-media",props:{contain:Boolean,height:{type:[Number,String],default:"auto"},src:{type:String}},render:function(t){var e={class:"card__media",style:{height:isNaN(this.height)?this.height:this.height+"px"},on:this.$listeners},i=[];return this.src&&i.push(t("div",{class:"card__media__background",style:{background:'url("'+this.src+'") center center / '+(this.contain?"contain":"cover")+" no-repeat"}})),i.push(t("div",{class:"card__media__content"},this.$slots.default)),t("div",e,i)}}},function(t,e,i){"use strict";e["a"]={name:"v-card-title",functional:!0,props:{primaryTitle:Boolean},render:function(t,e){var i=e.data,n=e.props,r=e.children;return i.staticClass=("card__title "+(i.staticClass||"")).trim(),n.primaryTitle&&(i.staticClass+=" card__title--primary"),t("div",i,r)}}},function(t,e,i){"use strict";var n=i(123),r=i(125);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(124),r=(i.n(n),i(10)),o=i(3),a=i(16),s=i(1),l=i(4),u=i(9);e["a"]={name:"v-carousel",mixins:[a["a"],s["a"],Object(l["b"])("carousel")],directives:{Touch:u["a"]},data:function(){return{inputValue:null,items:[],slideTimeout:null,reverse:!1}},props:{cycle:{type:Boolean,default:!0},delimiterIcon:{type:String,default:"fiber_manual_record"},hideControls:Boolean,hideDelimiters:Boolean,interval:{type:[Number,String],default:6e3,validator:function(t){return t>0}},nextIcon:{type:[Boolean,String],default:"chevron_right"},prevIcon:{type:[Boolean,String],default:"chevron_left"},value:Number},watch:{items:function(){this.inputValue>=this.items.length&&(this.inputValue=this.items.length-1)},inputValue:function(){for(var t=(this.items[this.inputValue]||{}).uid,e=this.items.length;--e>=0;)this.items[e].open(t,this.reverse);this.$emit("input",this.inputValue),this.restartTimeout()},value:function(t){this.inputValue=t},interval:function(){this.restartTimeout()},cycle:function(t){t?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=null)}},mounted:function(){this.init()},methods:{genDelimiters:function(){return this.$createElement("div",{staticClass:"carousel__controls"},this.genItems())},genIcon:function(t,e,i){return e?this.$createElement("div",{staticClass:"carousel__"+t},[this.$createElement(r["a"],{props:{icon:!0,dark:this.dark||!this.light,light:this.light},on:{click:i}},[this.$createElement(o["a"],{props:{size:"46px"}},e)])]):null},genItems:function(){var t=this;return this.items.map(function(e,i){return t.$createElement(r["a"],{class:{carousel__controls__item:!0,"carousel__controls__item--active":i===t.inputValue},props:{icon:!0,small:!0,dark:t.dark||!t.light,light:t.light},key:i,on:{click:t.select.bind(t,i)}},[t.$createElement(o["a"],{props:{size:"18px"}},t.delimiterIcon)])})},restartTimeout:function(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=null;var t=requestAnimationFrame||setTimeout;t(this.startTimeout)},init:function(){this.inputValue=this.value||0},next:function(){this.reverse=!1,this.inputValue=(this.inputValue+1)%this.items.length},prev:function(){this.reverse=!0,this.inputValue=(this.inputValue+this.items.length-1)%this.items.length},select:function(t){this.reverse=t<this.inputValue,this.inputValue=t},startTimeout:function(){var t=this;this.cycle&&(this.slideTimeout=setTimeout(function(){return t.next()},this.interval>0?this.interval:6e3))},register:function(t,e){this.items.push({uid:t,open:e})},unregister:function(t){this.items=this.items.filter(function(e){return e.uid!==t})}},render:function(t){return t("div",{staticClass:"carousel",directives:[{name:"touch",value:{left:this.next,right:this.prev}}]},[this.hideControls?null:this.genIcon("left",this.prevIcon,this.prev),this.hideControls?null:this.genIcon("right",this.nextIcon,this.next),this.hideDelimiters?null:this.genDelimiters(),this.$slots.default])}}},function(t,e){},function(t,e,i){"use strict";var n=i(40),r=i(4),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={name:"v-carousel-item",mixins:[Object(r["a"])("carousel","v-carousel-item","v-carousel")],inheritAttrs:!1,data:function(){return{active:!1,reverse:!1}},props:{transition:{type:String,default:"tab-transition"},reverseTransition:{type:String,default:"tab-reverse-transition"}},computed:{computedTransition:function(){return this.reverse?this.reverseTransition:this.transition}},methods:{open:function(t,e){this.active=this._uid===t,this.reverse=e}},mounted:function(){this.carousel.register(this._uid,this.open)},beforeDestroy:function(){this.carousel.unregister(this._uid,this.open)},render:function(t){var e=t(n["a"],{props:o({},this.$attrs,{height:"100%"}),on:this.$listeners,directives:[{name:"show",value:this.active}]},this.$slots.default);return t("transition",{props:{name:this.computedTransition}},[e])}}},function(t,e,i){"use strict";var n=i(127),r=(i.n(n),i(0)),o=i(13),a=i(1);e["a"]={name:"v-jumbotron",mixins:[r["a"],o["a"],a["a"]],props:{gradient:String,height:{type:[Number,String],default:"400px"},src:String,tag:{type:String,default:"div"}},computed:{backgroundStyles:function(){var t={};return this.gradient&&(t.background="linear-gradient("+this.gradient+")"),t},classes:function(){return{"theme--dark":this.dark,"theme--light":this.light}},styles:function(){return{height:this.height}}},methods:{genBackground:function(){return this.$createElement("div",{staticClass:"jumbotron__background",class:this.addBackgroundColorClassChecks(),style:this.backgroundStyles})},genContent:function(){return this.$createElement("div",{staticClass:"jumbotron__content"},this.$slots.default)},genImage:function(){return this.src?this.$slots.img?this.$slots.img({src:this.src}):this.$createElement("img",{staticClass:"jumbotron__image",attrs:{src:this.src}}):null},genWrapper:function(){return this.$createElement("div",{staticClass:"jumbotron__wrapper"},[this.genImage(),this.genBackground(),this.genContent()])}},render:function(t){var e=this.generateRouteLink(),i=e.tag,n=e.data;return n.staticClass="jumbotron",n.style=this.styles,t(i,n,[this.genWrapper()])}}},function(t,e){},function(t,e,i){"use strict";var n=i(18),r=(i.n(n),i(29)),o=(i.n(r),i(3)),a=i(7),s=i(21),l=i(42);e["a"]={name:"v-checkbox",mixins:[s["a"],l["a"]],data:function(){return{inputIndeterminate:this.indeterminate}},props:{indeterminate:Boolean},computed:{classes:function(){var t={checkbox:!0,"input-group--selection-controls":!0,"input-group--active":this.isActive};return this.hasError?(t["error--text"]=!0,t):this.addTextColorClassChecks(t)},icon:function(){return this.inputIndeterminate?"indeterminate_check_box":this.isActive?"check_box":"check_box_outline_blank"}},methods:{groupFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},groupBlur:function(t){this.isFocused=!1,this.tabFocused=!1,this.$emit("blur",this.inputValue)}},render:function(t){var e=t(a["b"],[t(o["a"],{staticClass:"icon--selection-control",class:{"icon--checkbox":"check_box"===this.icon},key:this.icon,on:Object.assign({click:this.toggle},this.$listeners)},this.icon)]),i={attrs:{tabindex:this.disabled?-1:this.internalTabIndex||this.tabindex,role:"checkbox","aria-checked":this.inputIndeterminate?"mixed":this.isActive?"true":"false","aria-label":this.label}},n=this.ripple?this.genRipple():null;return this.genInputGroup([e,n],i)}}},function(t,e,i){"use strict";var n=i(130),r=(i.n(n),i(0)),o=i(7);function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-progress-linear",mixins:[r["a"]],props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:7},indeterminate:Boolean,query:Boolean,value:{type:[Number,String],default:0}},computed:{styles:function(){var t={};return this.active||(t.height=0),this.indeterminate||100===parseInt(this.bufferValue,10)||(t.width=this.bufferValue+"%"),t},effectiveWidth:function(){return this.bufferValue?100*this.value/this.bufferValue:0},backgroundStyle:function(){var t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{height:this.active?this.height+"px":0,opacity:t,width:this.bufferValue+"%"}}},methods:{genDeterminate:function(t){return t("div",{ref:"front",staticClass:"progress-linear__bar__determinate",class:this.addBackgroundColorClassChecks(),style:{width:this.effectiveWidth+"%"}})},genBar:function(t,e){return t("div",{staticClass:"progress-linear__bar__indeterminate",class:this.addBackgroundColorClassChecks(a({},e,!0))})},genIndeterminate:function(t){return t("div",{ref:"front",staticClass:"progress-linear__bar__indeterminate",class:{"progress-linear__bar__indeterminate--active":this.active}},[this.genBar(t,"long"),this.genBar(t,"short")])}},render:function(t){var e=t(o["b"],[this.indeterminate&&this.genIndeterminate(t)]),i=t(o["d"],[!this.indeterminate&&this.genDeterminate(t)]),n=t("div",{staticClass:"progress-linear__bar",style:this.styles},[e,i]),r=t("div",{staticClass:"progress-linear__background",class:[this.backgroundColor||this.color],style:this.backgroundStyle});return t("div",{staticClass:"progress-linear",class:{"progress-linear--query":this.query},style:{height:this.height+"px"},on:this.$listeners},[r,n])}}},function(t,e){},function(t,e,i){"use strict";var n=i(5),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["a"]={name:"validatable",data:function(){return{errorBucket:[],hasFocused:!1,hasInput:!1,shouldValidate:!1,valid:!1}},props:{error:{type:Boolean},errorMessages:{type:[String,Array],default:function(){return[]}},rules:{type:Array,default:function(){return[]}},validateOnBlur:Boolean},computed:{validations:function(){return Array.isArray(this.errorMessages)?this.errorMessages.length>0?this.errorMessages:this.shouldValidate?this.errorBucket:[]:[this.errorMessages]},hasError:function(){return this.validations.length>0||this.errorMessages.length>0||this.error}},watch:{rules:{handler:function(t,e){t.length!==e.length&&this.validate()},deep:!0},inputValue:function(t){t&&!this.hasInput&&(this.hasInput=!0),this.hasInput&&!this.validateOnBlur&&(this.shouldValidate=!0)},isFocused:function(t){t||this.hasFocused||(this.hasFocused=!0,this.shouldValidate=!0,this.$emit("update:error",this.errorBucket.length>0))},hasError:function(t){this.shouldValidate&&this.$emit("update:error",t)},error:function(t){this.shouldValidate=!!t}},mounted:function(){this.shouldValidate=!!this.error,this.validate()},methods:{reset:function(){var t=this;this.$emit("input",this.isMultiple?[]:null),this.$emit("change",null),this.$nextTick(function(){t.shouldValidate=!1,t.hasFocused=!1,t.validate()})},validate:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.inputValue;t&&(this.shouldValidate=!0),this.errorBucket=[];for(var i=0;i<this.rules.length;i++){var o=this.rules[i],a="function"===typeof o?o(e):o;!1===a||"string"===typeof a?this.errorBucket.push(a):!0!==a&&Object(n["a"])("Rules should return a string or boolean, received '"+("undefined"===typeof a?"undefined":r(a))+"' instead",this)}return this.valid=0===this.errorBucket.length,this.valid}}}},function(t,e,i){"use strict";var n=i(133),r=(i.n(n),i(3)),o=i(0),a=i(1),s=i(6);e["a"]={name:"v-chip",mixins:[o["a"],a["a"],s["a"]],props:{close:Boolean,disabled:Boolean,label:Boolean,outline:Boolean,selected:Boolean,small:Boolean,textColor:String,value:{type:Boolean,default:!0}},computed:{classes:function(){var t=this.addBackgroundColorClassChecks({"chip--disabled":this.disabled,"chip--selected":this.selected,"chip--label":this.label,"chip--outline":this.outline,"chip--small":this.small,"chip--removable":this.close,"theme--light":this.light,"theme--dark":this.dark});return this.textColor||this.outline?this.addTextColorClassChecks(t,this.textColor||this.color):t}},methods:{genClose:function(t){var e=this,i={staticClass:"chip__close",on:{click:function(t){t.stopPropagation(),e.$emit("input",!1)}}};return t("div",i,[t(r["a"],"cancel")])},genContent:function(t){var e=[this.$slots.default];return this.close&&e.push(this.genClose(t)),t("span",{staticClass:"chip__content"},e)}},render:function(t){var e={staticClass:"chip",class:this.classes,attrs:{tabindex:this.disabled?-1:0},directives:[{name:"show",value:this.isActive}],on:this.$listeners};return t("span",e,[this.genContent(t)])}}},function(t,e){},function(t,e,i){"use strict";var n=i(135);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(136),r=(i.n(n),i(46));e["a"]={name:"v-data-iterator",mixins:[r["a"]],inheritAttrs:!1,props:{contentTag:{type:String,default:"div"},contentProps:{type:Object,required:!1},contentClass:{type:String,required:!1}},computed:{classes:function(){return{"data-iterator":!0,"data-iterator--select-all":!1!==this.selectAll,"theme--dark":this.dark,"theme--light":this.light}}},methods:{genContent:function(){var t=this.genItems(),e={class:this.contentClass,attrs:this.$attrs,on:this.$listeners,props:this.contentProps};return this.$createElement(this.contentTag,e,t)},genEmptyItems:function(t){return[this.$createElement("div",{class:"text-xs-center",style:"width: 100%"},t)]},genFilteredItems:function(){if(!this.$scopedSlots.item)return null;for(var t=[],e=0,i=this.filteredItems.length;e<i;++e){var n=this.filteredItems[e],r=this.createProps(n,e);t.push(this.$scopedSlots.item(r))}return t},genFooter:function(){var t=[];return this.$slots.footer&&t.push(this.$slots.footer),this.hideActions||t.push(this.genActions()),t.length?this.$createElement("div",t):null}},created:function(){this.initPagination()},render:function(t){return t("div",{class:this.classes},[this.genContent(),this.genFooter()])}}},function(t,e){},function(t,e,i){"use strict";var n=i(48),r=(i.n(n),i(18)),o=(i.n(r),i(138)),a=(i.n(o),i(0)),s=i(20),l=i(49),u=i(19),c=i(50),h=i(51),p=i(140),d=i(141),f=i(142),g=i(143),m=i(160),v=i(161),y=i(162),b=i(163),x=i(8),_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={name:"v-select",inheritAttrs:!1,directives:{ClickOutside:x["a"]},mixins:[p["a"],a["a"],s["a"],f["a"],l["a"],g["a"],m["a"],u["a"],c["a"],v["a"],y["a"],h["a"],b["a"],d["a"]],data:function(){return{cachedItems:this.cacheItems?this.items:[],content:{},defaultColor:"primary",inputValue:!this.multiple&&!this.tags||this.value?this.value:[],isBooted:!1,lastItem:20,lazySearch:null,isActive:!1,menuIsActive:!1,selectedIndex:-1,selectedItems:[],shouldBreak:!1}},mounted:function(){this._isDestroyed||(this.genSelectedItems(),this.content=this.$refs.menu.$refs.content)},beforeDestroy:function(){this.isBooted&&this.content&&this.content.removeEventListener("scroll",this.onScroll,!1)},methods:{needsTile:function(t){return null==t.componentOptions||"v-list-tile"!==t.componentOptions.tag},changeSelectedIndex:function(t){if([8,37,39,46].includes(t)){var e=this.selectedItems.length-1;if(37===t)this.selectedIndex=-1===this.selectedIndex?e:this.selectedIndex-1;else if(39===t)this.selectedIndex=this.selectedIndex>=e?-1:this.selectedIndex+1;else if(-1===this.selectedIndex)return void(this.selectedIndex=e);if([8,46].includes(t)){var i=this.selectedIndex===e?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;this.combobox?this.inputValue=null:this.selectItem(this.selectedItems[this.selectedIndex]),this.selectedIndex=i}}},closeConditional:function(t){return this.isActive&&!!this.content&&!this.content.contains(t.target)&&!!this.$el&&!this.$el.contains(t.target)},filterDuplicates:function(t){for(var e=new Map,i=0;i<t.length;++i){var n=t[i],r=this.getValue(n);!e.has(r)&&e.set(r,n)}return Array.from(e.values())},genDirectives:function(){var t=this;return[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional}}]},genSelectedItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.inputValue;if(this.tags)return this.selectedItems=e;if(this.combobox)return this.selectedItems=null!=e?[e]:[];var i=this.computedItems.filter(function(i){return t.isMultiple?t.findExistingIndex(i)>-1:t.getValue(i)===t.getValue(e)});!i.length&&null!=e&&this.tags&&(i=Array.isArray(e)?e:[e]),this.selectedItems=i},clearableCallback:function(){var t=this,e=this.isMultiple?[]:null;this.inputValue=e,this.$emit("change",e),this.genSelectedItems(),setTimeout(function(){t.searchValue=null,t.focusInput()},0),this.openOnClear&&setTimeout(this.showMenu,50)},onScroll:function(){var t=this;if(this.isActive){if(this.lastItem>=this.computedItems.length)return;var e=this.content.scrollHeight-(this.content.scrollTop+this.content.clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame(function(){return t.content.scrollTop=0})},findExistingItem:function(t){var e=this,i=this.getValue(t);return this.items.find(function(t){return e.valueComparator(e.getValue(t),i)})},findExistingIndex:function(t){var e=this,i=this.getValue(t);return this.inputValue.findIndex(function(t){return e.valueComparator(e.getValue(t),i)})},selectItem:function(t){var e=this;if(this.isMultiple){var i=[],n=this.inputValue.slice(),r=this.findExistingIndex(t);-1!==r?n.splice(r,1):n.push(t),this.inputValue=n.map(function(t){return i.push(t),e.returnObject?t:e.getValue(t)}),this.selectedItems=i,this.selectedIndex=-1}else this.inputValue=this.returnObject?t:this.getValue(t),this.selectedItems=[t];this.searchValue=this.isMultiple||this.chips||this.$scopedSlots.selection?null:this.getText(this.selectedItem),this.$emit("change",this.inputValue);var o=this.getMenuIndex();this.resetMenuIndex(),this.$nextTick(function(){e.focusInput(),e.setCaretPosition(e.currentRange),requestAnimationFrame(function(){o>-1&&e.setMenuIndex(o)})})}},render:function(t){var e=this,i={attrs:_({tabindex:this.isAutocomplete||this.disabled?-1:this.tabindex,"data-uid":this._uid},this.isAutocomplete?null:this.$attrs,{role:this.isAutocomplete?null:"combobox"})};return this.isAutocomplete?i.on={click:function(){e.disabled||e.readonly||e.isFocused||e.isDirty&&(e.focus(),e.$nextTick(e.focusInput))}}:(i.on=this.genListeners(),i.directives=this.genDirectives()),this.genInputGroup([this.genSelectionsAndSearch(),this.genMenu()],i,this.toggleMenu)}}},function(t,e){},function(t,e,i){"use strict";i.d(e,"a",function(){return r}),i.d(e,"b",function(){return u}),i.d(e,"c",function(){return c});var n=/[-!$%^&*()_+|~=`{}[\]:";'<>?,./\\ ]/,r=function(t){return t&&n.test(t)},o={"#":{test:function(t){return t.match(/[0-9]/)}},A:{test:function(t){return t.match(/[A-Z]/i)},convert:function(t){return t.toUpperCase()}},a:{test:function(t){return t.match(/[a-z]/i)},convert:function(t){return t.toLowerCase()}},N:{test:function(t){return t.match(/[0-9A-Z]/i)},convert:function(t){return t.toUpperCase()}},n:{test:function(t){return t.match(/[0-9a-z]/i)},convert:function(t){return t.toLowerCase()}},X:{test:r}},a=function(t){return o.hasOwnProperty(t)},s=function(t,e){return o[t].convert?o[t].convert(e):e},l=function(t,e){return!(null==e||!a(t))&&o[t].test(e)},u=function(t,e,i){if(null==t)return"";if(t=String(t),!e.length||!t.length)return t;Array.isArray(e)||(e=e.split(""));var n=0,r=0,o="";while(r<e.length){var u=e[r],c=t[n];if(a(u)||c!==u)if(a(u)||i){if(!l(u,c))return o;o+=s(u,c),n++}else o+=u;else o+=u,n++;r++}return o},c=function(t){return t?String(t).replace(new RegExp(n,"g"),""):t}},function(t,e,i){"use strict";var n=i(2);e["a"]={props:{filter:{type:Function,default:function(t,e,i){var n=function(t){return null!=t?t:""},r=n(i),o=n(e);return r.toString().toLowerCase().indexOf(o.toString().toLowerCase())>-1}}},methods:{filterSearch:function(){var t=this;return this.isAutocomplete?this.computedItems.filter(function(e){return t.filter(e,t.searchValue,t.getText(e))}):this.computedItems},genFiltered:function(t){if(t=(t||"").toString(),!this.isAutocomplete||!this.searchValue||this.filteredItems.length<1)return Object(n["f"])(t);var e=this.getMaskedCharacters(t),i=e.start,r=e.middle,o=e.end;return""+Object(n["f"])(i)+this.genHighlight(r)+Object(n["f"])(o)},genHighlight:function(t){return this.isNotFiltering?Object(n["f"])(t):'<span class="list__tile__mask">'+Object(n["f"])(t)+"</span>"},getMaskedCharacters:function(t){var e=(this.searchValue||"").toString().toLowerCase(),i=t.toLowerCase().indexOf(e);if(i<0)return{start:"",middle:t,end:""};var n=t.slice(0,i),r=t.slice(i,i+e.length),o=t.slice(i+e.length);return{start:n,middle:r,end:o}},getCurrentTag:function(){return this.isMenuItemSelected()?this.filteredItems[this.getMenuIndex()]:this.isAnyValueAllowed?this.searchValue:null},tabOut:function(){this.blur()},onTabDown:function(t){var e=this;if(!this.isAutocomplete||!this.getCurrentTag()||this.combobox)return this.tabOut();var i=this.getMenuIndex();if(this.tags&&this.searchValue&&-1===i)return t.preventDefault(),this.updateTags(this.searchValue);this.menuIsActive&&(this.searchValue&&this.$nextTick(function(){return setTimeout(e.resetMenuIndex,0)}),t.preventDefault(),this.selectListTile(i))},onEnterDown:function(){this.updateTags(this.getCurrentTag())},onEscDown:function(t){t.preventDefault(),this.menuIsActive=!1},onKeyDown:function(t){var e=this;if(!this.menuIsActive&&[13,32,38,40].includes(t.keyCode))return t.preventDefault(),this.showMenu();if(27===t.keyCode)return this.onEscDown(t);if(9===t.keyCode)return this.onTabDown(t);if(this.isAutocomplete&&[32].includes(t.keyCode)||this.$refs.menu.changeListIndex(t),[38,40].includes(t.keyCode)&&(this.selectedIndex=-1),!this.isAutocomplete||this.hideSelections||this.searchValue||this.changeSelectedIndex(t.keyCode),this.isAnyValueAllowed&&this.searchValue){if(13===t.keyCode)return this.onEnterDown();37===t.keyCode&&0===this.$refs.input.selectionStart&&this.selectedItems.length&&(this.updateTags(this.searchValue),this.$nextTick(function(){e.selectedIndex=Math.max(e.selectedItems.length-2,0)})),39===t.keyCode&&this.$refs.input.selectionEnd===this.searchValue.length&&this.resetMenuIndex()}},selectListTile:function(t){this.$refs.menu.tiles[t]&&this.$refs.menu.tiles[t].click()},updateTags:function(t){var e=this,i=this.selectedItems.slice();i.includes(t)&&this.$delete(i,i.indexOf(t));var n=null;this.combobox?(i=[t],n=this.chips?null:t):i.push(t),this.selectedItems=i,this.$nextTick(function(){e.searchValue=n,e.$emit("input",e.combobox?t:e.selectedItems)})}}}},function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={computed:{classes:function(){var t=n({},this.genSoloClasses(),{"input-group--text-field input-group--select":!0,"input-group--auto":this.auto,"input-group--overflow":this.overflow,"input-group--segmented":this.segmented,"input-group--editable":this.editable,"input-group--autocomplete":this.isAutocomplete,"input-group--single-line":this.singleLine||this.isDropdown,"input-group--multi-line":this.multiLine,"input-group--chips":this.chips,"input-group--multiple":this.multiple,"input-group--open":this.menuIsVisible,"input-group--select--selecting-index":this.selectedIndex>-1});return this.hasError?(t["error--text"]=!0,t):this.addTextColorClassChecks(t)},computedContentClass:function(){var t=["menu__content--select",this.auto?"menu__content--auto":"",this.isDropdown?"menu__content--dropdown":"",this.isAutocomplete?"menu__content--autocomplete":"",this.contentClass||""];return t.join(" ")},computedItems:function(){return this.filterDuplicates(this.cachedItems.concat(this.items))},currentRange:function(){return null==this.selectedItem?0:this.getText(this.selectedItem).toString().length},filteredItems:function(){var t=this.isNotFiltering?this.computedItems:this.filterSearch();return this.auto?t:t.slice(0,this.lastItem)},hideSelections:function(){return this.isAutocomplete&&!this.isMultiple&&this.isFocused&&!this.chips&&!this.$scopedSlots.selection},isNotFiltering:function(){return this.isAutocomplete&&this.isDirty&&this.searchValue===this.getText(this.selectedItem)},isHidingSelected:function(){return this.hideSelected&&this.isAutocomplete&&this.isMultiple},isAutocomplete:function(){return this.autocomplete||this.editable||this.tags||this.combobox},isDirty:function(){return this.selectedItems.length>0||this.isAutocomplete&&this.searchValue},isDropdown:function(){return this.segmented||this.overflow||this.editable||this.isSolo},isMultiple:function(){return this.multiple||this.tags},isAnyValueAllowed:function(){return this.tags||this.combobox},menuIsVisible:function(){return this.menuIsActive&&this.computedItems.length>0&&(!this.isAnyValueAllowed||this.filteredItems.length>0)},menuItems:function(){var t=this;return this.isHidingSelected?this.filteredItems.filter(function(e){return-1===(t.selectedItems||[]).indexOf(e)}):this.filteredItems},nudgeTop:function(){var t=-18;return this.isSolo?t=0:this.shouldOffset&&(t+=44,t+=this.hideDetails?-24:0,t+=this.isAutocomplete&&!this.isDropdown?-2:0),t},searchValue:{get:function(){return this.lazySearch},set:function(t){!this.isAutocomplete||!this.multiple&&this.selectedIndex>-1||(this.lazySearch=t,this.$emit("update:searchInput",t))}},selectedItem:function(){var t=this;return this.isMultiple?null:this.selectedItems.find(function(e){return t.getValue(e)===t.getValue(t.inputValue)})},shouldOffset:function(){return this.isAutocomplete||this.isDropdown}}}},function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={methods:{blur:function(){this.deactivateInput(),this.menuIsActive=!1,this.$emit("blur")},focus:function(){this.showMenu(),this.$emit("focus")},focusInput:function(){var t=this;this.$refs.input&&this.isAutocomplete?(this.$refs.input.focus(),this.$nextTick(function(){t.$refs.input.select(),t.shouldBreak&&(t.$refs.input.scrollLeft=t.$refs.input.scrollWidth)})):!this.isFocused&&this.$el.focus()},genListeners:function(){var t=this,e=Object.assign({},this.$listeners);return delete e.input,n({},e,{click:function(){if(!t.disabled&&!t.readonly)return t.isFocused&&!t.menuIsVisible?t.showMenuItems():void(t.selectedIndex>-1?t.selectedIndex=-1:t.focus())},focus:function(e){t.disabled||t.readonly||t.isFocused||(t.activateInput(),t.$nextTick(t.focusInput))},keydown:this.onKeyDown})}}}},function(t,e,i){"use strict";var n=i(2),r=i(5),o=i(10),a=i(27),s=i(28),l=i(45),u=i(52),c=i(30),h=i(55),p=i(56),d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function f(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e["a"]={methods:{genMenu:function(){var t=this,e={ref:"menu",props:{activator:this.$el,auto:this.auto,attach:this.attach&&'[data-uid="'+this._uid+'"]',closeOnClick:!1,closeOnContentClick:!this.isMultiple,contentClass:this.computedContentClass,dark:this.dark,disabled:this.disabled,light:this.light,maxHeight:this.maxHeight,nudgeTop:this.nudgeTop,offsetY:this.shouldOffset,offsetOverflow:this.isAutocomplete,openOnClick:!1,value:this.menuIsVisible,zIndex:this.menuZIndex},on:{input:function(e){e||(t.menuIsActive=!1)}}};return this.isAutocomplete&&(e.props.transition=!1),this.minWidth&&(e.props.minWidth=this.minWidth),this.$createElement(c["a"],e,[this.genList()])},getMenuIndex:function(){return this.$refs.menu?this.$refs.menu.listIndex:-1},setMenuIndex:function(t){this.$refs.menu&&(this.$refs.menu.listIndex=t)},resetMenuIndex:function(){this.setMenuIndex(-1)},isMenuItemSelected:function(){return this.menuIsActive&&this.menuItems.length&&this.getMenuIndex()>-1},genSelectionsAndSearch:function(){return this.$createElement("div",{class:"input-group__selections",style:{overflow:"hidden"},ref:"activator"},[].concat(f(this.genSelections()),[this.genSearch()]))},genSelections:function(){if(this.hideSelections)return[];var t=this.selectedItems.length,e=new Array(t),i=void 0;i=this.$scopedSlots.selection?this.genSlotSelection:this.chips?this.genChipSelection:this.segmented?this.genSegmentedBtn:this.genCommaSelection;while(t--)e[t]=i(this.selectedItems[t],t,t===e.length-1);return e},genSearch:function(){var t=this,e={staticClass:"input-group--select__autocomplete",class:{"input-group--select__autocomplete--index":this.selectedIndex>-1},style:{flex:this.shouldBreak?"1 0 100%":null},attrs:d({},this.$attrs,{disabled:this.disabled||!this.isAutocomplete,readonly:this.readonly,tabindex:this.disabled||!this.isAutocomplete?-1:this.tabindex}),domProps:{value:this.maskText(this.lazySearch||"")},directives:[{name:"show",value:this.isAutocomplete||this.placeholder&&!this.selectedItems.length}],ref:"input",key:"input"};return this.isAutocomplete&&(e.attrs.role="combobox",e.domProps.autocomplete=this.browserAutocomplete,e.on=d({},this.genListeners(),{input:function(e){t.selectedIndex>-1||(t.searchValue=t.unmaskText(e.target.value))}}),e.directives=e.directives.concat(this.genDirectives())),this.placeholder&&(e.domProps.placeholder=this.placeholder),this.$createElement("input",e)},genSegmentedBtn:function(t){return t.text&&t.callback?this.$createElement(o["a"],{props:{flat:!0},on:{click:function(e){e.stopPropagation(),t.callback(e)}}},[t.text]):(Object(r["b"])("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)},genSlotSelection:function(t,e){return this.$scopedSlots.selection({parent:this,item:t,index:e,selected:e===this.selectedIndex,disabled:this.disabled||this.readonly})},genChipSelection:function(t,e){var i=this,n=this.disabled||this.readonly,r=function(t){n||(t.stopPropagation(),i.focusInput(),i.selectedIndex=e)};return this.$createElement(l["a"],{staticClass:"chip--select-multi",attrs:{tabindex:"-1"},props:{close:this.deletableChips&&!n,dark:this.dark,disabled:n,selected:e===this.selectedIndex},on:{click:r,focus:r,input:function(){i.isMultiple?i.selectItem(t):i.inputValue=null}},key:this.getValue(t)},this.getText(t))},genCommaSelection:function(t,e,i){return this.$createElement("div",{staticClass:"input-group__selections__comma",class:{"input-group__selections__comma--active":e===this.selectedIndex},key:JSON.stringify(this.getValue(t))},this.getText(t)+(i?"":", "))},genList:function(){var t=this,e=this.menuItems.map(function(e){return e.header?t.genHeader(e):e.divider?t.genDivider(e):t.genTile(e)});if(!e.length){var i=this.$slots["no-data"];i?e.push(i):e.push(this.genTile(this.noDataText,!0))}return this.$createElement(a["a"],[this.$createElement(p["a"],{props:{dense:this.dense},ref:"list"},e)])},genHeader:function(t){return this.$createElement(h["a"],{props:t},t.header)},genDivider:function(t){return this.$createElement(u["a"],{props:t})},genLabel:function(){var t=this.singleLine||this.isDropdown;if(t&&(this.isDirty||this.isFocused&&this.searchValue))return null;var e={};return this.id&&(e.attrs={for:this.id}),this.$createElement("label",e,this.$slots.label||this.label)},genTile:function(t,e){var i=this,r=-1!==this.selectedItems.indexOf(t);"undefined"===typeof e&&(e=Object(n["h"])(t,this.itemDisabled));var o={on:{click:function(n){e||i.selectItem(t)}},props:{avatar:t===Object(t)&&this.itemAvatar in t,ripple:!0,value:r}};if(e&&(o.props.disabled=e),o.props.activeClass=Object.keys(this.addTextColorClassChecks()).join(" "),this.$scopedSlots.item){var a=this.$scopedSlots.item({parent:this,item:t,tile:o});return this.needsTile(a)?this.$createElement(p["b"],o,[a]):a}return this.$createElement(p["b"],o,[this.genAction(t,r),this.genContent(t)])},genAction:function(t,e){var i=this;if(!this.isMultiple||this.isHidingSelected)return null;var n={staticClass:"list__tile__action--select-multi",on:{click:function(e){e.stopPropagation(),i.selectItem(t)}}};return this.$createElement(p["c"],n,[this.$createElement(s["a"],{props:{color:this.computedColor,inputValue:e}})])},genContent:function(t){var e=this.getText(t);return this.$createElement(p["d"],[this.$createElement(p["e"],{domProps:{innerHTML:this.genFiltered(e)}})])}}}},function(t,e,i){"use strict";var n=i(145),r=(i.n(n),i(1));e["a"]={name:"v-divider",functional:!0,mixins:[r["a"]],props:{inset:Boolean},render:function(t,e){var i=e.props,n=e.data;e.children;return n.staticClass=("divider "+(n.staticClass||"")).trim(),i.inset&&(n.staticClass+=" divider--inset"),i.light&&(n.staticClass+=" theme--light"),i.dark&&(n.staticClass+=" theme--dark"),t("hr",n)}}},function(t,e){},function(t,e,i){"use strict";var n=i(147),r=(i.n(n),i(53)),o=i(20),a=i(25),s=i(54),l=i(26),u=i(6),c=i(148),h=i(149),p=i(150),d=i(151),f=i(8),g=i(11);e["a"]={name:"v-menu",mixins:[c["a"],o["a"],r["a"],a["a"],h["a"],p["a"],s["a"],d["a"],l["a"],u["a"]],directives:{ClickOutside:f["a"],Resize:g["a"]},data:function(){return{defaultOffset:8,maxHeightAutoDefault:"200px",startIndex:3,stopIndex:0,hasJustFocused:!1,resizeTimeout:null}},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,fullWidth:Boolean,maxHeight:{default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"menu-transition"}},computed:{calculatedLeft:function(){return this.auto?this.calcXOverflow(this.calcLeftAuto())+"px":this.calcLeft()},calculatedMaxHeight:function(){return this.auto?"200px":isNaN(this.maxHeight)?this.maxHeight:this.maxHeight+"px"},calculatedMaxWidth:function(){return isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px"},calculatedMinWidth:function(){if(this.minWidth)return isNaN(this.minWidth)?this.minWidth:this.minWidth+"px";var t=this.dimensions.activator.width+this.nudgeWidth+(this.auto?16:0),e=isNaN(parseInt(this.calculatedMaxWidth))?t:parseInt(this.calculatedMaxWidth);return Math.min(e,t)+"px"},calculatedTop:function(){return!this.auto||this.isAttached?this.calcTop():this.calcYOverflow(this.calcTopAuto())+"px"},styles:function(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{activator:function(t,e){this.removeActivatorEvents(e),this.addActivatorEvents(t)},isContentActive:function(t){this.hasJustFocused=t}},methods:{activate:function(){this.getTiles(),this.updateDimensions(),requestAnimationFrame(this.startTransition),setTimeout(this.calculateScroll,50)},closeConditional:function(){return this.isActive&&this.closeOnClick},onResize:function(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.updateDimensions,100))}},render:function(t){var e={staticClass:"menu",class:{"menu--disabled":this.disabled},style:{display:this.fullWidth?"block":"inline-block"},directives:[{arg:500,name:"resize",value:this.onResize}],on:{keydown:this.changeListIndex}};return t("div",e,[this.genActivator(),this.genTransition()])}}},function(t,e){},function(t,e,i){"use strict";e["a"]={methods:{activatorClickHandler:function(t){this.disabled||(this.openOnClick&&!this.isActive?(this.getActivator().focus(),this.isActive=!0,this.absoluteX=t.clientX,this.absoluteY=t.clientY):this.closeOnClick&&this.isActive&&(this.getActivator().blur(),this.isActive=!1))},mouseEnterHandler:function(t){var e=this;this.runDelay("open",function(){e.hasJustFocused||(e.hasJustFocused=!0,e.isActive=!0)})},mouseLeaveHandler:function(t){var e=this;this.runDelay("close",function(){e.$refs.content.contains(t.relatedTarget)||requestAnimationFrame(function(){e.isActive=!1,e.callDeactivate()})})},addActivatorEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.addEventListener("click",this.activatorClickHandler)},removeActivatorEvents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&t.removeEventListener("click",this.activatorClickHandler)}}}},function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e["a"]={methods:{genActivator:function(){if(!this.$slots.activator)return null;var t={staticClass:"menu__activator",class:{"menu__activator--active":this.hasJustFocused||this.isActive},ref:"activator",on:{}};return this.openOnHover?(t.on["mouseenter"]=this.mouseEnterHandler,t.on["mouseleave"]=this.mouseLeaveHandler):this.openOnClick&&(t.on["click"]=this.activatorClickHandler),this.$createElement("div",t,this.$slots.activator)},genTransition:function(){return this.transition?this.$createElement("transition",{props:{name:this.transition}},[this.genContent()]):this.genContent()},genDirectives:function(){var t=this,e=this.openOnHover?[]:[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional,include:function(){return[t.$el].concat(r(t.getOpenDependentElements()))}}}];return e.push({name:"show",value:this.isContentActive}),e},genContent:function(){var t,e=this,i={staticClass:"menu__content",class:(t={},n(t,this.contentClass.trim(),!0),n(t,"menuable__content__active",this.isActive),n(t,"theme--dark",this.dark),n(t,"theme--light",this.light),t),style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:function(t){t.stopPropagation(),t.target.getAttribute("disabled")||e.closeOnContentClick&&(e.isActive=!1)}}};return!this.disabled&&this.openOnHover&&(i.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(i.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",i,this.showLazyContent(this.$slots.default))}}}},function(t,e,i){"use strict";e["a"]={data:function(){return{listIndex:-1,tiles:[]}},watch:{isActive:function(t){t||(this.listIndex=-1)},listIndex:function(t,e){if(this.getTiles(),t in this.tiles){var i=this.tiles[t];i.classList.add("list__tile--highlighted"),this.$refs.content.scrollTop=i.offsetTop-i.clientHeight}e in this.tiles&&this.tiles[e].classList.remove("list__tile--highlighted")}},methods:{changeListIndex:function(t){return([40,38,13].includes(t.keyCode)||32===t.keyCode&&!this.isActive)&&t.preventDefault(),[27,9].includes(t.keyCode)?this.isActive=!1:!this.isActive&&[13,32].includes(t.keyCode)&&this.openOnClick?this.isActive=!0:void(40===t.keyCode&&this.listIndex<this.tiles.length-1?this.listIndex++:38===t.keyCode&&this.listIndex>0?this.listIndex--:13===t.keyCode&&-1!==this.listIndex&&this.tiles[this.listIndex].click())},getTiles:function(){this.tiles=this.$refs.content.querySelectorAll(".list__tile")}}}},function(t,e,i){"use strict";e["a"]={methods:{calculateScroll:function(){if(null!==this.selectedIndex){var t=0;this.selectedIndex>=this.stopIndex?t=this.$refs.content.scrollHeight:this.selectedIndex>this.startIndex&&(t=this.selectedIndex*(6*this.defaultOffset)-7*this.defaultOffset),this.$refs.content.scrollTop=t}},calcLeftAuto:function(){return this.isAttached?0:parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto:function(){var t=Array.from(this.tiles).findIndex(function(t){return t.classList.contains("list__tile--active")});if(-1===t)return this.selectedIndex=null,this.computedTop;this.selectedIndex=t;var e=t,i=-2*this.defaultOffset;return this.stopIndex=this.tiles.length>4?this.tiles.length-4:this.tiles.length,t>this.startIndex&&t<this.stopIndex?(e=2,i=3*this.defaultOffset):t>=this.stopIndex&&(i=-this.defaultOffset,e=t-this.stopIndex),i--,this.computedTop+i-e*(6*this.defaultOffset)}}}},function(t,e,i){"use strict";var n=i(153),r=(i.n(n),i(1));e["a"]={name:"v-subheader",functional:!0,mixins:[r["a"]],props:{inset:Boolean},render:function(t,e){var i=e.data,n=e.children,r=e.props;return i.staticClass=("subheader "+(i.staticClass||"")).trim(),r.inset&&(i.staticClass+=" subheader--inset"),r.light&&(i.staticClass+=" theme--light"),r.dark&&(i.staticClass+=" theme--dark"),t("div",i,n)}}},function(t,e){},function(t,e,i){"use strict";var n=i(155),r=(i.n(n),i(1)),o=i(4);e["a"]={name:"v-list",mixins:[Object(o["b"])("list"),r["a"]],provide:function(){return{listClick:this.listClick}},data:function(){return{groups:[]}},props:{dense:Boolean,expand:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},computed:{classes:function(){return{"list--dense":this.dense,"list--subheader":this.subheader,"list--two-line":this.twoLine,"list--three-line":this.threeLine,"theme--dark":this.dark,"theme--light":this.light}}},methods:{register:function(t,e){this.groups.push({uid:t,cb:e})},unregister:function(t){var e=this.groups.findIndex(function(e){return e.uid===t});e>-1&&this.groups.splice(e,1)},listClick:function(t,e){if(!this.expand)for(var i=this.groups.length;i--;)this.groups[i].cb(t)}},render:function(t){var e={staticClass:"list",class:this.classes};return t("div",e,[this.$slots.default])}}},function(t,e){},function(t,e,i){"use strict";var n=i(3),r=i(16),o=i(6),a=i(4),s=i(7);function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-list-group",mixins:[r["a"],Object(a["a"])("list","v-list-group","v-list"),o["a"]],inject:["listClick"],data:function(){return{groups:[]}},props:{activeClass:{type:String,default:"primary--text"},appendIcon:{type:String,default:"keyboard_arrow_down"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,subGroup:Boolean},computed:{groupClasses:function(){return{"list__group--active":this.isActive,"list__group--disabled":this.disabled}},headerClasses:function(){return{"list__group__header--active":this.isActive,"list__group__header--sub-group":this.subGroup}},itemsClasses:function(){return{"list__group__items--no-action":this.noAction}}},watch:{isActive:function(t){!this.subGroup&&t&&this.listClick(this._uid)},$route:function(t){var e=this.matchRoute(t.path);this.group&&(e&&this.isActive!==e&&this.listClick(this._uid),this.isActive=e)}},mounted:function(){this.list.register(this._uid,this.toggle),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list.unregister(this._uid)},methods:{click:function(){this.disabled||(this.isActive=!this.isActive)},genIcon:function(t){return this.$createElement(n["a"],t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement("div",{staticClass:"list__group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genGroup:function(){return this.$createElement("div",{staticClass:"list__group__header",class:this.headerClasses,on:Object.assign({},{click:this.click},this.$listeners),ref:"item"},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){return this.$createElement("div",{staticClass:"list__group__items",class:this.itemsClasses,directives:[{name:"show",value:this.isActive}],ref:"group"},this.showLazyContent(this.$slots.default))},genPrependIcon:function(){var t=this.prependIcon?this.prependIcon:!!this.subGroup&&"arrow_drop_down";return t||this.$slots.prependIcon?this.$createElement("div",{staticClass:"list__group__header__prepend-icon",class:l({},this.activeClass,this.isActive)},[this.$slots.prependIcon||this.genIcon(t)]):null},toggle:function(t){this.isActive=this._uid===t},matchRoute:function(t){return!!this.group&&null!==t.match(this.group)}},render:function(t){return t("div",{staticClass:"list__group",class:this.groupClasses},[this.genGroup(),t(s["a"],[this.genItems()])])}}},function(t,e,i){"use strict";var n=i(0),r=i(13),o=i(6),a=i(17),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-list-tile",mixins:[n["a"],r["a"],o["a"]],directives:{Ripple:a["a"]},inheritAttrs:!1,data:function(){return{proxyClass:"list__tile--active"}},props:{activeClass:{type:String,default:"primary--text"},avatar:Boolean,inactive:Boolean,tag:String},computed:{listClasses:function(){return this.disabled?"text--disabled":this.color?this.addTextColorClassChecks():this.defaultColor},classes:function(){return l({list__tile:!0,"list__tile--link":this.isLink&&!this.inactive,"list__tile--avatar":this.avatar,"list__tile--disabled":this.disabled,"list__tile--active":!this.to&&this.isActive},this.activeClass,this.isActive)},isLink:function(){return this.href||this.to||this.$listeners&&(this.$listeners.click||this.$listeners["!click"])}},render:function(t){var e=!this.inactive&&this.isLink,i=e?this.generateRouteLink():{tag:this.tag||"div",data:{class:this.classes}},n=i.tag,r=i.data;return r.attrs=Object.assign({},r.attrs,this.$attrs),t("div",{class:this.listClasses,attrs:{disabled:this.disabled},on:s({},this.$listeners)},[t(n,r,this.$slots.default)])}}},function(t,e,i){"use strict";e["a"]={functional:!0,name:"v-list-tile-action",render:function(t,e){var i=e.data,n=e.children;return i.staticClass=i.staticClass?"list__tile__action "+i.staticClass:"list__tile__action",(n||[]).length>1&&(i.staticClass+=" list__tile__action--stack"),t("div",i,n)}}},function(t,e,i){"use strict";var n=i(34);e["a"]={functional:!0,name:"v-list-tile-avatar",props:{color:String,size:{type:[Number,String],default:40},tile:Boolean},render:function(t,e){var i=e.data,r=e.children,o=e.props;i.staticClass=("list__tile__avatar "+(i.staticClass||"")).trim();var a=t(n["a"],{props:{color:o.color,size:o.size,tile:o.tile}},[r]);return t("div",i,[a])}}},function(t,e,i){"use strict";var n=i(2);e["a"]={methods:{getText:function(t){return this.getPropertyFromItem(t,this.itemText)},getValue:function(t){return this.getPropertyFromItem(t,this.itemValue)},getPropertyFromItem:function(t,e){if(t!==Object(t))return t;var i=Object(n["h"])(t,e);return"undefined"===typeof i?t:i}}}},function(t,e,i){"use strict";e["a"]={methods:{activateInput:function(){this.isActive=!0,this.isFocused=!0},deactivateInput:function(){this.isFocused=!1,this.isActive=!1,this.selectedIndex=-1},hideMenu:function(){this.menuIsActive=!1},showMenu:function(){this.activateInput(),this.showMenuItems(),this.isMultiple&&this.resetMenuIndex()},showMenuItems:function(){this.menuIsActive=!0},toggleMenu:function(){if(this.disabled||this.readonly||this.menuIsVisible)return this.hideMenu();this.showMenu(),this.focusInput()}}}},function(t,e,i){"use strict";e["a"]={props:{appendIcon:{type:String,default:"arrow_drop_down"},appendIconCb:Function,attach:Boolean,auto:Boolean,autocomplete:Boolean,browserAutocomplete:{type:String,default:"off"},cacheItems:Boolean,chips:Boolean,clearable:Boolean,combobox:Boolean,contentClass:String,deletableChips:Boolean,dense:Boolean,editable:Boolean,hideSelected:Boolean,items:{type:Array,default:function(){return[]}},itemAvatar:{type:String,default:"avatar"},itemDisabled:{type:String,default:"disabled"},itemText:{type:String,default:"text"},itemValue:{type:String,default:"value"},maxHeight:{type:[Number,String],default:300},minWidth:{type:[Boolean,Number,String],default:!1},multiple:Boolean,multiLine:Boolean,openOnClear:Boolean,overflow:Boolean,returnObject:Boolean,searchInput:{default:null},segmented:Boolean,singleLine:Boolean,tags:Boolean,valueComparator:{type:Function,default:function(t,e){if(t!==Object(t))return t===e;var i=Object.keys(t),n=Object.keys(e);return i.length===n.length&&i.every(function(i){return t[i]===e[i]})}}}}},function(t,e,i){"use strict";e["a"]={watch:{filteredItems:function(){this.$refs.menu&&this.$refs.menu.updateDimensions()},inputValue:function(t){this.combobox&&this.isNotFiltering&&(t=this.findExistingItem(t)),this.genSelectedItems(t),t!==this.value&&this.$emit("input",t),this.combobox&&(this.menuIsActive=!1)},isActive:function(t){t?this.chips||this.$scopedSlots.selection||(this.searchValue=this.getText(this.selectedItem)):(this.blur(),this.tags&&this.searchValue&&this.updateTags(this.searchValue),this.combobox&&this.lazySearch&&!this.isNotFiltering&&(this.inputValue=this.lazySearch),this.searchValue&&(this.searchValue=null))},isBooted:function(){var t=this;this.$nextTick(function(){t.content&&t.content.addEventListener&&t.content.addEventListener("scroll",t.onScroll,!1)})},items:function(t){var e=this;this.cacheItems&&(this.cachedItems=this.filterDuplicates(this.cachedItems.concat(t))),this.resetMenuIndex(),this.searchValue&&!this.isAnyValueAllowed&&this.$nextTick(function(){return e.setMenuIndex(0)}),this.genSelectedItems()},menuIsActive:function(t){t&&(this.isBooted=!0)},isMultiple:function(t){this.inputValue=t?[]:null},searchInput:function(t){this.searchValue=t},searchValue:function(t,e){var i=this;this.$refs.input.scrollWidth>this.$refs.input.clientWidth?(this.shouldBreak=!0,this.$nextTick(this.$refs.menu.updateDimensions)):null===t&&(this.shouldBreak=!1),this.isActive&&!this.menuIsActive&&t!==this.getText(this.selectedItem)&&(this.menuIsActive=!0),!t&&e&&this.resetMenuIndex(),this.$nextTick(function(){t&&!i.isAnyValueAllowed&&i.setMenuIndex(0),null!==t&&i.selectedIndex>-1&&(i.selectedIndex=-1)})},selectedItems:function(){this.isAutocomplete&&this.$nextTick(this.$refs.menu.updateDimensions)},value:function(t){this.inputValue=t,this.validate()}}}},function(t,e,i){"use strict";var n=i(2),r=i(165),o=i(172),a=Object(n["d"])("table__overflow");r["a"].install=function(t){t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a.name,a)},e["a"]=r["a"]},function(t,e,i){"use strict";var n=i(166),r=(i.n(n),i(167)),o=(i.n(r),i(46)),a=i(168),s=i(169),l=i(170),u=i(171),c=i(2),h=Object(c["d"])("table__overflow");e["a"]={name:"v-data-table",data:function(){return{actionsClasses:"datatable__actions",actionsRangeControlsClasses:"datatable__actions__range-controls",actionsSelectClasses:"datatable__actions__select",actionsPaginationClasses:"datatable__actions__pagination"}},mixins:[o["a"],a["a"],s["a"],l["a"],u["a"]],props:{headers:{type:Array,default:function(){return[]}},headerText:{type:String,default:"text"},hideHeaders:Boolean,rowsPerPageText:{type:String,default:"Rows per page:"},customFilter:{type:Function,default:function(t,e,i,n){if(e=e.toString().toLowerCase(),""===e.trim())return t;var r=n.map(function(t){return t.value});return t.filter(function(t){return r.some(function(n){return i(Object(c["h"])(t,n),e)})})}}},computed:{classes:function(){return{"datatable table":!0,"datatable--select-all":!1!==this.selectAll,"theme--dark":this.dark,"theme--light":this.light}},filteredItems:function(){return this.filteredItemsImpl(this.headers)},headerColumns:function(){return this.headers.length+(!1!==this.selectAll)}},methods:{hasTag:function(t,e){return Array.isArray(t)&&t.find(function(t){return t.tag===e})},genTR:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$createElement("tr",e,t)}},created:function(){var t=this.headers.find(function(t){return!("sortable"in t)||t.sortable});this.defaultPagination.sortBy=!this.disableInitialSort&&t?t.value:null,this.initPagination()},render:function(t){var e=t(h,{},[t("table",{class:this.classes},[this.genTHead(),this.genTBody(),this.genTFoot()])]);return t("div",[e,this.genActionsFooter()])}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(5),r=i(28),o=i(3);function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e["a"]={props:{sortIcon:{type:String,default:"arrow_upward"}},methods:{genTHead:function(){var t=this;if(!this.hideHeaders){var e=[];if(this.$scopedSlots.headers){var i=this.$scopedSlots.headers({headers:this.headers,indeterminate:this.indeterminate,all:this.everyItem});e=[this.hasTag(i,"th")?this.genTR(i):i,this.genTProgress()]}else{var n=this.headers.map(function(e){return t.genHeader(e)}),o=this.$createElement(r["a"],{props:{dark:this.dark,light:this.light,color:!0===this.selectAll?"":this.selectAll,hideDetails:!0,inputValue:this.everyItem,indeterminate:this.indeterminate},on:{change:this.toggle}});this.hasSelectAll&&n.unshift(this.$createElement("th",[o])),e=[this.genTR(n),this.genTProgress()]}return this.$createElement("thead",[e])}},genHeader:function(t){var e=[this.$scopedSlots.headerCell?this.$scopedSlots.headerCell({header:t}):t[this.headerText]];return this.$createElement.apply(this,["th"].concat(a(this.genHeaderData(t,e))))},genHeaderData:function(t,e){var i=["column"],n={key:t[this.headerText],attrs:{role:"columnheader",scope:"col",width:t.width||null,"aria-label":t[this.headerText]||"","aria-sort":"none"}};return null==t.sortable||t.sortable?this.genHeaderSortingData(t,e,n,i):n.attrs["aria-label"]+=": Not sorted.",i.push("text-xs-"+(t.align||"left")),Array.isArray(t.class)?i.push.apply(i,a(t.class)):t.class&&i.push(t.class),n.class=i,[n,e]},genHeaderSortingData:function(t,e,i,r){var a=this;"value"in t||Object(n["b"])("Headers must have a value property that corresponds to a value in the v-model array",this),i.attrs.tabIndex=0,i.on={click:function(){a.expanded={},a.sort(t.value)},keydown:function(e){32===e.keyCode&&(e.preventDefault(),a.sort(t.value))}},r.push("sortable");var s=this.$createElement(o["a"],{props:{small:!0}},this.sortIcon);t.align&&"left"!==t.align?e.unshift(s):e.push(s);var l=this.computedPagination,u=l.sortBy===t.value;u?(r.push("active"),l.descending?(r.push("desc"),i.attrs["aria-sort"]="descending",i.attrs["aria-label"]+=": Sorted descending. Activate to remove sorting."):(r.push("asc"),i.attrs["aria-sort"]="ascending",i.attrs["aria-label"]+=": Sorted ascending. Activate to sort descending.")):i.attrs["aria-label"]+=": Not sorted. Activate to sort ascending."}}}},function(t,e,i){"use strict";var n=i(41);e["a"]={methods:{genTBody:function(){var t=this.genItems();return this.$createElement("tbody",t)},genExpandedRow:function(t){var e=[];if(this.isExpanded(t.item)){var i=this.$createElement("div",{class:"datatable__expand-content",key:t.item[this.itemKey]},this.$scopedSlots.expand(t));e.push(i)}var r=this.$createElement("transition-group",{class:"datatable__expand-col",attrs:{colspan:this.headerColumns},props:{tag:"td"},on:Object(n["a"])("datatable__expand-col--expanded")},e);return this.genTR([r],{class:"datatable__expand-row"})},genFilteredItems:function(){if(!this.$scopedSlots.items)return null;for(var t=[],e=0,i=this.filteredItems.length;e<i;++e){var n=this.filteredItems[e],r=this.createProps(n,e),o=this.$scopedSlots.items(r);if(t.push(this.hasTag(o,"td")?this.genTR(o,{key:e,attrs:{active:this.isSelected(n)}}):o),this.$scopedSlots.expand){var a=this.genExpandedRow(r);t.push(a)}}return t},genEmptyItems:function(t){return this.hasTag(t,"tr")?t:this.hasTag(t,"td")?this.genTR(t):this.genTR([this.$createElement("td",{class:{"text-xs-center":"string"===typeof t},attrs:{colspan:this.headerColumns}},t)])}}}},function(t,e,i){"use strict";e["a"]={methods:{genTFoot:function(){if(!this.$slots.footer)return null;var t=this.$slots.footer,e=this.hasTag(t,"td")?this.genTR(t):t;return this.$createElement("tfoot",[e])},genActionsFooter:function(){return this.hideActions?null:this.$createElement("div",{class:this.classes},this.genActions())}}}},function(t,e,i){"use strict";e["a"]={methods:{genTProgress:function(){var t=this.$createElement("th",{staticClass:"column",attrs:{colspan:this.headerColumns}},[this.genProgress()]);return this.genTR([t],{staticClass:"datatable__progress"})}}}},function(t,e,i){"use strict";var n=i(173),r=(i.n(n),i(26)),o=i(10),a=i(30);e["a"]={name:"v-edit-dialog",mixins:[r["a"]],data:function(){return{isActive:!1,isSaving:!1}},props:{cancelText:{default:"Cancel"},large:Boolean,lazy:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},watch:{isActive:function(t){t&&setTimeout(this.focus,50)}},methods:{cancel:function(){this.isActive=!1},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(o["a"],{props:{flat:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton(function(){return t.save(t.returnValue)},this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{on:{keydown:function(e){var i=t.$refs.content.querySelector("input");27===e.keyCode&&t.cancel(),13===e.keyCode&&i&&t.save(i.value)}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(a["a"],{class:"small-dialog",props:{contentClass:"small-dialog__content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,lazy:this.lazy},on:{input:function(t){return e.isActive=t}}},[t("a",{slot:"activator"},this.$slots.default),this.genContent(),this.large?this.genActions():null])}}},function(t,e){},function(t,e,i){"use strict";var n=i(175),r=i(57),o=i(59),a=i(60),s=i(63),l=i(64);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a["a"].name,a["a"]),t.component(s["a"].name,s["a"]),t.component(l["a"].name,l["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(57),r=i(59),o=i(60),a=i(63),s=i(64),l=i(65),u=i(14),c=i(62),h=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]={name:"v-date-picker",mixins:[l["a"]],data:function(){var t=this,e=new Date;return{activePicker:this.type.toUpperCase(),defaultColor:"accent",inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:function(){if(t.pickerDate)return t.pickerDate;var i=t.value||e.getFullYear()+"-"+(e.getMonth()+1),n="date"===t.type?"month":"year";return t.sanitizeDateString(i,n)}()}},props:{allowedDates:Function,dayFormat:{type:Function,default:null},events:{type:[Array,Object,Function],default:function(){return null}},eventColor:{type:[String,Function,Object],default:"warning"},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:{type:Function,default:null},locale:{type:String,default:"en-us"},max:String,min:String,monthFormat:{type:Function,default:null},nextIcon:{type:String,default:"chevron_right"},pickerDate:String,prevIcon:{type:String,default:"chevron_left"},reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},titleDateFormat:{type:Function,default:null},type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:String,yearFormat:{type:Function,default:null},yearIcon:String},computed:{current:function(){return!0===this.showCurrent?this.sanitizeDateString(this.now.getFullYear()+"-"+(this.now.getMonth()+1)+"-"+this.now.getDate(),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?this.inputYear+"-"+Object(u["c"])(this.inputMonth+1)+"-"+Object(u["c"])(this.inputDay):this.inputYear+"-"+Object(u["c"])(this.inputMonth+1)},tableMonth:function(){return(this.pickerDate||this.tableDate).split("-")[1]-1},tableYear:function(){return 1*(this.pickerDate||this.tableDate).split("-")[0]},minMonth:function(){return this.min?this.sanitizeDateString(this.min,"month"):null},maxMonth:function(){return this.max?this.sanitizeDateString(this.max,"month"):null},minYear:function(){return this.min?this.sanitizeDateString(this.min,"year"):null},maxYear:function(){return this.max?this.sanitizeDateString(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||Object(u["a"])(this.locale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||this.defaultTitleDateFormatter}},defaultTitleDateFormatter:function(){var t={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},e=Object(u["a"])(this.locale,t[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),i=function(t){return e(t).replace(/([^\d\s])([\d])/g,function(t,e,i){return e+" "+i}).replace(", ",",<br>")};return this.landscape?i:e}},watch:{tableDate:function(t,e){var i="month"===this.type?"year":"month";this.isReversing=this.sanitizeDateString(t,i)<this.sanitizeDateString(e,i),this.$emit("update:pickerDate",t)},pickerDate:function(t){t?this.tableDate=t:this.value&&"date"===this.type?this.tableDate=this.sanitizeDateString(this.value,"month"):this.value&&"month"===this.type&&(this.tableDate=this.sanitizeDateString(this.value,"year"))},value:function(){this.setInputDate(),this.value&&!this.pickerDate&&(this.tableDate=this.sanitizeDateString(this.inputDate,"month"===this.type?"year":"month"))},type:function(t){if(this.activePicker=t.toUpperCase(),this.value){var e=this.sanitizeDateString(this.value,t);this.$emit("input",this.isDateAllowed(e)?e:null)}}},methods:{isDateAllowed:function(t){return Object(c["a"])(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,"month"===this.type?this.tableDate=""+t:this.tableDate=t+"-"+Object(u["c"])(this.tableMonth+1),this.activePicker="MONTH",this.reactive&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,"date"===this.type?(this.tableDate=t,this.activePicker="DATE",this.reactive&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):(this.$emit("input",this.inputDate),this.$emit("change",this.inputDate))},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.$emit("input",this.inputDate),this.$emit("change",this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(n["a"],{props:{date:this.value?this.formatters.titleDate(this.value):"",selectingYear:"YEAR"===this.activePicker,year:this.formatters.year(""+this.inputYear),yearIcon:this.yearIcon,value:this.value},slot:"title",style:this.readonly?{"pointer-events":"none"}:void 0,on:{"update:selectingYear":function(e){return t.activePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(r["a"],{props:{nextIcon:this.nextIcon,color:this.color,disabled:this.readonly,format:this.headerDateFormat,locale:this.locale,min:"DATE"===this.activePicker?this.minMonth:this.minYear,max:"DATE"===this.activePicker?this.maxMonth:this.maxYear,prevIcon:this.prevIcon,value:"DATE"===this.activePicker?this.tableYear+"-"+Object(u["c"])(this.tableMonth+1):""+this.tableYear},on:{toggle:function(){return t.activePicker="DATE"===t.activePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(o["a"],{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,disabled:this.readonly,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,locale:this.locale,min:this.min,max:this.max,tableDate:this.tableYear+"-"+Object(u["c"])(this.tableMonth+1),scrollable:this.scrollable,value:this.value},ref:"table",on:{input:this.dateClick,tableDate:function(e){return t.tableDate=e}}})},genMonthTable:function(){var t=this;return this.$createElement(a["a"],{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?this.sanitizeDateString(this.current,"month"):null,disabled:this.readonly,format:this.monthFormat,locale:this.locale,min:this.minMonth,max:this.maxMonth,scrollable:this.scrollable,value:this.value&&"month"!==this.type?this.value.substr(0,7):this.value,tableDate:""+this.tableYear},ref:"table",on:{input:this.monthClick,tableDate:function(e){return t.tableDate=e}}})},genYears:function(){return this.$createElement(s["a"],{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:""+this.tableYear},on:{input:this.yearClick}})},genPickerBody:function(){var t="YEAR"===this.activePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.activePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.activePicker,style:this.readonly?{"pointer-events":"none"}:void 0},t)},sanitizeDateString:function(t,e){var i=t.split("-"),n=h(i,3),r=n[0],o=n[1],a=void 0===o?1:o,s=n[2],l=void 0===s?1:s;return(r+"-"+Object(u["c"])(a)+"-"+Object(u["c"])(l)).substr(0,{date:10,month:7,year:4}[e])},setInputDate:function(){if(this.value){var t=this.value.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},created:function(){this.pickerDate!==this.tableDate&&this.$emit("update:pickerDate",this.tableDate),this.setInputDate()},render:function(t){return this.genPicker("picker--date")}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(22),r=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:0,length:0},o=i.start,a=i.length,s=function(t){var e=t.trim().split(" ")[0].split("-"),i=r(e,3),o=i[0],a=i[1],s=i[2];return[o,Object(n["a"])(a||1),Object(n["a"])(s||1)].join("-")};try{var l=new Intl.DateTimeFormat(t||void 0,e);return function(t){return l.format(new Date(s(t)+"T00:00:00+00:00"))}}catch(t){return o||a?function(t){return s(t).substr(o,a)}:null}}},function(t,e,i){"use strict";var n=i(22),r=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["a"]=function(t,e){var i=t.split("-").map(function(t){return 1*t}),o=r(i,2),a=o[0],s=o[1];return s+e===0?a-1+"-12":s+e===13?a+1+"-01":a+"-"+Object(n["a"])(s+e)}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(183),r=(i.n(n),i(27)),o=i(0),a=i(1),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={name:"v-picker",mixins:[o["a"],a["a"]],data:function(){return{defaultColor:"primary"}},props:{fullWidth:Boolean,landscape:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290,validator:function(t){return parseInt(t,10)>0}}},computed:{computedTitleColor:function(){var t=this.dark||!this.light&&this.$vuetify.dark,e=t?null:this.computedColor;return this.color||e}},methods:{genTitle:function(){return this.$createElement("div",{staticClass:"picker__title",class:this.addBackgroundColorClassChecks({"picker__title--landscape":this.landscape},this.computedTitleColor)},this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"picker__body",style:this.fullWidth?void 0:{width:this.width+"px"}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"picker__actions card__actions"},this.$slots.actions)}},render:function(t){return t(r["a"],{staticClass:"picker",class:s({"picker--landscape":this.landscape},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}},function(t,e){},function(t,e,i){"use strict";var n=i(36);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(186),r=i(188);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(187),r=(i.n(n),i(1)),o=i(4),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e["a"]={name:"v-expansion-panel",mixins:[r["a"],Object(o["b"])("expansionPanel")],provide:function(){return{panelClick:this.panelClick,focusable:this.focusable}},data:function(){return{items:[]}},props:{expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean},methods:{panelClick:function(t){if(this.expand){for(var e=0;e<this.items.length;e++)if(this.items[e].uid===t)return void this.items[e].toggle(t)}else for(var i=0;i<this.items.length;i++)this.items[i].toggle(t)},register:function(t,e){this.items.push({uid:t,toggle:e})},unregister:function(t){this.items=this.items.filter(function(e){return e.uid!==t})}},render:function(t){return t("ul",{staticClass:"expansion-panel",class:a({"expansion-panel--focusable":this.focusable,"expansion-panel--popout":this.popout,"expansion-panel--inset":this.inset},this.themeClasses)},this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(7),r=i(16),o=i(6),a=i(21),s=i(4),l=i(3),u=i(8);e["a"]={name:"v-expansion-panel-content",mixins:[r["a"],o["a"],a["a"],Object(s["a"])("expansionPanel","v-expansion-panel","v-expansion-panel-content")],directives:{ClickOutside:u["a"]},inject:["focusable","panelClick"],data:function(){return{height:"auto"}},props:{expandIcon:{type:String,default:"keyboard_arrow_down"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},methods:{genBody:function(){return this.$createElement("div",{ref:"body",class:"expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var t=this;return this.$createElement("div",{staticClass:"expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:function(){return t.panelClick(t._uid)}}},[this.$slots.header,this.genIcon()])},genIcon:function(t){if(this.hideActions)return null;var e=this.$slots.actions||this.$createElement(l["a"],this.expandIcon);return this.$createElement("div",{staticClass:"header__icon"},[e])},toggle:function(t){var e=this,i=this._uid===t&&!this.isActive;i&&(this.isBooted=!0),this.$nextTick(function(){return e.isActive=i})}},mounted:function(){this.expansionPanel.register(this._uid,this.toggle)},beforeDestroy:function(){this.expansionPanel.unregister(this._uid)},render:function(t){var e=this,i=[];return this.$slots.header&&i.push(this.genHeader()),i.push(t(n["a"],[this.genBody()])),t("li",{staticClass:"expansion-panel__container",class:{"expansion-panel__container--active":this.isActive},attrs:{tabindex:0},on:{keydown:function(t){e.focusable&&e.$el===document.activeElement&&13===t.keyCode&&e.panelClick(e._uid)}}},i)}}},function(t,e,i){"use strict";var n=i(190);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(191),r=(i.n(n),i(15)),o=i(0),a=i(1);e["a"]={name:"v-footer",mixins:[Object(r["a"])("footer",["height"]),o["a"],a["a"]],props:{height:{default:32,type:[Number,String]},inset:Boolean},computed:{computedMarginBottom:function(){if(this.app)return this.$vuetify.application.bottom},computedPaddingLeft:function(){return this.app&&this.inset?this.$vuetify.application.left:0},computedPaddingRight:function(){return this.app?this.$vuetify.application.right:0},styles:function(){var t={height:isNaN(this.height)?this.height:this.height+"px"};return this.computedPaddingLeft&&(t.paddingLeft=this.computedPaddingLeft+"px"),this.computedPaddingRight&&(t.paddingRight=this.computedPaddingRight+"px"),this.computedMarginBottom&&(t.marginBottom=this.computedMarginBottom+"px"),t}},methods:{updateApplication:function(){return isNaN(this.height)?this.$el?this.$el.clientHeight:0:this.height}},render:function(t){var e={staticClass:"footer",class:this.addBackgroundColorClassChecks({"footer--absolute":this.absolute,"footer--fixed":!this.absolute&&(this.app||this.fixed),"footer--inset":this.inset,"theme--dark":this.dark,"theme--light":this.light}),style:this.styles,ref:"content"};return t("footer",e,this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(193);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";e["a"]={name:"v-form",inheritAttrs:!1,data:function(){return{inputs:[],errorBag:{}}},props:{value:Boolean,lazyValidation:Boolean},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);return this.$emit("input",!t),!t},deep:!0}},methods:{getInputs:function(){var t=[],e=function e(i){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<i.length;r++){var o=i[r];void 0!==o.errorBucket?t.push(o):e(o.$children,n+1)}if(0===n)return t};return e(this.$children)},watchInputs:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getInputs(),e=0;e<t.length;e++){var i=t[e];this.inputs.includes(i)||(this.inputs.push(i),this.watchChild(i))}},watchChild:function(t){var e=this,i=function(t){t.$watch("valid",function(i){e.$set(e.errorBag,t._uid,!i)},{immediate:!0})};if(!this.lazyValidation)return i(t);t.$watch("shouldValidate",function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||i(t))})},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this.inputs.length;t--;)this.inputs[t].reset();this.lazyValidation&&(this.errorBag={})}},mounted:function(){this.watchInputs()},updated:function(){var t=this.getInputs();if(t.length<this.inputs.length)for(var e=this.inputs.filter(function(e){return!t.includes(e)}),i=0;i<e.length;i++){var n=e[i];this.$delete(this.errorBag,n._uid),this.$delete(this.inputs,this.inputs.indexOf(n))}this.watchInputs(t)},render:function(t){var e=this;return t("form",{attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},function(t,e,i){"use strict";var n=i(2),r=i(195),o=i(197),a=i(198),s=i(199),l=Object(n["d"])("spacer"),u={install:function(t){t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a["a"].name,a["a"]),t.component(s["a"].name,s["a"]),t.component(l.name,l)}};e["a"]=u},function(t,e,i){"use strict";var n=i(196),r=(i.n(n),i(23));e["a"]={name:"v-content",mixins:[r["a"]],props:{tag:{type:String,default:"main"}},computed:{styles:function(){var t=this.$vuetify.application,e=t.bar,i=t.top,n=t.right,r=t.footer,o=t.bottom,a=t.left;return{paddingTop:i+e+"px",paddingRight:n+"px",paddingBottom:r+o+"px",paddingLeft:a+"px"}}},render:function(t){var e={staticClass:"content",class:this.classes,style:this.styles,ref:"content"};return t(this.tag,e,[t("div",{staticClass:"content--wrap"},this.$slots.default)])}}},function(t,e){},function(t,e,i){"use strict";var n=i(31),r=(i.n(n),i(32));e["a"]=Object(r["a"])("container")},function(t,e,i){"use strict";var n=i(31),r=(i.n(n),i(32));e["a"]=Object(r["a"])("flex")},function(t,e,i){"use strict";var n=i(31),r=(i.n(n),i(32));e["a"]=Object(r["a"])("layout")},function(t,e,i){"use strict";var n=i(201);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(202),r=(i.n(n),i(15)),o=i(37),a=i(23),s=i(1),l=i(8),u=i(11),c=i(9);e["a"]={name:"v-navigation-drawer",mixins:[Object(r["a"])(null,["miniVariant","right","width"]),o["a"],a["a"],s["a"]],directives:{ClickOutside:l["a"],Resize:u["a"],Touch:c["a"]},data:function(){return{isActive:!1,touchArea:{left:0,right:0}}},props:{clipped:Boolean,disableRouteWatcher:Boolean,disableResizeWatcher:Boolean,height:{type:[Number,String],default:"100%"},floating:Boolean,miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:80},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,stateless:Boolean,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:300},value:{required:!1}},computed:{applicationProperty:function(){return this.right?"right":"left"},calculatedHeight:function(){return isNaN(this.height)?this.height:this.height+"px"},calculatedTransform:function(){return this.isActive?0:this.right?this.calculatedWidth:-this.calculatedWidth},calculatedWidth:function(){return this.miniVariant?this.miniVariantWidth:this.width},classes:function(){return{"navigation-drawer":!0,"navigation-drawer--absolute":this.absolute,"navigation-drawer--clipped":this.clipped,"navigation-drawer--close":!this.isActive,"navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"navigation-drawer--floating":this.floating,"navigation-drawer--is-mobile":this.isMobile,"navigation-drawer--mini-variant":this.miniVariant,"navigation-drawer--open":this.isActive,"navigation-drawer--right":this.right,"navigation-drawer--temporary":this.temporary,"theme--dark":this.dark,"theme--light":this.light}},isMobile:function(){return!this.permanent&&!this.temporary&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},marginTop:function(){if(!this.app)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},maxHeight:function(){return this.app?this.clipped?this.$vuetify.application.top+this.$vuetify.application.bottom:this.$vuetify.application.bottom:"100%"},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return!this.disableResizeWatcher&&!this.stateless&&!this.permanent&&!this.temporary},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},resizeIsDisabled:function(){return this.disableResizeWatcher||this.stateless},showOverlay:function(){return this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t={height:this.calculatedHeight,marginTop:this.marginTop+"px",maxHeight:"calc(100% - "+this.maxHeight+"px)",transform:"translateX("+this.calculatedTransform+"px)",width:this.calculatedWidth+"px"};return t}},watch:{$route:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},isActive:function(t){this.$emit("input",t),this.callUpdate()},isMobile:function(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&!this.resizeIsDisabled&&this.reactsToMobile&&(this.isActive=!t,this.callUpdate())},permanent:function(t){t&&(this.isActive=!0),this.callUpdate()},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},temporary:function(){this.callUpdate()},value:function(t){if(!this.permanent)return null==t?this.init():void(t!==this.isActive&&(this.isActive=t))}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){if(this.$el.parentNode){var t=this.$el.parentNode.getBoundingClientRect();this.touchArea={left:t.left+50,right:t.right-50}}},closeConditional:function(){return this.isActive&&this.reactsToClick},genDirectives:function(){var t=this,e=[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional}}];return!this.touchless&&e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},swipeRight:function(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){return!this.isActive||this.temporary||this.isMobile?0:this.calculatedWidth}},render:function(t){var e=this,i={class:this.classes,style:this.styles,directives:this.genDirectives(),on:{click:function(){e.miniVariant&&e.$emit("update:miniVariant",!1)}}};return t("aside",i,[this.$slots.default,t("div",{class:"navigation-drawer__border"})])}}},function(t,e){},function(t,e,i){"use strict";var n=i(204);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(205),r=(i.n(n),i(3)),o=i(11),a=i(0);function s(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e["a"]={name:"v-pagination",mixins:[a["a"]],directives:{Resize:o["a"]},data:function(){return{maxButtons:0,defaultColor:"primary"}},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},totalVisible:[Number,String],nextIcon:{type:String,default:"chevron_right"},prevIcon:{type:String,default:"chevron_left"},value:{type:Number,default:0}},computed:{classes:function(){return{pagination:!0,"pagination--circle":this.circle,"pagination--disabled":this.disabled}},items:function(){var t=this.totalVisible||this.maxButtons;if(this.length<=t)return this.range(1,this.length);var e=t%2===0?1:0,i=Math.floor(t/2),n=this.length-i+1+e;if(this.value>=i&&this.value<=n){var r=this.value-i+2,o=this.value+i-2-e;return[1,"..."].concat(s(this.range(r,o)),["...",this.length])}return[].concat(s(this.range(1,i)),["..."],s(this.range(this.length-i+1+e,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,setTimeout(function(){return t.selected=t.value},100)},onResize:function(){var t=this.$el&&this.$el.parentNode?this.$el.parentNode.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var i=[];t=t>0?t:1;for(var n=t;n<=e;n++)i.push(n);return i},genIcon:function(t,e,i,n){return t("li",[t("button",{staticClass:"pagination__navigation",class:{"pagination__navigation--disabled":i},on:i?{}:{click:n}},[t(r["a"],[e])])])},genItem:function(t,e){var i=this;return t("button",{staticClass:"pagination__item",class:e===this.value?this.addBackgroundColorClassChecks({"pagination__item--active":!0}):{},on:{click:function(){return i.$emit("input",e)}}},[e])},genItems:function(t){var e=this;return this.items.map(function(i,n){return t("li",{key:n},[isNaN(i)?t("span",{class:"pagination__more"},[i]):e.genItem(t,i)])})}},render:function(t){var e=[this.genIcon(t,this.prevIcon,this.value<=1,this.previous),this.genItems(t),this.genIcon(t,this.nextIcon,this.value>=this.length,this.next)];return t("ul",{directives:[{name:"resize",value:this.onResize}],class:this.classes},e)}}},function(t,e){},function(t,e,i){"use strict";var n=i(207);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(208),r=(i.n(n),i(209));e["a"]={name:"v-parallax",mixins:[r["a"]],data:function(){return{isBooted:!1}},props:{alt:String,height:{type:[String,Number],default:500},src:String},computed:{styles:function(){return{display:"block",opacity:this.isBooted?1:0,transform:"translate(-50%, "+this.parallax+"px)"}}},watch:{parallax:function(){this.isBooted=!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$refs.img&&(this.$refs.img.complete?(this.translate(),this.listeners()):this.$refs.img.addEventListener("load",function(){t.translate(),t.listeners()},!1))},objHeight:function(){return this.$refs.img.naturalHeight},elOffsetTop:function(){return this.$el.offsetTop}},render:function(t){var e={staticClass:"parallax__image",style:this.styles,attrs:{src:this.src},ref:"img"};this.alt&&(e.attrs.alt=this.alt);var i=t("div",{staticClass:"parallax__image-container"},[t("img",e)]),n=t("div",{staticClass:"parallax__content"},this.$slots.default);return t("div",{staticClass:"parallax",style:{height:this.normalizedHeight+"px"},on:this.$listeners},[i,n])}}},function(t,e){},function(t,e,i){"use strict";e["a"]={name:"translatable",data:function(){return{parallax:null,parallaxDist:null,percentScrolled:null,scrollTop:null,windowHeight:null,windowBottom:null}},computed:{normalizedHeight:function(){return this.jumbotron?isNaN(this.height)?this.height:this.height+"px":Number(this.height.toString().replace(/(^[0-9]*$)/,"$1"))},imgHeight:function(){return this.objHeight()}},beforeDestroy:function(){window.removeEventListener("scroll",this.translate,!1),window.removeEventListener("resize",this.translate,!1)},methods:{listeners:function(){window.addEventListener("scroll",this.translate,!1),window.addEventListener("resize",this.translate,!1)},translate:function(){this.calcDimensions(),this.percentScrolled=(this.windowBottom-this.elOffsetTop)/(this.normalizedHeight+this.windowHeight),this.parallax=Math.round(this.parallaxDist*this.percentScrolled),this.translated&&this.translated()},calcDimensions:function(){var t=this.$el.getBoundingClientRect();this.scrollTop=window.pageYOffset,this.parallaxDist=this.imgHeight-this.normalizedHeight,this.elOffsetTop=t.top+this.scrollTop,this.windowHeight=window.innerHeight,this.windowBottom=this.scrollTop+this.windowHeight}}}},function(t,e,i){"use strict";var n=i(211),r=i(213);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(18),r=(i.n(n),i(29)),o=(i.n(r),i(212)),a=(i.n(o),i(19)),s=i(4);e["a"]={name:"v-radio-group",mixins:[a["a"],Object(s["b"])("radio")],model:{prop:"inputValue",event:"change"},provide:function(){var t=this;return{isMandatory:function(){return t.mandatory},name:function(){return t.name}}},data:function(){return{internalTabIndex:-1,radios:[]}},props:{column:{type:Boolean,default:!0},inputValue:null,mandatory:{type:Boolean,default:!0},name:String,row:Boolean},watch:{hasError:function(t){for(var e=this.radios.length;--e>=0;)this.radios[e].parentError=t},inputValue:function(t){for(var e=this.radios.length;--e>=0;){var i=this.radios[e];i.isActive=t===i.value}}},computed:{classes:function(){return{"radio-group":!0,"radio-group--column":this.column&&!this.row,"radio-group--row":this.row,"error--text":this.hasError}}},methods:{toggleRadio:function(t){var e=this;if(!this.disabled){this.shouldValidate=!0,this.$emit("change",t),this.$nextTick(function(){return e.validate()});for(var i=this.radios.length;--i>=0;){var n=this.radios[i];n.value!==t&&(n.isActive=!1)}}},radioBlur:function(t){t.relatedTarget&&t.relatedTarget.classList.contains("radio")||(this.shouldValidate=!0,this.$emit("blur",this.inputValue))},register:function(t){t.isActive=this.inputValue===t.value,t.$el.tabIndex=t.$el.tabIndex>0?t.$el.tabIndex:0,t.$on("change",this.toggleRadio),t.$on("blur",this.radioBlur),t.$on("focus",this.radioFocus),this.radios.push(t)},unregister:function(t){t.$off("change",this.toggleRadio),t.$off("blur",this.radioBlur),t.$off("focus",this.radioFocus);var e=this.radios.findIndex(function(e){return e===t});e>-1&&this.radios.splice(e,1)}},render:function(t){var e={attrs:{role:"radiogroup"}};return this.genInputGroup(this.$slots.default,e)}}},function(t,e){},function(t,e,i){"use strict";var n=i(7),r=i(3),o=i(0),a=i(21),s=i(214),l=i(1),u=i(4),c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e["a"]={name:"v-radio",inheritAttrs:!1,inject:["isMandatory","name"],mixins:[o["a"],a["a"],Object(u["a"])("radio","v-radio","v-radio-group"),s["a"],l["a"]],data:function(){return{defaultColor:"accent",isActive:!1,parentError:!1}},props:{disabled:Boolean,value:null,label:String},computed:{classes:function(){var t={"input-group":!0,"input-group--active":this.isActive,"input-group--disabled":this.disabled,"input-group--selection-controls":!0,"input-group--tab-focused":this.tabFocused,radio:!0,"theme--dark":this.dark,"theme--light":this.light};return this.parentError?t:this.addTextColorClassChecks(t)},icon:function(){return this.isActive?"radio_button_checked":"radio_button_unchecked"}},methods:{genInput:function(t){var e=["string","number"].includes(c(this.value))?this.value:JSON.stringify(this.value),i=this.$createElement("input",{ref:"input",style:{display:"none"},attrs:Object.assign({name:this.name&&this.name(),id:this.id,type:"radio",value:e},this.$attrs)},[e]);return t.push(i),this.$createElement("div",{class:"input-group__input"},t)},genWrapper:function(t){var e=this,i=[];return i.push(this.genLabel()),i.push(this.genInput(t)),this.$createElement("div",{class:this.classes,attrs:{role:"radio","aria-checked":this.isActive?"true":"false","aria-label":this.label},on:{keydown:function(t){[13,32].includes(t.keyCode)&&(t.preventDefault(),e.toggle())},blur:function(t){e.$emit("blur",t),e.tabFocused=!1}}},i)},genLabel:function(){return this.$createElement("label",{on:{click:this.toggle}},this.$slots.label||this.label)},toggle:function(){var t=!!this.isMandatory&&this.isMandatory();this.disabled||this.isActive&&t||(this.$refs.input.checked=!0,this.isActive=!0,this.$emit("change",this.value))}},mounted:function(){this.radio.register(this)},beforeDestroy:function(){this.radio.unregister(this)},render:function(t){var e=t(n["b"],{},[t(r["a"],{staticClass:"icon--selection-control",class:{"icon--radio":this.isActive},key:this.icon,on:Object.assign({click:this.toggle},this.$listeners)},this.icon)]),i=this.ripple?this.genRipple():null;return this.genWrapper([e,i])}}},function(t,e,i){"use strict";e["a"]={name:"tab-focusable",data:function(){return{tabFocused:!1}}}},function(t,e,i){"use strict";var n=i(216);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(217),r=(i.n(n),i(2)),o=i(0),a=i(19),s=i(8),l=i(7),u=i(5);e["a"]={name:"v-slider",mixins:[o["a"],a["a"]],directives:{ClickOutside:s["a"]},data:function(){return{app:{},defaultColor:"primary",isActive:!1,keyPressed:0}},props:{min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},ticks:Boolean,thumbColor:{type:String,default:null},thumbLabel:Boolean,trackColor:{type:String,default:null},value:[Number,String]},computed:{classes:function(){return{"input-group--slider":!0,"input-group--active":this.isActive,"input-group--dirty":this.inputWidth>0,"input-group--disabled":this.disabled,"input-group--ticks":!this.disabled&&this.stepNumeric&&this.ticks}},computedColor:function(){return this.disabled?null:this.color||this.defaultColor},computedTrackColor:function(){return this.disabled?null:this.trackColor||null},computedThumbColor:function(){return this.disabled||!this.inputWidth?null:this.thumbColor||this.color||this.defaultColor},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},inputValue:{get:function(){return this.value},set:function(t){var e=this.min,i=this.max;t=Math.min(Math.max(t,e),i);var n=this.roundValue(t);this.lazyValue=n,n!==this.value&&this.$emit("input",n)}},interval:function(){return 100/(this.max-this.min)*this.stepNumeric},thumbStyles:function(){return{transition:this.keyPressed>=2?"none":"",left:this.inputWidth+"%"}},tickContainerStyles:function(){return{transform:"translate(0, -50%)"}},trackPadding:function(){return this.thumbLabel&&this.isActive?0:6+(this.isActive&&!this.disabled?3:0)},trackStyles:function(){return{transition:this.keyPressed>=2?"none":"",left:"calc("+this.inputWidth+"% + "+this.trackPadding+"px)",width:"calc("+(100-this.inputWidth)+"% - "+this.trackPadding+"px)"}},trackFillStyles:function(){return{transition:this.keyPressed>=2?"none":"",width:"calc("+this.inputWidth+"% - "+this.trackPadding+"px)"}},numTicks:function(){return Math.ceil((this.max-this.min)/this.stepNumeric)},inputWidth:function(){return(this.roundValue(this.inputValue)-this.min)/(this.max-this.min)*100}},watch:{isActive:function(t){this.isFocused=t},min:function(t){t>this.inputValue&&this.$emit("input",parseFloat(t))},max:function(t){t<this.inputValue&&this.$emit("input",parseFloat(t))},value:function(t){this.inputValue=parseFloat(t)}},mounted:function(){this.inputValue=this.value,this.app=document.querySelector("[data-app]")||Object(u["b"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{onMouseDown:function(t){this.keyPressed=2;var e={passive:!0};this.isActive=!0,"touches"in t?(this.app.addEventListener("touchmove",this.onMouseMove,e),Object(r["a"])(this.app,"touchend",this.onMouseUp)):(this.app.addEventListener("mousemove",this.onMouseMove,e),Object(r["a"])(this.app,"mouseup",this.onMouseUp))},onMouseUp:function(){this.keyPressed=0;var t={passive:!0};this.isActive=!1,this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t)},onMouseMove:function(t){var e=this.$refs.track.getBoundingClientRect(),i=e.left,n=e.width,r="touches"in t?t.touches[0].clientX:t.clientX,o=Math.min(Math.max((r-i)/n,0),1);r>=i-8&&r<=i+n+8&&(this.inputValue=parseFloat(this.min)+o*(this.max-this.min))},onKeyDown:function(t){if(!this.disabled&&[33,34,35,36,37,39].includes(t.keyCode)){t.preventDefault();var e=this.stepNumeric||1,i=(this.max-this.min)/e;if(37===t.keyCode||39===t.keyCode){this.keyPressed+=1;var n=37===t.keyCode?-1:1,r=t.shiftKey?3:t.ctrlKey?2:1;this.inputValue=this.inputValue+n*e*r}else if(36===t.keyCode)this.inputValue=parseFloat(this.min);else if(35===t.keyCode)this.inputValue=parseFloat(this.max);else{var o=34===t.keyCode?-1:1;this.inputValue=this.inputValue-o*e*(i>100?i/10:10)}}},onKeyUp:function(t){this.keyPressed=0},sliderMove:function(t){this.isActive||this.onMouseMove(t)},genThumbLabel:function(t){return t(l["c"],{props:{origin:"bottom center"}},[t("div",{staticClass:"slider__thumb--label__container",directives:[{name:"show",value:this.isActive}]},[t("div",{staticClass:"slider__thumb--label",class:this.addBackgroundColorClassChecks({},this.computedThumbColor)},[t("span",{},this.inputValue)])])])},roundValue:function(t){if(!this.stepNumeric)return t;var e=this.step.toString().trim(),i=e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0;return 1*(Math.round(t/this.stepNumeric)*this.stepNumeric).toFixed(i)},genThumbContainer:function(t){var e=[];return e.push(t("div",{staticClass:"slider__thumb",class:this.addBackgroundColorClassChecks({},this.computedThumbColor)})),this.thumbLabel&&e.push(this.genThumbLabel(t)),t("div",{staticClass:"slider__thumb-container",class:{"slider__thumb-container--label":this.thumbLabel},style:this.thumbStyles,on:{touchstart:this.onMouseDown,mousedown:this.onMouseDown},ref:"thumb"},e)},genSteps:function(t){var e=this,i=Object(r["c"])(this.numTicks+1).map(function(i){var n=t("span",{key:i,staticClass:"slider__tick",style:{left:i*(100/e.numTicks)+"%"}});return n});return t("div",{staticClass:"slider__ticks-container",style:this.tickContainerStyles},i)},genTrackContainer:function(t){var e=[t("div",{staticClass:"slider__track",class:this.addBackgroundColorClassChecks({},this.computedTrackColor),style:this.trackStyles}),t("div",{staticClass:"slider__track-fill",class:this.addBackgroundColorClassChecks(),style:this.trackFillStyles})];return t("div",{staticClass:"slider__track__container",ref:"track"},e)}},render:function(t){var e=this,i=[];i.push(this.genTrackContainer(t)),this.step&&this.ticks&&i.push(this.genSteps(t)),i.push(this.genThumbContainer(t));var n=t("div",{staticClass:"slider"},i);return this.genInputGroup([n],{attrs:{role:"slider",tabindex:this.disabled?-1:this.tabindex},on:Object.assign({},{mouseup:this.sliderMove,keydown:this.onKeyDown,keyup:this.onKeyUp},this.$listeners),directives:[{name:"click-outside",value:function(){return e.isActive=!1}}]})}}},function(t,e){},function(t,e,i){"use strict";var n=i(219);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(220),r=(i.n(n),i(0)),o=i(6),a=i(12);e["a"]={name:"v-snackbar",mixins:[r["a"],o["a"],Object(a["b"])(["absolute","top","bottom","left","right"])],data:function(){return{activeTimeout:{}}},props:{autoHeight:Boolean,multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},computed:{classes:function(){return{"snack--active":this.isActive,"snack--absolute":this.absolute,"snack--auto-height":this.autoHeight,"snack--bottom":this.bottom||!this.top,"snack--left":this.left,"snack--multi-line":this.multiLine&&!this.vertical,"snack--right":this.right,"snack--top":this.top,"snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},methods:{setTimeout:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=this;clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=setTimeout(function(){t.isActive=!1},this.timeout))})},mounted:function(){this.setTimeout()},render:function(t){var e=[];return this.isActive&&e.push(t("div",{staticClass:"snack",class:this.classes,on:this.$listeners},[t("div",{staticClass:"snack__wrapper",class:this.addBackgroundColorClassChecks()},[t("div",{staticClass:"snack__content"},this.$slots.default)])])),t("transition",{attrs:{name:"snack-transition"}},e)}}},function(t,e){},function(t,e,i){"use strict";var n=i(222);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(223),r=(i.n(n),i(6)),o=i(12),a=i(24),s=i(8);function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-speed-dial",mixins:[o["a"],r["a"],a["a"]],directives:{ClickOutside:s["a"]},props:{direction:{type:String,default:"top",validator:function(t){return["top","right","bottom","left"].includes(t)}},openOnHover:Boolean,transition:{type:String,default:"scale-transition"}},computed:{classes:function(){return l({"speed-dial":!0,"speed-dial--top":this.top,"speed-dial--right":this.right,"speed-dial--bottom":this.bottom,"speed-dial--left":this.left,"speed-dial--absolute":this.absolute,"speed-dial--fixed":this.fixed},"speed-dial--direction-"+this.direction,!0)}},render:function(t){var e=this,i=[],n={class:this.classes,directives:[{name:"click-outside",value:function(){return e.isActive=!1}}],on:{click:function(){return e.isActive=!e.isActive}}};this.openOnHover&&(n.on.mouseenter=function(){return e.isActive=!0},n.on.mouseleave=function(){return e.isActive=!1}),this.isActive&&(i=(this.$slots.default||[]).map(function(t,e){return t.key=e,t}));var r=t("transition-group",{class:"speed-dial__list",props:{name:this.transition,mode:this.mode,origin:this.origin,tag:"div"}},i);return t("div",n,[this.$slots.activator,r])}}},function(t,e){},function(t,e,i){"use strict";var n=i(2),r=i(225),o=i(227),a=i(228),s=Object(n["d"])("stepper__header"),l=Object(n["d"])("stepper__items");r["a"].install=function(t){t.component(r["a"].name,r["a"]),t.component(a["a"].name,a["a"]),t.component(o["a"].name,o["a"]),t.component(s.name,s),t.component(l.name,l)},e["a"]=r["a"]},function(t,e,i){"use strict";var n=i(226),r=(i.n(n),i(1));e["a"]={name:"v-stepper",mixins:[r["a"]],provide:function(){return{stepClick:this.stepClick}},data:function(){return{inputValue:null,isBooted:!1,steps:[],content:[],isReverse:!1}},props:{nonLinear:Boolean,altLabels:Boolean,vertical:Boolean,value:[Number,String]},computed:{classes:function(){return{stepper:!0,"stepper--is-booted":this.isBooted,"stepper--vertical":this.vertical,"stepper--alt-labels":this.altLabels,"stepper--non-linear":this.nonLinear,"theme--dark":this.dark,"theme--light":this.light}}},watch:{inputValue:function(t,e){this.isReverse=Number(t)<Number(e);for(var i=this.steps.length;--i>=0;)this.steps[i].toggle(this.inputValue);for(var n=this.content.length;--n>=0;)this.content[n].toggle(this.inputValue,this.isReverse);this.$emit("input",this.inputValue),e&&(this.isBooted=!0)},value:function(){var t=this;this.getSteps(),this.$nextTick(function(){return t.inputValue=t.value})}},mounted:function(){this.getSteps(),this.inputValue=this.value||this.steps[0].step||1},methods:{getSteps:function(){this.steps=[],this.content=[];for(var t=0;t<this.$children.length;t++){var e=this.$children[t];"v-stepper-step"===e.$options._componentTag?this.steps.push(e):"v-stepper-content"===e.$options._componentTag&&(e.isVertical=this.vertical,this.content.push(e))}},stepClick:function(t){var e=this;this.getSteps(),this.$nextTick(function(){return e.inputValue=t})}},render:function(t){return t("div",{class:this.classes},this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(3),r=i(17);e["a"]={name:"v-stepper-step",directives:{Ripple:r["a"]},inject:["stepClick"],data:function(){return{isActive:!1,isInactive:!0}},props:{complete:Boolean,completeIcon:{type:String,default:"check"},editIcon:{type:String,default:"edit"},errorIcon:{type:String,default:"warning"},editable:Boolean,rules:{type:Array,default:function(){return[]}},step:[Number,String]},computed:{classes:function(){return{stepper__step:!0,"stepper__step--active":this.isActive,"stepper__step--editable":this.editable,"stepper__step--inactive":this.isInactive,"stepper__step--error":this.hasError,"stepper__step--complete":this.complete,"error--text":this.hasError}},hasError:function(){return this.rules.some(function(t){return!0!==t()})}},methods:{click:function(t){t.stopPropagation(),this.editable&&this.stepClick(this.step)},toggle:function(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render:function(t){var e={class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},i=void 0;i=this.hasError?[t(n["a"],{},this.errorIcon)]:this.complete?this.editable?[t(n["a"],{},this.editIcon)]:[t(n["a"],{},this.completeIcon)]:this.step;var r=t("span",{staticClass:"stepper__step__step",class:{primary:!this.hasError&&(this.complete||this.isActive)}},i),o=t("div",{staticClass:"stepper__label"},this.$slots.default);return t("div",e,[r,o])}}},function(t,e,i){"use strict";var n=i(7);e["a"]={name:"v-stepper-content",data:function(){return{height:0,isActive:null,isReverse:!1,isVertical:!1}},props:{step:{type:[Number,String],required:!0}},computed:{classes:function(){return{stepper__content:!0}},computedTransition:function(){return this.isReverse?n["e"]:n["f"]},styles:function(){return this.isVertical?{height:isNaN(this.height)?this.height:this.height+"px"}:{}},wrapperClasses:function(){return{stepper__wrapper:!0}}},watch:{isActive:function(t,e){if(t&&null==e)return this.height="auto";this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted:function(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1)},beforeDestroy:function(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1)},methods:{onTransition:function(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter:function(){var t=this,e=0;requestAnimationFrame(function(){e=t.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(function(){return t.height=e||"auto"},450)},leave:function(){var t=this;this.height=this.$refs.wrapper.clientHeight,setTimeout(function(){return t.height=0},10)},toggle:function(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render:function(t){var e={class:this.classes},i={class:this.wrapperClasses,style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);var n=t("div",i,[this.$slots.default]),r=t("div",e,[n]);return t(this.computedTransition,{on:this.$listeners},[r])}}},function(t,e,i){"use strict";var n=i(230);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(18),r=(i.n(n),i(29)),o=(i.n(r),i(231)),a=(i.n(o),i(21)),s=i(42),l=i(9);e["a"]={name:"v-switch",mixins:[a["a"],s["a"]],directives:{Touch:l["a"]},computed:{classes:function(){var t={"input-group--selection-controls switch":!0};return this.hasError?(t["error--text"]=!0,t):this.addTextColorClassChecks(t)},rippleClasses:function(){return{"input-group--selection-controls__ripple":!0,"input-group--selection-controls__ripple--active":this.isActive}},containerClasses:function(){return{"input-group--selection-controls__container":!0,"input-group--selection-controls__container--light":this.light,"input-group--selection-controls__container--disabled":this.disabled}},toggleClasses:function(){return{"input-group--selection-controls__toggle":!0,"input-group--selection-controls__toggle--active":this.isActive}}},methods:{onSwipeLeft:function(){this.isActive&&this.toggle()},onSwipeRight:function(){this.isActive||this.toggle()}},render:function(t){var e=t("div",{class:this.containerClasses},[t("div",{class:this.toggleClasses}),this.genRipple({directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})]);return this.genInputGroup([e])}}},function(t,e){},function(t,e,i){"use strict";var n=i(233);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(234),r=(i.n(n),i(15)),o=i(0),a=i(1);e["a"]={name:"v-system-bar",mixins:[Object(r["a"])("bar",["height","window"]),o["a"],a["a"]],props:{height:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},lightsOut:Boolean,status:Boolean,window:Boolean},computed:{classes:function(){return this.addBackgroundColorClassChecks(Object.assign({"system-bar--lights-out":this.lightsOut,"system-bar--absolute":this.absolute,"system-bar--fixed":!this.absolute&&(this.app||this.fixed),"system-bar--status":this.status,"system-bar--window":this.window},this.themeClasses))},computedHeight:function(){return this.height?parseInt(this.height):this.window?32:24}},methods:{updateApplication:function(){return this.computedHeight}},render:function(t){var e={staticClass:"system-bar",class:this.classes,style:{height:this.computedHeight+"px"}};return t("div",e,this.$slots.default)}}},function(t,e){},function(t,e,i){"use strict";var n=i(236),r=i(243),o=i(67),a=i(244),s=i(68);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"]),t.component(a["a"].name,a["a"]),t.component(s["a"].name,s["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(237),r=(i.n(n),i(238)),o=i(239),a=i(240),s=i(241),l=i(242),u=i(0),c=i(23),h=i(1),p=i(4),d=i(11),f=i(9);e["a"]={name:"v-tabs",mixins:[Object(p["b"])("tabs"),u["a"],c["a"],r["a"],a["a"],o["a"],s["a"],l["a"],h["a"]],directives:{Resize:d["a"],Touch:f["a"]},provide:function(){return{tabClick:this.tabClick,tabProxy:this.tabProxy,registerItems:this.registerItems,unregisterItems:this.unregisterItems}},data:function(){return{bar:[],content:[],isBooted:!1,isOverflowing:!1,lazyValue:this.value,nextIconVisible:!1,prevIconVisible:!1,resizeTimeout:null,reverse:!1,scrollOffset:0,sliderWidth:null,sliderLeft:null,startX:0,tabsContainer:null,tabs:[],tabItems:null,transitionTime:300,widths:{bar:0,container:0,wrapper:0}}},watch:{tabs:"onResize"},mounted:function(){this.checkIcons()},methods:{checkIcons:function(){this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon()},checkPrevIcon:function(){return this.scrollOffset>0},checkNextIcon:function(){return this.widths.container>this.scrollOffset+this.widths.wrapper},callSlider:function(){var t=this;if(this.setWidths(),this.hideSlider||!this.activeTab)return!1;var e=(this.activeTab||{}).action,i=e===this.activeTab?this.activeTab:this.tabs.find(function(t){return t.action===e});this.$nextTick(function(){i&&i.$el&&(t.sliderWidth=i.$el.scrollWidth,t.sliderLeft=i.$el.offsetLeft)})},onResize:function(){var t=this;this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.callSlider(),t.checkIcons(),t.scrollIntoView()},this.transitionTime))},overflowCheck:function(t,e){this.isOverflowing&&e(t)},scrollTo:function(t){this.scrollOffset=this.newOffset(t)},setOverflow:function(){this.isOverflowing=this.widths.bar<this.widths.container},setWidths:function(){var t=this.$refs.bar?this.$refs.bar.clientWidth:0,e=this.$refs.container?this.$refs.container.clientWidth:0,i=this.$refs.wrapper?this.$refs.wrapper.clientWidth:0;this.widths={bar:t,container:e,wrapper:i},this.setOverflow()},findActiveLink:function(){var t=this;if(this.tabs.length&&!this.lazyValue){var e=this.tabs.findIndex(function(e,i){var n=e.action===e?i.toString():e.action;return n===t.lazyValue||e.$el.firstChild.className.indexOf(t.activeClass)>-1}),i=e>-1?e:0,n=this.tabs[i];this.inputValue=n.action===n?i:n.action}},parseNodes:function(){for(var t=[],e=[],i=[],n=[],r=(this.$slots.default||[]).length,o=0;o<r;o++){var a=this.$slots.default[o];if(a.componentOptions)switch(a.componentOptions.Ctor.options.name){case"v-tabs-slider":i.push(a);break;case"v-tabs-items":e.push(a);break;case"v-tab-item":t.push(a);break;default:n.push(a)}else n.push(a)}return{tab:n,slider:i,items:e,item:t}},register:function(t){this.tabs.push(t)},scrollIntoView:function(){if(!this.activeTab)return!1;var t=this.activeTab.$el,e=t.clientWidth,i=t.offsetLeft,n=this.widths.wrapper+this.scrollOffset,r=e+i,o=.3*e;i<this.scrollOffset?this.scrollOffset=Math.max(i-o,0):n<r&&(this.scrollOffset-=n-r-o)},tabClick:function(t){this.inputValue=t.action===t?this.tabs.indexOf(t):t.action,this.scrollIntoView()},tabProxy:function(t){this.lazyValue=t},registerItems:function(t){this.tabItems=t},unregisterItems:function(){this.tabItems=null},unregister:function(t){this.tabs=this.tabs.filter(function(e){return e!==t})},updateTabs:function(){for(var t=this.tabs.length;--t>=0;)this.tabs[t].toggle(this.target);this.setOverflow()}},render:function(t){var e=this.parseNodes(),i=e.tab,n=e.slider,r=e.items,o=e.item;return t("div",{staticClass:"tabs",directives:[{name:"resize",arg:400,modifiers:{quiet:!0},value:this.onResize}]},[this.genBar([this.hideSlider?null:this.genSlider(n),i]),this.genItems(r,o)])}}},function(t,e){},function(t,e,i){"use strict";e["a"]={computed:{activeIndex:function(){var t=this;return this.tabs.findIndex(function(e,i){var n=e.action===e?i.toString():e.action;return n===t.lazyValue})},activeTab:function(){if(this.tabs.length)return this.tabs[this.activeIndex]},containerStyles:function(){return this.height?{height:parseInt(this.height,10)+"px"}:null},hasArrows:function(){return(this.showArrows||!this.isMobile)&&this.isOverflowing},inputValue:{get:function(){return this.lazyValue},set:function(t){t=t.toString(),this.lazyValue=t,this.$emit("input",t)}},isMobile:function(){return this.$vuetify.breakpoint.width<this.mobileBreakPoint},sliderStyles:function(){return{left:this.sliderLeft+"px",transition:null!=this.sliderLeft?null:"none",width:this.sliderWidth+"px"}},target:function(){return this.activeTab?this.activeTab.action:null}}}},function(t,e,i){"use strict";var n=i(67),r=i(68),o=i(3);e["a"]={methods:{genBar:function(t){return this.$createElement("div",{staticClass:"tabs__bar",class:this.addBackgroundColorClassChecks({"theme--dark":this.dark,"theme--light":this.light}),ref:"bar"},[this.genTransition("prev"),this.genWrapper(this.genContainer(t)),this.genTransition("next")])},genContainer:function(t){return this.$createElement("div",{staticClass:"tabs__container",class:{"tabs__container--align-with-title":this.alignWithTitle,"tabs__container--centered":this.centered,"tabs__container--fixed-tabs":this.fixedTabs,"tabs__container--grow":this.grow,"tabs__container--icons-and-text":this.iconsAndText,"tabs__container--overflow":this.isOverflowing,"tabs__container--right":this.right},style:this.containerStyles,ref:"container"},t)},genIcon:function(t){var e=this;return this.hasArrows&&this[t+"IconVisible"]?this.$createElement(o["a"],{staticClass:"tabs__icon tabs__icon--"+t,props:{disabled:!this[t+"IconVisible"]},on:{click:function(){return e.scrollTo(t)}}},this[t+"Icon"]):null},genItems:function(t,e){return t.length>0?t:e.length?this.$createElement(n["a"],e):null},genTransition:function(t){return this.$createElement("transition",{props:{name:"fade-transition"}},[this.genIcon(t)])},genWrapper:function(t){var e=this;return this.$createElement("div",{staticClass:"tabs__wrapper",class:{"tabs__wrapper--show-arrows":this.hasArrows},ref:"wrapper",directives:[{name:"touch",value:{start:function(t){return e.overflowCheck(t,e.onTouchStart)},move:function(t){return e.overflowCheck(t,e.onTouchMove)},end:function(t){return e.overflowCheck(t,e.onTouchEnd)}}}]},[t])},genSlider:function(t){return t.length||(t=[this.$createElement(r["a"],{props:{color:this.sliderColor}})]),this.$createElement("div",{staticClass:"tabs__slider-wrapper",style:this.sliderStyles},t)}}}},function(t,e,i){"use strict";e["a"]={props:{alignWithTitle:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0,validator:function(t){return!isNaN(parseInt(t))}},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakPoint:{type:[Number,String],default:1264,validator:function(t){return!isNaN(parseInt(t))}},nextIcon:{type:String,default:"chevron_right"},prevIcon:{type:String,default:"chevron_left"},right:Boolean,showArrows:Boolean,sliderColor:{type:String,default:"accent"},value:[Number,String]}}},function(t,e,i){"use strict";e["a"]={methods:{newOffset:function(t){var e=this.$refs.wrapper.clientWidth;return"prev"===t?Math.max(this.scrollOffset-e,0):Math.min(this.scrollOffset+e,this.$refs.container.clientWidth-e)},onTouchStart:function(t){this.startX=this.scrollOffset+t.touchstartX,this.$refs.container.style.transition="none",this.$refs.container.style.willChange="transform"},onTouchMove:function(t){this.scrollOffset=this.startX-t.touchmoveX},onTouchEnd:function(){var t=this.$refs.container,e=this.$refs.wrapper,i=t.clientWidth-e.clientWidth;t.style.transition=null,t.style.willChange=null,this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=i&&(this.scrollOffset=i)}}}},function(t,e,i){"use strict";e["a"]={watch:{activeTab:function(t,e){if(!e&&t&&this.updateTabs(),setTimeout(this.callSlider,0),t){var i=t.action;this.tabItems&&this.tabItems(i===t?this.tabs.indexOf(t).toString():i)}},alignWithTitle:"callSlider",centered:"callSlider",fixedTabs:"callSlider",hasArrows:function(t){t||(this.scrollOffset=0)},isBooted:"findActiveLink",lazyValue:"updateTabs",right:"callSlider",value:function(t){this.lazyValue=t},"$vuetify.application.left":"onResize","$vuetify.application.right":"onResize",scrollOffset:function(t){this.$refs.container.style.transform="translateX("+-t+"px)",this.hasArrows&&(this.prevIconVisible=this.checkPrevIcon(),this.nextIconVisible=this.checkNextIcon())}}}},function(t,e,i){"use strict";var n=i(13),r=i(4),o=i(2);function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-tab",mixins:[Object(r["a"])("tabs","v-tab","v-tabs"),n["a"]],inject:["tabClick"],data:function(){return{isActive:!1}},props:{activeClass:{type:String,default:"tabs__item--active"},ripple:{type:[Boolean,Object],default:!0}},computed:{classes:function(){return a({tabs__item:!0,"tabs__item--disabled":this.disabled},this.activeClass,!this.to&&this.isActive)},action:function(){var t=this.to||this.href;if(this.$router&&this.to===Object(this.to)){var e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return"string"===typeof t?t.replace("#",""):this}},watch:{$route:"onRouteChange"},mounted:function(){this.tabs.register(this),this.onRouteChange()},beforeDestroy:function(){this.tabs.unregister(this)},methods:{click:function(t){this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),this.$emit("click",t),this.to||this.tabClick(this)},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link){var e="_vnode.data.class."+this.activeClass;this.$nextTick(function(){Object(o["h"])(t.$refs.link,e)&&t.tabClick(t)})}},toggle:function(t){this.isActive=t===this||t===this.action}},render:function(t){var e=this.generateRouteLink(),i=e.data,n=this.disabled?"div":e.tag;return i.ref="link",t("div",{staticClass:"tabs__div"},[t(n,i,this.$slots.default)])}}},function(t,e,i){"use strict";var n=i(16),r=i(7),o=i(4),a=i(9);e["a"]={name:"v-tab-item",mixins:[n["a"],Object(o["a"])("tabs","v-tab-item","v-tabs-items")],components:{VTabTransition:r["f"],VTabReverseTransition:r["e"]},directives:{Touch:a["a"]},data:function(){return{isActive:!1,reverse:!1}},props:{id:String,transition:{type:[Boolean,String],default:"tab-transition"},reverseTransition:{type:[Boolean,String],default:"tab-reverse-transition"}},computed:{computedTransition:function(){return this.reverse?this.reverseTransition:this.transition}},methods:{toggle:function(t,e,i,n){this.$el.style.transition=i?null:"none",this.reverse=e,this.isActive=(this.id||n.toString())===t}},mounted:function(){this.tabs.register(this)},beforeDestroy:function(){this.tabs.unregister(this)},render:function(t){var e={staticClass:"tabs__content",directives:[{name:"show",value:this.isActive}],domProps:{id:this.id},on:this.$listeners},i=t("div",e,this.showLazyContent(this.$slots.default));return this.computedTransition?t("transition",{props:{name:this.computedTransition}},[i]):i}}},function(t,e,i){"use strict";var n=i(246);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(18),r=(i.n(n),i(48)),o=(i.n(r),i(0)),a=i(19),s=i(50),l=i(51),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},c=["color","file","time","date","datetime-local","week","month"];e["a"]={name:"v-text-field",mixins:[o["a"],a["a"],s["a"],l["a"]],inheritAttrs:!1,data:function(){return{initialValue:null,inputHeight:null,internalChange:!1,badInput:!1}},props:{autofocus:Boolean,autoGrow:Boolean,box:Boolean,clearable:Boolean,color:{type:String,default:"primary"},counter:[Boolean,Number,String],fullWidth:Boolean,multiLine:Boolean,noResize:Boolean,placeholder:String,prefix:String,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}},singleLine:Boolean,suffix:String,textarea:Boolean,type:{type:String,default:"text"}},computed:{classes:function(){var t=u({},this.genSoloClasses(),{"input-group--text-field":!0,"input-group--text-field-box":this.box,"input-group--single-line":this.singleLine||this.isSolo,"input-group--multi-line":this.multiLine,"input-group--full-width":this.fullWidth,"input-group--no-resize":this.noResizeHandle,"input-group--prefix":this.prefix,"input-group--suffix":this.suffix,"input-group--textarea":this.textarea});return this.hasError?(t["error--text"]=!0,t):this.addTextColorClassChecks(t)},count:function(){var t=void 0;return t=this.inputValue?this.inputValue.toString().length:0,t+" / "+this.counterLength},counterLength:function(){var t=parseInt(this.counter,10);return isNaN(t)?25:t},inputValue:{get:function(){return this.lazyValue},set:function(t){this.mask?(this.lazyValue=this.unmaskText(this.maskText(this.unmaskText(t))),this.setSelectionRange()):(this.lazyValue=t,this.$emit("input",this.lazyValue))}},isDirty:function(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput||c.includes(this.type)},isTextarea:function(){return this.multiLine||this.textarea},noResizeHandle:function(){return this.isTextarea&&(this.noResize||this.shouldAutoGrow)},shouldAutoGrow:function(){return this.isTextarea&&this.autoGrow}},watch:{isFocused:function(t){t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},value:function(t){var e=this;if(this.mask&&!this.internalChange){var i=this.maskText(this.unmaskText(t));this.lazyValue=this.unmaskText(i),String(t)!==this.lazyValue&&this.$nextTick(function(){e.$refs.input.value=i,e.$emit("input",e.lazyValue)})}else this.lazyValue=t;this.internalChange&&(this.internalChange=!1),!this.validateOnBlur&&this.validate(),this.shouldAutoGrow&&this.calculateInputHeight()}},mounted:function(){this.shouldAutoGrow&&this.calculateInputHeight(),this.autofocus&&this.focus()},methods:{calculateInputHeight:function(){var t=this;this.inputHeight=null,this.$nextTick(function(){var e=t.$refs.input?t.$refs.input.scrollHeight:0,i=parseInt(t.rows,10)*parseFloat(t.rowHeight);t.inputHeight=Math.max(i,e)})},onInput:function(t){this.mask&&this.resetSelections(t.target),this.inputValue=t.target.value,this.badInput=t.target.validity&&t.target.validity.badInput,this.shouldAutoGrow&&this.calculateInputHeight()},blur:function(t){var e=this;this.isFocused=!1,this.internalChange=!1,this.$nextTick(function(){e.validate()}),this.$emit("blur",t)},focus:function(t){this.$refs.input&&(this.isFocused=!0,document.activeElement!==this.$refs.input&&this.$refs.input.focus(),this.$emit("focus",t))},keyDown:function(t){this.isTextarea&&this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.internalChange=!0},genCounter:function(){return this.$createElement("div",{class:{"input-group__counter":!0,"input-group__counter--error":this.hasError}},this.count)},genInput:function(){var t=this.isTextarea?"textarea":"input",e=Object.assign({},this.$listeners);delete e["change"];var i={style:{},domProps:{value:this.maskText(this.lazyValue)},attrs:u({},this.$attrs,{autofocus:this.autofocus,disabled:this.disabled,required:this.required,readonly:this.readonly,tabindex:this.tabindex,"aria-label":(!this.$attrs||!this.$attrs.id)&&this.label}),on:Object.assign(e,{blur:this.blur,input:this.onInput,focus:this.focus,keydown:this.keyDown}),ref:"input"};this.shouldAutoGrow&&(i.style.height=this.inputHeight&&this.inputHeight+"px"),this.placeholder&&(i.attrs.placeholder=this.placeholder),this.isTextarea?i.attrs.rows=this.rows:i.attrs.type=this.type,this.mask&&(i.attrs.maxlength=this.masked.length);var n=[this.$createElement(t,i)];return this.prefix&&n.unshift(this.genFix("prefix")),this.suffix&&n.push(this.genFix("suffix")),n},genFix:function(t){return this.$createElement("span",{class:"input-group--text-field__"+t},this[t])},clearableCallback:function(){var t=this;this.inputValue=null,this.$nextTick(function(){return t.$refs.input.focus()})}},render:function(){return this.genInputGroup(this.genInput(),{attrs:{tabindex:!1}})}}},function(t,e,i){"use strict";var n=i(248),r=i(70),o=i(69);n["a"].install=function(t){t.component(n["a"].name,n["a"]),t.component(r["a"].name,r["a"]),t.component(o["a"].name,o["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(69),r=i(70),o=i(65),a=i(2),s=i(22),l=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)if(i.push(a.value),e&&i.length===e)break}catch(t){r=!0,o=t}finally{try{!n&&s["return"]&&s["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object(a["c"])(24),c=Object(a["c"])(12),h=c.map(function(t){return t+12}),p=Object(a["c"])(60);e["a"]={name:"v-time-picker",mixins:[o["a"]],data:function(){return{inputHour:null,inputMinute:null,period:"am",selectingHour:!0}},props:{allowedHours:Function,allowedMinutes:Function,format:{type:String,default:"ampm",validator:function(t){return["ampm","24hr"].includes(t)}},min:String,max:String,scrollable:Boolean,value:null},computed:{isAllowedHourCb:function(){var t=this;if(!this.min&&!this.max)return this.allowedHours;var e=this.min?this.min.split(":")[0]:0,i=this.max?this.max.split(":")[0]:23;return function(n){return n>=1*e&&n<=1*i&&(!t.allowedHours||t.allowedHours(n))}},isAllowedMinuteCb:function(){var t=this,e=!this.allowedHours||this.allowedHours(this.inputHour);if(!this.min&&!this.max)return e?this.allowedMinutes:function(){return!1};var i=this.min?this.min.split(":"):[0,0],n=l(i,2),r=n[0],o=n[1],a=this.max?this.max.split(":"):[23,59],s=l(a,2),u=s[0],c=s[1],h=60*r+1*o,p=60*u+1*c;return function(i){var n=60*t.inputHour+i;return n>=h&&n<=p&&e&&(!t.allowedMinutes||t.allowedMinutes(i))}},isAmPm:function(){return"ampm"===this.format}},watch:{value:"setInputData"},methods:{emitValue:function(){null!=this.inputHour&&null!=this.inputMinute&&this.$emit("input",Object(s["a"])(this.inputHour)+":"+Object(s["a"])(this.inputMinute))},setPeriod:function(t){if(this.period=t,null!=this.inputHour){var e=this.inputHour+("am"===t?-12:12);this.inputHour=this.firstAllowed("hour",e),this.emitValue()}},setInputData:function(t){if(null==t)return this.inputHour=null,void(this.inputMinute=null);if(t instanceof Date)this.inputHour=t.getHours(),this.inputMinute=t.getMinutes();else{var e=t.trim().toLowerCase().match(/^(\d+):(\d+)(:\d+)?([ap]m)?$/,"")||[],i=l(e,5),n=i[1],r=i[2],o=i[4];this.inputHour=o?this.convert12to24(parseInt(n,10),o):parseInt(n,10),this.inputMinute=parseInt(r,10)}this.period=this.inputHour<12?"am":"pm"},convert24to12:function(t){return t?(t-1)%12+1:12},convert12to24:function(t,e){return t%12+("pm"===e?12:0)},onInput:function(t){this.selectingHour?this.inputHour=this.isAmPm?this.convert12to24(t,this.period):t:this.inputMinute=t,this.emitValue()},onChange:function(){this.selectingHour||this.$emit("change",this.value),this.selectingHour=!this.selectingHour},firstAllowed:function(t,e){var i="hour"===t?this.isAllowedHourCb:this.isAllowedMinuteCb;if(!i)return e;var n="minute"===t?p:this.isAmPm?e<12?c:h:u,r=n.find(function(t){return i((t+e)%n.length+n[0])});return((r||0)+e)%n.length+n[0]},genClock:function(){return this.$createElement(r["a"],{props:{allowedValues:this.selectingHour?this.isAllowedHourCb:this.isAllowedMinuteCb,color:this.color,dark:this.dark,double:this.selectingHour&&!this.isAmPm,format:this.selectingHour?this.isAmPm?this.convert24to12:function(t){return t}:function(t){return Object(s["a"])(t,2)},max:this.selectingHour?this.isAmPm&&"am"===this.period?11:23:59,min:this.selectingHour&&this.isAmPm&&"pm"===this.period?12:0,scrollable:this.scrollable,size:this.width-(!this.fullWidth&&this.landscape?80:20),step:this.selectingHour?1:5,value:this.selectingHour?this.inputHour:this.inputMinute},on:{input:this.onInput,change:this.onChange},ref:"clock"})},genPickerBody:function(){return this.$createElement("div",{staticClass:"time-picker-clock__container",style:{width:this.width+"px",height:this.width-(!this.fullWidth&&this.landscape?60:0)+"px"},key:this.selectingHour},[this.genClock()])},genPickerTitle:function(){var t=this;return this.$createElement(n["a"],{props:{ampm:this.isAmPm,hour:this.inputHour,minute:this.inputMinute,period:this.period,selectingHour:this.selectingHour},on:{"update:selectingHour":function(e){return t.selectingHour=e},"update:period":this.setPeriod},ref:"title",slot:"title"})}},mounted:function(){this.setInputData(this.value)},render:function(t){return this.genPicker("picker--time")}}},function(t,e){},function(t,e){},function(t,e,i){"use strict";var n=i(2),r=i(252),o=i(254),a=Object(n["d"])("toolbar__title"),s=Object(n["d"])("toolbar__items");r["a"].install=function(t){t.component(r["a"].name,r["a"]),t.component(s.name,s),t.component(a.name,a),t.component(o["a"].name,o["a"])},e["a"]=r["a"]},function(t,e,i){"use strict";var n=i(253),r=(i.n(n),i(15)),o=i(0),a=i(1),s=i(23),l=i(71);e["a"]={name:"v-toolbar",mixins:[Object(r["a"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","manualScroll"]),o["a"],s["a"],a["a"]],directives:{Scroll:l["a"]},data:function(){return{activeTimeout:null,currentScroll:0,heights:{mobileLandscape:48,mobile:56,desktop:64,dense:48},isActive:!0,isExtended:!1,isScrollingUp:!1,previousScroll:null,previousScrollDirection:null,savedScroll:0,target:null}},props:{card:Boolean,clippedLeft:Boolean,clippedRight:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},flat:Boolean,floating:Boolean,height:{type:[Number,String],validator:function(t){return!isNaN(parseInt(t))}},invertedScroll:Boolean,manualScroll:Boolean,prominent:Boolean,scrollOffScreen:Boolean,scrollTarget:String,scrollThreshold:{type:Number,default:300},tabs:Boolean},computed:{computedContentHeight:function(){return this.height?parseInt(this.height):this.dense?this.heights.dense:this.prominent||this.$vuetify.breakpoint.mdAndUp?this.heights.desktop:this.$vuetify.breakpoint.width>this.$vuetify.breakpoint.height?this.heights.mobileLandscape:this.heights.mobile},computedExtensionHeight:function(){return this.tabs?48:this.extensionHeight?parseInt(this.extensionHeight):this.computedContentHeight},computedHeight:function(){return this.isExtended?this.computedContentHeight+this.computedExtensionHeight:this.computedContentHeight},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},classes:function(){return this.addBackgroundColorClassChecks({toolbar:!0,"elevation-0":this.flat||!this.isActive&&!this.tabs,"toolbar--absolute":this.absolute,"toolbar--card":this.card,"toolbar--clipped":this.clippedLeft||this.clippedRight,"toolbar--dense":this.dense,"toolbar--extended":this.isExtended,"toolbar--fixed":!this.absolute&&(this.app||this.fixed),"toolbar--floating":this.floating,"toolbar--prominent":this.prominent,"theme--dark":this.dark,"theme--light":this.light})},computedPaddingLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedPaddingRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedTransform:function(){return this.isActive?0:-this.computedHeight},currentThreshold:function(){return Math.abs(this.currentScroll-this.savedScroll)},styles:function(){return{marginTop:this.computedMarginTop+"px",paddingRight:this.computedPaddingRight+"px",paddingLeft:this.computedPaddingLeft+"px",transform:"translateY("+this.computedTransform+"px)"}}},watch:{currentThreshold:function(t){if(this.invertedScroll)return this.isActive=this.currentScroll>this.scrollThreshold;t<this.scrollThreshold||!this.isBooted||(this.isActive=this.isScrollingUp,this.savedScroll=this.currentScroll)},isActive:function(){this.savedScroll=0},invertedScroll:function(t){this.isActive=!t},manualScroll:function(t){this.isActive=!t},isScrollingUp:function(t){this.savedScroll=this.savedScroll||this.currentScroll}},created:function(){(this.invertedScroll||this.manualScroll)&&(this.isActive=!1)},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget))},methods:{onScroll:function(){if(this.scrollOffScreen&&!this.manualScroll&&"undefined"!==typeof window){var t=this.target||window;this.currentScroll=this.scrollTarget?t.scrollTop:t.pageYOffset||document.documentElement.scrollTop,this.isScrollingUp=this.currentScroll<this.previousScroll,this.previousScroll=this.currentScroll}},updateApplication:function(){return this.invertedScroll||this.manualScroll?0:this.computedHeight}},render:function(t){this.isExtended=this.extended||!!this.$slots.extension;var e=[],i={class:this.classes,style:this.styles,on:this.$listeners};return i.directives=[{arg:this.scrollTarget,name:"scroll",value:this.onScroll}],e.push(t("div",{staticClass:"toolbar__content",style:{height:this.computedContentHeight+"px"},ref:"content"},this.$slots.default)),this.isExtended&&e.push(t("div",{staticClass:"toolbar__extension",style:{height:this.computedExtensionHeight+"px"}},this.$slots.extension)),t("nav",i,e)}}},function(t,e){},function(t,e,i){"use strict";var n=i(10),r=i(3);e["a"]={name:"v-toolbar-side-icon",functional:!0,render:function(t,e){var i=e.slots,o=e.listeners,a=e.props,s=e.data,l=s.staticClass?s.staticClass+" toolbar__side-icon":"toolbar__side-icon",u=Object.assign(s,{staticClass:l,props:Object.assign(a,{icon:!0}),on:o}),c=i().default;return t(n["a"],u,c||[t(r["a"],"menu")])}}},function(t,e,i){"use strict";var n=i(256);n["a"].install=function(t){t.component(n["a"].name,n["a"])},e["a"]=n["a"]},function(t,e,i){"use strict";var n=i(257),r=(i.n(n),i(0)),o=i(53),a=i(20),s=i(25),l=i(54),u=i(6);function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]={name:"v-tooltip",mixins:[r["a"],o["a"],a["a"],s["a"],l["a"],u["a"]],data:function(){return{calculatedMinWidth:0,closeDependents:!1}},props:{debounce:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:200},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,i=t.content,n=!this.bottom&&!this.left&&!this.top&&!this.right,r=0;return this.top||this.bottom||n?r=e.left+e.width/2-i.width/2:(this.left||this.right)&&(r=e.left+(this.right?e.width:-i.width)+(this.right?10:-10)),this.calcXOverflow(r)+"px"},calculatedTop:function(){var t=this.dimensions,e=t.activator,i=t.content,n=0;return this.top||this.bottom?n=e.top-(this.top?e.height:-e.height)-(this.top?0:-10):(this.left||this.right)&&(n=e.top+e.height/2-i.height/2),this.calcYOverflow(n+this.pageYOffset)+"px"},classes:function(){return{"tooltip--top":this.top,"tooltip--right":this.right,"tooltip--bottom":this.bottom,"tooltip--left":this.left}},computedTransition:function(){return this.transition?this.transition:this.top?"slide-y-reverse-transition":this.right?"slide-x-transition":this.bottom?"slide-y-transition":this.left?"slide-x-reverse-transition":void 0},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:isNaN(this.maxWidth)?this.maxWidth:this.maxWidth+"px",opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)}},mounted:function(){this.value&&this.callActivate()},render:function(t){var e,i=this,n=t("div",{staticClass:"tooltip__content",class:this.addBackgroundColorClassChecks((e={},c(e,this.contentClass,!0),c(e,"menuable__content__active",this.isActive),e)),style:this.styles,attrs:this.attrs,directives:[{name:"show",value:this.isContentActive}],ref:"content"},this.$slots.default);return t(this.tag,{staticClass:"tooltip",class:this.classes},[t("transition",{props:{name:this.computedTransition}},[n]),t("span",{on:this.disabled?{}:{mouseenter:function(){i.runDelay("open",function(){return i.isActive=!0})},mouseleave:function(){i.runDelay("close",function(){return i.isActive=!1})}},ref:"activator"},this.$slots.activator)])}}},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l;var n=i(8),r=i(11),o=i(17),a=i(71),s=i(9);function l(t){t.directive("click-outside",n["a"]),t.directive("ripple",o["a"]),t.directive("resize",r["a"]),t.directive("scroll",a["a"]),t.directive("touch",s["a"])}i.d(e,"ClickOutside",function(){return n["a"]}),i.d(e,"Ripple",function(){return o["a"]}),i.d(e,"Resize",function(){return r["a"]}),i.d(e,"Scroll",function(){return a["a"]}),i.d(e,"Touch",function(){return s["a"]})}])["default"]})},"7gX0":function(t,e){var i=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=i)},BbyF:function(t,e,i){var n=i("oeih"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},DIVP:function(t,e,i){var n=i("UKM+");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},Ds5P:function(t,e,i){var n=i("OzIq"),r=i("7gX0"),o=i("2p1q"),a=i("R3AP"),s=i("rFzY"),l="prototype",u=function(t,e,i){var c,h,p,d,f=t&u.F,g=t&u.G,m=t&u.S,v=t&u.P,y=t&u.B,b=g?n:m?n[e]||(n[e]={}):(n[e]||{})[l],x=g?r:r[e]||(r[e]={}),_=x[l]||(x[l]={});for(c in g&&(i=e),i)h=!f&&b&&void 0!==b[c],p=(h?b:i)[c],d=y&&h?s(p,n):v&&"function"==typeof p?s(Function.call,p):p,b&&a(b,c,p,t&u.U),x[c]!=p&&o(x,c,d),v&&_[c]!=p&&(_[c]=p)};n.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},DuR2:function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(i=window)}t.exports=i},Gh7F:function(t,e,i){"use strict";var n=i("Ds5P"),r=i("kqpo"),o="includes";n(n.P+n.F*i("1ETD")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},NYxO:function(t,e,i){"use strict";var n=function(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:n});else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,i.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},r="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}function a(t,e){Object.keys(t).forEach(function(i){return e(t[i],i)})}function s(t){return null!==t&&"object"===typeof t}function l(t){return t&&"function"===typeof t.then}var u=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"===typeof i?i():i)||{}},c={namespaced:{configurable:!0}};c.namespaced.get=function(){return!!this._rawModule.namespaced},u.prototype.addChild=function(t,e){this._children[t]=e},u.prototype.removeChild=function(t){delete this._children[t]},u.prototype.getChild=function(t){return this._children[t]},u.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},u.prototype.forEachChild=function(t){a(this._children,t)},u.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},u.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},u.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(u.prototype,c);var h=function(t){this.register([],t,!1)};function p(t,e,i){if(e.update(i),i.modules)for(var n in i.modules){if(!e.getChild(n))return void 0;p(t.concat(n),e.getChild(n),i.modules[n])}}h.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},h.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,i){return e=e.getChild(i),t+(e.namespaced?i+"/":"")},"")},h.prototype.update=function(t){p([],this.root,t)},h.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0);var r=new u(e,i);if(0===t.length)this.root=r;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],r)}e.modules&&a(e.modules,function(e,r){n.register(t.concat(r),e,i)})},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)};var d;var f=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!==typeof window&&window.Vue&&M(window.Vue);var i=t.plugins;void 0===i&&(i=[]);var n=t.strict;void 0===n&&(n=!1);var r=t.state;void 0===r&&(r={}),"function"===typeof r&&(r=r()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d;var a=this,s=this,l=s.dispatch,u=s.commit;this.dispatch=function(t,e){return l.call(a,t,e)},this.commit=function(t,e,i){return u.call(a,t,e,i)},this.strict=n,b(this,r,[],this._modules.root),y(this,r),i.forEach(function(t){return t(e)}),d.config.devtools&&o(this)},g={state:{configurable:!0}};function m(t,e){return e.indexOf(t)<0&&e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function v(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;b(t,i,[],t._modules.root,!0),y(t,i,e)}function y(t,e,i){var n=t._vm;t.getters={};var r=t._wrappedGetters,o={};a(r,function(e,i){o[i]=function(){return e(t)},Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})});var s=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:o}),d.config.silent=s,t.strict&&k(t),n&&(i&&t._withCommit(function(){n._data.$$state=null}),d.nextTick(function(){return n.$destroy()}))}function b(t,e,i,n,r){var o=!i.length,a=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[a]=n),!o&&!r){var s=A(e,i.slice(0,-1)),l=i[i.length-1];t._withCommit(function(){d.set(s,l,n.state)})}var u=n.context=x(t,a,i);n.forEachMutation(function(e,i){var n=a+i;w(t,n,e,u)}),n.forEachAction(function(e,i){var n=e.root?i:a+i,r=e.handler||e;C(t,n,r,u)}),n.forEachGetter(function(e,i){var n=a+i;S(t,n,e,u)}),n.forEachChild(function(n,o){b(t,e,i.concat(o),n,r)})}function x(t,e,i){var n=""===e,r={dispatch:n?t.dispatch:function(i,n,r){var o=T(i,n,r),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=e+l),t.dispatch(l,a)},commit:n?t.commit:function(i,n,r){var o=T(i,n,r),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=e+l),t.commit(l,a,s)}};return Object.defineProperties(r,{getters:{get:n?function(){return t.getters}:function(){return _(t,e)}},state:{get:function(){return A(t.state,i)}}}),r}function _(t,e){var i={},n=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,n)===e){var o=r.slice(n);Object.defineProperty(i,o,{get:function(){return t.getters[r]},enumerable:!0})}}),i}function w(t,e,i,n){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(e){i.call(t,n.state,e)})}function C(t,e,i,n){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var o=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e,r);return l(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}function S(t,e,i,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)})}function k(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function A(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function T(t,e,i){return s(t)&&t.type&&(i=e,e=t,t=t.type),{type:t,payload:e,options:i}}function M(t){d&&t===d||(d=t,n(d))}g.state.get=function(){return this._vm._data.$$state},g.state.set=function(t){0},f.prototype.commit=function(t,e,i){var n=this,r=T(t,e,i),o=r.type,a=r.payload,s=(r.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit(function(){l.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,n.state)}))},f.prototype.dispatch=function(t,e){var i=this,n=T(t,e),r=n.type,o=n.payload,a={type:r,payload:o},s=this._actions[r];if(s)return this._actionSubscribers.forEach(function(t){return t(a,i.state)}),s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o)},f.prototype.subscribe=function(t){return m(t,this._subscribers)},f.prototype.subscribeAction=function(t){return m(t,this._actionSubscribers)},f.prototype.watch=function(t,e,i){var n=this;return this._watcherVM.$watch(function(){return t(n.state,n.getters)},e,i)},f.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},f.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),b(this,this.state,t,this._modules.get(t),i.preserveState),y(this,this.state)},f.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=A(e.state,t.slice(0,-1));d.delete(i,t[t.length-1])}),v(this)},f.prototype.hotUpdate=function(t){this._modules.update(t),v(this,!0)},f.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(f.prototype,g);var E=D(function(t,e){var i={};return R(e).forEach(function(e){var n=e.key,r=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=z(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"===typeof r?r.call(this,e,i):e[r]},i[n].vuex=!0}),i}),P=D(function(t,e){var i={};return R(e).forEach(function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.commit;if(t){var o=z(this.$store,"mapMutations",t);if(!o)return;n=o.context.commit}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}}),i}),O=D(function(t,e){var i={};return R(e).forEach(function(e){var n=e.key,r=e.val;r=t+r,i[n]=function(){if(!t||z(this.$store,"mapGetters",t))return this.$store.getters[r]},i[n].vuex=!0}),i}),I=D(function(t,e){var i={};return R(e).forEach(function(e){var n=e.key,r=e.val;i[n]=function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var o=z(this.$store,"mapActions",t);if(!o)return;n=o.context.dispatch}return"function"===typeof r?r.apply(this,[n].concat(e)):n.apply(this.$store,[r].concat(e))}}),i}),L=function(t){return{mapState:E.bind(null,t),mapGetters:O.bind(null,t),mapMutations:P.bind(null,t),mapActions:I.bind(null,t)}};function R(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function D(t){return function(e,i){return"string"!==typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function z(t,e,i){var n=t._modulesNamespaceMap[i];return n}var B={Store:f,install:M,version:"3.0.1",mapState:E,mapMutations:P,mapGetters:O,mapActions:I,createNamespacedHelpers:L};e["a"]=B},OzIq:function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},PHqh:function(t,e,i){var n=i("Q6Nf"),r=i("/whu");t.exports=function(t){return n(r(t))}},Q3dO:function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=47)}([function(t,e){var i=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var n=i(34)("wks"),r=i(35),o=i(1).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e,i){var n=i(1),r=i(0),o=i(11),a=i(5),s=i(14),l=function(t,e,i){var u,c,h,p=t&l.F,d=t&l.G,f=t&l.S,g=t&l.P,m=t&l.B,v=t&l.W,y=d?r:r[e]||(r[e]={}),b=y.prototype,x=d?n:f?n[e]:(n[e]||{}).prototype;for(u in d&&(i=e),i)(c=!p&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:i[u],y[u]=d&&"function"!=typeof x[u]?i[u]:m&&c?o(h,n):v&&x[u]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var n=i(7);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n=i(13),r=i(30);t.exports=i(8)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(9)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(12);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(4),r=i(52),o=i(53),a=Object.defineProperty;e.f=i(8)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var n=i(51)(!0);i(28)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(7),r=i(1).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(57),r=i(36);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(32),r=i(10);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(34)("keys"),r=i(35);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(13).f,r=i(14),o=i(2)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(10);t.exports=function(t){return Object(n(t))}},function(t,e,i){i(61);for(var n=i(1),r=i(5),o=i(6),a=i(2)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},function(t,e,i){var n=i(15),r=i(2)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=r(e),this.reject=r(i)}var r=i(12);t.exports.f=function(t){return new n(t)}},function(t,e,i){t.exports={default:i(49),__esModule:!0}},function(t,e,i){"use strict";var n=i(29),r=i(3),o=i(54),a=i(5),s=i(6),l=i(55),u=i(22),c=i(60),h=i(2)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,f,g,m,v){l(i,e,f);var y,b,x,_=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},w=e+" Iterator",C="values"==g,S=!1,k=t.prototype,A=k[h]||k["@@iterator"]||g&&k[g],T=A||_(g),M=g?C?_("entries"):T:void 0,E="Array"==e&&k.entries||A;if(E&&(x=c(E.call(new t)))!==Object.prototype&&x.next&&(u(x,w,!0),n||"function"==typeof x[h]||a(x,h,d)),C&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),n&&!v||!p&&!S&&k[h]||a(k,h,T),s[e]=T,s[w]=d,g)if(y={values:C?T:_("values"),keys:m?T:_("keys"),entries:M},v)for(b in y)b in k||o(k,b,y[b]);else r(r.P+r.F*(p||S),e,y);return y}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(4),r=i(56),o=i(36),a=i(21)("IE_PROTO"),s=function(){},l=function(){var t,e=i(18)("iframe"),n=o.length;for(e.style.display="none",i(37).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(15);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(17),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(1),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(1).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(25),r=i(2)("iterator"),o=i(6);t.exports=i(0).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){var n=i(4),r=i(12),o=i(2)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n,r,o,a=i(11),s=i(69),l=i(37),u=i(18),c=i(1),h=c.process,p=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},d=function(t){delete v[t]},"process"==i(15)(h)?n=function(t){h.nextTick(a(y,t,1))}:g&&g.now?n=function(t){g.now(a(y,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(4),r=i(7),o=i(26);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){t.exports={default:i(80),__esModule:!0}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e){!function(e,i){"object"==typeof t&&t.exports?t.exports=e.document?i(e):i:e.Highcharts=i(e)}("undefined"!=typeof window?window:this,function(t){var e=function(){var e=void 0===t?window:t,i=e.document,n=e.navigator&&e.navigator.userAgent||"",r=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o=/(edge|msie|trident)/i.test(n)&&!e.opera,a=-1!==n.indexOf("Firefox"),s=-1!==n.indexOf("Chrome"),l=a&&4>parseInt(n.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"6.0.7",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:i&&void 0!==i.documentElement.ontouchstart,isMS:o,isWebKit:-1!==n.indexOf("AppleWebKit"),isFirefox:a,isChrome:s,isSafari:!s&&-1!==n.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}();!function(t){t.timers=[];var e=t.charts,i=t.doc,n=t.win;t.error=function(e,i){if(e=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e,i)throw Error(e);n.console&&console.log(e)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&1>r)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?i[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(e,i,r){var o=this,a=o.options,s=function(t){return!s.stopped&&o.step(t)},l=n.requestAnimationFrame||function(t){setTimeout(t,13)},u=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&l(u)};e===i?(delete a.curAnim[this.prop],a.complete&&0===t.keys(a.curAnim).length&&a.complete.call(this.elem)):(this.startTime=+new Date,this.start=e,this.end=i,this.unit=r,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&l(u))},step:function(e){var i,n=+new Date,r=this.options,o=this.elem,a=r.complete,s=r.duration,l=r.curAnim;return o.attr&&!o.element?e=!1:e||n>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),i=l[this.prop]=!0,t.objectEach(l,function(t){!0!==t&&(i=!1)}),i&&a&&a.call(o),e=!1):(this.pos=r.easing((n-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0),e},initPath:function(e,i,n){function r(t){var e,i;for(c=t.length;c--;)e="M"===t[c]||"L"===t[c],i=/[a-zA-Z]/.test(t[c+3]),e&&i&&t.splice(c+1,0,t[c+1],t[c+2],t[c+1],t[c+2])}function o(t,e){for(;t.length<l;){t[0]=e[l-t.length];var i=t.slice(0,f);[].splice.apply(t,[0,0].concat(i)),m&&(i=t.slice(t.length-f),[].splice.apply(t,[t.length,0].concat(i)),c--)}t[0]="M"}function a(t,e){for(var i=(l-t.length)/f;0<i&&i--;)u=t.slice().splice(t.length/v-f,f*v),u[0]=e[l-f-i*f],d&&(u[f-6]=u[f-2],u[f-5]=u[f-1]),[].splice.apply(t,[t.length/v,0].concat(u)),m&&i--}i=i||"";var s,l,u,c,h=e.startX,p=e.endX,d=-1<i.indexOf("C"),f=d?7:3;i=i.split(" "),n=n.slice();var g,m=e.isArea,v=m?2:1;if(d&&(r(i),r(n)),h&&p){for(c=0;c<h.length;c++){if(h[c]===p[0]){s=c;break}if(h[0]===p[p.length-h.length+c]){s=c,g=!0;break}}void 0===s&&(i=[])}return i.length&&t.isNumber(s)&&(l=n.length+s*v*f,g?(o(i,n),a(n,i)):(o(n,i),a(i,n))),[i,n]}},t.Fx.prototype.fillSetter=t.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)},t.merge=function(){var e,i,n=arguments,r={},o=function(e,i){return"object"!=typeof e&&(e={}),t.objectEach(i,function(n,r){!t.isObject(n,!0)||t.isClass(n)||t.isDOMElement(n)?e[r]=i[r]:e[r]=o(e[r]||{},n)}),e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)r=o(r,n[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t},t.isObject=function(e,i){return!(!e||"object"!=typeof e||i&&t.isArray(e))},t.isDOMElement=function(e){return t.isObject(e)&&"number"==typeof e.nodeType},t.isClass=function(e){var i=e&&e.constructor;return!(!t.isObject(e,!0)||t.isDOMElement(e)||!i||!i.name||"Object"===i.name)},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var r;return t.isString(i)?t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(r=e.getAttribute(i)):t.defined(i)&&t.isObject(i)&&t.objectEach(i,function(t,i){e.setAttribute(i,t)}),r},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.extend=function(t,e){var i;for(i in t||(t={}),e)t[i]=e[i];return t},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,n,r,o,a){e=i.createElement(e);var s=t.css;return n&&t.extend(e,n),a&&s(e,{padding:0,border:"none",margin:0}),r&&s(e,r),o&&o.appendChild(e),e},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,r=this;return r.proceed=function(){n.apply(r,arguments.length?arguments:e)},t.unshift(n),t=i.apply(this,t),r.proceed=null,t}},t.formatSingle=function(e,i,n){var r=/\.([0-9])/,o=t.defaultOptions.lang;return/f$/.test(e)?(n=(n=e.match(r))?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,o.decimalPoint,-1<e.indexOf(",")?o.thousandsSep:""))):i=(n||t.time).dateFormat(e,i),i},t.format=function(e,i,n){for(var r,o,a,s,l,u="{",c=!1,h=[];e&&-1!==(u=e.indexOf(u));){if(r=e.slice(0,u),c){for(r=r.split(":"),o=r.shift().split("."),s=o.length,l=i,a=0;a<s;a++)l&&(l=l[o[a]]);r.length&&(l=t.formatSingle(r.join(":"),l,n)),h.push(l)}else h.push(r);e=e.slice(u+1),u=(c=!c)?"}":"{"}return h.push(e),h.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,r,o){var a,s=e;for(n=t.pick(n,1),a=e/n,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?i=t.grep(i,function(t){return 0==t%1}):.1>=n&&(i=[1/n]))),r=0;r<i.length&&(s=i[r],!(o&&s*n>=e||!o&&a<=(i[r]+(i[r+1]||i[r]))/2));r++);return t.correctFloat(s*n,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(e,i){t.objectEach(e,function(t,n){t&&t!==i&&t.destroy&&t.destroy(),delete e[n]})},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,r){e=+e||0,i=+i;var o,a,s=t.defaultOptions.lang,l=(e.toString().split(".")[1]||"").split("e")[0].length,u=e.toString().split("e");return-1===i?i=Math.min(l,20):t.isNumber(i)?i&&u[1]&&0>u[1]&&(o=i+ +u[1],0<=o?(u[0]=(+u[0]).toExponential(o).split("e")[0],i=o):(u[0]=u[0].split(".")[0]||0,e=20>i?(u[0]*Math.pow(10,u[1])).toFixed(i):0,u[1]=0)):i=2,a=(Math.abs(u[1]?u[0]:e)+Math.pow(10,-Math.max(i,l)-1)).toFixed(i),l=String(t.pInt(a)),o=3<l.length?l.length%3:0,n=t.pick(n,s.decimalPoint),r=t.pick(r,s.thousandsSep),e=(0>e?"-":"")+(o?l.substr(0,o)+r:""),e+=l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(e+=n+a.slice(-i)),u[1]&&0!=+e&&(e+="e"+u[1]),e},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i,r){return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(n.getComputedStyle||t.error(27,!0),(e=n.getComputedStyle(e,void 0))&&(e=e.getPropertyValue(i),t.pick(r,"opacity"!==i)&&(e=t.pInt(e))),e)},t.inArray=function(e,i){return(t.indexOfPolyfill||Array.prototype.indexOf).call(i,e)},t.grep=function(e,i){return(t.filterPolyfill||Array.prototype.filter).call(e,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]},t.map=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.keys=function(e){return(t.keysPolyfill||Object.keys).call(void 0,e)},t.reduce=function(e,i,n){return(t.reducePolyfill||Array.prototype.reduce).call(e,i,n)},t.offset=function(t){var e=i.documentElement;return t=t.parentElement?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var n=t.timers.length;n--;)t.timers[n].elem!==e||i&&i!==t.timers[n].prop||(t.timers[n].stopped=!0)},t.each=function(e,i,n){return(t.forEachPolyfill||Array.prototype.forEach).call(e,i,n)},t.objectEach=function(t,e,i){for(var n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)},t.isPrototype=function(e){return e===t.Axis.prototype||e===t.Chart.prototype||e===t.Point.prototype||e===t.Series.prototype||e===t.Tick.prototype},t.addEvent=function(e,i,n){var r,o=e.addEventListener||t.addEventListenerPolyfill;return r=t.isPrototype(e)?"protoEvents":"hcEvents",r=e[r]=e[r]||{},o&&o.call(e,i,n,!1),r[i]||(r[i]=[]),r[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function r(i,n){var r=e.removeEventListener||t.removeEventListenerPolyfill;r&&r.call(e,i,n,!1)}function o(n){var o,a;e.nodeName&&(i?(o={},o[i]=!0):o=n,t.objectEach(o,function(t,e){if(n[e])for(a=n[e].length;a--;)r(e,n[e][a])}))}var a,s;t.each(["protoEvents","hcEvents"],function(l){var u=e[l];u&&(i?(a=u[i]||[],n?(s=t.inArray(n,a),-1<s&&(a.splice(s,1),u[i]=a),r(i,n)):(o(u),u[i]=[])):(o(u),e[l]={}))})},t.fireEvent=function(e,n,r,o){var a,s,l,u,c;r=r||{},i.createEvent&&(e.dispatchEvent||e.fireEvent)?(a=i.createEvent("Events"),a.initEvent(n,!0,!0),t.extend(a,r),e.dispatchEvent?e.dispatchEvent(a):e.fireEvent(n,a)):t.each(["protoEvents","hcEvents"],function(i){if(e[i])for(s=e[i][n]||[],l=s.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:n}),u=0;u<l;u++)(c=s[u])&&!1===c.call(e,r)&&r.preventDefault()}),o&&!r.defaultPrevented&&o(r)},t.animate=function(e,i,n){var r,o,a,s,l="";t.isObject(n)||(s=arguments,n={duration:s[2],easing:s[3],complete:s[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i),t.objectEach(i,function(s,u){t.stop(e,u),a=new t.Fx(e,n,u),o=null,"d"===u?(a.paths=a.initPath(e,e.d,i.d),a.toD=i.d,r=0,o=1):e.attr?r=e.attr(u):(r=parseFloat(t.getStyle(e,u))||0,"opacity"!==u&&(l="px")),o||(o=s),o&&o.match&&o.match("px")&&(o=o.replace(/px/g,"")),a.run(r,o,l)})},t.seriesType=function(e,i,n,r,o){var a=t.getOptions(),s=t.seriesTypes;return a.plotOptions[e]=t.merge(a.plotOptions[i],n),s[e]=t.extendClass(s[i]||function(){},r),s[e].prototype.type=e,o&&(s[e].prototype.pointClass=t.extendClass(t.Point,o)),s[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),n.jQuery&&(n.jQuery.fn.highcharts=function(){var i=[].slice.call(arguments);if(this[0])return i[0]?(new(t[t.isString(i[0])?i.shift():"Chart"])(this[0],i[0],i[1]),this):e[t.attr(this[0],"data-highcharts-chart")]})}(e),function(t){var e=t.each,i=t.isNumber,n=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(e){var i,r,o,a;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else if(e&&e.charAt&&"#"===e.charAt()&&(i=e.length,e=parseInt(e.substr(1),16),7===i?r=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===i&&(r=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])),!r)for(o=this.parsers.length;o--&&!r;)a=this.parsers[o],(i=a.regex.exec(e))&&(r=a.parse(i));this.rgba=r||[]},get:function(t){var n,o=this.input,a=this.rgba;return this.stops?(n=r(o),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":o,n},brighten:function(t){var n,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;3>n;n++)r[n]+=o(255*t),0>r[n]&&(r[n]=0),255<r[n]&&(r[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,n=t.rgba;return n.length&&i&&i.length?(t=1!==n[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(n[0]+(i[0]-n[0])*(1-e))+","+Math.round(n[1]+(i[1]-n[1])*(1-e))+","+Math.round(n[2]+(i[2]-n[2])*(1-e))+(t?","+(n[3]+(i[3]-n[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}(e),function(t){var e,i,n=t.addEvent,r=t.animate,o=t.attr,a=t.charts,s=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,p=t.destroyObjectProperties,d=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.inArray,x=t.isArray,_=t.isFirefox,w=t.isMS,C=t.isObject,S=t.isString,k=t.isWebKit,A=t.merge,T=t.noop,M=t.objectEach,E=t.pick,P=t.pInt,O=t.removeEvent,I=t.stop,L=t.svg,R=t.SVG_NS,D=t.symbolSizes,z=t.win;e=t.SVGElement=function(){return this},g(e.prototype,{opacity:1,SVG_NS:R,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(t,e){this.element="span"===e?u(e):d.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){return i=t.animObject(E(i,this.renderer.globalAnimation,!0)),0!==i.duration?(n&&(i.complete=n),r(this,e,i)):(this.attr(e,null,n),i.step&&i.step.call(this)),this},colorGradient:function(e,i,n){var r,o,a,s,l,u,h,p,d,g,m,v=this.renderer,y=[];e.radialGradient?o="radialGradient":e.linearGradient&&(o="linearGradient"),o&&(a=e[o],l=v.gradients,h=e.stops,g=n.radialReference,x(a)&&(e[o]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(a.gradientUnits)&&(s=a,a=A(a,v.getRadialAttr(g,s),{gradientUnits:"userSpaceOnUse"})),M(a,function(t,e){"id"!==e&&y.push(e,t)}),M(h,function(t){y.push(t)}),y=y.join(","),l[y]?g=l[y].attr("id"):(a.id=g=t.uniqueKey(),l[y]=u=v.createElement(o).attr(a).add(v.defs),u.radAttr=s,u.stops=[],f(h,function(e){0===e[1].indexOf("rgba")?(r=t.color(e[1]),p=r.get("rgb"),d=r.get("a")):(p=e[1],d=1),e=v.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(u),u.stops.push(e)})),m="url("+v.url+"#"+g+")",n.setAttribute(i,m),n.gradient=y,e.toString=function(){return m})},applyTextOutline:function(e){var i,n,r,a,s,l=this.element;if(-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),e=e.split(" "),n=e[e.length-1],(r=e[0])&&"none"!==r&&t.svg){for(this.fakeTS=!0,e=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),s=e.length;s--;)i=e[s],"highcharts-text-outline"===i.getAttribute("class")&&m(e,l.removeChild(i));a=l.firstChild,f(e,function(t,e){0===e&&(t.setAttribute("x",l.getAttribute("x")),e=l.getAttribute("y"),t.setAttribute("y",e||0),null===e&&l.setAttribute("y",0)),t=t.cloneNode(1),o(t,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(t,a)})}},attr:function(t,e,i,n){var r,o,a,s,l=this.element,u=this;return"string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,l):(M(t,function(e,i){a=!1,n||I(this,i),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(i)&&(o||(this.symbolAttr(t),o=!0),a=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),a||(s=this[i+"Setter"]||this._defaultSetter,s.call(this,e,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,e,s))},this),this.afterSetters()),i&&i.call(this),u},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==b(t,(this.attr("class")||"").split(" "))},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(t,""))},symbolAttr:function(t){var e=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(i){e[i]=E(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i;return e=e||t.strokeWidth||0,i=Math.round(e)%2/2,t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),c(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e,i,n=this.styles,r={},a=this.element,s="",u=!n,c=["textOutline","textOverflow","width"];return t&&t.color&&(t.fill=t.color),n&&M(t,function(t,e){t!==n[e]&&(r[e]=t,u=!0)}),u&&(n&&(t=g(n,r)),e=this.textWidth=t&&t.width&&"auto"!==t.width&&"text"===a.nodeName.toLowerCase()&&P(t.width),this.styles=t,e&&!L&&this.renderer.forExport&&delete t.width,a.namespaceURI===this.SVG_NS?(i=function(t,e){return"-"+e.toLowerCase()},M(t,function(t,e){-1===b(e,c)&&(s+=e.replace(/([A-Z])/g,i)+":"+t+";")}),s&&o(a,"style",s)):l(a,t),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===z.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,n=this.scaleY,r=this.inverted,o=this.rotation,a=this.matrix,s=this.element;r&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],c(a)&&t.push("matrix("+a.join(",")+")"),r?t.push("rotate(90) scale(-1,1)"):o&&t.push("rotate("+o+" "+E(this.rotationOriginX,s.getAttribute("x"),0)+" "+E(this.rotationOriginY,s.getAttribute("y")||0)+")"),(c(i)||c(n))&&t.push("scale("+E(i,1)+" "+E(n,1)+")"),t.length&&s.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,o,a,s,l,u={};return r=this.renderer,o=r.alignedObjects,t?(this.alignOptions=t,this.alignByTranslate=e,(!i||S(i))&&(this.alignTo=n=i||"renderer",m(o,this),o.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,n=this.alignTo),i=E(i,r[n],r),n=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),a=(i.y||0)+(t.y||0),"right"===n?s=1:"center"===n&&(s=2),s&&(o+=(i.width-(t.width||0))/s),u[e?"translateX":"x"]=Math.round(o),"bottom"===r?l=1:"middle"===r&&(l=2),l&&(a+=(i.height-(t.height||0))/l),u[e?"translateY":"y"]=Math.round(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var i,n,r,o,a,s=this.renderer,l=this.element,u=this.styles,p=this.textStr,d=s.cache,m=s.cacheKeys;if(e=E(e,this.rotation),n=e*h,r=u&&u.fontSize,c(p)&&(a=p.toString(),-1===a.indexOf("<")&&(a=a.replace(/[0-9]/g,"0")),a+=["",e||0,r,u&&u.width,u&&u.textOverflow].join()),a&&!t&&(i=d[a]),!i){if(l.namespaceURI===this.SVG_NS||s.forExport){try{(o=this.fakeTS&&function(t){f(l.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),i=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},o&&o("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(s.isSVG&&(t=i.width,s=i.height,u&&"11px"===u.fontSize&&17===Math.round(s)&&(i.height=s=14),e&&(i.width=Math.abs(s*Math.sin(n))+Math.abs(t*Math.cos(n)),i.height=Math.abs(s*Math.cos(n))+Math.abs(t*Math.sin(n)))),a&&0<i.height){for(;250<m.length;)delete d[m.shift()];d[a]||m.push(a),d[a]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,n=e.ownerSVGElement,r=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,I(t),r&&n&&(f(n.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){var e=t.getAttribute("clip-path"),i=r.element.id;(-1<e.indexOf("(#"+i+")")||-1<e.indexOf('("#'+i+'")'))&&t.removeAttribute("clip-path")}),t.clipPath=r.destroy()),t.stops){for(n=0;n<t.stops.length;n++)t.stops[n]=t.stops[n].destroy();t.stops=null}for(t.safeRemoveChild(e),t.destroyShadows();i&&i.div&&0===i.div.childNodes.length;)e=i.parentGroup,t.safeRemoveChild(i.div),delete i.div,i=e;return t.alignTo&&m(t.renderer.alignedObjects,t),M(t,function(e,i){delete t[i]}),null},shadow:function(t,e,i){var n,r,a,s,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(s=E(t.width,3),l=(t.opacity||.15)/s,u=this.parentInverted?"(-1,-1)":"("+E(t.offsetX,1)+", "+E(t.offsetY,1)+")",n=1;n<=s;n++)r=h.cloneNode(0),a=2*s+1-2*n,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":a,transform:"translate"+u,fill:"none"}),i&&(o(r,"height",Math.max(o(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):h.parentNode&&h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=E(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=P(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.alignValue=t,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=d.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(d.createTextNode(String(E(t),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i,n,r,o,a=this.renderer,s=this.parentGroup,l=(s||a).element||a.box,u=this.element;a=l===a.box;if(i=this.added,c(t)&&(u.zIndex=t,t=+t,this[e]===t&&(i=!1),this[e]=t),i){for((t=this.zIndex)&&s&&(s.handleZ=!0),e=l.childNodes,o=e.length-1;0<=o&&!n;o--)s=e[o],i=s.zIndex,r=!c(i),s!==u&&(0>t&&r&&!a&&!o?(l.insertBefore(u,e[o]),n=!0):(P(i)<=t||r&&(!c(t)||0<=t))&&(l.insertBefore(u,e[o+1]||null),n=!0));n||(l.insertBefore(u,e[a?3:0]||null),n=!0)}return n},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.rotationOriginXSetter=e.prototype.rotationOriginYSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=e.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},g(i.prototype,{Element:e,SVG_NS:R,init:function(t,e,i,r,a,s){var u,c;r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),u=r.element,t.appendChild(u),o(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&o(u,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=u,this.boxWrapper=r,this.alignedObjects=[],this.url=(_||k)&&d.getElementsByTagName("base").length?z.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(d.createTextNode("Created with Highcharts 6.0.7")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=a,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,i,!1),_&&t.getBoundingClientRect&&(e=function(){l(t,{left:0,top:0}),c=t.getBoundingClientRect(),l(t,{left:Math.ceil(c.left)-c.left+"px",top:Math.ceil(c.top)-c.top+"px"})},e(),this.unSubPixelFix=n(z,"resize",e))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:T,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},getSpanWidth:function(t){return t.getBBox(!0).width},applyEllipsis:function(t,e,i,n){var r,o,a=t.rotation,s=i,l=0,u=i.length,c=function(t){e.removeChild(e.firstChild),t&&e.appendChild(d.createTextNode(t))};if(t.rotation=0,s=this.getSpanWidth(t,e),o=s>n){for(;l<=u;)r=Math.ceil((l+u)/2),s=i.substring(0,r)+"",c(s),s=this.getSpanWidth(t,e),l===u?l=u+1:s>n?u=r-1:l=r;0===u&&c("")}return t.rotation=a,o},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,i,n,r,a,s,u=t.element,c=this,h=c.forExport,p=E(t.textStr,"").toString(),g=-1!==p.indexOf("<"),m=u.childNodes,y=o(u,"x"),x=t.styles,_=t.textWidth,w=x&&x.lineHeight,C=x&&x.textOutline,S=x&&"ellipsis"===x.textOverflow,k=x&&"nowrap"===x.whiteSpace,A=x&&x.fontSize,T=m.length,O=(x=_&&!t.added&&this.box,function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:A||c.style.fontSize||12,w?P(w):c.fontMetrics(e,t.getAttribute("style")?t:u).h}),I=function(t,e){return M(c.escapes,function(i,n){e&&-1!==b(i,e)||(t=t.toString().replace(new RegExp(i,"g"),n))}),t};if((a=[p,S,k,w,C,A,_].join())!==t.textCache){for(t.textCache=a;T--;)u.removeChild(m[T]);g||C||S||_||-1!==p.indexOf(" ")?(e=/<.*class="([^"]+)".*>/,i=/<.*style="([^"]+)".*>/,n=/<.*href="([^"]+)".*>/,x&&x.appendChild(u),p=g?p.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[p],p=v(p,function(t){return""!==t}),f(p,function(a,p){var g,m=0;a=a.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=a.split("|||"),f(g,function(a){if(""!==a||1===g.length){var f,v,b={},x=d.createElementNS(c.SVG_NS,"tspan");if(e.test(a)&&(f=a.match(e)[1],o(x,"class",f)),i.test(a)&&(v=a.match(i)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(x,"style",v)),n.test(a)&&!h&&(o(x,"onclick",'location.href="'+a.match(n)[1]+'"'),o(x,"class","highcharts-anchor"),l(x,{cursor:"pointer"}))," "!==(a=I(a.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(x.appendChild(d.createTextNode(a)),m?b.dx=0:p&&null!==y&&(b.x=y),o(x,b),u.appendChild(x),!m&&s&&(!L&&h&&l(x,{display:"block"}),o(x,"dy",O(x))),_){b=a.replace(/([^\^])-/g,"$1- ").split(" "),f=1<g.length||p||1<b.length&&!k;var w,C=[],A=O(x),T=t.rotation;for(S&&(r=c.applyEllipsis(t,x,a,_));!S&&f&&(b.length||C.length);)t.rotation=0,w=c.getSpanWidth(t,x),a=w>_,void 0===r&&(r=a),a&&1!==b.length?(x.removeChild(x.firstChild),C.unshift(b.pop())):(b=C,C=[],b.length&&!k&&(x=d.createElementNS(R,"tspan"),o(x,{dy:A,x:y}),v&&o(x,"style",v),u.appendChild(x)),w>_&&(_=w)),b.length&&x.appendChild(d.createTextNode(b.join(" ").replace(/- /g,"-")));t.rotation=T}m++}}}),s=s||u.childNodes.length}),r&&t.attr("title",I(t.textStr,["&lt;","&gt;"])),x&&x.removeChild(u),C&&t.applyTextOutline&&t.applyTextOutline(C)):u.appendChild(d.createTextNode(I(p)))}},getContrast:function(t){return t=s(t).rgba,510<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,a,s,l,u){var c,h,p,d,f=this.label(t,e,i,u,null,null,null,null,"button"),m=0;return f.attr(A({padding:8,r:2},o)),o=A({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),c=o.style,delete o.style,a=A(o,{fill:"#e6e6e6"},a),h=a.style,delete a.style,s=A(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),p=s.style,delete s.style,l=A(o,{style:{color:"#cccccc"}},l),d=l.style,delete l.style,n(f.element,w?"mouseover":"mouseenter",function(){3!==m&&f.setState(1)}),n(f.element,w?"mouseout":"mouseleave",function(){3!==m&&f.setState(m)}),f.setState=function(t){1!==t&&(f.state=m=t),f.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),f.attr([o,a,s,l][t||0]).css([c,h,p,d][t||0])},f.attr(o).css(g({cursor:"default"},c)),f.on("click",function(t){3!==m&&r.call(f,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return x(t)?e.d=t:C(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=C(t)?t:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,n,r,o){return C(t)?(n=t,e=n.y,i=n.r,t=n.x):n={innerR:n,start:r,end:o},t=this.symbol("arc",t,e,i,i,n),t.r=i,t},rect:function(t,e,i,n,r,a){r=C(t)?t.r:r;var s=this.createElement("rect");return t=C(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)},void 0!==a&&(t.strokeWidth=a,t=s.crisp(t)),t.fill="none",r&&(t.r=r),s.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},s.attr(t)},setSize:function(t,e,i){var n=this.alignedObjects,r=n.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(i,!0)?void 0:0});r--;)n[r].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o={preserveAspectRatio:"none"};return 1<arguments.length&&g(o,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(o),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var s,h,p,m=this,v=/^url\((.*?)\)$/,y=v.test(t),b=!y&&(this.symbols[t]?t:"circle"),x=b&&this.symbols[b],_=c(e)&&x&&x.call(this.symbols,Math.round(e),Math.round(i),n,r,o);return x?(s=this.path(_),s.attr("fill","none"),g(s,{symbolName:b,x:e,y:i,width:n,height:r}),o&&g(s,o)):y&&(h=t.match(v)[1],s=this.image(h),s.imgwidth=E(D[h]&&D[h].width,o&&o.width),s.imgheight=E(D[h]&&D[h].height,o&&o.height),p=function(){s.attr({width:s.width,height:s.height})},f(["width","height"],function(t){s[t+"Setter"]=function(t,e){var i={},n=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[r]=((this[e]||0)-n)/2,this.attr(i)))}}),c(e)&&s.attr({x:e,y:i}),s.isImg=!0,c(s.imgwidth)&&c(s.imgheight)?p():(s.attr({width:0,height:0}),u("img",{onload:function(){var t=a[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this)),D[h]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&p(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),s},symbols:{circle:function(t,e,i,n){return this.arc(t+i/2,e+n/2,i/2,n/2,{start:0,end:2*Math.PI,open:!1})},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,a=r.r||i,s=r.r||n||i,l=r.end-.001;i=r.innerR,n=E(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var u=Math.cos(o),h=Math.sin(o),p=Math.cos(l);l=Math.sin(l);return r=.001>r.end-o-Math.PI?0:1,a=["M",t+a*u,e+s*h,"A",a,s,0,r,1,t+a*p,e+s*l],c(i)&&a.push(n?"M":"L",t+i*p,e+i*l,"A",i,i,0,r,0,t+i*u,e+i*h),a.push(n?"":"Z"),a},callout:function(t,e,i,n,r){var o,a=Math.min(r&&r.r||0,i,n),s=a+6,l=r&&r.anchorX;return r=r&&r.anchorY,o=["M",t+a,e,"L",t+i-a,e,"C",t+i,e,t+i,e,t+i,e+a,"L",t+i,e+n-a,"C",t+i,e+n,t+i,e+n,t+i-a,e+n,"L",t+a,e+n,"C",t,e+n,t,e+n,t,e+n-a,"L",t,e+a,"C",t,e,t,e,t+a,e],l&&l>i?r>e+s&&r<e+n-s?o.splice(13,3,"L",t+i,r-6,t+i+6,r,t+i,r+6,t+i,e+n-a):o.splice(13,3,"L",t+i,n/2,l,r,t+i,n/2,t+i,e+n-a):l&&0>l?r>e+s&&r<e+n-s?o.splice(33,3,"L",t,r+6,t-6,r,t,r-6,t,e+a):o.splice(33,3,"L",t,n/2,l,r,t,n/2,t,e+a):r&&r>n&&l>t+s&&l<t+i-s?o.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+a,e+n):r&&0>r&&l>t+s&&l<t+i-s&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-a,e),o}},clipRect:function(e,i,n,r){var o=t.uniqueKey(),a=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,i,n,r,0).add(a),e.id=o,e.clipPath=a,e.count=0,e},text:function(t,e,i,n){var r={};return!n||!this.allowHTML&&this.forExport?(r.x=Math.round(e||0),i&&(r.y=Math.round(i)),(t||0===t)&&(r.text=t),t=this.createElement("text").attr(r),n||(t.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),a=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===a&&n.setAttribute(e,t);i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?P(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:n}},label:function(i,n,r,o,a,s,l,u,h){var p,d,m,v,y,b,x,_,w,C,S,k,T,M=this,E=M.g("button"!==h&&"label"),P=E.text=M.text("",0,0,l).attr({zIndex:1}),I=0,L=3,R=0,D={},z=/^url\((.*?)\)$/.test(o),B=z;h&&E.addClass("highcharts-"+h),B=z,C=function(){return(_||0)%2/2},S=function(){var t=P.element.style,e={};d=(void 0===m||void 0===v||x)&&c(P.textStr)&&P.getBBox(),E.width=(m||d.width||0)+2*L+R,E.height=(v||d.height||0)+2*L,w=L+M.fontMetrics(t&&t.fontSize,P).b,B&&(p||(E.box=p=M.symbols[o]||z?M.symbol(o):M.rect(),p.addClass(("button"===h?"":"highcharts-label-box")+(h?" highcharts-"+h+"-box":"")),p.add(E),t=C(),e.x=t,e.y=(u?-w:0)+t),e.width=Math.round(E.width),e.height=Math.round(E.height),p.attr(g(e,D)),D={})},k=function(){var t,e=R+L;t=u?0:w,c(m)&&d&&("center"===x||"right"===x)&&(e+={center:.5,right:1}[x]*(m-d.width)),e===P.x&&t===P.y||(P.attr("x",e),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},T=function(t,e){p?p.attr(t,e):D[t]=e},E.onAdd=function(){P.add(E),E.attr({text:i||0===i?i:"",x:n,y:r}),p&&c(a)&&E.attr({anchorX:a,anchorY:s})},E.widthSetter=function(e){m=t.isNumber(e)?e:null},E.heightSetter=function(t){v=t},E["text-alignSetter"]=function(t){x=t},E.paddingSetter=function(t){c(t)&&t!==L&&(L=E.padding=t,k())},E.paddingLeftSetter=function(t){c(t)&&t!==R&&(R=t,k())},E.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==I&&(I=t,d&&E.attr({x:y}))},E.textSetter=function(t){void 0!==t&&P.textSetter(t),S(),k()},E["stroke-widthSetter"]=function(t,e){t&&(B=!0),_=this["stroke-width"]=t,T(e,t)},E.strokeSetter=E.fillSetter=E.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(B=!0),E[e]=t),T(e,t)},E.anchorXSetter=function(t,e){a=E.anchorX=t,T(e,Math.round(t)-C()-y)},E.anchorYSetter=function(t,e){s=E.anchorY=t,T(e,t-b)},E.xSetter=function(t){E.x=t,I&&(t-=I*((m||d.width)+2*L)),y=Math.round(t),E.attr("translateX",y)},E.ySetter=function(t){b=E.y=Math.round(t),E.attr("translateY",b)};var j=E.css;return g(E,{css:function(t){if(t){var e={};t=A(t),f(E.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),P.css(e)}return j.call(E,t)},getBBox:function(){return{width:d.width+2*L,height:d.height+2*L,x:d.x-L,y:d.y-L}},shadow:function(t){return t&&(S(),p&&p.shadow(t)),E},destroy:function(){O(E.element,"mouseenter"),O(E.element,"mouseleave"),P&&(P=P.destroy()),p&&(p=p.destroy()),e.prototype.destroy.call(E),E=M=S=k=T=null}})}}),t.Renderer=i}(e),function(t){var e=t.attr,i=t.createElement,n=t.css,r=t.defined,o=t.each,a=t.extend,s=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pick,h=t.pInt,p=t.SVGRenderer,d=t.win,f=t.wrap;a(t.SVGElement.prototype,{htmlCss:function(t){var e=this.element;return(e=t&&"SPAN"===e.tagName&&t.width)&&(delete t.width,this.textWidth=e,this.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=a(this.styles,t),n(this.element,t),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,a=this.translateY||0,s=this.x||0,l=this.y||0,u=this.textAlign||"left",c={left:0,center:.5,right:1}[u],p=this.styles,d=p&&p.whiteSpace;if(n(e,{marginLeft:i,marginTop:a}),this.shadows&&o(this.shadows,function(t){n(t,{marginLeft:i+1,marginTop:a+1})}),this.inverted&&o(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){p=this.rotation;var f,g=this.textWidth&&h(this.textWidth),m=[p,u,e.innerHTML,this.textWidth,this.textAlign].join();(f=g!==this.oldTextWidth)&&!(f=g>this.oldTextWidth)&&((f=this.textPxLength)||(n(e,{width:"",whiteSpace:d||"nowrap"}),f=e.offsetWidth),f=f>g),f&&/[ \-]/.test(e.textContent||e.innerText)&&(n(e,{width:g+"px",display:"block",whiteSpace:d||"normal"}),this.oldTextWidth=g),m!==this.cTT&&(d=t.fontMetrics(e.style.fontSize).b,r(p)&&p!==(this.oldRotation||0)&&this.setSpanRotation(p,c,d),this.getSpanCorrection(this.textPxLength||e.offsetWidth,d,c,p,u)),n(e,{left:s+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=p}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var r={},o=this.renderer.getTransformKey();r[o]=r.transform="rotate("+t+"deg)",r[o+(s?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",n(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),a(p.prototype,{getTransformKey:function(){return l&&!/Edge/.test(d.navigator.userAgent)?"-ms-transform":u?"-webkit-transform":s?"MozTransform":d.opera?"-o-transform":""},html:function(t,n,r){var s=this.createElement("span"),l=s.element,u=s.renderer,h=u.isSVG,p=function(t,e){o(["opacity","visibility"],function(i){f(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return s.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,this.textStr=t,l.innerHTML=c(t,""),s.doTransform=!0},h&&p(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(n),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,h&&(s.add=function(t){var n,r=u.box.parentNode,c=[];if(this.parentGroup=t){if(!(n=t.div)){for(;t;)c.push(t),t=t.parentGroup;o(c.reverse(),function(t){function o(e,i){t[i]=e,"translateX"===i?l.left=e+"px":l.top=e+"px",t.doTransform=!0}var l,u=e(t.element,"class");u&&(u={className:u}),n=t.div=t.div||i("div",u,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||r),l=n.style,a(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(n),on:function(){return c[0].div&&s.on.apply({element:c[0].div},arguments),t},translateXSetter:o,translateYSetter:o}),p(t,l)})}}else n=r;return n.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(e),function(t){var e=t.defined,i=t.each,n=t.extend,r=t.merge,o=t.pick,a=t.timeUnits,s=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{},update:function(e){var i=o(e&&e.useUTC,!0),n=this;this.options=e=r(!0,this.options||{},e),this.Date=e.Date||s.Date,this.timezoneOffset=(this.useUTC=i)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(i&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(t,e){var i=e.getTime(),r=i-n.getTimezoneOffset(e);return e.setTime(r),t=e["getUTC"+t](),e.setTime(i),t},this.set=function(e,i,r){var o;-1!==t.inArray(e,["Milliseconds","Seconds","Minutes"])?i["set"+e](r):(o=n.getTimezoneOffset(i),o=i.getTime()-o,i.setTime(o),i["setUTC"+e](r),e=n.getTimezoneOffset(i),o=i.getTime()+e,i.setTime(o))}):i?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,n,r,a,s){var l,u,c;return this.useUTC?(l=this.Date.UTC.apply(0,arguments),u=this.getTimezoneOffset(l),l+=u,c=this.getTimezoneOffset(l),u!==c?l+=c-u:u-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)):l=new this.Date(e,i,o(n,1),o(r,0),o(a,0),o(s,0)).getTime(),l},timezoneOffsetFunction:function(){var e=this,i=this.options,n=s.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(n)return function(t){return 6e4*-n.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r=this,o=new this.Date(i),a=this.get("Hours",o),s=this.get("Day",o),l=this.get("Date",o),u=this.get("Month",o),c=this.get("FullYear",o),h=t.defaultOptions.lang,p=h.weekdays,d=h.shortWeekdays,f=t.pad;o=t.extend({a:d?d[s]:p[s].substr(0,3),A:p[s],d:f(l),e:f(l,2," "),w:s,b:h.shortMonths[u],B:h.months[u],m:f(u+1),y:c.toString().substr(2,2),Y:c,H:f(a),k:a,I:f(a%12||12),l:a%12||12,M:f(r.get("Minutes",o)),p:12>a?"AM":"PM",P:12>a?"am":"pm",S:f(o.getSeconds()),L:f(Math.round(i%1e3),3)},t.dateFormats);return t.objectEach(o,function(t,n){for(;-1!==e.indexOf("%"+n);)e=e.replace("%"+n,"function"==typeof t?t.call(r,i):t)}),n?e.substr(0,1).toUpperCase()+e.substr(1):e},getTimeTicks:function(t,r,s,l){var u,c,h=this,p=[],d={},f=new h.Date(r),g=t.unitRange,m=t.count||1;if(e(r)){h.set("Milliseconds",f,g>=a.second?0:m*Math.floor(h.get("Milliseconds",f)/m)),g>=a.second&&h.set("Seconds",f,g>=a.minute?0:m*Math.floor(h.get("Seconds",f)/m)),g>=a.minute&&h.set("Minutes",f,g>=a.hour?0:m*Math.floor(h.get("Minutes",f)/m)),g>=a.hour&&h.set("Hours",f,g>=a.day?0:m*Math.floor(h.get("Hours",f)/m)),g>=a.day&&h.set("Date",f,g>=a.month?1:m*Math.floor(h.get("Date",f)/m)),g>=a.month&&(h.set("Month",f,g>=a.year?0:m*Math.floor(h.get("Month",f)/m)),u=h.get("FullYear",f)),g>=a.year&&h.set("FullYear",f,u-u%m),g===a.week&&h.set("Date",f,h.get("Date",f)-h.get("Day",f)+o(l,1)),u=h.get("FullYear",f),l=h.get("Month",f);var v=h.get("Date",f),y=h.get("Hours",f);for(r=f.getTime(),h.variableTimezone&&(c=s-r>4*a.month||h.getTimezoneOffset(r)!==h.getTimezoneOffset(s)),f=f.getTime(),r=1;f<s;)p.push(f),f=g===a.year?h.makeTime(u+r*m,0):g===a.month?h.makeTime(u,l+r*m):!c||g!==a.day&&g!==a.week?c&&g===a.hour&&1<m?h.makeTime(u,l,v,y+r*m):f+g*m:h.makeTime(u,l,v+r*m*(g===a.day?1:7)),r++;p.push(f),g<=a.hour&&1e4>p.length&&i(p,function(t){0==t%18e5&&"000000000"===h.dateFormat("%H%M%S%L",t)&&(d[t]="day")})}return p.info=n(t,{higherRanks:d,totalRange:g*m}),p}}}(e),function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),t.time.update(i(t.defaultOptions.global,t.defaultOptions.time),!1),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,n){return t.time.dateFormat(e,i,n)}}(e),function(t){var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,r=t.isNumber,o=t.merge,a=t.pick,s=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n=this.axis,r=n.options,s=n.chart,l=n.categories,u=n.names,c=this.pos,h=r.labels,p=n.tickPositions,d=c===p[0],f=c===p[p.length-1];u=l?a(l[c],u[c],c):c,l=this.label,p=p.info;n.isDatetimeAxis&&p&&(t=r.dateTimeLabelFormats[p.higherRanks[c]||p.unitName]),this.isFirst=d,this.isLast=f,r=n.labelFormatter.call({axis:n,chart:s,isFirst:d,isLast:f,dateTimeLabelFormat:t,value:n.isLog?e(n.lin2log(u)):u,pos:c}),i(l)?l&&l.attr({text:r}):((this.label=l=i(r)&&h.enabled?s.renderer.text(r,0,0,h.useHTML).css(o(h.style)).add(n.labelGroup):null)&&(l.textPxLength=l.getBBox().width),this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i=this.axis,n=i.options.labels,r=t.x,o=i.chart.chartWidth,l=i.chart.spacing,u=a(i.labelLeft,Math.min(i.pos,l[3])),c=(l=a(i.labelRight,Math.max(i.isRadial?0:i.pos+i.len,o-l[1])),this.label),h=this.rotation,p={left:0,center:.5,right:1}[i.labelAlign||c.attr("align")],d=c.getBBox().width,f=i.getSlotWidth(),g=f,m=1,v={};h||!1===n.overflow?0>h&&r-p*d<u?e=Math.round(r/Math.cos(h*s)-u):0<h&&r+p*d>l&&(e=Math.round((o-r)/Math.cos(h*s))):(o=r+(1-p)*d,r-p*d<u?g=t.x+g*(1-p)-u:o>l&&(g=l-t.x+g*p,m=-1),g=Math.min(f,g),g<f&&"center"===i.labelAlign&&(t.x+=m*(f-g-p*(f-Math.min(d,g)))),(d>g||i.autoRotation&&(c.styles||{}).width)&&(e=g)),e&&(v.width=e,(n.style||{}).textOverflow||(v.textOverflow="ellipsis"),c.css(v))},getPosition:function(e,i,n,r){var o=this.axis,a=o.chart,s=r&&a.oldChartHeight||a.chartHeight;return{x:e?t.correctFloat(o.translate(i+n,null,null,r)+o.transB):o.left+o.offset+(o.opposite?(r&&a.oldChartWidth||a.chartWidth)-o.right-o.left:0),y:e?s-o.bottom+o.offset-(o.opposite?o.height:0):t.correctFloat(s-o.translate(i+n,null,null,r)-o.transB)}},getLabelPosition:function(t,e,n,r,o,a,l,u){var c=this.axis,h=c.transA,p=c.reversed,d=c.staggerLines,f=c.tickRotCorr||{x:0,y:0},g=o.y,m=r||c.reserveSpaceDefault?0:-c.labelOffset*("center"===c.labelAlign?.5:1);return i(g)||(g=0===c.side?n.rotation?-8:-n.getBBox().height:2===c.side?f.y+8:Math.cos(n.rotation*s)*(f.y-n.getBBox(!1,0).height/2)),t=t+o.x+m+f.x-(a&&r?a*h*(p?-1:1):0),e=e+g-(a&&!r?a*h*(p?1:-1):0),d&&(n=l/(u||1)%d,c.opposite&&(n=d-n-1),e+=c.labelOffset/d*n),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},renderGridLine:function(t,e,i){var n=this.axis,r=n.options,o=this.gridLine,a={},s=this.pos,l=this.type,u=n.tickmarkOffset,c=n.chart.renderer,h=l?l+"Grid":"grid",p=r[h+"LineWidth"],d=r[h+"LineColor"];r=r[h+"LineDashStyle"];o||(a.stroke=d,a["stroke-width"]=p,r&&(a.dashstyle=r),l||(a.zIndex=1),t&&(a.opacity=0),this.gridLine=o=c.path().attr(a).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(n.gridGroup)),!t&&o&&(t=n.getPlotLinePath(s+u,o.strokeWidth()*i,t,!0))&&o[this.isNew?"attr":"animate"]({d:t,opacity:e})},renderMark:function(t,e,i){var n=this.axis,r=n.options,o=n.chart.renderer,s=this.type,l=s?s+"Tick":"tick",u=n.tickSize(l),c=this.mark,h=!c,p=t.x;t=t.y;var d=a(r[l+"Width"],!s&&n.isXAxis?1:0);r=r[l+"Color"];u&&(n.opposite&&(u[0]=-u[0]),h&&(this.mark=c=o.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(n.axisGroup),c.attr({stroke:r,"stroke-width":d})),c[h?"attr":"animate"]({d:this.getMarkPath(p,t,u[0],c.strokeWidth()*i,n.horiz,o),opacity:e}))},renderLabel:function(t,e,i,n){var o=this.axis,s=o.horiz,l=o.options,u=this.label,c=l.labels,h=c.step,p=(o=o.tickmarkOffset,!0),d=t.x;t=t.y,u&&r(d)&&(u.xy=t=this.getLabelPosition(d,t,u,s,c,o,n,h),this.isFirst&&!this.isLast&&!a(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!a(l.showLastLabel,1)?p=!1:!s||c.step||c.rotation||e||0===i||this.handleOverflow(t),h&&n%h&&(p=!1),p&&r(t.y)?(t.opacity=i,u[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(u.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,n){var r=this.axis,o=r.horiz,s=this.getPosition(o,this.pos,r.tickmarkOffset,i),l=s.x,u=s.y;r=o&&l===r.pos+r.len||!o&&u===r.pos?-1:1;n=a(n,1),this.isActive=!0,this.renderGridLine(i,n,r),this.renderMark(s,n,r),this.renderLabel(s,i,n,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){n(this,this.axis)}}}(e);var i=function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.color,a=t.correctFloat,s=t.defaultOptions,l=t.defined,u=t.deg2rad,c=t.destroyObjectProperties,h=t.each,p=t.extend,d=t.fireEvent,f=t.format,g=t.getMagnitude,m=t.grep,v=t.inArray,y=t.isArray,b=t.isNumber,x=t.isString,_=t.merge,w=t.normalizeTickInterval,C=t.objectEach,S=t.pick,k=t.removeEvent,A=t.splat,T=t.syncTimeout,M=t.Tick,E=function(){this.init.apply(this,arguments)};return t.extend(E.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,r=this;r.chart=t,r.horiz=t.inverted&&!r.isZAxis?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var o=this.options,a=o.type;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===a||!0===o.categories,r.categories=o.categories||r.hasNames,r.names||(r.names=[],r.names.keys={}),r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===a,r.isDatetimeAxis="datetime"===a,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=S(o.crosshair,A(t.options.tooltip.crosshairs)[n?0:1],!1),i=r.options.events,-1===v(r,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&!r.isZAxis&&n&&void 0===r.reversed&&(r.reversed=!0),C(i,function(t,i){e(r,i,t)}),r.lin2log=o.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=_(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],_(s[this.coll],t))},defaultLabelFormatter:function(){var e,i=this.axis,n=this.value,r=i.chart.time,o=i.categories,a=this.dateTimeLabelFormat,l=s.lang,u=l.numericSymbols,c=(l=l.numericSymbolMagnitude||1e3,u&&u.length),h=i.options.labels.format;i=i.isLog?Math.abs(n):i.tickInterval;if(h)e=f(h,this,r);else if(o)e=n;else if(a)e=r.dateFormat(a,n);else if(c&&1e3<=i)for(;c--&&void 0===e;)r=Math.pow(l,c+1),i>=r&&0==10*n%r&&null!==u[c]&&0!==n&&(e=t.numberFormat(n/r,-1)+u[c]);return void 0===e&&(e=1e4<=Math.abs(n)?t.numberFormat(n,-1):t.numberFormat(n,-1,void 0,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),h(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,a=i.options,s=a.threshold;t.hasVisibleSeries=!0,t.positiveValuesOnly&&0>=s&&(s=null),t.isXAxis?(a=i.xData,a.length&&(i=r(a),o=n(a),b(i)||i instanceof Date||(a=m(a,b),i=r(a),o=n(a)),a.length&&(t.dataMin=Math.min(S(t.dataMin,a[0],i),i),t.dataMax=Math.max(S(t.dataMax,a[0],o),o)))):(i.getExtremes(),o=i.dataMax,i=i.dataMin,l(i)&&l(o)&&(t.dataMin=Math.min(S(t.dataMin,i),i),t.dataMax=Math.max(S(t.dataMax,o),o)),l(s)&&(t.threshold=s),(!a.softThreshold||t.positiveValuesOnly)&&(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var a=this.linkedParent||this,s=1,l=0,u=n?a.oldTransA:a.transA;n=n?a.oldMin:a.min;var c=a.minPixelPadding;return r=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val,u||(u=a.transA),i&&(s*=-1,l=a.len),a.reversed&&(s*=-1,l-=s*(a.sector||a.len)),e?(t=(t*s+l-c)/u+n,r&&(t=a.lin2val(t))):(r&&(t=a.val2lin(t)),t=b(n)?s*(t-n)*u+l+s*c+(b(o)?u*o:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,a,s,l=this.chart,u=this.left,c=this.top,h=i&&l.oldChartHeight||l.chartHeight,p=i&&l.oldChartWidth||l.chartWidth;o=this.transB;var d=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):s=!0),t};return r=S(r,this.translate(t,null,null,i)),r=Math.min(Math.max(-1e5,r),1e5),t=i=Math.round(r+o),o=a=Math.round(h-r-o),b(r)?this.horiz?(o=c,a=h-this.bottom,t=i=d(t,u,u+this.width)):(t=u,i=p-this.right,o=a=d(o,c,c+this.height)):(s=!0,n=!1),s&&!n?null:l.renderer.crispLine(["M",t,o,"L",i,a],e||1)},getLinearTickPositions:function(t,e,i){var n,r=a(Math.floor(e/t)*t);i=a(Math.ceil(i/t)*t);var o,s=[];if(a(r+t)===r&&(o=20),this.single)return[e];for(e=r;e<=i&&(s.push(e),(e=a(e+t,o))!==n);)n=e;return s},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?S(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,n=t.minorTickInterval,r=[],o=t.pointRangePadding||0,a=t.min-o,s=(o=t.max+o,o-a);if(s&&s/n<t.len/3)if(t.isLog)h(this.paddedTicks,function(e,i,o){i&&r.push.apply(r,t.getLogTickPositions(n,o[i-1],o[i],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())r=r.concat(t.getTimeTicks(t.normalizeTimeTickInterval(n),a,o,e.startOfWeek));else for(e=a+(i[0]-a)%n;e<=o&&e!==r[0];e+=n)r.push(e);return 0!==r.length&&t.trimTicks(r),r},adjustForMinRange:function(){var t,e,i,o,a,s,u,c=this.options,p=this.min,d=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(c.min)||l(c.max)?this.minRange=null:(h(this.series,function(t){for(s=t.xData,o=t.xIncrement?1:s.length-1;0<o;o--)a=s[o]-s[o-1],(void 0===i||a<i)&&(i=a)}),this.minRange=Math.min(5*i,this.dataMax-this.dataMin))),d-p<this.minRange&&(e=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,t=(u-d+p)/2,t=[p-t,S(c.min,p-t)],e&&(t[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=n(t),d=[p+u,S(c.max,p+u)],e&&(d[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(d=r(d))-p<u&&(t[0]=d-u,t[1]=S(c.min,d-u),p=n(t))),this.min=p,this.max=d},getClosest:function(){var t;return this.categories?t=1:h(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&l(i)&&n&&(t=l(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=y(this.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():i?v(t.name,n):S(n.keys[t.name],-1)),-1===r?i||(e=n.length):e=r,void 0!==e&&(this.names[e]=t.name,this.names.keys[t.name]=e),e},updateNames:function(){var e=this,i=this.names;0<i.length&&(h(t.keys(i.keys),function(t){delete i.keys[t]}),i.length=0,this.minRange=this.userMinRange,h(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),h(t.points,function(i,n){var r;i.options&&void 0!==(r=e.nameToX(i))&&r!==i.x&&(i.x=r,t.xData[n]=r)})}))},setAxisTranslation:function(t){var e,i=this,n=i.max-i.min,r=i.axisPointRange||0,o=0,a=0,s=i.linkedParent,l=!!i.categories,u=i.transA,c=i.isXAxis;(c||l||r)&&(e=i.getClosest(),s?(o=s.minPointOffset,a=s.pointRangePadding):h(i.series,function(t){var n=l?1:c?S(t.options.pointRange,e,0):i.axisPointRange||0;t=t.options.pointPlacement,r=Math.max(r,n),i.single||(o=Math.max(o,x(t)?0:n/2),a=Math.max(a,"on"===t?0:n))}),s=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=o*=s,i.pointRangePadding=a*=s,i.pointRange=Math.min(r,n),c&&(i.closestPointRange=e)),t&&(i.oldTransA=u),i.translationSlope=i.transA=u=i.options.staticScale||i.len/(n+a||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=u*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,r,o,s=this,u=s.chart,c=s.options,p=s.isLog,f=s.log2lin,m=s.isDatetimeAxis,v=s.isXAxis,y=s.isLinked,x=c.maxPadding,_=c.minPadding,C=c.tickInterval,k=c.tickPixelInterval,A=s.categories,T=s.threshold,M=s.softThreshold;m||A||y||this.getTickAmount(),r=S(s.userMin,c.min),o=S(s.userMax,c.max),y?(s.linkedParent=u[s.coll][c.linkedTo],u=s.linkedParent.getExtremes(),s.min=S(u.min,u.dataMin),s.max=S(u.max,u.dataMax),c.type!==s.linkedParent.options.type&&t.error(11,1)):(!M&&l(T)&&(s.dataMin>=T?(i=T,_=0):s.dataMax<=T&&(n=T,x=0)),s.min=S(r,i,s.dataMin),s.max=S(o,n,s.dataMax)),p&&(s.positiveValuesOnly&&!e&&0>=Math.min(s.min,S(s.dataMin,s.min))&&t.error(10,1),s.min=a(f(s.min),15),s.max=a(f(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=Math.max(s.dataMin,s.minFromRange()),s.userMax=o=s.max,s.range=null),d(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(A||s.axisPointRange||s.usePercentage||y)&&l(s.min)&&l(s.max)&&(f=s.max-s.min)&&(!l(r)&&_&&(s.min-=f*_),!l(o)&&x&&(s.max+=f*x)),b(c.softMin)&&!b(s.userMin)&&(s.min=Math.min(s.min,c.softMin)),b(c.softMax)&&!b(s.userMax)&&(s.max=Math.max(s.max,c.softMax)),b(c.floor)&&(s.min=Math.max(s.min,c.floor)),b(c.ceiling)&&(s.max=Math.min(s.max,c.ceiling)),M&&l(s.dataMin)&&(T=T||0,!l(r)&&s.min<T&&s.dataMin>=T?s.min=T:!l(o)&&s.max>T&&s.dataMax<=T&&(s.max=T)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:y&&!C&&k===s.linkedParent.options.tickPixelInterval?C=s.linkedParent.tickInterval:S(C,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,A?1:(s.max-s.min)*k/Math.max(s.len,k)),v&&!e&&h(s.series,function(t){t.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!C&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),e=S(c.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!C&&s.tickInterval<e&&(s.tickInterval=e),m||p||C||(s.tickInterval=w(s.tickInterval,null,g(s.tickInterval),S(c.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e=this.options,i=e.tickPositions;t=this.getMinorTickInterval();var n=e.tickPositioner,r=e.startOnTick,o=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=t=i&&i.slice(),!t&&(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()],t[0]===t[1]&&(t.length=1)),this.tickPositions=t,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=t=n),this.paddedTicks=t.slice(0),this.trimTicks(t,r,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),i||n||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(!this.isLinked){if(e&&-1/0!==n)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&l(n)&&!this.options.tickPositions&&t.push((r+n)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||h(this.chart[this.coll],function(i){var n=i.options;n=[i.horiz?n.left:n.top,n.width,n.height,n.pane].join();i.series.length&&(e[n]?t=!0:e[n]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!l(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t=this.tickInterval,e=this.tickPositions,i=this.tickAmount,n=this.finalTickAmt,r=e&&e.length,o=S(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<i){for(;e.length<i;)e.length%2||this.min===o?e.push(a(e[e.length-1]+t)):e.unshift(a(e[0]-t));this.transA*=(r-1)/(i-1),this.min=e[0],this.max=e[e.length-1]}else r>i&&(this.tickInterval*=2,this.setTickPositions());if(l(n)){for(t=i=e.length;t--;)(3===n&&1==t%2||2>=n&&0<t&&t<i-1)&&e.splice(t,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),e=this.len!==this.oldAxisLength,h(this.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=e||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),d(this,"afterSetScale")},setExtremes:function(t,e,i,n,r){var o=this,a=o.chart;i=S(i,!0),h(o.series,function(t){delete t.kdTree}),r=p(r,{min:t,max:e}),d(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&a.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=Math.min(i,S(r.min,i));r=Math.max(n,S(r.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(l(i)&&(t<o&&(t=o),t>r&&(t=r)),l(n)&&(e<o&&(e=o),e>r&&(e=r))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var e=this.chart,i=this.options,n=i.offsets||[0,0,0,0],r=this.horiz,o=this.width=Math.round(t.relativeLength(S(i.width,e.plotWidth-n[3]+n[1]),e.plotWidth)),a=this.height=Math.round(t.relativeLength(S(i.height,e.plotHeight-n[0]+n[2]),e.plotHeight)),s=this.top=Math.round(t.relativeLength(S(i.top,e.plotTop+n[0]),e.plotHeight,e.plotTop));i=this.left=Math.round(t.relativeLength(S(i.left,e.plotLeft+n[3]),e.plotWidth,e.plotLeft));this.bottom=e.chartHeight-a-s,this.right=e.chartWidth-o-i,this.len=Math.max(r?o:a,0),this.pos=r?i:s},getExtremes:function(){var t=this.isLog,e=this.lin2log;return{min:t?a(e(this.min)):this.min,max:t?a(e(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=this.lin2log,n=e?i(this.min):this.min;e=e?i(this.max):this.max;return null===t?t=n:n>t?t=n:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){return t=(S(t,0)-90*this.side+720)%360,15<t&&165>t?"right":195<t&&345>t?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=S(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,a=o,s=this.len/(((this.categories?1:0)+this.max-this.min)/o),c=n.rotation,p=this.labelMetrics(),d=Number.MAX_VALUE,f=function(t){return t/=s||1,(t=1<t?Math.ceil(t):1)*o};return r?(i=!n.staggerLines&&!n.step&&(l(c)?[c]:s<S(n.autoRotationLimit,80)&&n.autoRotation))&&h(i,function(i){var n;(i===c||i&&-90<=i&&90>=i)&&(e=f(Math.abs(p.h/Math.sin(u*i))),(n=e+Math.abs(i/360))<d&&(d=n,t=i,a=e))}):n.step||(a=f(p.h)),this.autoRotation=i,this.labelRotation=S(t,c),a},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&2>(i.step||0)&&!i.rotation&&(this.staggerLines||1)*this.len/n||!e&&(i.style&&parseInt(i.style.width,10)||r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n=this.chart,r=n.renderer,o=this.tickPositions,a=this.ticks,s=this.options.labels,l=this.horiz,u=this.getSlotWidth(),c=Math.max(1,Math.round(u-2*(s.padding||5))),p={},d=this.labelMetrics(),f=s.style&&s.style.textOverflow,g=0;if(x(s.rotation)||(p.rotation=s.rotation||0),h(o,function(t){(t=a[t])&&t.label&&t.label.textPxLength>g&&(g=t.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>c&&g>d.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(t=c,!f))for(e="clip",c=o.length;!l&&c--;)i=o[c],(i=a[i].label)&&(i.styles&&"ellipsis"===i.styles.textOverflow?i.css({textOverflow:"clip"}):i.textPxLength>u&&i.css({width:u+"px"}),i.getBBox().height>this.len/o.length-(d.h-d.f)&&(i.specificTextOverflow="ellipsis"));p.rotation&&(t=g>.5*n.chartHeight?.33*n.chartHeight:n.chartHeight,f||(e="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(p.align=this.labelAlign),h(o,function(i){var n=(i=a[i])&&i.label;n&&(n.attr(p),!t||s.style&&s.style.width||!(t<n.textPxLength||"SPAN"===n.element.tagName)||n.css({width:t,textOverflow:n.specificTextOverflow||e}),delete n.specificTextOverflow,i.rotation=p.rotation)}),this.tickRotCorr=r.rotCorr(d.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(t){var e,i=this.chart.renderer,n=this.horiz,r=this.opposite,o=this.options.title;this.axisTitle||((e=o.textAlign)||(e=(n?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[o.align]),this.axisTitle=i.text(o.text,0,0,o.useHTML).attr({zIndex:7,rotation:o.rotation||0,align:e}).addClass("highcharts-axis-title").css(_(o.style)).add(this.axisGroup),this.axisTitle.isNew=!0),o.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](!0)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new M(this,t)},getOffset:function(){var t,e,i,n=this,r=n.chart,o=r.renderer,a=n.options,s=n.tickPositions,u=n.ticks,c=n.horiz,p=n.side,d=r.inverted&&!n.isZAxis?[1,0,3,2][p]:p,f=0,g=0,m=a.title,v=a.labels,y=0,b=r.axisOffset,x=(r=r.clipOffset,[-1,1,1,-1][p]),_=a.className,w=n.axisParent,k=this.tickSize("tick");t=n.hasData(),n.showAxis=e=t||S(a.showEmpty,!0),n.staggerLines=n.horiz&&v.staggerLines,n.axisGroup||(n.gridGroup=o.g("grid").attr({zIndex:a.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(_||"")).add(w),n.axisGroup=o.g("axis").attr({zIndex:a.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(_||"")).add(w),n.labelGroup=o.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels "+(_||"")).add(w)),t||n.isLinked?(h(s,function(t,e){n.generateTick(t,e)}),n.renderUnsquish(),n.reserveSpaceDefault=0===p||2===p||{1:"left",3:"right"}[p]===n.labelAlign,S(v.reserveSpace,"center"===n.labelAlign||null,n.reserveSpaceDefault)&&h(s,function(t){y=Math.max(u[t].getLabelSize(),y)}),n.staggerLines&&(y*=n.staggerLines),n.labelOffset=y*(n.opposite?-1:1)):C(u,function(t,e){t.destroy(),delete u[e]}),m&&m.text&&!1!==m.enabled&&(n.addTitle(e),e&&!1!==m.reserveSpace&&(n.titleOffset=f=n.axisTitle.getBBox()[c?"height":"width"],i=m.offset,g=l(i)?0:S(m.margin,c?5:10))),n.renderLine(),n.offset=x*S(a.offset,b[p]),n.tickRotCorr=n.tickRotCorr||{x:0,y:0},o=0===p?-n.labelMetrics().h:2===p?n.tickRotCorr.y:0,g=Math.abs(y)+g,y&&(g=g-o+x*(c?S(v.y,n.tickRotCorr.y+8*x):v.x)),n.axisTitleMargin=S(i,g),b[p]=Math.max(b[p],n.axisTitleMargin+f+x*n.offset,g,t&&s.length&&k?k[0]+x*n.offset:0),a=a.offset?0:2*Math.floor(n.axisLine.strokeWidth()/2),r[d]=Math.max(r[d],a)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n;n=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?n:this.top,"L",r?e.chartWidth-this.right:o,r?n:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,a=this.opposite,s=this.offset,l=r.x||0,u=r.y||0,c=this.axisTitle,h=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,c);c=Math.max(c.getBBox(null,0).height-h.h-1,0),n={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],e=(t?i+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+[-c,c,h.f,-c][this.side];return{x:t?n+l:e+(a?this.width:0)+s+l,y:t?e+u-(a?this.height:0)+s:n+u}},renderMinorTick:function(t){var e=this.chart.hasRendered&&b(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new M(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,n=this.ticks,r=this.chart.hasRendered&&b(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(n[t]||(n[t]=new M(this,t)),r&&n[t].isNew&&n[t].render(e,!0,.1),n[t].render(e))},render:function(){var e,n,r=this,o=r.chart,a=r.options,s=r.isLog,l=r.lin2log,u=r.isLinked,c=r.tickPositions,p=r.axisTitle,d=r.ticks,f=r.minorTicks,g=r.alternateBands,m=a.stackLabels,v=a.alternateGridColor,y=r.tickmarkOffset,x=r.axisLine,_=r.showAxis,w=i(o.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,h([d,f,g],function(t){C(t,function(t){t.isActive=!1})}),(r.hasData()||u)&&(r.minorTickInterval&&!r.categories&&h(r.getMinorTickPositions(),function(t){r.renderMinorTick(t)}),c.length&&(h(c,function(t,e){r.renderTick(t,e)}),y&&(0===r.min||r.single)&&(d[-1]||(d[-1]=new M(r,-1,null,!0)),d[-1].render(-1))),v&&h(c,function(i,a){n=void 0!==c[a+1]?c[a+1]+y:r.max-y,0==a%2&&i<r.max&&n<=r.max+(o.polar?-y:y)&&(g[i]||(g[i]=new t.PlotLineOrBand(r)),e=i+y,g[i].options={from:s?l(e):e,to:s?l(n):n,color:v},g[i].render(),g[i].isActive=!0)}),r._addedPlotLB||(h((a.plotLines||[]).concat(a.plotBands||[]),function(t){r.addPlotBandOrLine(t)}),r._addedPlotLB=!0)),h([d,f,g],function(t){var e,i=[],n=w.duration;C(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),T(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==g&&o.hasRendered&&n?n:0)}),x&&(x[x.isPlaced?"animate":"attr"]({d:this.getLinePath(x.strokeWidth())}),x.isPlaced=!0,x[_?"show":"hide"](!0)),p&&_&&(a=r.getTitlePosition(),b(a.y)?(p[p.isNew?"attr":"animate"](a),p.isNew=!1):(p.attr("y",-9999),p.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),h(this.plotLinesAndBands,function(t){t.render()})),h(this.series,function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,n=i.stacks,r=i.plotLinesAndBands;if(t||k(i),C(n,function(t,e){c(t),n[e]=null}),h([i.ticks,i.minorTicks,i.alternateBands],function(t){c(t)}),r)for(t=r.length;t--;)r[t].destroy();for(e in h("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(t){i[t]&&(i[t]=i[t].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();C(i,function(t,e){-1===v(e,i.keepProps)&&delete i[e]})},drawCrosshair:function(t,e){var i,n,r=this.crosshair,a=S(r.snap,!0),s=this.cross;t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(l(e)||!a)?(a?l(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),l(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:S(e.stackY,e.y)),null,null,null,n)||null),l(i)?(e=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(e?"category ":"thin ")+r.className).attr({zIndex:S(r.zIndex,2)}).add(),s.attr({stroke:r.color||(e?o("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":S(r.width,1)}).css({"pointer-events":"none"}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:i}),e&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=t):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),t.Axis=E}(e);return function(t){var e=t.Axis,i=t.getMagnitude,n=t.normalizeTickInterval,r=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var o=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=o[o.length-1];var a,s=r[e[0]],l=e[1];for(a=0;a<o.length&&(e=o[a],s=r[e[0]],l=e[1],!(o[a+1]&&t<=(s*l[l.length-1]+r[o[a+1][0]])/2));a++);return s===r.year&&t<5*s&&(l=[1,2,5]),t=n(t/s,l,"year"===e[0]?Math.max(i(t/s),1):1),{unitRange:s,count:t,unitName:e[0]}}}(e),function(t){var e=t.Axis,i=t.getMagnitude,n=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,a,s){var l=this.options,u=this.len,c=this.lin2log,h=this.log2lin,p=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),p=this.getLinearTickPositions(t,e,a);else if(.08<=t){var d,f,g,m,v;for(u=Math.floor(e),l=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];u<a+1&&!v;u++)for(f=l.length,d=0;d<f&&!v;d++)g=h(c(u)*l[d]),g>e&&(!s||m<=a)&&void 0!==m&&p.push(m),m>a&&(v=!0),m=g}else e=c(e),a=c(a),t=s?this.getMinorTickInterval():l.tickInterval,t=o("auto"===t?null:t,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(a-e)/((s?u/this.tickPositions.length:u)||1)),t=r(t,null,i(t)),p=n(this.getLinearTickPositions(t,e,a),h),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),p},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t,e){var i=t.arrayMax,n=t.arrayMin,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.erase,l=t.merge,u=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var e=this,i=e.axis,n=i.horiz,o=e.options,a=o.label,s=e.label,c=o.to,h=o.from,p=o.value,d=r(h)&&r(c),f=r(p),g=e.svgElem,m=!g,v=[],y=o.color,b=u(o.zIndex,0),x=o.events,_=(v={class:"highcharts-plot-"+(d?"band ":"line ")+(o.className||"")},{}),w=i.chart.renderer,C=d?"bands":"lines",S=i.log2lin;if(i.isLog&&(h=S(h),c=S(c),p=S(p)),f?(v={stroke:y,"stroke-width":o.width},o.dashStyle&&(v.dashstyle=o.dashStyle)):d&&(y&&(v.fill=y),o.borderWidth&&(v.stroke=o.borderColor,v["stroke-width"]=o.borderWidth)),_.zIndex=b,C+="-"+b,(y=i.plotLinesAndBandsGroups[C])||(i.plotLinesAndBandsGroups[C]=y=w.g("plot-"+C).attr(_).add()),m&&(e.svgElem=g=w.path().attr(v).add(y)),f)v=i.getPlotLinePath(p,g.strokeWidth());else{if(!d)return;v=i.getPlotBandPath(h,c,o)}return m&&v&&v.length?(g.attr({d:v}),x&&t.objectEach(x,function(t,i){g.on(i,function(t){x[i].apply(e,[t])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),s&&(e.label=s=s.destroy()))),a&&r(a.text)&&v&&v.length&&0<i.width&&0<i.height&&!v.flat?(a=l({align:n&&d&&"center",x:n?!d&&4:10,verticalAlign:!n&&d&&"middle",y:n?d?16:10:d?6:-4,rotation:n&&!d&&90},a),this.renderLabel(a,v,d,b)):s&&s.hide(),e},renderLabel:function(t,e,r,o){var a=this.label,s=this.axis.chart.renderer;a||(a={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},a.zIndex=o,this.label=a=s.text(t.text,0,0,t.useHTML).attr(a).add(),a.css(t.style)),o=e.xBounds||[e[1],e[4],r?e[6]:e[1]],e=e.yBounds||[e[2],e[5],r?e[7]:e[2]],r=n(o),s=n(e),a.align(t,!1,{x:r,y:s,width:i(o)-r,height:i(e)-s}),a.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,o(this)}},t.extend(e.prototype,{getPlotBandPath:function(t,e){var i,n=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[],a=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,r&&n)for(t&&(i=r.toString()===n.toString(),s=0),t=0;t<r.length;t+=6)a&&n[t+1]===r[t+1]?(n[t+1]+=s,n[t+4]+=s):a||n[t+2]!==r[t+2]||(n[t+2]+=s,n[t+5]+=s),o.push("M",r[t+1],r[t+2],"L",r[t+4],r[t+5],n[t+4],n[t+5],n[t+1],n[t+2],"z"),o.flat=i;return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();a([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}(e,i),function(t){var e=t.each,i=t.extend,n=t.format,r=t.isNumber,o=t.map,a=t.merge,s=t.pick,l=t.splat,u=t.syncTimeout,c=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){e(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),a(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,r){var o=this,a=o.now,s=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-a.x)||1<Math.abs(e-a.y)),l=o.followPointer||1<o.len;i(a,{x:s?(2*a.x+t)/3:t,y:s?(a.y+e)/2:e,anchorX:l?void 0:s?(2*a.anchorX+n)/3:n,anchorY:l?void 0:s?(a.anchorY+r)/2:r}),o.getLabel().attr(a),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,n,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=s(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,i){var n,r,a,s=this.chart,u=s.inverted,c=s.plotTop,h=s.plotLeft,p=0,d=0;return t=l(t),n=t[0].tooltipPos,this.followPointer&&i&&(void 0===i.chartX&&(i=s.pointer.normalize(i)),n=[i.chartX-s.plotLeft,i.chartY-c]),n||(e(t,function(t){r=t.series.yAxis,a=t.series.xAxis,p+=t.plotX+(!u&&a?a.left-h:0),d+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!u&&r?r.top-c:0)}),p/=t.length,d/=t.length,n=[u?s.plotWidth-d:p,this.shared&&!u&&1<t.length&&i?i.chartY-c:u?s.plotHeight-p:d]),o(n,Math.round)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,a={},l=r.inverted&&i.h||0,u=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=!this.followPointer&&s(i.ttBelow,!r.inverted==!!i.negative),p=function(t,e,i,n,r,s){var u=i<n-o,c=n+o+i<e,p=n-o-i;if(n+=o,h&&c)a[t]=n;else if(!h&&u)a[t]=p;else if(u)a[t]=Math.min(s-i,0>p-l?p:p-l);else{if(!c)return!1;a[t]=Math.max(r,n+l+i>e?n:n+l)}},d=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:a[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},f=function(t){var e=u;u=c,c=e,n=t},g=function(){!1!==p.apply(0,u)?!1!==d.apply(0,c)||n||(f(!0),g()):n?a.x=a.y=0:(f(!0),g())};return(r.inverted||1<this.len)&&f(),g(),a},defaultFormatter:function(t){var e,i=this.points||l(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,i){var n,r,o,a=this.options,u=t,c={},h=[];n=a.formatter||this.defaultFormatter;var p;c=this.shared;a.enabled&&(clearTimeout(this.hideTimer),this.followPointer=l(u)[0].series.tooltipOptions.followPointer,o=this.getAnchor(u,i),i=o[0],r=o[1],!c||u.series&&u.series.noSharedTooltip?c=u.getLabelConfig():(e(u,function(t){t.setState("hover"),h.push(t.getLabelConfig())}),c={x:u[0].category,y:u[0].y},c.points=h,u=u[0]),this.len=h.length,c=n.call(c,this),p=u.series,this.distance=s(p.tooltipOptions.distance,16),!1===c?this.hide():(n=this.getLabel(),this.isHidden&&n.attr({opacity:1}).show(),this.split?this.renderSplit(c,l(t)):(a.style.width||n.css({width:this.chart.spacingBox.width}),n.attr({text:c&&c.join?c.join(""):c}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+s(u.colorIndex,p.colorIndex)),n.attr({stroke:a.borderColor||u.color||p.color||"#666666"}),this.updatePosition({plotX:i,plotY:r,negative:u.negative,ttBelow:u.ttBelow,h:o[2]||0})),this.isHidden=!1))},renderSplit:function(i,n){var r=this,o=[],a=this.chart,l=a.renderer,u=!0,c=this.options,h=0,p=this.getLabel();t.isString(i)&&(i=[!1,i]),e(i.slice(0,n.length+1),function(t,e){if(!1!==t){e=n[e-1]||{isHeader:!0,plotX:n[0].plotX};var i=e.series||r,d=i.tt,f=e.series||{},g="highcharts-color-"+s(e.colorIndex,f.colorIndex,"none");d||(i.tt=d=l.label(null,null,null,"callout",null,null,c.useHTML).addClass("highcharts-tooltip-box "+g).attr({padding:c.padding,r:c.borderRadius,fill:c.backgroundColor,stroke:c.borderColor||e.color||f.color||"#333333","stroke-width":c.borderWidth}).add(p)),d.isActive=!0,d.attr({text:t}),d.css(c.style).shadow(c.shadow),t=d.getBBox(),f=t.width+d.strokeWidth(),e.isHeader?(h=t.height,f=Math.max(0,Math.min(e.plotX+a.plotLeft-f/2,a.chartWidth-f))):f=e.plotX+a.plotLeft-s(c.distance,16)-f,0>f&&(u=!1),t=(e.series&&e.series.yAxis&&e.series.yAxis.pos)+(e.plotY||0),t-=a.plotTop,o.push({target:e.isHeader?a.plotHeight+h:t,rank:e.isHeader?1:0,size:i.tt.getBBox().height+1,point:e,x:f,tt:d})}}),this.cleanSplit(),t.distribute(o,a.plotHeight+h),e(o,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:u||e.isHeader?t.x:e.plotX+a.plotLeft+s(c.distance,16),y:t.pos+a.plotTop,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e=this.chart,i=this.getLabel();i=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(i.x),Math.round(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getDateFormat:function(t,e,i,n){var r,o,a=this.chart.time,s=a.dateFormat("%m-%d %H:%M:%S.%L",e),l={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";for(o in c){if(t===c.week&&+a.dateFormat("%w",e)===i&&"00:00:00.000"===s.substr(6)){o="week";break}if(c[o]>t){o=u;break}if(l[o]&&s.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(u=o)}return o&&(r=n[o]),r},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var n=i&&i.closestPointRange;return(n?this.getDateFormat(n,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(t,i){i=i?"footer":"header";var o=t.series,a=o.tooltipOptions,s=a.xDateFormat,l=o.xAxis,u=l&&"datetime"===l.options.type&&r(t.key),c=a[i+"Format"];return u&&!s&&(s=this.getXDateFormat(t,a,l)),u&&s&&e(t.point&&t.point.tooltipDateKeys||["key"],function(t){c=c.replace("{point."+t+"}","{point."+t+":"+s+"}")}),n(c,{point:t,series:o},this.chart.time)},bodyFormatter:function(t){return o(t,function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"])})}}}(e),function(t){var e=t.addEvent,i=t.attr,n=t.charts,r=t.color,o=t.css,a=t.defined,s=t.each,l=t.extend,u=t.find,c=t.fireEvent,h=t.isNumber,p=t.isObject,d=t.offset,f=t.pick,g=t.splat,m=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(t.tooltip=new m(t,e.tooltip),this.followTouchMove=f(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,n=i.zoomType||"";e=e.inverted;/touch/.test(t.type)&&(n=f(i.pinchType,n)),this.zoomX=t=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=t&&!e||n&&e,this.zoomVert=n&&!e||t&&e,this.hasZoom=t||n},normalize:function(t,e){var i;return i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=d(this.chart.container)),l(t,{chartX:Math.round(i.pageX-e.left),chartY:Math.round(i.pageY-e.top)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return s(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var n;return s(t,function(t){var r=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,r),(r=p(t,!0))&&!(r=!p(n,!0))){r=n.distX-t.distX;var o=n.dist-t.dist,a=(t.series.group&&t.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);r=0<(0!==r&&e?r:0!==o?o:0!==a?a:n.series.index>t.series.index?-1:1)}r&&(n=t)}),n},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,n=i.xAxis,r=(i=i.yAxis,f(t.clientX,t.plotX));if(n&&i)return e?{chartX:n.len+n.pos-r,chartY:i.len+i.pos-t.plotY}:{chartX:r+n.pos,chartY:t.plotY+i.pos}},getHoverData:function(e,i,n,r,o,a,l){var c,h=[],d=l&&l.isBoosting;return r=!(!r||!e),l=i&&!i.stickyTracking?[i]:t.grep(n,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&t.stickyTracking}),i=(c=r?e:this.findNearestKDPoint(l,o,a))&&c.series,c&&(o&&!i.noSharedTooltip?(l=t.grep(n,function(t){return t.visible&&!(!o&&t.directTouch)&&f(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),s(l,function(t){var e=u(t.points,function(t){return t.x===c.x&&!t.isNull});p(e)&&(d&&(e=t.getPoint(e)),h.push(e))})):h.push(c)),{hoverPoint:c,hoverSeries:i,hoverPoints:h}},runPointActions:function(i,r){var o,a=this.chart,l=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,u=!!l&&l.shared,c=r||a.hoverPoint,h=c&&c.series||a.hoverSeries;h=this.getHoverData(c,h,a.series,!!r||h&&h.directTouch&&this.isDirectTouch,u,i,{isBoosting:a.isBoosting}),c=h.hoverPoint;if(o=h.hoverPoints,r=(h=h.hoverSeries)&&h.tooltipOptions.followPointer,u=u&&h&&!h.noSharedTooltip,c&&(c!==a.hoverPoint||l&&l.isHidden)){if(s(a.hoverPoints||[],function(e){-1===t.inArray(e,o)&&e.setState()}),s(o||[],function(t){t.setState("hover")}),a.hoverSeries!==h&&h.onMouseOver(),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!c.series)return;c.firePointEvent("mouseOver"),a.hoverPoints=o,a.hoverPoint=c,l&&l.refresh(u?o:c,i)}else r&&l&&!l.isHidden&&(c=l.getAnchor([{}],i),l.updatePosition({plotX:c[0],plotY:c[1]}));this.unDocMouseMove||(this.unDocMouseMove=e(a.container.ownerDocument,"mousemove",function(e){var i=n[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),s(a.axes,function(e){var n=f(e.crosshair.snap,!0),r=n?t.find(o,function(t){return t.series[e.coll]===e}):void 0;r||!n?e.drawCrosshair(i,r):e.hideCrosshair()})},reset:function(t,e){var i=this.chart,n=i.hoverSeries,r=i.hoverPoint,o=i.hoverPoints,a=i.tooltip,l=a&&a.shared?o:r;t&&l&&s(g(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&l&&(a.refresh(l),r&&(r.setState(r.state,!0),s(i.axes,function(t){t.crosshair&&t.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),o&&s(o,function(t){t.setState()}),n&&n.onMouseOut(),a&&a.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(i.axes,function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;s(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i=this.chart,n=i.options.chart,o=t.chartX,a=t.chartY,s=this.zoomHor,l=this.zoomVert,u=i.plotLeft,c=i.plotTop,h=i.plotWidth,p=i.plotHeight,d=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=n.panKey&&t[n.panKey+"Key"];d&&d.touch||(o<u?o=u:o>u+h&&(o=u+h),a<c?a=c:a>c+p&&(a=c+p),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(g-a,2)),10<this.hasDragged&&(e=i.isInsidePlot(f-u,g-c),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&!d&&(this.selectionMarker=d=i.renderer.rect(u,c,s?1:h,l?1:p,0).attr({fill:n.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),d&&s&&(o-=f,d.attr({width:Math.abs(o),x:(0<o?0:o)+f})),d&&l&&(o=a-g,d.attr({height:Math.abs(o),y:(0<o?0:o)+g})),e&&!d&&n.panning&&i.pan(t,n.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,u={originalEvent:t,xAxis:[],yAxis:[]},p=this.selectionMarker,d=p.attr?p.attr("x"):p.x,f=p.attr?p.attr("y"):p.y,g=p.attr?p.attr("width"):p.width,m=p.attr?p.attr("height"):p.height;(this.hasDragged||n)&&(s(i.axes,function(i){if(i.zoomEnabled&&a(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,s="touchend"===t.type?i.minPixelPadding:0,l=i.toValue((o?d:f)+s);o=i.toValue((o?d+g:f+m)-s);u[i.coll].push({axis:i,min:Math.min(l,o),max:Math.max(l,o)}),r=!0}}),r&&c(i,"selection",u,function(t){i.zoom(l(t,n?{animation:!1}:null))})),h(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),n&&this.scaleGroups()}i&&h(i.index)&&(o(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=n[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;a(t.hoverChartIndex)&&n[t.hoverChartIndex]&&n[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(c(i.series,"click",l(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(l(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var i=this,n=i.chart.container,r=n.ownerDocument;n.onmousedown=function(t){i.onContainerMouseDown(t)},n.onmousemove=function(t){i.onContainerMouseMove(t)},n.onclick=function(t){i.onContainerClick(t)},this.unbindContainerMouseLeave=e(n,"mouseleave",i.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=e(r,"mouseup",i.onDocumentMouseUp)),t.hasTouch&&(n.ontouchstart=function(t){i.onContainerTouchStart(t)},n.ontouchmove=function(t){i.onContainerTouchMove(t)},t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=e(r,"touchend",i.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),t.objectEach(e,function(t,i){e[i]=null})}}}(e),function(t){var e=t.charts,i=t.each,n=t.extend,r=t.map,o=t.noop,a=t.pick;n(t.Pointer.prototype,{pinchTranslate:function(t,e,i,n,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,a,s){var l,u,c,h=this.chart,p=t?"x":"y",d=t?"X":"Y",f="chart"+d,g=t?"width":"height",m=h["plot"+(t?"Left":"Top")],v=s||1,y=h.inverted,b=h.bounds[t?"h":"v"],x=1===e.length,_=e[0][f],w=i[0][f],C=!x&&e[1][f],S=!x&&i[1][f];i=function(){!x&&20<Math.abs(_-C)&&(v=s||Math.abs(w-S)/Math.abs(_-C)),u=(m-w)/v+_,l=h["plot"+(t?"Width":"Height")]/v},i(),e=u,e<b.min?(e=b.min,c=!0):e+l>b.max&&(e=b.max-l,c=!0),c?(w-=.8*(w-a[p][0]),x||(S-=.8*(S-a[p][1])),i()):a[p]=[w,S],y||(o[p]=u-m,o[g]=l),o=y?1/v:v,r[g]=l,r[p]=e,n[y?t?"scaleY":"scaleX":"scale"+d]=v,n["translate"+d]=o*m+(w-o*_)},pinch:function(t){var e=this,s=e.chart,l=e.pinchDown,u=t.touches,c=u.length,h=e.lastValidTouch,p=e.hasZoom,d=e.selectionMarker,f={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||e.runChartClick),m={};1<c&&(e.initiated=!0),p&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(s.axes,function(t){if(t.zoomEnabled){var e=s.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(a(t.options.min,t.dataMin)),r=t.toPixels(a(t.options.max,t.dataMax)),o=Math.max(n,r);e.min=Math.min(t.pos,Math.min(n,r)-i),e.max=Math.max(t.pos+t.len,o+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(d||(e.selectionMarker=d=n({destroy:o,touch:!0},s.plotBox)),e.pinchTranslate(l,u,f,d,m,h),e.hasPinched=p,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,r=this.chart;r.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=r.index,1===e.touches.length?(e=this.normalize(e),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&!r.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(i=this.pinchDown,n=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))),a(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){var e=t.addEvent,i=t.charts,n=t.css,r=t.doc,o=t.extend,a=t.noop,s=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(!t.hasTouch&&(u.PointerEvent||u.MSPointerEvent)){var h={},p=!!u.PointerEvent,d=function(){var e=[];return e.item=function(t){return this[t]},t.objectEach(h,function(t){e.push({pageX:t.pageX,pageY:t.pageY,target:t.target})}),e},f=function(e,n,r,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),o=i[t.hoverChartIndex].pointer,o[n]({type:r,target:e.currentTarget,preventDefault:a,touches:d()}))};o(s.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(s.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(s.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(s.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(e),function(t){var e=t.addEvent,i=t.css,n=t.discardElement,r=t.defined,o=t.each,a=t.isFirefox,s=t.marginNames,l=t.merge,u=t.pick,c=t.setAnimation,h=t.stableSort,p=t.win,d=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,i){this.chart=t,this.setOptions(i),i.enabled&&(this.render(),e(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=u(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=l(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemY=e-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=u(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(l(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,u(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i=this.options,n=t.legendItem,r=t.legendLine,o=t.legendSymbol,a=this.itemHiddenStyle.color,s=(i=e?i.itemStyle.color:a,e&&t.color||a),l=t.options&&t.options.marker,u={fill:s};n&&n.css({fill:i,color:i}),r&&r.attr({stroke:s}),o&&(l&&o.isMarker&&(u=t.pointAttribs(),e||(u.stroke=u.fill=a)),o.attr(u))},positionItem:function(t){var e=this.options,i=e.symbolPadding,n=(e=!e.rtl,t._legendItemPos),r=n[0],o=(n=n[1],t.checkbox);(t=t.legendGroup)&&t.element&&t.translate(e?r:this.legendWidth-r-2*i-4,n),o&&(o.x=r,o.y=n)},destroyItem:function(t){var e=t.checkbox;o(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&n(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}o(this.getAllItems(),function(e){o(["legendItem","legendGroup"],t,e)}),o("clipRect up down pager nav box title group".split(" "),t,this),this.display=null},positionCheckboxes:function(){var t,e=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,r=this.titleHeight;e&&(t=e.translateY,o(this.allItems,function(o){var a,s=o.checkbox;s&&(a=t+r+s.y+(this.scrollOffset||0)+3,i(s,{left:e.translateX+o.checkboxOffset+s.x-20+"px",top:a+"px",display:a>t-6&&a<t+n-6?"":"none"}))},this))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),n=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:n})),this.titleHeight=n},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,n=this.options,r="horizontal"===n.layout,o=this.symbolWidth,a=n.symbolPadding,s=this.itemStyle,c=this.itemHiddenStyle,h=this.padding,p=r?u(n.itemDistance,20):0,d=!n.rtl,f=n.width,g=n.itemMarginBottom||0,m=this.itemMarginTop,v=t.legendItem,y=!t.series,b=!y&&t.series.drawLegendSymbol?t.series:t,x=b.options,_=this.createCheckboxForItem&&x&&x.showCheckbox,w=(x=o+a+p+(_?20:0),n.useHTML),C=t.options.className;v||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+b.type+"-series highcharts-color-"+t.colorIndex+(C?" "+C:"")+(y?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=v=i.text("",d?o+a:-a,this.baseline||0,w).css(l(t.visible?s:c)).attr({align:d?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(o=s.fontSize,this.fontMetrics=i.fontMetrics(o,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=n.symbolHeight||this.fontMetrics.f,b.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,v,w),_&&this.createCheckboxForItem(t)),this.colorizeItem(t,t.visible),s.width||v.css({width:(n.itemWidth||n.width||e.spacingBox.width)-x}),this.setText(t),i=v.getBBox(),s=t.checkboxOffset=n.itemWidth||t.legendItemWidth||i.width+x,this.itemHeight=i=Math.round(t.legendItemHeight||i.height||this.symbolHeight),r&&this.itemX-h+s>(f||e.spacingBox.width-2*h-n.x)&&(this.itemX=h,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,s),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(i,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=s:(this.itemY+=m+i+g,this.lastLineHeight=i),this.offsetWidth=f||Math.max((r?this.itemX-h-(t.checkbox?0:p):s)+h,this.offsetWidth)},getAllItems:function(){var t=[];return o(this.chart.series,function(e){var i=e&&e.options;e&&u(i.showInLegend,!r(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},getAlignment:function(){var t=this.options;return t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var i=this.chart,n=this.options,a=this.getAlignment();a&&o([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,l){o.test(a)&&!r(t[l])&&(i[s[l]]=Math.max(i[s[l]],i.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*n[l%2?"x":"y"]+u(n.margin,12)+e[l]+(0===l?i.titleOffset+i.options.title.margin:0)))})},render:function(){var t,e,i,n,r=this,a=r.chart,s=a.renderer,u=r.group,c=r.box,p=r.options,d=r.padding;r.itemX=d,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(u),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),h(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),p.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,o(t,function(t){r.renderItem(t)}),i=(p.width||r.offsetWidth)+d,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=d,c||(r.box=c=s.rect().addClass("highcharts-legend-box").attr({r:p.borderRadius}).add(u),c.isNew=!0),c.attr({stroke:p.borderColor,"stroke-width":p.borderWidth||0,fill:p.backgroundColor||"none"}).shadow(p.shadow),0<i&&0<n&&(c[c.isNew?"attr":"animate"](c.crisp.call({},{x:0,y:0,width:i,height:n},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,o(t,function(t){r.positionItem(t)}),e&&(s=a.spacingBox,/(lth|ct|rth)/.test(r.getAlignment())&&(s=l(s,{y:s.y+a.titleOffset+a.options.title.margin})),u.align(l(p,{width:i,height:n}),!0,s)),a.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,a=r.renderer,s=this.options,l=s.y,c=this.padding,h=(r=r.spacingBox.height+("top"===s.verticalAlign?-l:l)-c,l=s.maxHeight,this.clipRect),p=s.navigation,d=u(p.animation,!0),f=p.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,y=function(t){"number"==typeof t?h.attr({height:t}):h&&(n.clipRect=h.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+c+"px,9999px,"+(c+t)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(r/=2),l&&(r=Math.min(r,l)),m.length=0,t>r&&!1!==p.enabled?(this.clipHeight=e=Math.max(r-20-this.titleHeight-c,0),this.currentPage=u(this.currentPage,1),this.fullHeight=t,o(v,function(t,n){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),a=m.length;(!a||r-m[a-1]>e&&(i||r)!==m[a-1])&&(m.push(i||r),a++),t.pageIx=a-1,i&&(v[n-1].pageIx=a-1),n===v.length-1&&r+o-m[a-1]>e&&(m.push(r),t.pageIx=a),r!==i&&(i=r)}),h||(h=n.clipRect=a.clipRect(0,c,9999,0),n.contentGroup.clip(h)),y(e),g||(this.nav=g=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).on("click",function(){n.scroll(-1,d)}).add(g),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation").css(p.style).add(g),this.down=a.symbol("triangle-down",0,0,f,f).on("click",function(){n.scroll(1,d)}).add(g)),n.scroll(0),t=r):g&&(y(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,n=i.length;t=this.currentPage+t;var r=this.clipHeight,o=this.options.navigation,a=this.pager,s=this.padding;t>n&&(t=n),0<t&&(void 0!==e&&c(e,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===t?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),a.attr({text:t+"/"+n}),this.down.attr({x:18+this.pager.getBBox().width,class:t===n?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===t?o.inactiveColor:o.activeColor}).css({cursor:1===t?"default":"pointer"}),this.down.attr({fill:t===n?o.inactiveColor:o.activeColor}).css({cursor:t===n?"default":"pointer"}),this.scrollOffset=-i[t-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=t,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,n=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(n?(t.symbolWidth-i)/2:0,t.baseline-i+1,n?i:t.symbolWidth,i,u(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i=this.options,n=i.marker,r=t.symbolWidth,o=t.symbolHeight,a=o/2,s=this.chart.renderer,c=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b),e={"stroke-width":i.lineWidth||0},i.dashStyle&&(e.dashstyle=i.dashStyle),this.legendLine=s.path(["M",0,t,"L",r,t]).addClass("highcharts-graph").attr(e).add(c),n&&!1!==n.enabled&&(i=Math.min(u(n.radius,a),a),0===this.symbol.indexOf("url")&&(n=l(n,{width:o,height:o}),i=0),this.legendSymbol=n=s.symbol(this.symbol,r/2-i,t-i,2*i,2*i,n).addClass("highcharts-point").add(c),n.isMarker=!0)}},(/Trident\/7\.0/.test(p.navigator.userAgent)||a)&&d(t.Legend.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(e),function(t){var e=t.addEvent,i=t.animate,n=t.animObject,r=t.attr,o=t.doc,a=t.Axis,s=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,p=t.defined,d=t.each,f=t.extend,g=t.find,m=t.fireEvent,v=t.grep,y=t.isNumber,b=t.isObject,x=t.isString,_=t.Legend,w=t.marginNames,C=t.merge,S=t.objectEach,k=t.Pointer,A=t.pick,T=t.pInt,M=t.removeEvent,E=t.seriesTypes,P=t.splat,O=t.syncTimeout,I=t.win,L=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new L(t,e,i)},f(L.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(x(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var r,o,a=i.series,s=i.plotOptions||{};for(o in i.series=null,r=C(l,i),r.plotOptions)r.plotOptions[o].tooltip=s[o]&&C(s[o].tooltip)||void 0;r.tooltip.userOptions=i.chart&&i.chart.forExport&&i.tooltip.userOptions||i.tooltip,r.series=i.series=a,this.userOptions=i,o=r.chart,a=o.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.time=i.time&&t.keys(i.time).length?new t.Time(i.time):t.time,this.hasCartesianSeries=o.showAxes;var u=this;u.index=c.length,c.push(u),t.chartCount++,a&&S(a,function(t,i){e(u,i,t)}),u.xAxis=[],u.yAxis=[],u.pointCount=u.colorCounter=u.symbolCounter=0,u.firstRender()},initSeries:function(e){var i=this.options.chart;return(i=E[e.type||i.type||i.defaultSeriesType])||t.error(17,!0),i=new i,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var n=i?e:t;return t=i?t:e,0<=n&&n<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(e){var i,n,r,o=this.axes,a=this.series,s=this.pointer,l=this.legend,u=this.isDirtyLegend,c=this.hasCartesianSeries,h=this.isDirtyBox,p=this.renderer,g=p.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),t.setAnimation(e,this),g&&this.temporaryDisplay(),this.layOutTitles(),e=a.length;e--;)if(r=a[e],r.options.stacking&&(i=!0,r.isDirty)){n=!0;break}if(n)for(e=a.length;e--;)r=a[e],r.options.stacking&&(r.isDirty=!0);d(a,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),u=!0),t.isDirtyData&&m(t,"updatedData")}),u&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),i&&this.getStacks(),c&&d(o,function(t){t.updateNames(),t.setScale()}),this.getMargins(),c&&(d(o,function(t){t.isDirty&&(h=!0)}),d(o,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,v.push(function(){m(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||i)&&t.redraw()})),h&&this.drawChartBox(),m(this,"predraw"),d(a,function(t){(h||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),s&&s.reset(!0),p.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),d(v,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,n,r=this.series;for(i=g(this.axes,e)||g(this.series,e),n=0;!i&&n<r.length;n++)i=g(r[n].points||[],e);return i},getAxes:function(){var t=this,e=this.options,i=e.xAxis=P(e.xAxis||{});e=e.yAxis=P(e.yAxis||{});m(this,"beforeGetAxes"),d(i,function(t,e){t.index=e,t.isX=!0}),d(e,function(t,e){t.index=e}),i=i.concat(e),d(i,function(e){new a(t,e)})},getSelectedPoints:function(){var t=[];return d(this.series,function(e){t=t.concat(v(e.data||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return v(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,r=this,o=r.options;n=o.title=C({style:{color:"#333333",fontSize:o.isStock?"16px":"18px"}},o.title,t),o=o.subtitle=C({style:{color:"#666666"}},o.subtitle,e),d([["title",t,n],["subtitle",e,o]],function(t,e){var i=t[0],n=r[i],o=t[1];t=t[2],n&&o&&(r[i]=n=n.destroy()),t&&!n&&(r[i]=r.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,class:"highcharts-"+i,zIndex:t.zIndex||4}).add(),r[i].update=function(t){r.setTitle(!e&&t,e&&t)},r[i].css(t.style))}),r.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,r=this.spacingBox;d(["title","subtitle"],function(t){var e,o=this[t],a=this.options[t];t="title"===t?-3:a.verticalAlign?0:i+2,o&&(e=a.style.fontSize,e=n.fontMetrics(e,o).b,o.css({width:(a.width||r.width+a.widthAdjust)+"px"}).align(f({y:t+e},a),!1,"spacingBox"),a.floating||a.verticalAlign||(i=Math.ceil(i+o.getBBox(a.useHTML).height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width,n=(e=e.height,this.renderTo);p(i)||(this.containerWidth=t.getStyle(n,"width")),p(e)||(this.containerHeight=t.getStyle(n,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(o.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(o.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,o.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==o.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,a=this.options,l=a.chart;e=this.renderTo;var u,h=t.uniqueKey();e||(this.renderTo=e=l.renderTo),x(e)&&(this.renderTo=e=o.getElementById(e)),e||t.error(13,!0),i=T(r(e,"data-highcharts-chart")),y(i)&&c[i]&&c[i].hasRendered&&c[i].destroy(),r(e,"data-highcharts-chart",this.index),e.innerHTML="",l.skipClone||e.offsetWidth||this.temporaryDisplay(),this.getChartSize(),i=this.chartWidth,n=this.chartHeight,u=f({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=e=s("div",{id:h},u,e),this._cursor=e.style.cursor,this.renderer=new(t[l.renderer]||t.Renderer)(e,i,n,null,l.forExport,a.exporting&&a.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(t){var e=this.spacing,i=this.margin,n=this.titleOffset;this.resetMargins(),n&&!p(i[0])&&(this.plotTop=Math.max(this.plotTop,n+this.options.title.margin+e[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.adjustPlotArea&&this.adjustPlotArea(),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&d(t.axes,function(t){t.visible&&t.getOffset()}),d(w,function(n,r){p(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(e){var i=this,n=i.options.chart,r=i.renderTo,a=p(n.width)&&p(n.height),s=n.width||t.getStyle(r,"width");n=n.height||t.getStyle(r,"height"),r=e?e.target:I;a||i.isPrinting||!s||!n||r!==I&&r!==o||(s===i.containerWidth&&n===i.containerHeight||(clearTimeout(i.reflowTimeout),i.reflowTimeout=O(function(){i.container&&i.setSize(void 0,void 0,!1)},e?100:0)),i.containerWidth=s,i.containerHeight=n)},initReflow:function(){var t,i=this;t=e(I,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,r,o){var a=this,s=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),e=s.globalAnimation,(e?i:h)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},e),a.setChartSize(!0),s.setSize(a.chartWidth,a.chartHeight,o),d(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(o),a.oldChartHeight=null,m(a,"resize"),O(function(){a&&m(a,"endResize",null,function(){--a.isResizing})},n(e).duration)},setChartSize:function(t){var e,i,n,r,o=this.inverted,a=this.renderer,s=this.chartWidth,l=this.chartHeight,u=this.options.chart,c=this.spacing,h=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=n=Math.max(0,Math.round(s-e-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=o?r:n,this.plotSizeY=o?n:r,this.plotBorderWidth=u.plotBorderWidth||0,this.spacingBox=a.spacingBox={x:c[3],y:c[0],width:s-c[3]-c[1],height:l-c[0]-c[2]},this.plotBox=a.plotBox={x:e,y:i,width:n,height:r},s=2*Math.floor(this.plotBorderWidth/2),o=Math.ceil(Math.max(s,h[3])/2),a=Math.ceil(Math.max(s,h[0])/2),this.clipBox={x:o,y:a,width:Math.floor(this.plotSizeX-Math.max(s,h[1])/2-o),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,h[2])/2-a))},t||d(this.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;d(["margin","spacing"],function(i){var n=e[i],r=b(n)?n:[n,n,n,n];d(["Top","Right","Bottom","Left"],function(n,o){t[i][o]=A(e[i+n],r[o])})}),d(w,function(e,i){t[e]=A(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this.options.chart,n=this.renderer,r=this.chartWidth,o=this.chartHeight,a=this.chartBackground,s=this.plotBackground,l=this.plotBorder,u=this.plotBGImage,c=i.backgroundColor,h=i.plotBackgroundColor,p=i.plotBackgroundImage,d=this.plotLeft,f=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,x=this.clipBox,_="animate";a||(this.chartBackground=a=n.rect().addClass("highcharts-background").add(),_="attr"),t=i.borderWidth||0,e=t+(i.shadow?8:0),c={fill:c||"none"},(t||a["stroke-width"])&&(c.stroke=i.borderColor,c["stroke-width"]=t),a.attr(c).shadow(i.shadow),a[_]({x:e/2,y:e/2,width:r-e-t%2,height:o-e-t%2,r:i.borderRadius}),_="animate",s||(_="attr",this.plotBackground=s=n.rect().addClass("highcharts-plot-background").add()),s[_](y),s.attr({fill:h||"none"}).shadow(i.plotShadow),p&&(u?u.animate(y):this.plotBGImage=n.image(p,d,f,g,v).add()),b?b.animate({width:x.width,height:x.height}):this.clipRect=n.clipRect(x),_="animate",l||(_="attr",this.plotBorder=l=n.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:i.plotBorderColor,"stroke-width":i.plotBorderWidth||0,fill:"none"}),l[_](l.crisp({x:d,y:f,width:g,height:v},-l.strokeWidth())),this.isDirtyBox=!1,m(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;d(["inverted","angular","polar"],function(a){for(t=E[r.type||r.defaultSeriesType],i=r[a]||t&&t.prototype[a],e=o&&o.length;!i&&e--;)(t=E[o[e].type])&&t.prototype[a]&&(i=!0);n[a]=i})},linkSeries:function(){var t=this,e=t.series;d(e,function(t){t.linkedSeries.length=0}),d(e,function(e){var i=e.options.linkedTo;x(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=A(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){d(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&d(e.items,function(i){var n=f(e.style,i.style),r=T(n.left)+t.plotLeft,o=T(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n=this.axes,r=this.renderer,o=this.options;this.setTitle(),this.legend=new _(this,o.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),o=this.plotWidth,t=this.plotHeight=Math.max(this.plotHeight-21,0),d(n,function(t){t.setScale()}),this.getAxisMargins(),e=1.1<o/this.plotWidth,i=1.05<t/this.plotHeight,(e||i)&&(d(n,function(t){(t.horiz&&e||!t.horiz&&i)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&d(n,function(t){t.visible&&t.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(I.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,r=i.series,o=i.container,a=o&&o.parentNode;for(m(i,"destroy"),i.renderer.forExport?t.erase(c,i):c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),M(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();d("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),o&&(o.innerHTML="",M(o),a&&u(o)),S(i,function(t,e){delete i[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),d(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),k&&(t.pointer=new k(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){d([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),m(this,"render"),p(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(e),function(t){var e,i=t.each,n=t.extend,r=t.erase,o=t.fireEvent,a=t.format,s=t.isArray,l=t.isNumber,u=t.pick,c=t.removeEvent;t.Point=e=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.color=t.color,this.applyOptions(e,i),t.options.colorByPoint?(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length,i=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=u(this.colorIndex,i),t.chart.pointCount++,o(this,"afterInit"),this},applyOptions:function(t,i){var r=this.series,o=r.options.pointValKey||r.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,o&&(this.y=this[o]),this.isNull=u(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===i&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===i?r.autoIncrement(this):i),this},optionsToObject:function(t){var e={},i=this.series,n=i.options.keys,r=n||i.pointArrayMap||["y"],o=r.length,a=0,u=0;if(l(t)||null===t)e[r[0]]=t;else if(s(t))for(!n&&t.length>o&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),a++);u<o;)n&&void 0===t[a]||(e[r[u]]=t[a]),a++,u++;else"object"==typeof t&&(e=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return e},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t,e=this.series,i=e.zones,n=(e=e.zoneAxis||"y",0);for(t=i[n];this[e]>=t.value;)t=i[++n];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;for(t in e.pointCount--,i&&(this.setState(),r(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(c(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this),this)this[t]=null},destroyElements:function(){for(var t,e=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=e[i],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=u(n.valueDecimals,""),o=n.valuePrefix||"",s=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||s)&&(t=t.replace(e+"}",o+e+"}"+s)),t=t.replace(e+"}",e+":,."+r+"f}")}),a(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var n=this,r=this.series.options;(r.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&r.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(e),function(t){var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.correctFloat,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.defined,u=t.each,c=t.erase,h=t.extend,p=t.fireEvent,d=t.grep,f=t.isArray,g=t.isNumber,m=t.isString,v=t.merge,y=t.objectEach,b=t.pick,x=t.removeEvent,_=t.splat,w=t.SVGElement,C=t.syncTimeout,S=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:t.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,r,o=this,a=t.series;o.chart=t,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),h(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),n=i.events,y(n,function(t,i){e(o,i,t)}),(n&&n.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),o.getColor(),o.getSymbol(),u(o.parallelArrays,function(t){o[t+"Data"]=[]}),o.setData(i.data,!1),o.isCartesian&&(t.hasCartesianSeries=!0),a.length&&(r=a[a.length-1]),o._i=b(r&&r._i,-1)+1,t.orderSeries(this.insert(a))},insert:function(t){var e,i=this.options.index;if(g(i)){for(e=t.length;e--;)if(i>=b(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return b(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,r=i.chart;u(i.axisTypes||[],function(o){u(r[o],function(t){e=t.options,(n[o]===e.index||void 0!==n[o]&&n[o]===e.id||void 0===n[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)}),i[o]||i.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=g(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};u(i.parallelArrays,r)},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,n=e.pointIntervalUnit,r=this.chart.time;i=b(i,e.pointStart,0);return this.pointInterval=t=b(this.pointInterval,e.pointInterval,1),n&&(e=new r.Date(i),"day"===n?r.set("Date",e,r.get("Date",e)+t):"month"===n?r.set("Month",e,r.get("Month",e)+t):"year"===n&&r.set("FullYear",e,r.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,n=i.plotOptions,r=(e.userOptions||{}).plotOptions||{},o=n[this.type];return this.userOptions=t,e=v(o,n.series,t),this.tooltipOptions=v(a.tooltip,a.plotOptions.series&&a.plotOptions.series.tooltip,a.plotOptions[this.type].tooltip,i.tooltip.userOptions,n.series&&n.series.tooltip,n[this.type].tooltip,t.tooltip),this.stickyTracking=b(t.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||e.stickyTracking),null===o.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,t=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||t.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),t.length&&l(t[t.length-1].value)&&t.push({color:this.color,fillColor:this.fillColor}),e},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(t,e,i){var n,r=this.chart,o=this.userOptions,a=t+"Index",s=t+"Counter",u=i?i.length:b(r.options.chart[t+"Count"],r[t+"Count"]);e||(n=b(o[a],o["_"+a]),l(n)||(r.series.length||(r[s]=0),o["_"+a]=n=r[s]%u,r[s]+=1),i&&(e=i[n])),void 0!==n&&(this[a]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,setData:function(e,i,n,r){var o,a=this,s=a.points,l=s&&s.length||0,c=a.options,h=a.chart,p=null,d=a.xAxis,v=c.turboThreshold,y=this.xData,x=this.yData,_=(o=a.pointArrayMap)&&o.length;if(e=e||[],o=e.length,i=b(i,!0),!1!==r&&o&&l===o&&!a.cropped&&!a.hasGroupedData&&a.visible)u(e,function(t,e){s[e].update&&t!==c.data[e]&&s[e].update(t,!1,null,!1)});else{if(a.xIncrement=null,a.colorCounter=0,u(this.parallelArrays,function(t){a[t+"Data"].length=0}),v&&o>v){for(n=0;null===p&&n<o;)p=e[n],n++;if(g(p))for(n=0;n<o;n++)y[n]=this.autoIncrement(),x[n]=e[n];else if(f(p))if(_)for(n=0;n<o;n++)p=e[n],y[n]=p[0],x[n]=p.slice(1,_+1);else for(n=0;n<o;n++)p=e[n],y[n]=p[0],x[n]=p[1];else t.error(12)}else for(n=0;n<o;n++)void 0!==e[n]&&(p={series:a},a.pointClass.prototype.applyOptions.apply(p,[e[n]]),a.updateParallelArrays(p,n));for(x&&m(x[0])&&t.error(14,!0),a.data=[],a.options.data=a.userOptions.data=e,n=l;n--;)s[n]&&s[n].destroy&&s[n].destroy();d&&(d.minRange=d.userMinRange),a.isDirty=h.isDirtyBox=!0,a.isDirtyData=!!s,n=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),i&&h.redraw(n)},processData:function(e){var i,n=this.xData,r=this.yData,o=n.length;i=0;var a,s,l,u=this.xAxis,c=this.options;l=c.cropThreshold;var h,p,d=this.getExtremesFromAll||c.getExtremesFromAll,f=this.isCartesian,g=(c=u&&u.val2lin,u&&u.isLog),m=this.requireSorting;if(f&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;for(u&&(e=u.getExtremes(),h=e.min,p=e.max),f&&this.sorted&&!d&&(!l||o>l||this.forceCrop)&&(n[o-1]<h||n[0]>p?(n=[],r=[]):(n[0]<h||n[o-1]>p)&&(i=this.cropData(this.xData,this.yData,h,p),n=i.xData,r=i.yData,i=i.start,a=!0)),l=n.length||1;--l;)o=g?c(n[l])-c(n[l-1]):n[l]-n[l-1],0<o&&(void 0===s||o<s)?s=o:0>o&&m&&(t.error(15),m=!1);this.cropped=a,this.cropStart=i,this.processedXData=n,this.processedYData=r,this.closestPointRange=s},cropData:function(t,e,i,n){var r,o=t.length,a=0,s=o,l=b(this.cropShoulder,1);for(r=0;r<o;r++)if(t[r]>=i){a=Math.max(0,r-l);break}for(i=r;i<o;i++)if(t[i]>n){s=i+l;break}return{xData:t.slice(a,s),yData:e.slice(a,s),start:a,end:s}},generatePoints:function(){var t,e,i,n,r=this.options,o=r.data,a=this.data,s=this.processedXData,l=this.processedYData,u=this.pointClass,c=s.length,h=this.cropStart||0,p=this.hasGroupedData,d=(r=r.keys,[]);for(a||p||(a=[],a.length=o.length,a=this.data=a),r&&p&&(this.options.keys=!1),n=0;n<c;n++)e=h+n,p?(i=(new u).init(this,[s[n]].concat(_(l[n]))),i.dataGroup=this.groupMap[n]):(i=a[e])||void 0===o[e]||(a[e]=i=(new u).init(this,o[e],s[n])),i&&(i.index=e,d[n]=i);if(this.options.keys=r,a&&(c!==(t=a.length)||p))for(n=0;n<t;n++)n!==h||p||(n+=c),a[n]&&(a[n].destroyElements(),a[n].plotX=void 0);this.data=a,this.points=d},getExtremes:function(t){var e,i=this.yAxis,o=this.processedXData,a=[],s=0;e=this.xAxis.getExtremes();var l,u,c,h,p=e.min,d=e.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,h=0;h<e;h++)if(u=o[h],c=t[h],l=(g(c,!0)||f(c))&&(!i.positiveValuesOnly||c.length||0<c),u=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(o[h+1]||u)>=p&&(o[h-1]||u)<=d,l&&u)if(l=c.length)for(;l--;)"number"==typeof c[l]&&(a[s++]=c[l]);else a[s++]=c;this.dataMin=r(a),this.dataMax=n(a)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,r=this.options,a=r.stacking,s=this.xAxis,u=s.categories,c=this.yAxis,h=this.points,d=h.length,f=!!this.modifyValue,m=r.pointPlacement,v="between"===m||g(m),y=r.threshold,x=r.startFromThreshold?y:0,_=Number.MAX_VALUE;for("between"===m&&(m=.5),g(m)&&(m*=b(r.pointRange||s.pointRange)),r=0;r<d;r++){var w=h[r],C=w.x,S=w.y;e=w.low;var k,A=a&&c.stacks[(this.negStacks&&S<(x?0:y)?"-":"")+this.stackKey];c.positiveValuesOnly&&null!==S&&0>=S&&(w.isNull=!0),w.plotX=t=o(Math.min(Math.max(-1e5,s.translate(C,0,0,0,1,m,"flags"===this.type)),1e5)),a&&this.visible&&!w.isNull&&A&&A[C]&&(n=this.getStackIndicator(n,C,this.index),k=A[C],S=k.points[n.key],e=S[0],S=S[1],e===x&&n.key===A[C].base&&(e=b(y,c.min)),c.positiveValuesOnly&&0>=e&&(e=null),w.total=w.stackTotal=k.total,w.percentage=k.total&&w.y/k.total*100,w.stackY=S,k.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=l(e)?Math.min(Math.max(-1e5,c.translate(e,0,1,0,1)),1e5):null,f&&(S=this.modifyValue(S,w)),w.plotY=e="number"==typeof S&&1/0!==S?Math.min(Math.max(-1e5,c.translate(S,0,1,0,1)),1e5):void 0,w.isInside=void 0!==e&&0<=e&&e<=c.len&&0<=t&&t<=s.len,w.clientX=v?o(s.translate(C,0,0,0,1,m)):t,w.negative=w.y<(y||0),w.category=u&&void 0!==u[w.x]?u[w.x]:w.x,w.isNull||(void 0!==i&&(_=Math.min(_,Math.abs(t-i))),i=t),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=_,p(this,"afterTranslate")},getValidPoints:function(t,e){var i=this.chart;return d(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,a=o||e.clipBox,s=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,a.height,i.xAxis,i.yAxis].join(),l=e[s],u=e[s+"m"];l||(t&&(a.width=0,r&&(a.x=e.plotSizeX),e[s+"m"]=u=n.clipRect(r?e.plotSizeX+99:-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[s]=l=n.clipRect(a),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=s),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&e[s]&&(o||(e[s]=e[s].destroy()),e[s+"m"]&&(e[s+"m"]=e[s+"m"].destroy())))},animate:function(t){var e,n=this.chart,r=i(this.options.animation);t?this.setClip(r):(e=this.sharedClipKey,(t=n[e])&&t.animate({width:n.plotSizeX,x:0},r),n[e+"m"]&&n[e+"m"].animate({width:n.plotSizeX+99,x:0},r),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e,i,n,r,o,a,s,l=this.points,u=this.chart,c=this.options.marker,h=this[this.specialGroup]||this.markerGroup,p=b(c.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=c.enabledThreshold*c.radius);if(!1!==c.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)e=l[t],n=e.graphic,r=e.marker||{},o=!!e.marker,i=p&&void 0===r.enabled||r.enabled,a=e.isInside,i&&!e.isNull?(i=b(r.symbol,this.symbol),s=this.markerAttribs(e,e.selected&&"select"),n?n[a?"show":"hide"](!0).animate(s):a&&(0<s.width||e.hasImage)&&(e.graphic=n=u.renderer.symbol(i,s.x,s.y,s.width,s.height,o?r:c).add(h)),n&&n.attr(this.pointAttribs(e,e.selected&&"select")),n&&n.addClass(e.getClassName(),!0)):n&&(e.graphic=n.destroy())},markerAttribs:function(t,e){var i=this.options.marker,n=t.marker||{},r=n.symbol||i.symbol,o=b(n.radius,i.radius);return e&&(i=i.states[e],e=n.states&&n.states[e],o=b(e&&e.radius,i&&i.radius,o+(i&&i.radiusPlus||0))),t.hasImage=r&&0===r.indexOf("url"),t.hasImage&&(o=0),t={x:Math.floor(t.plotX)-o,y:t.plotY-o},o&&(t.width=t.height=2*o),t},pointAttribs:function(t,e){var i=this.options.marker,n=t&&t.options,r=n&&n.marker||{},o=this.color,a=n&&n.color,s=t&&t.color;n=b(r.lineWidth,i.lineWidth);return t=t&&t.zone&&t.zone.color,o=a||t||s||o,t=r.fillColor||i.fillColor||o,o=r.lineColor||i.lineColor||o,e&&(i=i.states[e],e=r.states&&r.states[e]||{},n=b(e.lineWidth,i.lineWidth,n+b(e.lineWidthPlus,i.lineWidthPlus,0)),t=e.fillColor||i.fillColor||t,o=e.lineColor||i.lineColor||o),{stroke:o,"stroke-width":n,fill:t}},destroy:function(){var t,e,i,n,r=this,o=r.chart,a=/AppleWebKit\/533/.test(S.navigator.userAgent),s=r.data||[];for(p(r,"destroy"),x(r),u(r.axisTypes||[],function(t){(n=r[t])&&n.series&&(c(n.series,r),n.isDirty=n.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),e=s.length;e--;)(i=s[e])&&i.destroy&&i.destroy();r.points=null,clearTimeout(r.animationTimeout),y(r,function(e,i){e instanceof w&&!e.survive&&(t=a&&"group"===i?"hide":"destroy",e[t]())}),o.hoverSeries===r&&(o.hoverSeries=null),c(o.series,r),o.orderSeries(),y(r,function(t,e){delete r[e]})},getGraphPath:function(t,e,i){var n,r,o=this,a=o.options,s=a.step,c=[],h=[];return t=t||o.points,(n=t.reversed)&&t.reverse(),(s={right:1,center:2}[s]||s&&3)&&n&&(s=4-s),!a.connectNulls||e||i||(t=this.getValidPoints(t)),u(t,function(n,u){var p=n.plotX,d=n.plotY,f=t[u-1];(n.leftCliff||f&&f.rightCliff)&&!i&&(r=!0),n.isNull&&!l(e)&&0<u?r=!a.connectNulls:n.isNull&&!e?r=!0:(0===u||r?u=["M",n.plotX,n.plotY]:o.getPointSpline?u=o.getPointSpline(t,n,u):s?(u=1===s?["L",f.plotX,d]:2===s?["L",(f.plotX+p)/2,f.plotY,"L",(f.plotX+p)/2,d]:["L",p,f.plotY],u.push("L",p,d)):u=["L",p,d],h.push(n.x),s&&h.push(n.x),c.push.apply(c,u),r=!1)}),c.xMap=h,o.graphPath=c},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];u(this.zones,function(i,r){n.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),u(n,function(n,r){var o=n[0],a=t[o];a?(a.endX=t.preventGraphAnimation?null:i.xMap,a.animate({d:i})):i.length&&(t[o]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),a={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?a.dashstyle=n[3]:"square"!==e.linecap&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),a=t[o].attr(a).shadow(2>r&&e.shadow)),a&&(a.startX=i.xMap,a.isArea=i.isArea)})},applyZones:function(){var t,e,i,n,r,o,a,s,l,c=this,h=this.chart,p=h.renderer,d=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],x=h.inverted,_=!1;d.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),n=y.getExtremes(),u(d,function(u,d){t=r?o?h.plotWidth:0:o?0:y.toPixels(n.min),t=Math.min(Math.max(b(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(b(u.value,n.max),!0)),0),v),_&&(t=e=y.toPixels(n.max)),a=Math.abs(t-e),s=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:x?l:s,y:0,width:a,height:v},o||(i.x=h.plotHeight-i.x)):(i={x:0,y:x?l:s,width:v,height:a},o&&(i.y=h.plotWidth-i.y)),x&&p.isVML&&(i=y.isXAxis?{x:0,y:r?s:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),f[d]?f[d].animate(i):(f[d]=p.clipRect(i),g&&c["zone-graph-"+d].clip(f[d]),m&&c["zone-area-"+d].clip(f[d])),_=u.value>n.max}),this.clips=f)},invertGroups:function(t){function i(){u(["group","markerGroup"],function(e){r[e]&&(o.renderer.isVML&&r[e].attr({width:r.yAxis.len,height:r.xAxis.len}),r[e].width=r.yAxis.len,r[e].height=r.xAxis.len,r[e].invert(t))})}var n,r=this,o=r.chart;r.xAxis&&(n=e(o,"resize",i),e(r,"destroy",n),i(),r.invertGroups=i)},plotGroup:function(t,e,i,n,r){var o=this[t],a=!o;return a&&(this[t]=o=this.chart.renderer.g().attr({zIndex:n||.1}).add(r)),o.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(l(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(o.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),o.attr({visibility:i})[a?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,r=e.options,o=!!e.animate&&n.renderer.isSVG&&i(r.animation).duration,a=e.visible?"inherit":"hidden",s=r.zIndex,l=e.hasRendered,u=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",a,s,u),e.markerGroup=e.plotGroup("markerGroup","markers",a,s,u),o&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(e.animationTimeout=C(function(){e.afterAnimate()},o)),e.isDirty=!1,e.hasRendered=!0,p(e,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,n=this.xAxis,r=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:b(n&&n.left,t.plotLeft),translateY:b(r&&r.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,n=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:r?n.len-t.chartX+n.pos:t.chartY-n.pos},e)},buildKDTree:function(){function t(i,n,r){var o,a;if(a=i&&i.length)return o=e.kdAxisArray[n%r],i.sort(function(t,e){return t[o]-e[o]}),a=Math.floor(a/2),{point:i[a],left:t(i.slice(0,a),n+1,r),right:t(i.slice(a+1),n+1,r)}}this.buildingKdTree=!0;var e=this,i=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,C(function(){e.kdTree=t(e.getValidPoints(null,!e.directTouch),i,i),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e,s,u){var c,h,p=e.point,d=n.kdAxisArray[s%u],f=p;return h=l(t[r])&&l(p[r])?Math.pow(t[r]-p[r],2):null,c=l(t[o])&&l(p[o])?Math.pow(t[o]-p[o],2):null,c=(h||0)+(c||0),p.dist=l(c)?Math.sqrt(c):Number.MAX_VALUE,p.distX=l(h)?Math.sqrt(h):Number.MAX_VALUE,d=t[d]-p[d],c=0>d?"left":"right",h=0>d?"right":"left",e[c]&&(c=i(t,e[c],s+1,u),f=c[a]<f[a]?c:p),e[h]&&Math.sqrt(d*d)<f[a]&&(t=i(t,e[h],s+1,u),f=t[a]<f[a]?t:f),f}var n=this,r=this.kdAxisArray[0],o=this.kdAxisArray[1],a=e?"distX":"dist";if(e=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,e,e)}})}(e),function(t){var e=t.Axis,i=t.Chart,n=t.correctFloat,r=t.defined,o=t.destroyObjectProperties,a=t.each,s=t.format,l=t.objectEach,u=t.pick,c=t.Series;t.StackItem=function(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:u(e.y,o?4:i?14:-6),x:u(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){o(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,n=i.format;n=n?s(n,this,e.time):i.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=e.renderer.text(n,null,null,i.useHTML).css(i.style).attr({align:this.textAlign,rotation:i.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i=this.axis,n=i.chart,r=i.translate(i.usePercentage?100:this.total,0,0,0,1);i=i.translate(0),i=Math.abs(r-i);t=n.xAxis[0].translate(this.x)+t,r=this.getStackBox(n,this,t,r,e,i),(e=this.label)&&(e.align(this.alignOptions,null,r),r=e.alignAttr,e[!1===this.options.crop||n.isInsidePlot(r.x,r.y)?"show":"hide"](!0))},getStackBox:function(t,e,i,n,r,o){var a=e.axis.reversed,s=t.inverted;return t=t.plotHeight,e=e.isNegative&&!a||!e.isNegative&&a,{x:s?e?n:n-o:i,y:s?t-i-r:e?t-n-o:t-n,width:s?o:r,height:s?r:o}}},i.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,""))})},e.prototype.buildStacks=function(){var t,e=this.series,i=u(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=n;t--;)e[i?t:n-t-1].setStackedPoints();for(t=0;t<n;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,n=this.stackTotalGroup;n||(this.stackTotalGroup=n=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),n.translate(t.plotLeft,t.plotTop),l(i,function(t){l(t,function(t){t.render(n)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||l(e,function(e){l(e,function(i,n){i.touched<t.stacksTouched?(i.destroy(),delete e[n]):(i.total=null,i.cumulative=null)})})},e.prototype.cleanStacks=function(){var t;this.isXAxis||(this.oldStacks&&(t=this.stacks=this.oldStacks),l(t,function(t){l(t,function(t){t.cumulative=t.total})}))},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,i,o,a,s,l,c,h=this.processedXData,p=this.processedYData,d=[],f=p.length,g=this.options,m=g.threshold,v=u(g.startFromThreshold&&m,0),y=g.stack,b=(g=g.stacking,this.stackKey),x="-"+b,_=this.negStacks,w=this.yAxis,C=w.stacks,S=w.oldStacks;for(w.stacksTouched+=1,s=0;s<f;s++)l=h[s],c=p[s],e=this.getStackIndicator(e,l,this.index),a=e.key,o=(i=_&&c<(v?0:m))?x:b,C[o]||(C[o]={}),C[o][l]||(S[o]&&S[o][l]?(C[o][l]=S[o][l],C[o][l].total=null):C[o][l]=new t.StackItem(w,w.options.stackLabels,i,l,y)),o=C[o][l],null!==c?(o.points[a]=o.points[this.index]=[u(o.cumulative,v)],r(o.cumulative)||(o.base=a),o.touched=w.stacksTouched,0<e.index&&!1===this.singleStacks&&(o.points[a][0]=o.points[this.index+","+l+",0"][0])):o.points[a]=o.points[this.index]=null,"percent"===g?(i=i?b:x,_&&C[i]&&C[i][l]?(i=C[i][l],o.total=i.total=Math.max(i.total,o.total)+Math.abs(c)||0):o.total=n(o.total+(Math.abs(c)||0))):o.total=n(o.total+(c||0)),o.cumulative=u(o.cumulative,v)+(c||0),null!==c&&(o.points[a].push(o.cumulative),d[s]=o.cumulative);"percent"===g&&(w.usePercentage=!0),this.stackedYData=d,w.oldStacks={}}},c.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,r=e.processedXData,o=e.options.stacking;e[o+"Stacker"]&&a([i,"-"+i],function(i){for(var a,s,l=r.length;l--;)a=r[l],t=e.getStackIndicator(t,a,e.index,i),(s=(a=n[i]&&n[i][a])&&a.points[t.key])&&e[o+"Stacker"](s,a,l)})},c.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=n(t[0]*e),t[1]=n(t[1]*e),this.stackedYData[i]=t[1]},c.prototype.getStackIndicator=function(t,e,i,n){return!r(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(),t}}(e),function(t){var e=t.addEvent,i=t.animate,n=t.Axis,r=t.createElement,o=t.css,a=t.defined,s=t.each,l=t.erase,u=t.extend,c=t.fireEvent,h=t.inArray,p=t.isNumber,d=t.isObject,f=t.isArray,g=t.merge,m=t.objectEach,v=t.pick,y=t.Point,b=t.Series,x=t.seriesTypes,_=t.setAnimation,w=t.splat;u(t.Chart.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=v(e,!0),c(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",a=this.options;return t=g(t,{index:this[o].length,isX:e}),e=new n(this,t),a[o]=w(a[o]||{}),a[o].push(t),v(i,!0)&&this.redraw(r),e},showLoading:function(t){var n=this,a=n.options,s=n.loadingDiv,l=a.loading,c=function(){s&&o(s,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};s||(n.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),e(n,"redraw",c)),s.className="highcharts-loading",n.loadingSpan.innerHTML=t||a.lang.loading,o(s,u(l.style,{zIndex:10})),o(n.loadingSpan,l.labelStyle),n.loadingShown||(o(s,{opacity:0,display:""}),i(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,c()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){o(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(t,e,i){var n,r,o=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},u=t.chart,c=[];u&&(g(!0,o.options.chart,u),"className"in u&&o.setClassName(u.className),("inverted"in u||"polar"in u)&&(o.propFromSeries(),n=!0),"alignTicks"in u&&(n=!0),m(u,function(t,e){-1!==h("chart."+e,o.propsRequireUpdateSeries)&&(r=!0),-1!==h(e,o.propsRequireDirtyBox)&&(o.isDirtyBox=!0)}),"style"in u&&o.renderer.setStyle(u.style)),t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),m(t,function(t,e){o[e]&&"function"==typeof o[e].update?o[e].update(t,!1):"function"==typeof o[l[e]]&&o[l[e]](t),"chart"!==e&&-1!==h(e,o.propsRequireUpdateSeries)&&(r=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(e){t[e]&&(s(w(t[e]),function(t,n){(n=a(t.id)&&o.get(t.id)||o[e][n])&&n.coll===e&&(n.update(t,!1),i&&(n.touched=!0)),!n&&i&&("series"===e?o.addSeries(t,!1).touched=!0:"xAxis"!==e&&"yAxis"!==e||(o.addAxis(t,"xAxis"===e,!1).touched=!0))}),i&&s(o[e],function(t){t.touched?delete t.touched:c.push(t)}))}),s(c,function(t){t.remove(!1)}),n&&s(o.axes,function(t){t.update({},!1)}),r&&s(o.series,function(t){t.update({},!1)}),t.loading&&g(!0,o.options.loading,t.loading),n=u&&u.width,u=u&&u.height,p(n)&&n!==o.chartWidth||p(u)&&u!==o.chartHeight?o.setSize(n,u):v(e,!0)&&o.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),u(y.prototype,{update:function(t,e,i,n){function r(){a.applyOptions(t),null===a.y&&l&&(a.graphic=l.destroy()),d(t,!0)&&(l&&l.element&&t&&t.marker&&void 0!==t.marker.symbol&&(a.graphic=l.destroy()),t&&t.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy()),a.connector&&(a.connector=a.connector.destroy())),o=a.index,s.updateParallelArrays(a,o),c.data[o]=d(c.data[o],!0)||d(t,!0)?a.options:t,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var o,a=this,s=a.series,l=a.graphic,u=s.chart,c=s.options;e=v(e,!0),!1===n?r():a.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(h(this,this.series.data),t,e)}}),u(b.prototype,{addPoint:function(t,e,i,n){var r,o,a,s,l=this.options,u=this.data,c=this.chart,h=this.xAxis,p=(h=h&&h.hasNames&&h.names,l.data),d=this.xData;if(e=v(e,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[t]),s=r.x,a=d.length,this.requireSorting&&s<d[a-1])for(o=!0;a&&d[a-1]>s;)a--;this.updateParallelArrays(r,"splice",a,0,0),this.updateParallelArrays(r,a),h&&r.name&&(h[s]=r.name),p.splice(a,0,t),o&&(this.data.splice(a,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),i&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),this.updateParallelArrays(r,"shift"),p.shift())),this.isDirtyData=this.isDirty=!0,e&&c.redraw(n)},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],a=n.points,s=n.chart,l=function(){a&&a.length===r.length&&a.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&s.redraw()};_(i,s),e=v(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),v(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==i?c(r,"remove",null,n):n()},update:function(t,e){var i,n=this,r=n.chart,o=n.userOptions,a=n.oldType||n.type,l=t.type||o.type||r.options.chart.type,c=x[a].prototype,h=["group","markerGroup","dataLabelsGroup"],p=["navigatorSeries","baseSeries"],d=n.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(t).toString())return this.setData(t.data,e);for(i in p=h.concat(p),s(p,function(t){p[t]=n[t],delete n[t]}),t=g(o,d,{index:n.index,pointStart:n.xData[0]},{data:n.options.data},t),n.remove(!1,null,!1),c)n[i]=void 0;u(n,x[l||a].prototype),s(p,function(t){n[t]=p[t]}),n.init(r,t),t.zIndex!==o.zIndex&&s(h,function(e){n[e]&&n[e].attr({zIndex:t.zIndex})}),n.oldType=a,r.linkSeries(),v(e,!0)&&r.redraw(!1)}}),u(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,u(t,{events:void 0})),i.isDirtyBox=!0,v(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);l(e.axes,this),l(e[i],this),f(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],s(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,v(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){var e=t.color,i=t.each,n=t.map,r=t.pick,o=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(e){var o,a,s=[],l=[],u=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],p={},d=this.index,f=c.series,g=f.length,m=r(c.options.reversedStacks,!0)?1:-1;if(e=e||this.points,this.options.stacking){for(a=0;a<e.length;a++)e[a].leftNull=e[a].rightNull=null,p[e[a].x]=e[a];t.objectEach(h,function(t,e){null!==t.total&&l.push(e)}),l.sort(function(t,e){return t-e}),o=n(f,function(){return this.visible}),i(l,function(t,e){var n,r,f=0;if(p[t]&&!p[t].isNull)s.push(p[t]),i([-1,1],function(i){var s=1===i?"rightNull":"leftNull",u=0,c=h[l[e+i]];if(c)for(a=d;0<=a&&a<g;)n=c.points[a],n||(a===d?p[t][s]=!0:o[a]&&(r=h[t].points[a])&&(u-=r[1]-r[0])),a+=m;p[t][1===i?"rightCliff":"leftCliff"]=u});else{for(a=d;0<=a&&a<g;){if(n=h[t].points[a]){f=n[1];break}a+=m}f=c.translate(f,0,1,0,1),s.push({isNull:!0,plotX:u.translate(t,0,0,0,1),x:t,plotY:f,yBottom:f})}})}return s},getGraphPath:function(t){var e,i,n,a,s=o.prototype.getGraphPath,l=this.options,u=l.stacking,c=this.yAxis,h=[],p=[],d=this.index,f=c.stacks[this.stackKey],g=l.threshold,m=c.getThreshold(l.threshold),v=(l=l.connectNulls||"percent"===u,function(e,i,r){var o=t[e];e=u&&f[o.x].points[d];var a=o[r+"Null"]||0;r=o[r+"Cliff"]||0;var s,l;o=!0;r||a?(s=(a?e[0]:e[1])+r,l=e[0]+r,o=!!a):!u&&t[i]&&t[i].isNull&&(s=l=g),void 0!==s&&(p.push({plotX:n,plotY:null===s?m:c.getThreshold(s),isNull:o,isCliff:!0}),h.push({plotX:n,plotY:null===l?m:c.getThreshold(l),doCurve:!1}))});for(t=t||this.points,u&&(t=this.getStackPoints(t)),e=0;e<t.length;e++)i=t[e].isNull,n=r(t[e].rectPlotX,t[e].plotX),a=r(t[e].yBottom,m),(!i||l)&&(l||v(e,e-1,"left"),i&&!u&&l||(p.push(t[e]),h.push({x:e,plotX:n,plotY:a})),l||v(e,e+1,"right"));return e=s.call(this,p,!0,!0),h.reversed=!0,i=s.call(this,h,!0,!0),i.length&&(i[0]="L"),i=e.concat(i),s=s.call(this,p,!1,l),i.xMap=e.xMap,this.areaPath=i,s},drawGraph:function(){this.areaPath=[],o.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,a=this.options,s=[["area","highcharts-area",this.color,a.fillColor]];i(this.zones,function(e,i){s.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||a.fillColor])}),i(s,function(i){var o=i[0],s=t[o];s?(s.endX=t.preventGraphAnimation?null:n.xMap,s.animate({d:n})):(s=t[o]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:r(i[3],e(i[2]).setOpacity(r(a.fillOpacity,.75)).get()),zIndex:0}).add(t.group),s.isArea=!0),s.startX=n.xMap,s.shiftUnit=a.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){var r,o,a,s,l=i.plotX,u=i.plotY,c=t[n-1];if(n=t[n+1],c&&!c.isNull&&!1!==c.doCurve&&!i.isCliff&&n&&!n.isNull&&!1!==n.doCurve&&!i.isCliff){t=c.plotY,a=n.plotX,n=n.plotY;var h=0;r=(1.5*l+c.plotX)/2.5,o=(1.5*u+t)/2.5,a=(1.5*l+a)/2.5,s=(1.5*u+n)/2.5,a!==r&&(h=(s-o)*(a-l)/(a-r)+u-s),o+=h,s+=h,o>t&&o>u?(o=Math.max(t,u),s=2*u-o):o<t&&o<u&&(o=Math.min(t,u),s=2*u-o),s>n&&s>u?(s=Math.max(n,u),o=2*u-s):s<n&&s<u&&(s=Math.min(n,u),o=2*u-s),i.rightContX=a,i.rightContY=s}return i=["C",e(c.rightContX,c.plotX),e(c.rightContY,c.plotY),e(r,l),e(o,u),l,u],c.rightContX=c.rightContY=null,i}})}(e),function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}(e),function(t){var e=t.animObject,i=t.color,n=t.each,r=t.extend,o=t.isNumber,a=t.merge,s=t.pick,l=t.Series,u=t.seriesType,c=t.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,a=r.reversed,l={},u=0;!1===i.grouping?u=1:n(e.chart.series,function(i){var n,r=i.options,a=i.yAxis;i.type!==e.type||!i.visible&&e.chart.options.chart.ignoreHiddenSeries||o.len!==a.len||o.pos!==a.pos||(r.stacking?(t=i.stackKey,void 0===l[t]&&(l[t]=u++),n=l[t]):!1!==r.grouping&&(n=u++),i.columnIndex=n)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=c*i.groupPadding,p=(c-2*h)/(u||1);i=Math.min(i.maxPointWidth||r.len,s(i.pointWidth,p*(1-2*i.pointPadding)));return e.columnMetrics={width:i,offset:(p-i)/2+(h+((e.columnIndex||0)+(a?1:0))*p-c/2)*(a?-1:1)},e.columnMetrics},crispCol:function(t,e,i,n){var r=this.chart,o=this.borderWidth,a=-(o%2?.5:0);o=o%2?.5:1;return r.inverted&&r.renderer.isVML&&(o+=1),this.options.crisp&&(i=Math.round(t+i)+a,t=Math.round(t)+a,i-=t),n=Math.round(e+n)+o,a=.5>=Math.abs(e)&&.5<n,e=Math.round(e)+o,n-=e,a&&n&&(--e,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=2>t.closestPointRange*t.xAxis.transA,o=(r=t.borderWidth=s(i.borderWidth,r?0:1),t.yAxis),a=i.threshold,u=t.translatedThreshold=o.getThreshold(a),c=s(i.minPointLength,5),h=t.getColumnMetrics(),p=h.width,d=t.barW=Math.max(p,1+2*r),f=t.pointXOffset=h.offset;e.inverted&&(u-=.5),i.pointPadding&&(d=Math.ceil(d)),l.prototype.translate.apply(t),n(t.points,function(i){var n,r=s(i.yBottom,u),l=999+Math.abs(r),h=(l=Math.min(Math.max(-l,i.plotY),o.len+l),i.plotX+f),g=d,m=Math.min(l,r),v=Math.max(l,r)-m;c&&Math.abs(v)<c&&(v=c,n=!o.reversed&&!i.negative||o.reversed&&i.negative,i.y===a&&t.dataMax<=a&&o.min<a&&(n=!n),m=Math.abs(m-u)>c?r-c:u-(n?c:0)),i.barX=h,i.pointWidth=p,i.tooltipPos=e.inverted?[o.len+o.pos-e.plotLeft-l,t.xAxis.len-h-g/2,v]:[h+g/2,l+o.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[h,u,g,0]:[h,m,g,v])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,r=this.options,o=this.pointAttrToOptions||{};n=o.stroke||"borderColor";var s=o["stroke-width"]||"borderWidth",l=t&&t.color||this.color,u=t&&t[n]||r[n]||this.color||l,c=t&&t[s]||r[s]||this[s]||0;o=r.dashStyle;return t&&this.zones.length&&(l=t.getZone(),l=t.options.color||l&&l.color||this.color),e&&(t=a(r.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,l=t.color||void 0!==e&&i(l).brighten(t.brightness).get()||l,u=t[n]||u,c=t[s]||c,o=t.dashStyle||o),n={fill:l,stroke:u,"stroke-width":c},o&&(n.dashstyle=o),n},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,s=i.renderer,l=r.animationLimit||250;n(e.points,function(n){var u=n.graphic;o(n.plotY)&&null!==n.y?(t=n.shapeArgs,u?u[i.pointCount<l?"animate":"attr"](a(t)):n.graphic=u=s[n.shapeType](t).add(n.group||e.group),r.borderRadius&&u.attr({r:r.borderRadius}),u.attr(e.pointAttribs(n,n.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),u.addClass(n.getClassName(),!0)):u&&(n.graphic=u.destroy())})},animate:function(t){var i,n=this,o=this.yAxis,a=n.options,s=this.chart.inverted,l={},u=s?"translateX":"translateY";c&&(t?(l.scaleY=.001,t=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(a.threshold))),s?l.translateX=t-o.len:l.translateY=t,n.group.attr(l)):(i=n.group.attr(u),n.group.animate({scaleY:1},r(e(n.options.animation),{step:function(t,e){l[u]=i+e.pos*(o.pos-i),n.group.attr(l)}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),l.prototype.remove.apply(t,arguments)}})}(e),function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){var e=t.Series;(t=t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){var e=t.deg2rad,i=t.isNumber,n=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,a=2*(i.slicedOffset||0),s=o.plotWidth-2*a,l=(o=o.plotHeight-2*a,i.center),u=(l=[n(l[0],"50%"),n(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(s,o));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=r(e,[s,o,u,l[2]][t])+(i?a:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,n){return t=i(t)?t:0,n=i(n)&&n>t&&360>n-t?n:t+360,{start:e*(t+-90),end:e*(n+-90)}}}}(e),function(t){var e=t.addEvent,i=t.CenteredSeriesMixin,n=t.defined,r=t.each,o=t.extend,a=i.getStartAndEndRadians,s=t.inArray,l=t.noop,u=t.pick,c=t.Point,h=t.Series,p=t.seriesType,d=t.setAnimation;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(r(i,function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],i+=o&&!e.visible?0:e.isNull?0:e.y;for(this.total=i,t=0;t<r;t++)e=n[t],e.percentage=0<i&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,s,l=0,c=this.options,h=c.slicedOffset,p=h+(c.borderWidth||0),d=a(c.startAngle,c.endAngle),f=this.startAngleRad=d.start,g=(d=(this.endAngleRad=d.end)-f,this.points),m=c.dataLabels.distance,v=(c=c.ignoreHiddenPoint,g.length);for(t||(this.center=t=this.getCenter()),this.getX=function(e,i,r){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+r.labelDistance),1)),t[0]+(i?-1:1)*Math.cos(n)*(t[2]/2+r.labelDistance)},o=0;o<v;o++)s=g[o],s.labelDistance=u(s.options.dataLabels&&s.options.dataLabels.distance,m),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),e=f+l*d,c&&!s.visible||(l+=s.percentage/100),i=f+l*d,s.shapeType="arc",s.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},n=(i+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(n)*h),translateY:Math.round(Math.sin(n)*h)},i=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,s.tooltipPos=[t[0]+.7*i,t[1]+.7*r],s.half=n<-Math.PI/2||n>Math.PI/2?1:0,s.angle=n,e=Math.min(p,s.labelDistance/5),s.labelPos=[t[0]+i+Math.cos(n)*s.labelDistance,t[1]+r+Math.sin(n)*s.labelDistance,t[0]+i+Math.cos(n)*e,t[1]+r+Math.sin(n)*e,t[0]+i,t[1]+r,0>s.labelDistance?"center":s.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,a=this,s=a.chart.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=s.g("shadow").add(a.group)),r(a.points,function(r){if(e=r.graphic,r.isNull)e&&(r.graphic=e.destroy());else{n=r.shapeArgs,t=r.getTranslate();var u=r.shadowGroup;l&&!u&&(u=r.shadowGroup=s.g("shadow").add(a.shadowGroup)),u&&u.attr(t),i=a.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(a.center).attr(i).animate(o(n,t)):(r.graphic=e=s[r.shapeType](n).setRadialReference(a.center).attr(t).add(a.group),r.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(l,u)),e.addClass(r.getClassName())}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){c.prototype.init.apply(this,arguments);var t,i=this;return i.name=u(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},isValid:function(){return t.isNumber(this.y,!0)&&0<=this.y},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,a=n.options.ignoreHiddenPoint;e=u(e,a),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,n.options.data[s(i,n.data)]=i.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),a&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var r=this.series;d(i,r.chart),u(e,!0),this.sliced=this.options.sliced=n(t)?t:!this.sliced,r.options.data[s(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r-1,start:e.start,end:e.end})}})}(e),function(t){var e=t.addEvent,i=t.arrayMax,n=t.defined,r=t.each,o=t.extend,a=t.format,s=t.map,l=t.merge,u=t.noop,c=t.pick,h=t.relativeLength,p=t.Series,d=t.seriesTypes,f=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,o,a=!0,l=t,u=[];for(o=0,n=t.length;n--;)o+=t[n].size;if(o>e){for(f(t,function(t,e){return(e.rank||0)-(t.rank||0)}),o=n=0;o<=e;)o+=t[n].size,n++;u=t.splice(n-1,t.length)}for(f(t,i),t=s(t,function(t){return{size:t.size,targets:[t.target],align:c(t.align,.5)}});a;){for(n=t.length;n--;)a=t[n],o=(Math.min.apply(0,a.targets)+Math.max.apply(0,a.targets))/2,a.pos=Math.min(Math.max(0,o-a.size*a.align),e-a.size);for(n=t.length,a=!1;n--;)0<n&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].align=.5,t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),a=!0)}n=0,r(t,function(t){var e=0;r(t.targets,function(){l[n].pos=t.pos+e,e+=l[n].size,n++})}),l.push.apply(l,u),f(l,i)},p.prototype.drawDataLabels=function(){function i(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}var o,s,u,h,p=this,d=p.chart,f=p.options,g=f.dataLabels,m=p.points,v=p.hasRendered||0,y=c(g.defer,!!f.animation),b=d.renderer;(g.enabled||p._hasPointLabels)&&(p.dlProcessOptions&&p.dlProcessOptions(g),h=p.plotGroup("dataLabelsGroup","data-labels",y&&!v?"hidden":"visible",g.zIndex||6),y&&(h.attr({opacity:+v}),v||e(p,"afterAnimate",function(){p.visible&&h.show(!0),h[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),s=g,r(m,function(e){var r,m,v,y,x=e.dataLabel,_=e.connector,w=!x;o=e.dlOptions||e.options&&e.options.dataLabels,(r=c(o&&o.enabled,s.enabled)&&!e.isNull)&&(r=!0===i(e,o||g)),r&&(g=l(s,o),m=e.getLabelConfig(),y=g[e.formatPrefix+"Format"]||g.format,u=n(y)?a(y,m,d.time):(g[e.formatPrefix+"Formatter"]||g.formatter).call(m,g),y=g.style,m=g.rotation,y.color=c(g.color,y.color,p.color,"#000000"),"contrast"===y.color&&(e.contrastColor=b.getContrast(e.color||p.color),y.color=g.inside||0>c(e.labelDistance,g.distance)||f.stacking?e.contrastColor:"#000000"),f.cursor&&(y.cursor=f.cursor),v={fill:g.backgroundColor,stroke:g.borderColor,"stroke-width":g.borderWidth,r:g.borderRadius||0,rotation:m,padding:g.padding,zIndex:1},t.objectEach(v,function(t,e){void 0===t&&delete v[e]})),!x||r&&n(u)?r&&n(u)&&(x?v.text=u:(x=e.dataLabel=m?b.text(u,0,-9999).addClass("highcharts-data-label"):b.label(u,0,-9999,g.shape,null,null,g.useHTML,null,"data-label"),x.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(g.className||"")+(g.useHTML?"highcharts-tracker":""))),x.attr(v),x.css(y).shadow(g.shadow),x.added||x.add(h),p.alignDataLabel(e,x,g,null,w)):(e.dataLabel=x=x.destroy(),_&&(e.connector=_.destroy()))})),t.fireEvent(this,"afterDrawDataLabels")},p.prototype.alignDataLabel=function(t,e,i,n,r){var a,s=this.chart,l=s.inverted,u=c(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=c(t.plotY,-9999),p=e.getBBox(),d=i.rotation,f=i.align,g=this.visible&&(t.series.forceDL||s.isInsidePlot(u,Math.round(h),l)||n&&s.isInsidePlot(u,l?n.x+1:n.y+n.height-1,l)),m="justify"===c(i.overflow,"justify");g&&(a=i.style.fontSize,a=s.renderer.fontMetrics(a,e).b,n=o({x:l?this.yAxis.len-h:u,y:Math.round(l?this.xAxis.len-u:h),width:0,height:0},n),o(i,{width:p.width,height:p.height}),d?(m=!1,u=s.renderer.rotCorr(a,d),u={x:n.x+i.x+n.width/2+u.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](u).attr({align:f}),h=(d+720)%360,h=180<h&&360>h,"left"===f?u.y-=h?p.height:0:"center"===f?(u.x-=p.width/2,u.y-=p.height/2):"right"===f&&(u.x-=p.width,u.y-=h?0:p.height)):(e.align(i,null,n),u=e.alignAttr),m?t.isLabelJustified=this.justifyDataLabel(e,i,u,p,n,r):c(i.crop,!0)&&(g=s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+p.width,u.y+p.height)),i.shape&&!d)&&e[r?"attr":"animate"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY}),g||(e.attr({y:-9999}),e.placed=!1)},p.prototype.justifyDataLabel=function(t,e,i,n,r,o){var a,s,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;return a=i.x+h,0>a&&("right"===u?e.align="left":e.x=-a,s=!0),a=i.x+n.width-h,a>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-a,s=!0),a=i.y+h,0>a&&("bottom"===c?e.verticalAlign="top":e.y=-a,s=!0),a=i.y+n.height-h,a>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-a,s=!0),s&&(t.placed=!o,t.align(e,null,r)),s},d.pie&&(d.pie.prototype.drawDataLabels=function(){var e,o,a,s,l,u,h,d,f,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=c(b.connectorPadding,10),_=c(b.connectorWidth,1),w=y.plotWidth,C=y.plotHeight,S=m.center,k=S[2]/2,A=S[1],T=[[],[]],M=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(r(v,function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),p.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(T[t.half].push(t),t.dataLabel._pos=null)}),r(T,function(i,o){var p,v,_,T=i.length,E=[];if(T)for(m.sortByAngle(i,o-.5),0<m.maxLabelDistance&&(p=Math.max(0,A-k-m.maxLabelDistance),v=Math.min(A+k+m.maxLabelDistance,y.plotHeight),r(i,function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,A-k-t.labelDistance),t.bottom=Math.min(A+k+t.labelDistance,y.plotHeight),_=t.dataLabel.getBBox().height||21,t.positionsIndex=E.push({target:t.labelPos[1]-t.top+_/2,size:_,rank:t.y})-1)}),t.distribute(E,v+_-p)),g=0;g<T;g++)e=i[g],v=e.positionsIndex,l=e.labelPos,a=e.dataLabel,f=!1===e.visible?"hidden":"inherit",d=p=l[1],E&&n(E[v])&&(void 0===E[v].pos?f="hidden":(u=E[v].size,d=e.top+E[v].pos)),delete e.positionIndex,h=b.justify?S[0]+(o?-1:1)*(k+e.labelDistance):m.getX(d<e.top+2||d>e.bottom-2?p:d,o,e),a._attr={visibility:f,align:l[6]},a._pos={x:h+b.x+({left:x,right:-x}[l[6]]||0),y:d+b.y-10},l.x=h,l.y=d,c(b.crop,!0)&&(s=a.getBBox().width,p=null,h-s<x?(p=Math.round(s-h+x),M[3]=Math.max(p,M[3])):h+s>w-x&&(p=Math.round(h+s-w+x),M[1]=Math.max(p,M[1])),0>d-u/2?M[0]=Math.max(Math.round(u/2-d),M[0]):d+u/2>C&&(M[2]=Math.max(Math.round(d+u/2-C),M[2])),a.sideOverflow=p)}),0===i(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),_&&r(this.points,function(t){var e;o=t.connector,(a=t.dataLabel)&&a._pos&&t.visible&&0<t.labelDistance?(f=a._attr.visibility,(e=!o)&&(t.connector=o=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),o.attr({"stroke-width":_,stroke:b.connectorColor||t.color||"#666666"})),o[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),o.attr("visibility",f)):o&&(t.connector=o.destroy())}))},d.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},d.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e=t.dataLabel;e&&t.visible&&((t=e._pos)?(e.sideOverflow&&(e._attr.width=e.getBBox().width-e.sideOverflow,e.css({width:e._attr.width+"px",textOverflow:"ellipsis"}),e.shortened=!0),e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-9999}))},this)},d.pie.prototype.alignDataLabel=u,d.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,a=null!==n.size;return a||(null!==r[0]?e=Math.max(i[2]-Math.max(t[1],t[3]),o):(e=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),null!==r[1]?e=Math.max(Math.min(e,i[2]-Math.max(t[0],t[2])),o):(e=Math.max(Math.min(e,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),e<i[2]?(i[2]=e,i[3]=Math.min(h(n.innerSize||0,e),e),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):a=!0),a}),d.column&&(d.column.prototype.alignDataLabel=function(t,e,i,n,r){var o=this.chart.inverted,a=t.series,s=t.dlBox||t.shapeArgs,u=c(t.below,t.plotY>c(this.translatedThreshold,a.yAxis.len)),h=c(i.inside,!!this.options.stacking);s&&(n=l(s),0>n.y&&(n.height+=n.y,n.y=0),s=n.y+n.height-a.yAxis.len,0<s&&(n.height-=s),o&&(n={x:a.yAxis.len-n.y-n.height,y:a.xAxis.len-n.x-n.width,width:n.height,height:n.width}),h||(o?(n.x+=u?0:n.width,n.width=0):(n.y+=u?n.height:0,n.height=0))),i.align=c(i.align,!o||h?"center":u?"right":"left"),i.verticalAlign=c(i.verticalAlign,o||h?"middle":u?"top":"bottom"),p.prototype.alignDataLabel.call(this,t,e,i,n,r),t.isLabelJustified&&t.contrastColor&&t.dataLabel.css({color:t.contrastColor})})}(e),function(t){var e=t.Chart,i=t.each,n=t.objectEach,r=t.pick;t=t.addEvent,t(e.prototype,"render",function(){var t=[];i(this.labelCollectors||[],function(e){t=t.concat(e())}),i(this.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&n(e.stacks,function(e){n(e,function(e){t.push(e.label)})})}),i(this.series||[],function(e){var n=e.options.dataLabels,o=e.dataLabelCollections||["dataLabel"];(n.enabled||e._hasPointLabels)&&!n.allowOverlap&&e.visible&&i(o,function(n){i(e.points,function(e){e[n]&&(e[n].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[n]))})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,a,s,l,u,c,h=t.length;for(n=0;n<h;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.width||(r=e.getBBox(),e.width=r.width,e.height=r.height));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<h;n++)for(r=t[n],e=n+1;e<h;++e)o=t[e],r&&o&&r!==o&&r.placed&&o.placed&&0!==r.newOpacity&&0!==o.newOpacity&&(a=r.alignAttr,s=o.alignAttr,l=r.parentGroup,u=o.parentGroup,c=2*(r.box?0:r.padding||0),a=function(t,e,i,n,r,o,a,s){return!(r>t+i||r+a<t||o>e+n||o+s<e)}(a.x+l.translateX,a.y+l.translateY,r.width-c,r.height-c,s.x+u.translateX,s.y+u.translateY,o.width-c,o.height-c))&&((r.labelrank<o.labelrank?r:o).newOpacity=0);i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(e),function(t){var e,i=t.addEvent,n=t.Chart,r=t.createElement,o=t.css,a=t.defaultOptions,s=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,h=t.hasTouch,p=t.inArray,d=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart.pointer,i=function(t){var i=e.getPointFromEvent(t);void 0!==i&&(e.isDirectTouch=!0,i.onMouseOver(t))};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(n){t[n]&&(t[n].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(t){e.onTrackerMouseOut(t)}),h&&t[n].on("touchstart",i),t.options.cursor&&t[n].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0),c(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,a=e.chart,s=a.pointer,u=a.renderer,p=a.options.tooltip.snap,d=e.tracker,f=function(){a.hoverSeries!==e&&e.onMouseOver()},g="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-p,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+p,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:g,fill:n?g:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*p),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",function(t){s.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",f)})),c(this,"afterDrawTracker")}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),u(f.prototype,{setItemEvents:function(t,e,i){var n=this,r=n.chart.renderer.boxWrapper,o="highcharts-legend-"+(t instanceof v?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.addClass(o),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(g(t.visible?n.itemStyle:n.itemHiddenStyle)),r.removeClass(o),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};r.removeClass(o),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):c(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),i(t.checkbox,"click",function(e){c(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),a.legend.itemStyle.cursor="pointer",u(n.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=a.lang,n=e.options.chart.resetZoomButton,r=n.theme,o=r.states,s="chart"===n.relativeTo?null:"plotBox";c(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,r,o&&o.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,s)})},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this.pointer,r=!1;!t||t.resetSelection?(l(this.axes,function(t){e=t.zoom()}),n.initiated=!1):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis;n[i.isXAxis?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(r=!0))}),i=this.resetZoomButton,r&&!i?this.showResetZoom():!r&&d(i)&&(this.resetZoomButton=i.destroy()),e&&this.redraw(m(this.options.chart.animation,t&&t.animation,100>this.pointCount))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){e=n[e?"xAxis":"yAxis"][0];var r=e.horiz,o=t[r?"chartX":"chartY"],a=(r=r?"mouseDownX":"mouseDownY",n[r]),s=(e.pointRange||0)/2,l=e.getExtremes(),u=e.toValue(a-o,!0)+s,c=e.toValue(a+e.len-o,!0)-s,h=c<u;a=h?c:u,u=h?u:c,c=Math.min(l.dataMin,s?l.min:e.toValue(e.toPixels(l.min)-e.minPixelPadding)),s=Math.max(l.dataMax,s?l.max:e.toValue(e.toPixels(l.max)+e.minPixelPadding)),h=c-a;0<h&&(u+=h,a=c),h=u-s,0<h&&(u=s,a-=h),e.series.length&&a!==l.min&&u!==l.max&&(e.setExtremes(a,u,!1,!1,{trigger:"pan"}),i=!0),n[r]=o}),i&&n.redraw(!1),o(n.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[p(i,n.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[p(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),l(t.hoverPoints||[],function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,n=g(e.series.options.point,e.options).events;e.events=n,t.objectEach(n,function(t,n){i(e,n,t)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,n=Math.floor(this.plotX),r=this.plotY,o=this.series,a=o.options.states[t||"normal"]||{},l=s[o.type].marker&&o.options.marker,h=l&&!1===l.enabled,p=l&&l.states&&l.states[t||"normal"]||{},d=!1===p.enabled,f=o.stateMarkerGraphic,g=this.marker||{},v=o.chart,y=o.halo,b=l&&o.markerAttribs;(t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===a.enabled||t&&(d||h&&!1===p.enabled)||t&&g.states&&g.states[t]&&!1===g.states[t].enabled||(b&&(i=o.markerAttribs(this,t)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),t&&this.graphic.addClass("highcharts-point-"+t),this.graphic.animate(o.pointAttribs(this,t),m(v.options.chart.animation,a.animation)),i&&this.graphic.animate(i,m(v.options.chart.animation,p.animation,l.animation)),f&&f.hide()):(t&&p&&(l=g.symbol||o.symbol,f&&f.currentSymbol!==l&&(f=f.destroy()),f?f[e?"animate":"attr"]({x:i.x,y:i.y}):l&&(o.stateMarkerGraphic=f=v.renderer.symbol(l,i.x,i.y,i.width,i.height).add(o.markerGroup),f.currentSymbol=l),f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&v.isInsidePlot(n,r,v.inverted)?"show":"hide"](),f.element.point=this)),(n=a.halo)&&n.size?(y||(o.halo=y=v.renderer.path().add((this.graphic||f).parentGroup)),y.show()[e?"animate":"attr"]({d:this.haloPath(n.size)}),y.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,o.colorIndex)}),y.point=this,y.attr(u({fill:this.color||o.color,"fill-opacity":n.opacity,zIndex:-1},n.attributes))):y&&y.point&&y.point.haloPath&&y.animate({d:y.point.haloPath(0)},null,y.hide),this.state=t,c(this,"afterSetState"))},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&c(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,n=e.hoverPoint;e.hoverSeries=null,n&&n.onMouseOut(),this&&t.events.mouseOut&&c(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),this.setState()},setState:function(t){var e=this,i=e.options,n=e.graph,r=i.states,o=i.lineWidth;i=0;if(t=t||"",e.state!==t&&(l([e.group,e.markerGroup,e.dataLabelsGroup],function(i){i&&(e.state&&i.removeClass("highcharts-series-"+e.state),t&&i.addClass("highcharts-series-"+t))}),e.state=t,!r[t]||!1!==r[t].enabled)&&(t&&(o=r[t].lineWidth||o+(r[t].lineWidthPlus||0)),n&&!n.dashstyle))for(o={"stroke-width":o},n.animate(o,m(r[t||"normal"]&&r[t||"normal"].animation,e.chart.options.chart.animation));e["zone-graph-"+i];)e["zone-graph-"+i].attr(o),i+=1},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,a=r.options.chart.ignoreHiddenSeries,s=n.visible;i=(n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!s:t)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),a&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),c(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),c(this,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){var e=t.Chart,i=t.each,n=t.inArray,r=t.isArray,o=t.isObject,a=t.pick,s=t.splat;e.prototype.setResponsive=function(e){var n=this.options.responsive,r=[],o=this.currentResponsive;n&&n.rules&&i(n.rules,function(i){void 0===i._id&&(i._id=t.uniqueKey()),this.matchResponsiveRule(i,r,e)},this);var a=t.merge.apply(0,t.map(r,function(e){return t.find(n.rules,function(t){return t._id===e}).chartOptions}));r=r.toString()||void 0;r!==(o&&o.ruleIds)&&(o&&this.update(o.undoOptions,e),r?(this.currentResponsive={ruleIds:r,mergedOptions:a,undoOptions:this.currentOptions(a)},this.update(a,e)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=a(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=a(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=a(i.minWidth,0)&&this.chartHeight>=a(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(e){function i(e,a,l,u){var c;t.objectEach(e,function(t,e){if(!u&&-1<n(e,["series","xAxis","yAxis"]))for(t=s(t),l[e]=[],c=0;c<t.length;c++)a[e][c]&&(l[e][c]={},i(t[c],a[e][c],l[e][c],u+1));else o(t)?(l[e]=r(t)?[]:{},i(t,a[e]||{},l[e],u+1)):l[e]=a[e]||null})}var a={};return i(e,this.options,a,0),a}}(e),e})},function(t,e,i){(function(t){var i,n;(function(){var r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b,x,_,w,C,S,k,A,T,M,E,P,O,I,L,R,D,z,B,j,F,N,V,H,G,U,W,$,q,X,Y,K,Z,J,Q,tt,et,it,nt,rt,ot,at,st,lt,ut,ct,ht,pt,dt,ft,gt,mt,vt,yt,bt,xt,_t,wt,Ct,St,kt,At,Tt,Mt,Et,Pt,Ot=[].slice;At=function(){var t,e,i,n,r;for(t={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),n=0,e=r.length;n<e;n++)i=r[n],t["[object "+i+"]"]=i.toLowerCase();return function(e){var i;return i=Object.prototype.toString.call(e),t[i]||"object"}}(),K=function(t,e,i){return null==e&&(e=0),null==i&&(i=1),t<e&&(t=e),t>i&&(t=i),t},Tt=function(t){return t.length>=3?[].slice.call(t):t[0]},S=function(t){var e,i;for(t._clipped=!1,t._unclipped=t.slice(0),e=i=0;i<3;e=++i)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]<0&&(t[e]=0),t[e]>255&&(t[e]=255)):3===e&&(t[e]<0&&(t[e]=0),t[e]>1&&(t[e]=1));return t._clipped||delete t._unclipped,t},s=Math.PI,_t=Math.round,A=Math.cos,O=Math.floor,ot=Math.pow,Z=Math.log,Ct=Math.sin,St=Math.sqrt,v=Math.atan2,tt=Math.max,m=Math.abs,c=2*s,l=s/3,o=s/180,u=180/s,C=function(){return arguments[0]instanceof r?arguments[0]:function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,arguments,function(){})},C.default=C,g=[],void 0!==t&&null!==t&&null!=t.exports&&(t.exports=C),i=[],void 0!==(n=function(){return C}.apply(e,i))&&(t.exports=n),C.version="1.3.5",f={},p=[],d=!1,r=function(){function t(){var t,e,i,n,r,o,a,s,l;for(o=this,e=[],s=0,n=arguments.length;s<n;s++)null!=(t=arguments[s])&&e.push(t);if(e.length>1&&(a=e[e.length-1]),null!=f[a])o._rgb=S(f[a](Tt(e.slice(0,-1))));else{for(d||(p=p.sort(function(t,e){return e.p-t.p}),d=!0),l=0,r=p.length;l<r&&(i=p[l],!(a=i.test.apply(i,e)));l++);a&&(o._rgb=S(f[a].apply(f,e)))}null==o._rgb&&console.warn("unknown format: "+e),null==o._rgb&&(o._rgb=[0,0,0]),3===o._rgb.length&&o._rgb.push(1)}return t.prototype.toString=function(){return this.hex()},t.prototype.clone=function(){return C(me._rgb)},t}(),C._input=f,C.brewer=_={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var t,e;for(t in e=[],_)e.push(_[t.toLowerCase()]=_[t])}(),Mt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},C.colors=Mt,W=function(){var t,e,i,n,r,o,s,l,u;return e=Tt(arguments),r=e[0],t=e[1],i=e[2],l=(r+16)/116,s=isNaN(t)?l:l+t/500,u=isNaN(i)?l:l-i/200,l=a.Yn*$(l),s=a.Xn*$(s),u=a.Zn*$(u),o=Pt(3.2404542*s-1.5371385*l-.4985314*u),n=Pt(-.969266*s+1.8760108*l+.041556*u),i=Pt(.0556434*s-.2040259*l+1.0572252*u),[o,n,i,e.length>3?e[3]:1]},Pt=function(t){return 255*(t<=.00304?12.92*t:1.055*ot(t,1/2.4)-.055)},$=function(t){return t>a.t1?t*t*t:a.t2*(t-a.t0)},a={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},dt=function(){var t,e,i,n,r,o,a,s;return n=Tt(arguments),i=n[0],e=n[1],t=n[2],r=yt(i,e,t),o=r[0],a=r[1],s=r[2],[116*a-16,500*(o-a),200*(a-s)]},bt=function(t){return(t/=255)<=.04045?t/12.92:ot((t+.055)/1.055,2.4)},Et=function(t){return t>a.t3?ot(t,1/3):t/a.t2+a.t0},yt=function(){var t,e,i,n,r,o,s;return n=Tt(arguments),i=n[0],e=n[1],t=n[2],i=bt(i),e=bt(e),t=bt(t),r=Et((.4124564*i+.3575761*e+.1804375*t)/a.Xn),o=Et((.2126729*i+.7151522*e+.072175*t)/a.Yn),s=Et((.0193339*i+.119192*e+.9503041*t)/a.Zn),[r,o,s]},C.lab=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["lab"]),function(){})},f.lab=W,r.prototype.lab=function(){return dt(this._rgb)},y=function(t){var e,i,n,r,o,a,s,l,u,c,h;return t=function(){var e,i,n;for(n=[],i=0,e=t.length;i<e;i++)r=t[i],n.push(C(r));return n}(),2===t.length?(u=function(){var e,i,n;for(n=[],i=0,e=t.length;i<e;i++)r=t[i],n.push(r.lab());return n}(),o=u[0],a=u[1],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;i<=2;e=++i)n.push(o[e]+t*(a[e]-o[e]));return n}(),C.lab.apply(C,i)}):3===t.length?(c=function(){var e,i,n;for(n=[],i=0,e=t.length;i<e;i++)r=t[i],n.push(r.lab());return n}(),o=c[0],a=c[1],s=c[2],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;i<=2;e=++i)n.push((1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]);return n}(),C.lab.apply(C,i)}):4===t.length?(h=function(){var e,i,n;for(n=[],i=0,e=t.length;i<e;i++)r=t[i],n.push(r.lab());return n}(),o=h[0],a=h[1],s=h[2],l=h[3],e=function(t){var e,i;return i=function(){var i,n;for(n=[],e=i=0;i<=2;e=++i)n.push((1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]);return n}(),C.lab.apply(C,i)}):5===t.length&&(i=y(t.slice(0,3)),n=y(t.slice(2,5)),e=function(t){return t<.5?i(2*t):n(2*(t-.5))}),e},C.bezier=function(t){var e;return e=y(t),e.scale=function(){return C.scale(e)},e},C.cubehelix=function(t,e,i,n,r){var o,a,s;return null==t&&(t=300),null==e&&(e=-1.5),null==i&&(i=1),null==n&&(n=1),null==r&&(r=[0,1]),o=0,"array"===At(r)?a=r[1]-r[0]:(a=0,r=[r,r]),s=function(s){var l,u,h,p,d,f,g,m,v;return l=c*((t+120)/360+e*s),g=ot(r[0]+a*s,n),f=0!==o?i[0]+s*o:i,u=f*g*(1-g)/2,p=A(l),v=Ct(l),m=g+u*(-.14861*p+1.78277*v),d=g+u*(-.29227*p-.90649*v),h=g+u*(1.97294*p),C(S([255*m,255*d,255*h]))},s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?n:(n=t,s)},s.hue=function(t){return null==t?i:(i=t,"array"===At(i)?0===(o=i[1]-i[0])&&(i=i[1]):o=0,s)},s.lightness=function(t){return null==t?r:("array"===At(t)?(r=t,a=t[1]-t[0]):(r=[t,t],a=0),s)},s.scale=function(){return C.scale(s)},s.hue(i),s},C.random=function(){var t,e,i;for(e="0123456789abcdef",t="#",i=0;i<6;++i)t+=e.charAt(O(16*Math.random()));return new r(t)},g=[],j=function(t,e,i,n){var r,o,a,s;for(null==i&&(i=.5),null==n&&(n="rgb"),"object"!==At(t)&&(t=C(t)),"object"!==At(e)&&(e=C(e)),a=0,o=g.length;a<o;a++)if(r=g[a],n===r[0]){s=r[1](t,e,i,n);break}if(null==s)throw"color mode "+n+" is not supported";return s.alpha(t.alpha()+i*(e.alpha()-t.alpha()))},C.interpolate=j,r.prototype.interpolate=function(t,e,i){return j(this,t,e,i)},C.mix=j,r.prototype.mix=r.prototype.interpolate,f.rgb=function(){var t,e,i,n;for(t in e=Tt(arguments),i=[],e)n=e[t],i.push(n);return i},C.rgb=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["rgb"]),function(){})},r.prototype.rgb=function(t){return null==t&&(t=!0),t?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(t){return null==t&&(t=!0),t?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},p.push({p:3,test:function(t){var e;return e=Tt(arguments),"array"===At(e)&&3===e.length?"rgb":4===e.length&&"number"===At(e[3])&&e[3]>=0&&e[3]<=1?"rgb":void 0}}),f.lrgb=f.rgb,V=function(t,e,i,n){var o,a;return o=t._rgb,a=e._rgb,new r(St(ot(o[0],2)*(1-i)+ot(a[0],2)*i),St(ot(o[1],2)*(1-i)+ot(a[1],2)*i),St(ot(o[2],2)*(1-i)+ot(a[2],2)*i),n)},h=function(t){var e,i,n,o,a,s;for(i=1/t.length,s=[0,0,0,0],o=0,n=t.length;o<n;o++)e=t[o],a=e._rgb,s[0]+=ot(a[0],2)*i,s[1]+=ot(a[1],2)*i,s[2]+=ot(a[2],2)*i,s[3]+=a[3]*i;return s[0]=St(s[0]),s[1]=St(s[1]),s[2]=St(s[2]),new r(s)},g.push(["lrgb",V]),C.average=function(t,e){var i,n,r,o,a,l,u,c,p,d,f,g,m;if(null==e&&(e="rgb"),p=t.length,t=t.map(function(t){return C(t)}),u=t.splice(0,1)[0],"lrgb"===e)return h(t);for(c in g=u.get(e),o=[],a=0,l=0,g)g[c]=g[c]||0,o.push(isNaN(g[c])?0:1),"h"!==e.charAt(c)||isNaN(g[c])||(i=g[c]/180*s,a+=A(i),l+=Ct(i));for(n=u.alpha(),f=0,d=t.length;f<d;f++)for(c in r=t[f],m=r.get(e),n+=r.alpha(),g)isNaN(m[c])||(g[c]+=m[c],o[c]+=1,"h"===e.charAt(c)&&(i=g[c]/180*s,a+=A(i),l+=Ct(i)));for(c in g)if(g[c]=g[c]/o[c],"h"===e.charAt(c)){for(i=v(l/o[c],a/o[c])/s*180;i<0;)i+=360;for(;i>=360;)i-=360;g[c]=i}return C(g,e).alpha(n/p)},L=function(t){var e,i,n,r,o,a;if(t.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),a=parseInt(t,16),r=a>>16,n=a>>8&255,i=255&a,[r,n,i,1];if(t.match(/^#?([A-Fa-f0-9]{8})$/))return 9===t.length&&(t=t.substr(1)),a=parseInt(t,16),r=a>>24&255,n=a>>16&255,i=a>>8&255,e=_t((255&a)/255*100)/100,[r,n,i,e];if(null!=f.css&&(o=f.css(t)))return o;throw"unknown color: "+t},ut=function(t,e){var i,n,r,o,a,s,l;return null==e&&(e="rgb"),a=t[0],r=t[1],n=t[2],i=t[3],a=Math.round(a),r=Math.round(r),n=Math.round(n),l=a<<16|r<<8|n,s="000000"+l.toString(16),s=s.substr(s.length-6),o="0"+_t(255*i).toString(16),o=o.substr(o.length-2),"#"+function(){switch(e.toLowerCase()){case"rgba":return s+o;case"argb":return o+s;default:return s}}()},f.hex=function(t){return L(t)},C.hex=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["hex"]),function(){})},r.prototype.hex=function(t){return null==t&&(t="rgb"),ut(this._rgb,t)},p.push({p:4,test:function(t){if(1===arguments.length&&"string"===At(t))return"hex"}}),z=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,d;if(t=Tt(arguments),r=t[0],c=t[1],a=t[2],0===c)l=n=e=255*a;else{for(d=[0,0,0],i=[0,0,0],p=a<.5?a*(1+c):a+c-a*c,h=2*a-p,r/=360,d[0]=r+1/3,d[1]=r,d[2]=r-1/3,o=s=0;s<=2;o=++s)d[o]<0&&(d[o]+=1),d[o]>1&&(d[o]-=1),6*d[o]<1?i[o]=h+6*(p-h)*d[o]:2*d[o]<1?i[o]=p:3*d[o]<2?i[o]=h+(p-h)*(2/3-d[o])*6:i[o]=h;u=[_t(255*i[0]),_t(255*i[1]),_t(255*i[2])],l=u[0],n=u[1],e=u[2]}return t.length>3?[l,n,e,t[3]]:[l,n,e]},ht=function(t,e,i){var n,r,o,a,s;return void 0!==t&&t.length>=3&&(a=t,t=a[0],e=a[1],i=a[2]),t/=255,e/=255,i/=255,o=Math.min(t,e,i),tt=Math.max(t,e,i),r=(tt+o)/2,tt===o?(s=0,n=Number.NaN):s=r<.5?(tt-o)/(tt+o):(tt-o)/(2-tt-o),t===tt?n=(e-i)/(tt-o):e===tt?n=2+(i-t)/(tt-o):i===tt&&(n=4+(t-e)/(tt-o)),n*=60,n<0&&(n+=360),[n,s,r]},C.hsl=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["hsl"]),function(){})},f.hsl=z,r.prototype.hsl=function(){return ht(this._rgb)},B=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,d,f,g,m,v;if(t=Tt(arguments),r=t[0],g=t[1],v=t[2],v*=255,0===g)l=n=e=v;else switch(360===r&&(r=0),r>360&&(r-=360),r<0&&(r+=360),r/=60,o=O(r),i=r-o,a=v*(1-g),s=v*(1-g*i),m=v*(1-g*(1-i)),o){case 0:u=[v,m,a],l=u[0],n=u[1],e=u[2];break;case 1:c=[s,v,a],l=c[0],n=c[1],e=c[2];break;case 2:h=[a,v,m],l=h[0],n=h[1],e=h[2];break;case 3:p=[a,s,v],l=p[0],n=p[1],e=p[2];break;case 4:d=[m,a,v],l=d[0],n=d[1],e=d[2];break;case 5:f=[v,a,s],l=f[0],n=f[1],e=f[2]}return[l,n,e,t.length>3?t[3]:1]},pt=function(){var t,e,i,n,r,o,a,s,l;return a=Tt(arguments),o=a[0],i=a[1],t=a[2],r=Math.min(o,i,t),tt=Math.max(o,i,t),e=tt-r,l=tt/255,0===tt?(n=Number.NaN,s=0):(s=e/tt,o===tt&&(n=(i-t)/e),i===tt&&(n=2+(t-o)/e),t===tt&&(n=4+(o-i)/e),(n*=60)<0&&(n+=360)),[n,s,l]},C.hsv=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["hsv"]),function(){})},f.hsv=B,r.prototype.hsv=function(){return pt(this._rgb)},nt=function(t){var e,i,n;return"number"===At(t)&&t>=0&&t<=16777215?(n=t>>16,i=t>>8&255,e=255&t,[n,i,e,1]):(console.warn("unknown num color: "+t),[0,0,0,1])},mt=function(){var t,e,i,n;return n=Tt(arguments),i=n[0],e=n[1],t=n[2],(i<<16)+(e<<8)+t},C.num=function(t){return new r(t,"num")},r.prototype.num=function(t){return null==t&&(t="rgb"),mt(this._rgb,t)},f.num=nt,p.push({p:1,test:function(t){if(1===arguments.length&&"number"===At(t)&&t>=0&&t<=16777215)return"num"}}),I=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b;if(i=Tt(arguments),s=i[0],r=i[1],e=i[2],r/=100,a=a/100*255,t=255*r,0===r)h=a=n=e;else switch(360===s&&(s=0),s>360&&(s-=360),s<0&&(s+=360),s/=60,l=O(s),o=s-l,u=e*(1-r),c=u+t*(1-o),y=u+t*o,b=u+t,l){case 0:p=[b,y,u],h=p[0],a=p[1],n=p[2];break;case 1:d=[c,b,u],h=d[0],a=d[1],n=d[2];break;case 2:f=[u,b,y],h=f[0],a=f[1],n=f[2];break;case 3:g=[u,c,b],h=g[0],a=g[1],n=g[2];break;case 4:m=[y,u,b],h=m[0],a=m[1],n=m[2];break;case 5:v=[b,u,c],h=v[0],a=v[1],n=v[2]}return[h,a,n,i.length>3?i[3]:1]},lt=function(){var t,e,i,n,r,o,a,s,l;return l=Tt(arguments),s=l[0],r=l[1],e=l[2],a=Math.min(s,r,e),tt=Math.max(s,r,e),n=tt-a,i=100*n/255,t=a/(255-n)*100,0===n?o=Number.NaN:(s===tt&&(o=(r-e)/n),r===tt&&(o=2+(e-s)/n),e===tt&&(o=4+(s-r)/n),(o*=60)<0&&(o+=360)),[o,i,t]},C.hcg=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["hcg"]),function(){})},f.hcg=I,r.prototype.hcg=function(){return lt(this._rgb)},T=function(t){var e,i,n,r,o,a,s,l;if(t=t.toLowerCase(),null!=C.colors&&C.colors[t])return L(C.colors[t]);if(o=t.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(s=o.slice(1,4),r=a=0;a<=2;r=++a)s[r]=+s[r];s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(s=o.slice(1,5),r=l=0;l<=3;r=++l)s[r]=+s[r];else if(o=t.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(s=o.slice(1,4),r=e=0;e<=2;r=++e)s[r]=_t(2.55*s[r]);s[3]=1}else if(o=t.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(s=o.slice(1,5),r=i=0;i<=2;r=++i)s[r]=_t(2.55*s[r]);s[3]=+s[3]}else(o=t.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(n=o.slice(1,4),n[1]*=.01,n[2]*=.01,s=z(n),s[3]=1):(o=t.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(n=o.slice(1,4),n[1]*=.01,n[2]*=.01,s=z(n),s[3]=+o[4]);return s},st=function(t){var e;return e=t[3]<1?"rgba":"rgb","rgb"===e?e+"("+t.slice(0,3).map(_t).join(",")+")":"rgba"===e?e+"("+t.slice(0,3).map(_t).join(",")+","+t[3]+")":void 0},xt=function(t){return _t(100*t)/100},D=function(t,e){var i;return i=e<1?"hsla":"hsl",t[0]=xt(t[0]||0),t[1]=xt(100*t[1])+"%",t[2]=xt(100*t[2])+"%","hsla"===i&&(t[3]=e),i+"("+t.join(",")+")"},f.css=function(t){return T(t)},C.css=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["css"]),function(){})},r.prototype.css=function(t){return null==t&&(t="rgb"),"rgb"===t.slice(0,3)?st(this._rgb):"hsl"===t.slice(0,3)?D(this.hsl(),this.alpha()):void 0},f.named=function(t){return L(Mt[t])},p.push({p:5,test:function(t){if(1===arguments.length&&null!=Mt[t])return"named"}}),r.prototype.name=function(t){var e,i;for(i in arguments.length&&(Mt[t]&&(this._rgb=L(Mt[t])),this._rgb[3]=1),e=this.hex(),Mt)if(e===Mt[i])return i;return e},q=function(){var t,e,i,n;return n=Tt(arguments),i=n[0],t=n[1],e=n[2],e*=o,[i,A(e)*t,Ct(e)*t]},X=function(){var t,e,i,n,r,o,a,s,l,u,c;return i=Tt(arguments),s=i[0],r=i[1],a=i[2],u=q(s,r,a),t=u[0],e=u[1],n=u[2],c=W(t,e,n),l=c[0],o=c[1],n=c[2],[l,o,n,i.length>3?i[3]:1]},U=function(){var t,e,i,n,r,o;return o=Tt(arguments),r=o[0],t=o[1],e=o[2],i=St(t*t+e*e),n=(v(e,t)*u+360)%360,0===_t(1e4*i)&&(n=Number.NaN),[r,i,n]},ft=function(){var t,e,i,n,r,o,a;return o=Tt(arguments),r=o[0],i=o[1],e=o[2],a=dt(r,i,e),n=a[0],t=a[1],e=a[2],U(n,t,e)},C.lch=function(){var t;return t=Tt(arguments),new r(t,"lch")},C.hcl=function(){var t;return t=Tt(arguments),new r(t,"hcl")},f.lch=X,f.hcl=function(){var t,e,i,n;return n=Tt(arguments),e=n[0],t=n[1],i=n[2],X([i,t,e])},r.prototype.lch=function(){return ft(this._rgb)},r.prototype.hcl=function(){return ft(this._rgb).reverse()},at=function(t){var e,i,n,r,o,a,s,l,u;return null==t&&(t="rgb"),l=Tt(arguments),s=l[0],r=l[1],e=l[2],s/=255,r/=255,e/=255,o=1-Math.max(s,Math.max(r,e)),n=o<1?1/(1-o):0,i=(1-s-o)*n,a=(1-r-o)*n,u=(1-e-o)*n,[i,a,u,o]},k=function(){var t,e,i,n,r,o,a,s,l;return e=Tt(arguments),n=e[0],a=e[1],l=e[2],o=e[3],t=e.length>4?e[4]:1,1===o?[0,0,0,t]:(s=n>=1?0:255*(1-n)*(1-o),r=a>=1?0:255*(1-a)*(1-o),i=l>=1?0:255*(1-l)*(1-o),[s,r,i,t])},f.cmyk=function(){return k(Tt(arguments))},C.cmyk=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["cmyk"]),function(){})},r.prototype.cmyk=function(){return at(this._rgb)},f.gl=function(){var t,e,i,n,r;for(n=function(){var t,i;for(e in t=Tt(arguments),i=[],t)r=t[e],i.push(r);return i}.apply(this,arguments),t=i=0;i<=2;t=++i)n[t]*=255;return n},C.gl=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["gl"]),function(){})},r.prototype.gl=function(){var t;return t=this._rgb,[t[0]/255,t[1]/255,t[2]/255,t[3]]},gt=function(t,e,i){var n;return n=Tt(arguments),t=n[0],e=n[1],i=n[2],t=J(t),e=J(e),i=J(i),.2126*t+.7152*e+.0722*i},J=function(t){return t/=255,t<=.03928?t/12.92:ot((t+.055)/1.055,2.4)},G=function(t,e,i,n){var o,a;return o=t._rgb,a=e._rgb,new r(o[0]+i*(a[0]-o[0]),o[1]+i*(a[1]-o[1]),o[2]+i*(a[2]-o[2]),n)},g.push(["rgb",G]),r.prototype.luminance=function(t,e){var i,n,r,o;return null==e&&(e="rgb"),arguments.length?(0===t?this._rgb=[0,0,0,this._rgb[3]]:1===t?this._rgb=[255,255,255,this._rgb[3]]:(n=1e-7,r=20,o=function(i,a){var s,l;return l=i.interpolate(a,.5,e),s=l.luminance(),Math.abs(t-s)<n||!r--?l:s>t?o(i,l):o(l,a)},i=gt(this._rgb),this._rgb=(i>t?o(C("black"),this):o(this,C("white"))).rgba()),this):gt(this._rgb)},kt=function(t){var e,i,n,r;return r=t/100,r<66?(n=255,i=-155.25485562709179-.44596950469579133*(i=r-2)+104.49216199393888*Z(i),e=r<20?0:.8274096064007395*(e=r-10)-254.76935184120902+115.67994401066147*Z(e)):(n=351.97690566805693+.114206453784165*(n=r-55)-40.25366309332127*Z(n),i=325.4494125711974+.07943456536662342*(i=r-50)-28.0852963507957*Z(i),e=255),[n,i,e]},vt=function(){var t,e,i,n,r,o,a,s;for(o=Tt(arguments),r=o[0],o[1],t=o[2],n=1e3,i=4e4,e=.4;i-n>e;)s=.5*(i+n),a=kt(s),a[2]/a[0]>=t/r?i=s:n=s;return _t(s)},C.temperature=C.kelvin=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["temperature"]),function(){})},f.temperature=f.kelvin=f.K=kt,r.prototype.temperature=function(){return vt(this._rgb)},r.prototype.kelvin=r.prototype.temperature,C.contrast=function(t,e){var i,n,o,a;return"string"!==(o=At(t))&&"number"!==o||(t=new r(t)),"string"!==(a=At(e))&&"number"!==a||(e=new r(e)),i=t.luminance(),n=e.luminance(),i>n?(i+.05)/(n+.05):(n+.05)/(i+.05)},C.distance=function(t,e,i){var n,o,a,s,l,u,c;for(o in null==i&&(i="lab"),"string"!==(l=At(t))&&"number"!==l||(t=new r(t)),"string"!==(u=At(e))&&"number"!==u||(e=new r(e)),a=t.get(i),s=e.get(i),c=0,a)n=(a[o]||0)-(s[o]||0),c+=n*n;return Math.sqrt(c)},C.deltaE=function(t,e,i,n){var o,a,l,u,c,h,p,d,f,g,y,b,x,_,w,C,S,k,T,M,E,P,O,I,L,R,D;for(null==i&&(i=1),null==n&&(n=1),"string"!==(S=At(t))&&"number"!==S||(t=new r(t)),"string"!==(k=At(e))&&"number"!==k||(e=new r(e)),T=t.lab(),o=T[0],l=T[1],c=T[2],M=e.lab(),a=M[0],u=M[1],h=M[2],p=St(l*l+c*c),d=St(u*u+h*h),O=o<16?.511:.040975*o/(1+.01765*o),E=.0638*p/(1+.0131*p)+.638,C=p<1e-6?0:180*v(c,l)/s;C<0;)C+=360;for(;C>=360;)C-=360;return I=C>=164&&C<=345?.56+m(.2*A(s*(C+168)/180)):.36+m(.4*A(s*(C+35)/180)),f=p*p*p*p,w=St(f/(f+1900)),P=E*(w*I+1-w),_=o-a,x=p-d,y=l-u,b=c-h,g=y*y+b*b-x*x,L=_/(i*O),R=x/(n*E),D=P,St(L*L+R*R+g/(D*D))},r.prototype.get=function(t){var e,i,n,r,o,a;return n=this,o=t.split("."),r=o[0],e=o[1],a=n[r](),e?(i=r.indexOf(e),i>-1?a[i]:console.warn("unknown channel "+e+" in mode "+r)):a},r.prototype.set=function(t,e){var i,n,r,o,a,s;if(r=this,a=t.split("."),o=a[0],i=a[1],i)if(s=r[o](),(n=o.indexOf(i))>-1)if("string"===At(e))switch(e.charAt(0)){case"+":case"-":s[n]+=+e;break;case"*":s[n]*=+e.substr(1);break;case"/":s[n]/=+e.substr(1);break;default:s[n]=+e}else s[n]=e;else console.warn("unknown channel "+i+" in mode "+o);else s=e;return C(s,o).alpha(r.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(t){return arguments.length?C.rgb([this._rgb[0],this._rgb[1],this._rgb[2],t]):this._rgb[3]},r.prototype.darken=function(t){var e,i;return null==t&&(t=1),i=this,e=i.lab(),e[0]-=a.Kn*t,C.lab(e).alpha(i.alpha())},r.prototype.brighten=function(t){return null==t&&(t=1),this.darken(-t)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(t){var e,i;return null==t&&(t=1),i=this,e=i.lch(),e[1]+=t*a.Kn,e[1]<0&&(e[1]=0),C.lch(e).alpha(i.alpha())},r.prototype.desaturate=function(t){return null==t&&(t=1),this.saturate(-t)},r.prototype.premultiply=function(){var t,e;return e=this.rgb(),t=this.alpha(),C(e[0]*t,e[1]*t,e[2]*t,t)},b=function(t,e,i){if(!b[i])throw"unknown blend mode "+i;return b[i](t,e)},x=function(t){return function(e,i){var n,r;return n=C(i).rgb(),r=C(e).rgb(),C(t(n,r),"rgb")}},P=function(t){return function(e,i){var n,r,o;for(o=[],n=r=0;r<=3;n=++r)o[n]=t(e[n],i[n]);return o}},it=function(t,e){return t},et=function(t,e){return t*e/255},M=function(t,e){return t>e?e:t},Y=function(t,e){return t>e?t:e},wt=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},rt=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},w=function(t,e){return 255*(1-(1-e/255)/(t/255))},E=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255),t>255?255:t)},b.normal=x(P(it)),b.multiply=x(P(et)),b.screen=x(P(wt)),b.overlay=x(P(rt)),b.darken=x(P(M)),b.lighten=x(P(Y)),b.dodge=x(P(E)),b.burn=x(P(w)),C.blend=b,C.analyze=function(t){var e,i,n,r;for(n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},i=0,e=t.length;i<e;i++)null==(r=t[i])||isNaN(r)||(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1);return n.domain=[n.min,n.max],n.limits=function(t,e){return C.limits(n,t,e)},n},C.scale=function(t,e){var i,n,r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b,x,_,w;return c="rgb",h=C("#ccc"),g=0,a=[0,1],f=[],d=[0,0],i=!1,r=[],p=!1,u=0,l=1,o=!1,n={},m=!0,s=1,_=function(t){var e,i,n,o,a,s;if(null==t&&(t=["#fff","#000"]),null!=t&&"string"===At(t)&&null!=C.brewer&&(t=C.brewer[t]||C.brewer[t.toLowerCase()]||t),"array"===At(t)){for(t=t.slice(0),e=n=0,o=t.length-1;0<=o?n<=o:n>=o;e=0<=o?++n:--n)i=t[e],"string"===At(i)&&(t[e]=C(i));for(f.length=0,e=s=0,a=t.length-1;0<=a?s<=a:s>=a;e=0<=a?++s:--s)f.push(e/(t.length-1))}return x(),r=t},y=function(t){var e,n;if(null!=i){for(n=i.length-1,e=0;e<n&&t>=i[e];)e++;return e-1}return 0},w=function(t){return t},b=function(t,e){var o,a,p,g,v,b,x,_;if(null==e&&(e=!1),isNaN(t))return h;if(e?_=t:i&&i.length>2?(o=y(t),_=o/(i.length-2)):_=l!==u?(t-u)/(l-u):1,e||(_=w(_)),1!==s&&(_=ot(_,s)),_=d[0]+_*(1-d[0]-d[1]),_=Math.min(1,Math.max(0,_)),g=Math.floor(1e4*_),m&&n[g])a=n[g];else{if("array"===At(r))for(p=v=0,x=f.length-1;0<=x?v<=x:v>=x;p=0<=x?++v:--v){if(b=f[p],_<=b){a=r[p];break}if(_>=b&&p===f.length-1){a=r[p];break}if(_>b&&_<f[p+1]){_=(_-b)/(f[p+1]-b),a=C.interpolate(r[p],r[p+1],_,c);break}}else"function"===At(r)&&(a=r(_));m&&(n[g]=a)}return a},x=function(){return n={}},_(t),v=function(t){var e;return e=C(b(t)),p&&e[p]?e[p]():e},v.classes=function(t){var e;return null!=t?("array"===At(t)?(i=t,a=[t[0],t[t.length-1]]):(e=C.analyze(a),i=0===t?[e.min,e.max]:C.limits(e,"e",t)),v):i},v.domain=function(t){var e,i,n,o,s,c,h;if(!arguments.length)return a;if(u=t[0],l=t[t.length-1],f=[],n=r.length,t.length===n&&u!==l)for(s=0,o=t.length;s<o;s++)i=t[s],f.push((i-u)/(l-u));else for(e=h=0,c=n-1;0<=c?h<=c:h>=c;e=0<=c?++h:--h)f.push(e/(n-1));return a=[u,l],v},v.mode=function(t){return arguments.length?(c=t,x(),v):c},v.range=function(t,e){return _(t,e),v},v.out=function(t){return p=t,v},v.spread=function(t){return arguments.length?(g=t,v):g},v.correctLightness=function(t){return null==t&&(t=!0),o=t,x(),w=o?function(t){var e,i,n,r,o,a,s,l,u;for(e=b(0,!0).lab()[0],i=b(1,!0).lab()[0],s=e>i,n=b(t,!0).lab()[0],o=e+(i-e)*t,r=n-o,l=0,u=1,a=20;Math.abs(r)>.01&&a-- >0;)!function(){s&&(r*=-1),r<0?(l=t,t+=.5*(u-t)):(u=t,t+=.5*(l-t)),n=b(t,!0).lab()[0],r=n-o}();return t}:function(t){return t},v},v.padding=function(t){return null!=t?("number"===At(t)&&(t=[t,t]),d=t,v):d},v.colors=function(e,n){var o,s,l,u,c,h,p,d;if(arguments.length<2&&(n="hex"),c=[],0===arguments.length)c=r.slice(0);else if(1===e)c=[v(.5)];else if(e>1)s=a[0],o=a[1]-s,c=function(){h=[];for(var t=0;0<=e?t<e:t>e;0<=e?t++:t--)h.push(t);return h}.apply(this).map(function(t){return v(s+t/(e-1)*o)});else{if(t=[],p=[],i&&i.length>2)for(l=d=1,u=i.length;1<=u?d<u:d>u;l=1<=u?++d:--d)p.push(.5*(i[l-1]+i[l]));else p=a;c=p.map(function(t){return v(t)})}return C[n]&&(c=c.map(function(t){return t[n]()})),c},v.cache=function(t){return null!=t?(m=t,v):m},v.gamma=function(t){return null!=t?(s=t,v):s},v},null==C.scales&&(C.scales={}),C.scales.cool=function(){return C.scale([C.hsl(180,1,.9),C.hsl(250,.7,.4)])},C.scales.hot=function(){return C.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},C.analyze=function(t,e,i){var n,r,o,a,s,l,u;if(s={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==i&&(i=function(){return!0}),n=function(t){null==t||isNaN(t)||(s.values.push(t),s.sum+=t,t<s.min&&(s.min=t),t>s.max&&(s.max=t),s.count+=1)},u=function(t,r){if(i(t,r))return n(null!=e&&"function"===At(e)?e(t):null!=e&&"string"===At(e)||"number"===At(e)?t[e]:t)},"array"===At(t))for(a=0,o=t.length;a<o;a++)l=t[a],u(l);else for(r in t)l=t[r],u(l,r);return s.domain=[s.min,s.max],s.limits=function(t,e){return C.limits(s,t,e)},s},C.limits=function(t,e,i){var n,r,o,a,s,l,u,c,h,p,d,f,g,v,y,b,x,_,w,S,k,A,T,M,E,P,I,L,R,D,z,B,j,F,N,V,H,G,U,W,$,q,X,Y,K,J,Q,et,it,nt,rt,at,st,lt,ut;if(null==e&&(e="equal"),null==i&&(i=7),"array"===At(t)&&(t=C.analyze(t)),E=t.min,tt=t.max,t.sum,lt=t.values.sort(function(t,e){return t-e}),1===i)return[E,tt];if(T=[],"c"===e.substr(0,1)&&(T.push(E),T.push(tt)),"e"===e.substr(0,1)){for(T.push(E),S=z=1,N=i-1;1<=N?z<=N:z>=N;S=1<=N?++z:--z)T.push(E+S/i*(tt-E));T.push(tt)}else if("l"===e.substr(0,1)){if(E<=0)throw"Logarithmic scales are only possible for values > 0";for(P=Math.LOG10E*Z(E),M=Math.LOG10E*Z(tt),T.push(E),S=ut=1,V=i-1;1<=V?ut<=V:ut>=V;S=1<=V?++ut:--ut)T.push(ot(10,P+S/i*(M-P)));T.push(tt)}else if("q"===e.substr(0,1)){for(T.push(E),S=n=1,q=i-1;1<=q?n<=q:n>=q;S=1<=q?++n:--n)B=(lt.length-1)*S/i,j=O(B),j===B?T.push(lt[j]):(F=B-j,T.push(lt[j]*(1-F)+lt[j+1]*F));T.push(tt)}else if("k"===e.substr(0,1)){for(L=lt.length,v=new Array(L),_=new Array(i),nt=!0,R=0,b=null,b=[],b.push(E),S=r=1,X=i-1;1<=X?r<=X:r>=X;S=1<=X?++r:--r)b.push(E+S/i*(tt-E));for(b.push(tt);nt;){for(k=o=0,Y=i-1;0<=Y?o<=Y:o>=Y;k=0<=Y?++o:--o)_[k]=0;for(S=a=0,K=L-1;0<=K?a<=K:a>=K;S=0<=K?++a:--a){for(st=lt[S],I=Number.MAX_VALUE,k=s=0,J=i-1;0<=J?s<=J:s>=J;k=0<=J?++s:--s)(w=m(b[k]-st))<I&&(I=w,y=k);_[y]++,v[S]=y}for(D=new Array(i),k=l=0,Q=i-1;0<=Q?l<=Q:l>=Q;k=0<=Q?++l:--l)D[k]=null;for(S=u=0,et=L-1;0<=et?u<=et:u>=et;S=0<=et?++u:--u)x=v[S],null===D[x]?D[x]=lt[S]:D[x]+=lt[S];for(k=c=0,it=i-1;0<=it?c<=it:c>=it;k=0<=it?++c:--c)D[k]*=1/_[k];for(nt=!1,k=h=0,H=i-1;0<=H?h<=H:h>=H;k=0<=H?++h:--h)if(D[k]!==b[S]){nt=!0;break}b=D,R++,R>200&&(nt=!1)}for(A={},k=p=0,G=i-1;0<=G?p<=G:p>=G;k=0<=G?++p:--p)A[k]=[];for(S=d=0,U=L-1;0<=U?d<=U:d>=U;S=0<=U?++d:--d)x=v[S],A[x].push(lt[S]);for(rt=[],k=f=0,W=i-1;0<=W?f<=W:f>=W;k=0<=W?++f:--f)rt.push(A[k][0]),rt.push(A[k][A[k].length-1]);for(rt=rt.sort(function(t,e){return t-e}),T.push(rt[0]),S=g=1,$=rt.length-1;g<=$;S=g+=2)at=rt[S],isNaN(at)||-1!==T.indexOf(at)||T.push(at)}return T},R=function(t,e,i){var n,r,o,a;return n=Tt(arguments),t=n[0],e=n[1],i=n[2],isNaN(t)&&(t=0),t/=360,t<1/3?(r=(1-e)/3,a=(1+e*A(c*t)/A(l-c*t))/3,o=1-(r+a)):t<2/3?(t-=1/3,a=(1-e)/3,o=(1+e*A(c*t)/A(l-c*t))/3,r=1-(a+o)):(t-=2/3,o=(1-e)/3,r=(1+e*A(c*t)/A(l-c*t))/3,a=1-(o+r)),a=K(i*a*3),o=K(i*o*3),r=K(i*r*3),[255*a,255*o,255*r,n.length>3?n[3]:1]},ct=function(){var t,e,i,n,r,o,a,s;return a=Tt(arguments),o=a[0],e=a[1],t=a[2],c=2*Math.PI,o/=255,e/=255,t/=255,r=Math.min(o,e,t),n=(o+e+t)/3,s=1-r/n,0===s?i=0:(i=(o-e+(o-t))/2,i/=Math.sqrt((o-e)*(o-e)+(o-t)*(e-t)),i=Math.acos(i),t>e&&(i=c-i),i/=c),[360*i,s,n]},C.hsi=function(){return function(t,e,i){i.prototype=t.prototype;var n=new i,r=t.apply(n,e);return Object(r)===r?r:n}(r,Ot.call(arguments).concat(["hsi"]),function(){})},f.hsi=R,r.prototype.hsi=function(){return ct(this._rgb)},F=function(t,e,i,n){var r,o,a,s,l,u,c,h,p,d,f,g;return"hsl"===n?(f=t.hsl(),g=e.hsl()):"hsv"===n?(f=t.hsv(),g=e.hsv()):"hcg"===n?(f=t.hcg(),g=e.hcg()):"hsi"===n?(f=t.hsi(),g=e.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",f=t.hcl(),g=e.hcl()),"h"===n.substr(0,1)&&(a=f[0],p=f[1],u=f[2],s=g[0],d=g[1],c=g[2]),isNaN(a)||isNaN(s)?isNaN(a)?isNaN(s)?o=Number.NaN:(o=s,1!==u&&0!==u||"hsv"===n||(h=d)):(o=a,1!==c&&0!==c||"hsv"===n||(h=p)):(r=s>a&&s-a>180?s-(a+360):s<a&&a-s>180?s+360-a:s-a,o=a+i*r),null==h&&(h=p+i*(d-p)),l=u+i*(c-u),C[n](o,h,l)},g=g.concat(function(){var t,e,i,n;for(i=["hsv","hsl","hsi","hcl","lch","hcg"],n=[],e=0,t=i.length;e<t;e++)Q=i[e],n.push([Q,F]);return n}()),H=function(t,e,i,n){var r,o;return r=t.num(),o=e.num(),C.num(r+(o-r)*i,"num")},g.push(["num",H]),N=function(t,e,i,n){var o,a;return o=t.lab(),a=e.lab(),new r(o[0]+i*(a[0]-o[0]),o[1]+i*(a[1]-o[1]),o[2]+i*(a[2]-o[2]),n)},g.push(["lab",N])}).call(this)}).call(e,i(117)(t))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,n){var r={};if(r.x=t[e[0]],r.x=void 0===r.x||""===r.x||isNaN(r.x)?null:r.x,r.y=0,e.length>1&&(r.y=t[e[1]],r.y=void 0===r.y||""===r.y||isNaN(r.y)?null:r.y),e.length>2){var o=t[e[2]];"string"==typeof o?(o in i||(i[o]=I.COLORS_20[(0,T.default)(i).length]),r.marker={lineColor:i[o],fillColor:i[o]}):(isNaN(o)||(n[0]=Math.min(n[0],o),n[1]=Math.max(n[1],o)),r.colorValue=o)}return e.length>3&&(r.z=isNaN(t[e[3]])?1:t[e[3]]),"__ROW_PATH__"in t&&(r.name=t.__ROW_PATH__.join(", ")),r}function o(t,e,i,n){var r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b,x,_,w,S,A;return C.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:for(s in r=i[0],o=[],a=e,r)l=s.split(","),n.indexOf(l[l.length-1].trim())>=0&&o.push(s);u=i,c=Array.isArray(u),h=0,u=c?u:(0,k.default)(u);case 5:if(!c){C.next=11;break}if(!(h>=u.length)){C.next=8;break}return C.abrupt("break",60);case 8:p=u[h++],C.next=15;break;case 11:if(h=u.next(),!h.done){C.next=14;break}return C.abrupt("break",60);case 14:p=h.value;case 15:d=p,f=o,g=Array.isArray(f),m=0,f=g?f:(0,k.default)(f);case 17:if(!g){C.next=23;break}if(!(m>=f.length)){C.next=20;break}return C.abrupt("break",31);case 20:v=f[m++],C.next=27;break;case 23:if(m=f.next(),!m.done){C.next=26;break}return C.abrupt("break",31);case 26:v=m.value;case 27:y=v,delete d[y];case 29:C.next=17;break;case 31:if(b=d.__ROW_PATH__,b||(b=[""]),!((x=b.length)>0&&x<t)){C.next=53;break}a={name:b[x-1],depth:x,categories:[]},_=e,w=0;case 38:if(!(w<x-1)){C.next=50;break}S=0;case 40:if(!(S<_.categories.length)){C.next=47;break}if(_.categories[S].name!=b[w]){C.next=44;break}return _=_.categories[S],C.abrupt("break",47);case 44:S++,C.next=40;break;case 47:w++,C.next=38;break;case 50:_.categories.push(a),C.next=58;break;case 53:if(!(x>=t)){C.next=58;break}return A=b[x-1],a.categories.push(A),C.next=58,d;case 58:C.next=5;break;case 60:case"end":return C.stop()}},L,this)}function a(t,e,i,n,a){var s=e.length,l={name:"",depth:0,categories:[]},u=[],c=[1/0,-1/0],h={},p=void 0,d=void 0,f=(D.scale("RdYlBu"),o(s,l,t,a)),g=Array.isArray(f),m=0;for(f=g?f:(0,k.default)(f);;){var v,y,b,x;if("break"===function(){if(g){if(m>=f.length)return"break";v=f[m++]}else{if(m=f.next(),m.done)return"break";v=m.value}var t=v;if(void 0===p&&(p=(0,T.default)(t).filter(function(t){return"__ROW_PATH__"!==t}),d=p.map(function(t){return t.substr(t.lastIndexOf(",")+1,t.length)}).filter(function(t,e,i){return i.indexOf(t)===e}).length>1),("scatter"===n||"line"===n)&&p.length>0)if(0===i.length){for(y=" ",x=0;x<u.length;x++)if(u[x].name==y){b=u[x];break}x==u.length&&(b={name:y,connectNulls:!0,data:[]},u.push(b)),b.data.push(r(t,p,h,c))}else{var e=void 0,o=[],a=p,s=Array.isArray(a),l=0;for(a=s?a:(0,k.default)(a);;){var _;if(s){if(l>=a.length)break;_=a[l++]}else{if(l=a.next(),l.done)break;_=l.value}var w=_;for(y=w.split(","),y[y.length-1],y=y.slice(0,y.length-1).join(",")||" ",void 0===e&&(e=y),x=0;x<u.length;x++)if(u[x].name==e){b=u[x];break}x==u.length&&(b={name:e,connectNulls:!0,data:[]},u.push(b)),e===y?o.push(w):(e=y,b.data.push(r(t,o,h,c)),o=[w])}b.data.push(r(t,o,h,c))}else p.map(function(e){var i=e.split(","),n=i[i.length-1];i=d?i.join(", ")||n:i.slice(0,i.length-1).join(", ")||" ";for(var r,o=0;o<u.length;o++)if(u[o].name==i&&u[o].stack==n){r=u[o];break}o==u.length&&(r={name:i,stack:n,connectNulls:!0,data:[]},u.push(r));var a=t[e];a=void 0===a||""===a?null:a,r.data.push(a)})}())break}return[u,l,c]}function s(t){var e=document.createElement("rect");e.style.display="none",e.className="highcharts-heatmap-gradient-"+t;var i=this.querySelector("#pivot_chart");i.appendChild(e);var n=window.getComputedStyle(e).getPropertyValue("background-image");return i.removeChild(e),O.parse(n)[0].colorStops.map(function(t){return[(0,_.default)(t.length.value)/100,"rgb("+t.value.join(",")+")"]})}function l(t,e){var i=void 0,n=z.bind(this)(),r=n.positive,o=n.negative,a=n.full;i=e[0]>=0?r:e[1]<=0?o:a,(0,b.default)(t,{colorAxis:{min:e[0],max:e[1],stops:i,startOnTick:!1,endOnTick:!1}}),t.legend.floating=!1}function u(t){return function(){var e=(0,v.default)(C.default.mark(function e(i,n,r,o){var s,u,c,h,p,f,m,v,y,x,_,w,S,A,M,E,P,O,L,D,z,B,j,F,N,V,H,G,U,W,$,q,X,Y,K,Z,J,Q,tt,et,it,nt,rt,ot,at,st,lt,ut,ct,ht,pt,dt,ft,gt,mt,vt,yt,bt,xt,_t,wt,Ct,St,kt,At,Tt,Mt,Et;return C.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._view_columns("#row_pivots perspective-row:not(.off)"),u=this._view_columns("#column_pivots perspective-row:not(.off)"),c=this._get_view_aggregates(),e.next=5,d.default.all([n.to_json(),n.schema(),this._table.schema()]);case 5:if(h=e.sent,p=(0,g.default)(h,3),f=p[0],m=p[1],v=p[2],!o.cancelled){e.next=12;break}return e.abrupt("return");case 12:if(this.hasAttribute("updating")&&this._chart){bt=this._chart,this._chart=void 0;try{bt.destroy()}catch(t){console.warn("Scatter plot destroy() call failed - this is probably leaking memory")}}if(y=a.call(this,f,s,u,t,r),x=(0,g.default)(y,3),_=x[0],w=x[1],S=x[2],A=I.COLORS_20,_.length<=10&&(A=I.COLORS_10),M="scatter","y_line"===t?M="line":"y_area"===t?M="area":t.indexOf("bar")>-1?M="column":"treemap"==t?M="treemap":"scatter"===t?M=c.length<=3?"scatter":"bubble":"heatmap"===t&&(M="heatmap"),E=0,"scatter"===t&&(E=Math.min(8,Math.max(4,Math.floor((this.clientWidth+this.clientHeight)/Math.max(300,_[0].data.length/3))))),P={chart:{type:M,inverted:t.indexOf("horizontal")>-1,animation:!1,zoomType:"scatter"===t?"xy":"x"},navigation:{buttonOptions:{enabled:!1}},credits:{enabled:!1},title:{text:null},legend:{align:"right",verticalAlign:"top",y:10,layout:"vertical",floating:_.length<=20,enabled:"scatter"===t?(0,T.default)(f[0]).length>3||u.length>0:(0,T.default)(f[0]).length>2,itemStyle:{fontWeight:"normal"}},boost:{enabled:!1},plotOptions:{line:{marker:{enabled:!1,radius:0}},coloredScatter:{marker:{radius:E},tooltip:{headerFormat:"<span>{point.key}</span><br/><span>{series.name}</span><br/>"}},scatter:{marker:{radius:E},tooltip:{headerFormat:"<span>{point.key}</span><br/><span>{series.name}</span><br/>"}},column:{stacking:"normal",states:{hover:{brightness:-.1,borderColor:"#000000"}}},heatmap:{nullColor:"rgba(0,0,0,0)"},series:{animation:!1,nullColor:"rgba(0,0,0,0)",boostThreshold:1/0,turboThreshold:6e4,borderWidth:0,connectNulls:!0,lineWidth:-1===t.indexOf("line")?0:1.5,states:{hover:{lineWidthPlus:0}},events:{legendItemClick:function(t){},click:function(t){console.log(this)}}}},series:_,tooltip:{animation:!1,backgroundColor:"#FFFFFF",borderColor:"#777777",followPointer:!1,positioner:function(t,e,i){var n,r,o=this.chart;return n=i.plotX+t>o.plotWidth?i.plotX+o.plotLeft-t:i.plotX+o.plotLeft,r=i.plotY+o.plotTop,{x:n,y:r}}}},O=c.length>0?c[0].column:void 0,L=m[O],D=c.length>1?c[1].column:void 0,z=m[D],"scatter"!==t){e.next=28;break}S[0]!==1/0&&(c.length<=3?P.chart.type="coloredScatter":P.chart.type="coloredBubble",l.bind(this)(P,S)),c.length<3&&((0,b.default)(P,{boost:{useGPUTranslations:!0,usePreAllocated:!0}}),P.plotOptions.series.boostThreshold=5e3,P.plotOptions.series.turboThreshold=1/0),(0,b.default)(P,{colors:[A[0]],xAxis:{type:"date"===L?"datetime":void 0,startOnTick:!1,endOnTick:!1,title:{style:{color:"#666666",fontSize:"14px"},text:c.length>0?c[0].column:void 0}},yAxis:{type:"date"===z?"datetime":void 0,startOnTick:!1,endOnTick:!1,title:{text:c.length>1?c[1].column:void 0,style:{color:"#666666",fontSize:"14px"}},labels:{overflow:"justify"}}}),e.next=84;break;case 28:if("heatmap"!=t){e.next=50;break}for(B=_.map(function(t){return t.name.split(",")}),j={name:null,depth:0,categories:[]},F=B[0].length,N=0;N<B.length;++N)for(V=B[N],H=j,G=0;G<V.length;++G)U=V[G],G===F-1?H.categories.push(U):(W=H.categories.length,W>0&&H.categories[W-1].name==U?H=H.categories[W-1]:($={name:U,depth:G+1,categories:[]},H.categories.push($),H=$));for(q=[],X=0;X<_[0].data.length;++X)for(Y=0;Y<_.length;++Y)K=_[Y].data[X],q.push([X,Y,K]),S[0]=Math.min(S[0],K),S[1]=Math.max(S[1],K);S[0]*S[1]<0&&(Z=Math.max(Math.abs(S[0]),Math.abs(S[1])),S=[-Z,Z]),(0,b.default)(P,{boost:{useGPUTranslations:!0,usePreAllocated:!0}}),P.plotOptions.series.boostThreshold=5e3,P.plotOptions.series.turboThreshold=1/0,O=s.length>0?s[s.length-1]:void 0,L=v[O],D=u.length>1?u[u.length-1]:void 0,z=v[D],"date"===L?(0,b.default)(P,{xAxis:{categories:w.categories.map(function(t){return new Date(t).toLocaleString("en-us",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}),labels:{enabled:w.categories.length>0,autoRotation:[-5]}}}):(0,b.default)(P,{xAxis:{categories:"date"===L?w.categories.map(function(t){return new Date(t)}):w.categories,labels:{enabled:w.categories.length>0,padding:0,autoRotation:"date"===L?[0]:[-10,-20,-30,-40,-50,-60,-70,-80,-90]}}}),"date"===z?(0,b.default)(P,{yAxis:{categories:j.categories.map(function(t){return new Date(t).toLocaleString("en-us",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}),labels:{enabled:j.categories.length>0,autoRotation:[-5]}}}):(0,b.default)(P,{yAxis:{categories:j.categories,title:null,tickWidth:1,reversed:!0,labels:{padding:0,step:1}}}),(0,b.default)(P,{series:[{name:null,data:q,nullColor:"none"}],boost:{useGPUTranslations:!0}}),l.bind(this)(P,S),P.legend.floating=!1,e.next=84;break;case 50:if("treemap"!==t){e.next=83;break}if(J=[],Q=c[0].column,tt=void 0,void 0,et=void 0,c.length>=2){for(tt=c[1].column,it=_[1].data,et=[1/0,-1/0],nt=0;nt<it.length;++nt)et[0]=Math.min(et[0],it[nt]),et[1]=Math.max(et[1],it[nt]);et[0]*et[1]<0&&(rt=Math.max(Math.abs(et[0]),Math.abs(et[1])),et=[-rt,rt]),l.bind(this)(P,et)}ot=f.slice(1),at=Array.isArray(ot),st=0,ot=at?ot:(0,k.default)(ot);case 56:if(!at){e.next=62;break}if(!(st>=ot.length)){e.next=59;break}return e.abrupt("break",76);case 59:lt=ot[st++],e.next=66;break;case 62:if(st=ot.next(),!st.done){e.next=65;break}return e.abrupt("break",76);case 65:lt=st.value;case 66:ut=lt,ct=ut.__ROW_PATH__,ht=ct.join("_"),pt=ct.slice(-1)[0],dt=ct.slice(0,-1).join("_"),ft=ut[Q],gt=ut[tt],J.push({id:ht,name:pt,value:ft,colorValue:gt,parent:dt});case 74:e.next=56;break;case 76:for(mt=[],vt=0;vt<s.length;vt++)mt.push({level:vt+1,borderWidth:2*(s.length-vt),dataLabels:{enabled:!0,allowOverlap:!0,style:{opacity:[1,.3][vt]||0,fontSize:([14,10][vt]||0)+"px",textOutline:null}}});(0,b.default)(P,{series:[{layoutAlgorithm:"squarified",allowDrillToNode:!0,alternateStartingDirection:!0,data:J,levels:mt}]}),P.plotOptions.series.borderWidth=1,P.legend.floating=!1,e.next=84;break;case 83:"line"===t?(0,b.default)(P,{colors:A,xAxis:{type:"date"===L?"datetime":void 0,startOnTick:!1,endOnTick:!1,title:{style:{color:"#666666",fontSize:"14px"},text:O}},yAxis:{type:"date"===z?"datetime":void 0,startOnTick:!1,endOnTick:!1,title:{text:D,style:{color:"#666666",fontSize:"14px"}},labels:{overflow:"justify"}}}):(O=s.length>0?s[s.length-1]:void 0,L=v[O],D=u.length>1?u[u.length-1]:void 0,z=v[D],"date"===L?(0,b.default)(P,{xAxis:{categories:w.categories.map(function(t){return new Date(t).toLocaleString("en-us",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"})}),labels:{enabled:w.categories.length>0,autoRotation:[-5]}}}):(0,b.default)(P,{xAxis:{categories:w.categories,labels:{enabled:w.categories.length>0,padding:0,autoRotation:[-10,-20,-30,-40,-50,-60,-70,-80,-90]}}}),(0,b.default)(P,{colors:A,yAxis:{startOnTick:!1,endOnTick:!1,title:{text:c.map(function(t){return t.column}).join(",  "),style:{color:"#666666",fontSize:"14px"}},labels:{overflow:"justify"}}}),P.plotOptions.series.dataLabels={allowOverlap:!1,padding:10});case 84:if(!this._chart){e.next=88;break}"scatter"===t?(yt=Math.min(6,Math.max(2,Math.floor((this._chart.chartWidth+this._chart.chartHeight)/Math.max(300,P.series[0].data.length/3)))),this._chart.update({series:P.series,plotOptions:{coloredScatter:{marker:{radius:yt}},scatter:{marker:{radius:yt}}}})):t.indexOf("line")>-1?this._chart.update({series:P.series}):this._chart.update({series:P.series,xAxis:{categories:w.categories,labels:{enabled:w.categories.length>0,padding:0,autoRotation:[-10,-20,-30,-40,-50,-60,-70,-80,-90]}}}),e.next=107;break;case 88:bt=document.createElement("div"),bt.className="chart",xt=Array.prototype.slice.call(i.children),_t=Array.isArray(xt),wt=0,xt=_t?xt:(0,k.default)(xt);case 91:if(!_t){e.next=97;break}if(!(wt>=xt.length)){e.next=94;break}return e.abrupt("break",105);case 94:Ct=xt[wt++],e.next=101;break;case 97:if(wt=xt.next(),!wt.done){e.next=100;break}return e.abrupt("break",105);case 100:Ct=wt.value;case 101:St=Ct,i.removeChild(St);case 103:e.next=91;break;case 105:i.appendChild(bt),this._chart=R.chart(bt,P);case 107:if(document.contains(this._chart.renderTo)){e.next=124;break}kt=Array.prototype.slice.call(i.children),At=Array.isArray(kt),Tt=0,kt=At?kt:(0,k.default)(kt);case 109:if(!At){e.next=115;break}if(!(Tt>=kt.length)){e.next=112;break}return e.abrupt("break",123);case 112:Mt=kt[Tt++],e.next=119;break;case 115:if(Tt=kt.next(),!Tt.done){e.next=118;break}return e.abrupt("break",123);case 118:Mt=Tt.value;case 119:Et=Mt,i.removeChild(Et);case 121:e.next=109;break;case 123:i.appendChild(this._chart.renderTo);case 124:case"end":return e.stop()}},e,this)}));return function(t,i,n,r){return e.apply(this,arguments)}}()}function c(t){var e=this;this._chart&&!this._resize_timer&&this._chart.reflow(),this._resize_timer&&(clearTimeout(this._resize_timer),this._debounce_resize=!0),this._resize_timer=setTimeout(function(){e._chart&&!document.hidden&&e.offsetParent&&document.contains(e)&&e._debounce_resize&&e._chart.reflow(),e._resize_timer=void 0,e._debounce_resize=!1},50)}function h(){this._chart&&(this._chart.destroy(),this._chart=void 0)}Object.defineProperty(e,"__esModule",{value:!0});var p=i(27),d=n(p),f=i(76),g=n(f),m=i(82),v=n(m),y=i(83),b=n(y),x=i(89),_=n(x),w=i(94),C=n(w),S=i(43),k=n(S),A=i(97),T=n(A);e.draw=u,i(101);var M=i(45),E=n(M),P=i(105),O=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(P);i(106);var I=i(111),L=C.default.mark(o),R=E.default,D=i(46),z=function(){var t=void 0;return function(){if(void 0===t){t={};for(var e=["positive","negative","full"],i=0;i<e.length;i++){var n=e[i];t[n]=s.bind(this)(n)}}return t}}();t.registerPlugin("y_bar",{name:"Y Bar Chart",create:u("vertical_bar"),resize:c,initial:{type:"number",count:1},selectMode:"select",delete:h}),t.registerPlugin("x_bar",{name:"X Bar Chart",create:u("horizontal_bar"),resize:c,initial:{type:"number",count:1},selectMode:"select",delete:h}),t.registerPlugin("y_line",{name:"Y Line Chart",create:u("y_line"),resize:c,initial:{type:"number",count:1},selectMode:"select",delete:h}),t.registerPlugin("y_area",{name:"Y Area Chart",create:u("y_area"),resize:c,initial:{type:"number",count:1},selectMode:"select",delete:h}),t.registerPlugin("xy_line",{name:"X/Y Line Chart",create:u("line"),resize:c,initial:{type:"number",count:2},selectMode:"toggle",delete:h}),t.registerPlugin("xy_scatter",{name:"X/Y Scatter Chart",create:u("scatter"),resize:c,initial:{type:"number",count:2},selectMode:"toggle",delete:h}),t.registerPlugin("treemap",{name:"Treemap",create:u("treemap"),resize:c,initial:{type:"number",count:2},selectMode:"toggle",delete:function(){}}),t.registerPlugin("heatmap",{name:"Heatmap",create:u("heatmap"),resize:c,initial:{type:"number",count:1},selectMode:"select",delete:h})}).call(e,i(48))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(50),i(16),i(24),i(64),i(74),i(75),t.exports=i(0).Promise},function(t,e){},function(t,e,i){var n=i(17),r=i(10);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,i){t.exports=!i(8)&&!i(9)(function(){return 7!=Object.defineProperty(i(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(7);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){t.exports=i(5)},function(t,e,i){"use strict";var n=i(31),r=i(30),o=i(22),a={};i(5)(a,i(2)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(13),r=i(4),o=i(19);t.exports=i(8)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(14),r=i(20),o=i(58)(!1),a=i(21)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=a&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(u,i)||u.push(i));return u}},function(t,e,i){var n=i(20),r=i(33),o=i(59);t.exports=function(t){return function(e,i,a){var s,l=n(e),u=r(l.length),c=o(a,u);if(t&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(17),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(14),r=i(23),o=i(21)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){"use strict";var n=i(62),r=i(63),o=i(6),a=i(20);t.exports=i(28)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n,r,o,a,s=i(29),l=i(1),u=i(11),c=i(25),h=i(3),p=i(7),d=i(12),f=i(65),g=i(66),m=i(39),v=i(40).set,y=i(70)(),b=i(26),x=i(41),_=i(42),w=l.TypeError,C=l.process,S=l.Promise,k="process"==c(C),A=function(){},T=r=b.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[i(2)("species")]=function(t){t(A,A)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),E=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,r=1==t._s,o=0;i.length>o;)!function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&L(t),t._h=1),!0===s?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?u(w("Promise-chain cycle")):(o=E(i))?o.call(i,l,u):l(i)):u(n)}catch(t){c&&!a&&c.exit(),u(t)}}(i[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(l,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=x(function(){k?C.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=k||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,function(){var e;k?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},D=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(e=E(t))?y(function(){var n={_w:i,_d:!1};try{e.call(t,u(D,n,1),u(R,n,1))}catch(t){R.call(n,t)}}):(i._v=t,i._s=1,P(i,!1))}catch(t){R.call({_w:i,_d:!1},t)}}};M||(S=function(t){f(this,S,"Promise","_h"),d(t),n.call(this);try{t(u(D,this,1),u(R,this,1))}catch(t){R.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(71)(S.prototype,{then:function(t,e){var i=T(m(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=k?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&P(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=u(D,t,1),this.reject=u(R,t,1)},b.f=T=function(t){return t===S||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!M,{Promise:S}),i(22)(S,"Promise"),i(72)("Promise"),a=i(0).Promise,h(h.S+h.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!M),"Promise",{resolve:function(t){return _(s&&this===a?S:this,t)}}),h(h.S+h.F*!(M&&i(73)(function(t){S.all(t).catch(A)})),"Promise",{all:function(t){var e=this,i=T(e),n=i.resolve,r=i.reject,o=x(function(){var i=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=T(e),n=i.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(11),r=i(67),o=i(68),a=i(4),s=i(33),l=i(38),u={},c={};e=t.exports=function(t,e,i,h,p){var d,f,g,m,v=p?function(){return t}:l(t),y=n(i,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((m=e?y(a(f=t[b])[0],f[1]):y(t[b]))===u||m===c)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=r(g,y,f.value,e))===u||m===c)return m};e.BREAK=u,e.RETURN=c},function(t,e,i){var n=i(4);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(6),r=i(2)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(1),r=i(40).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(15)(a);t.exports=function(){var t,e,i,u=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(u)}}else i=function(){r.call(n,u)};else{var h=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),i=function(){p.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n=i(5);t.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},function(t,e,i){"use strict";var n=i(1),r=i(0),o=i(13),a=i(8),s=i(2)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(2)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){"use strict";var n=i(3),r=i(0),o=i(1),a=i(39),s=i(42);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(3),r=i(26),o=i(41);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(77),o=n(r),a=i(43),s=n(a);e.default=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,i){t.exports={default:i(78),__esModule:!0}},function(t,e,i){i(24),i(16),t.exports=i(79)},function(t,e,i){var n=i(25),r=i(2)("iterator"),o=i(6);t.exports=i(0).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,i){i(24),i(16),t.exports=i(81)},function(t,e,i){var n=i(4),r=i(38);t.exports=i(0).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(27),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,i){function n(o,a){try{var s=e[o](a),l=s.value}catch(t){return void i(t)}if(!s.done)return r.default.resolve(l).then(function(t){n("next",t)},function(t){n("throw",t)});t(l)}return n("next")})}}},function(t,e,i){t.exports={default:i(84),__esModule:!0}},function(t,e,i){i(85),t.exports=i(0).Object.assign},function(t,e,i){var n=i(3);n(n.S+n.F,"Object",{assign:i(86)})},function(t,e,i){"use strict";var n=i(19),r=i(87),o=i(88),a=i(23),s=i(32),l=Object.assign;t.exports=!l||i(9)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var p,d=s(arguments[u++]),f=c?n(d).concat(c(d)):n(d),g=f.length,m=0;g>m;)h.call(d,p=f[m++])&&(i[p]=d[p]);return i}:l},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){t.exports={default:i(90),__esModule:!0}},function(t,e,i){i(91),t.exports=i(0).Number.parseFloat},function(t,e,i){var n=i(3),r=i(92);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(1).parseFloat,r=i(93).trim;t.exports=1/n(i(44)+"-0")!=-1/0?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(3),r=i(10),o=i(9),a=i(44),s="["+a+"]",l="",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),h=function(t,e,i){var r={},s=o(function(){return!!a[t]()||l[t]()!=l}),u=r[t]=s?e(p):a[t];i&&(r[i]=u),n(n.P+n.F*s,"String",r)},p=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=h},function(t,e,i){t.exports=i(95)},function(t,e,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i(96),r)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new d(n||[]);return a._invoke=u(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,r,o,a){var s=n(t[i],t,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function i(t,i){function n(){return new Promise(function(n,r){e(t,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function u(t,e,i){var r=k;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===M){if("throw"===o)throw a;return g()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=c(s,i);if(l){if(l===E)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===k)throw r=M,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=T;var u=n(t,e,i);if("normal"===u.type){if(r=i.done?M:A,u.arg===E)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=M,i.method="throw",i.arg=u.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function f(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(y.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=m,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",C="object"==typeof t,S=e.regeneratorRuntime;if(S)C&&(t.exports=S);else{S=e.regeneratorRuntime=C?t.exports:{},S.wrap=i;var k="suspendedStart",A="suspendedYield",T="executing",M="completed",E={},P={};P[x]=function(){return this};var O=Object.getPrototypeOf,I=O&&O(O(f([])));I&&I!==v&&y.call(I,x)&&(P=I);var L=a.prototype=r.prototype=Object.create(P);o.prototype=L.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(L),t},S.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[_]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,n,r){var o=new l(i(t,e,n,r));return S.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(L),L[w]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=f,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),p(i),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;p(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:f(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=m),E}}}}(function(){return this}()||Function("return this")())},function(t,e,i){t.exports={default:i(98),__esModule:!0}},function(t,e,i){i(99),t.exports=i(0).Object.keys},function(t,e,i){var n=i(23),r=i(19);i(100)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(3),r=i(0),o=i(9);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e,i){"use strict";function n(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}function r(){var t=window.chrome,e=window.navigator,i=e.vendor,n=e.userAgent.indexOf("OPR")>-1,r=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!==t&&void 0!==t&&"Google Inc."===i&&!1===n&&!1===r}function o(){var t;try{throw new Error}catch(r){var e=r.stack.split("\n"),i=0;for(var n in e)if(e[n].match(/http[s]?:\/\//)){i=Number(n);break}t=e[i].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))).*?:/)}this.fullPath=function(){return t?t[1]:window.location.origin+window.location.pathname},this.path=function(){return t?t[2]:window.location.pathname},this.host=function(){var t=this.path().match(/.+?\/\/.+?\//);return t?t[0]:window.location.hostname},this.file=function(){return t?t[3]:""}}function a(t){var e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}function s(t,e){e.attributeChangedCallback={value:function(t,e,i){"_"!==t[0]&&(this[t]=i)}},t=a(t);var i=e.attachedCallback;for(var n in e)!function(t){if(e[t].set){var i=e[t].set;e[t].set=function(e){this.getAttribute(t)===e?(this._initializing||this._initialized)&&i.bind(this)(e):this.setAttribute(t,e)}}}(n);e.attachedCallback={value:function(){if(!this._initialized){for(this._initializing=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var n=document.importNode(t.content,!0);for(var r in this.appendChild(n),i.value.bind(this)(),e)"attachedCallback"!==r&&this.getAttribute(r)&&"_"!==r[0]&&(this[r]=this.getAttribute(r));this._initializing=!1,this._initialized=!0}}};var r=t.getAttribute("id");console.log("Registered "+r),document.registerElement(r,{prototype:(0,u.default)(HTMLElement.prototype,e)})}Object.defineProperty(e,"__esModule",{value:!0});var l=i(102),u=function(t){return t&&t.__esModule?t:{default:t}}(l);e.detectIE=n,e.detectChrome=r,e.ScriptPath=o,e.importTemplate=a,e.registerElement=s},function(t,e,i){t.exports={default:i(103),__esModule:!0}},function(t,e,i){i(104);var n=i(0).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(3);n(n.S,"Object",{create:i(31)})},function(t,e){var i={};i.parse=function(){function t(t){var e=new Error(I+": "+t);throw e.source=I,e}function e(){var e=i();return I.length>0&&t("Invalid input not EOF"),e}function i(){return v(n)}function n(){return r("linear-gradient",O.linearGradient,a)||r("repeating-linear-gradient",O.repeatingLinearGradient,a)||r("radial-gradient",O.radialGradient,u)||r("repeating-radial-gradient",O.repeatingRadialGradient,u)}function r(e,i,n){return o(i,function(i){var r=n();return r&&(E(O.comma)||t("Missing comma before color stops")),{type:e,orientation:r,colorStops:v(y)}})}function o(e,i){var n=E(e);if(n)return E(O.startCall)||t("Missing ("),result=i(n),E(O.endCall)||t("Missing )"),result}function a(){return s()||l()}function s(){return M("directional",O.sideOrCorner,1)}function l(){return M("angular",O.angleValue,1)}function u(){var t,e,i=c();return i&&(t=[],t.push(i),e=I,E(O.comma)&&(i=c(),i?t.push(i):I=e)),t}function c(){var t=h()||p();if(t)t.at=f();else{var e=g();e&&(t={type:"default-radial",at:e})}return t}function h(){var t=M("shape",/^(circle)/i,0);return t&&(t.style=T()||d()),t}function p(){var t=M("shape",/^(ellipse)/i,0);return t&&(t.style=k()||d()),t}function d(){return M("extent-keyword",O.extentKeywords,1)}function f(){if(M("position",/^at/,0)){var e=g();return e||t("Missing positioning value"),e}}function g(){var t=m();if(t.x||t.y)return{type:"position",value:t}}function m(){return{x:k(),y:k()}}function v(e){var i=e(),n=[];if(i)for(n.push(i);E(O.comma);)i=e(),i?n.push(i):t("One extra comma");return n}function y(){var e=b();return e||t("Expected color definition"),e.length=k(),e}function b(){return _()||C()||w()||x()}function x(){return M("literal",O.literalColor,0)}function _(){return M("hex",O.hexColor,1)}function w(){return o(O.rgbColor,function(){return{type:"rgb",value:v(S)}})}function C(){return o(O.rgbaColor,function(){return{type:"rgba",value:v(S)}})}function S(){return E(O.number)[1]}function k(){return M("%",O.percentageValue,1)||A()||T()}function A(){return M("position-keyword",O.positionKeywords,1)}function T(){return M("px",O.pixelValue,1)||M("em",O.emValue,1)}function M(t,e,i){var n=E(e);if(n)return{type:t,value:n[i]}}function E(t){var e,i;return i=/^[\n\r\t\s]+/.exec(I),i&&P(i[0].length),e=t.exec(I),e&&P(e[0].length),e}function P(t){I=I.substr(t)}var O={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},I="";return function(t){return I=t.toString(),e()}}(),e.parse=(i||{}).parse},function(t,e,i){var n=i(107);"string"==typeof n&&(n=[[t.i,n,""]]);var r={transform:void 0};i(109)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(108)(!1),e.push([t.i,'/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nperspective-viewer tspan,\nperspective-viewer text {\n  fill: #666 !important;\n}\nperspective-viewer .highcharts-null-point {\n  fill: none;\n}\nperspective-viewer .highcharts-heatmap-gradient-full {\n  background: linear-gradient(#4D342F 0%, #e4521b 22.5%, #feeb65 42.5%, #f0f0f0 50%, #dcedc8 57.5%, #42b3d5 67.5%, #1a237e 100%);\n}\nperspective-viewer .highcharts-heatmap-gradient-positive {\n  background: linear-gradient(#dcedc8 0%, #42b3d5 35%, #1a237e 100%);\n}\nperspective-viewer .highcharts-heatmap-gradient-negative {\n  background: linear-gradient(#feeb65 100%, #e4521b 70%, #4D342F 0%);\n}\nperspective-viewer[view=xy_scatter] svg image,\nperspective-viewer[view=xy_line] svg image {\n  opacity: 0.8;\n}\nperspective-viewer[view=xy_scatter] #active_columns :nth-child(1) .is_visible::before,\nperspective-viewer[view=xy_line] #active_columns :nth-child(1) .is_visible::before {\n  font-family: Arial;\n  font-weight: 500;\n  font-size: 12px;\n  content: "X";\n}\nperspective-viewer[view=xy_scatter] #active_columns :nth-child(2) .is_visible::before,\nperspective-viewer[view=xy_line] #active_columns :nth-child(2) .is_visible::before {\n  font-family: Arial;\n  font-weight: 500;\n  font-size: 12px;\n  content: "Y";\n}\nperspective-viewer[view=xy_scatter] #active_columns :nth-child(3) .is_visible::before,\nperspective-viewer[view=xy_line] #active_columns :nth-child(3) .is_visible::before {\n  font-family: Arial;\n  font-weight: 500;\n  font-size: 12px;\n  content: "C";\n}\nperspective-viewer[view=xy_scatter] #active_columns :nth-child(4) .is_visible::before,\nperspective-viewer[view=xy_line] #active_columns :nth-child(4) .is_visible::before {\n  font-family: Arial;\n  font-weight: 500;\n  font-size: 12px;\n  content: "S";\n}\n',""])},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(c(n.parts[o],e));f[n.id]={id:n.id,refs:1,parts:a}}}}function r(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s=o[1],l=o[2],u=o[3],c={css:s,media:l,sourceMap:u};n[a]?n[a].parts.push(c):i.push(n[a]={id:a,parts:[c]})}return i}function o(t,e){var i=m(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function c(t,e){var i,n,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=y++;i=v||(v=s(e)),n=h.bind(null,i,u,!1),r=h.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=d.bind(null,i,e),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=p.bind(null,i),r=function(){a(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function h(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=x(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var f={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),m=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t.call(this,i)),e[i]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],x=i(110);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=r(t,e);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=f[s.id];l.refs--,o.push(l)}t&&n(r(t,e),e);for(a=0;a<o.length;a++){l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var _=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.COLORS_20=e.COLORS_10=void 0;var r=i(45),o=n(r),a=i(112),s=n(a),l=i(113),u=n(l),c=i(114),h=n(c),p=i(115),d=n(p),f=i(116),g=n(f),m=i(46),v=(n(m),o.default),y=v.Axis.prototype,b=(v.Tick.prototype,y.init,y.render);(0,s.default)(o.default),(0,u.default)(o.default),(0,d.default)(o.default),(0,g.default)(o.default),(0,h.default)(o.default);var x=(e.COLORS_10=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.COLORS_20=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]);v.setOptions({colors:x}),function(t){function e(t,i,n){for(var r,o=t.length;o--;)r=t[o][i],r&&e(r,i,n),n(t[o])}t.wrap(t.seriesTypes.scatter.prototype,"translate",function(t){t.apply(this,Array.prototype.slice.call(arguments,1)),"colored"===this.chart.userOptions.chart.type.slice(0,7)&&this.translateColors.call(this)});var i=t.seriesTypes,n=t.merge,r=t.extendClass,o=t.getOptions(),a=o.plotOptions,s={optionalAxis:"colorAxis",colorKey:"colorValue",translateColors:i.heatmap&&i.heatmap.prototype.translateColors};a.coloredColumn=n(a.column,{}),i.coloredColumn=r(i.column,n(s,{type:"coloredColumn",axisTypes:["xAxis","yAxis","colorAxis"]})),a.coloredScatter=n(a.scatter,{}),i.coloredScatter=r(i.scatter,n(s,{type:"coloredScatter",axisTypes:["xAxis","yAxis","colorAxis"]})),a.coloredBubble=n(a.bubble,{}),i.coloredBubble=r(i.bubble,n(s,{type:"coloredBubble",axisTypes:["xAxis","yAxis","colorAxis"]})),y.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),void 0===this.originalTickLength&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,b.call(this),!this.isGrouped)return this.labelsGrid&&this.labelsGrid.attr({visibility:"hidden"}),!1;var t=this,i=t.options,n=t.top,r=t.left,o=r+t.width,a=n+t.height,s=t.hasVisibleSeries||t.hasData,l=t.labelsDepth,u=t.labelsGrid,c=t.horiz,h=t.labelsGridPath,p=!1===i.drawHorizontalBorders?l+1:0,d=(t.opposite,t.tickWidth);for(t.userTickLength&&(l-=1),u||(u=t.labelsGrid=t.chart.renderer.path().attr({strokeWidth:d,"stroke-width":d,stroke:i.tickColor||""}).add(t.axisGroup),i.tickColor||u.addClass("highcharts-tick"));p<=l;)t.groupSize(p),p++;return u.attr({d:h,visibility:s?"visible":"hidden"}),t.labelGroup.attr({visibility:s?"visible":"hidden"}),e(t.categoriesTree,"categories",function(e){var i=e.tick;return!!i&&(i.startAt+i.leaves-1<t.min||i.startAt>t.max?(i.label.hide(),i.destroyed=0):i.label.attr({visibility:s?"visible":"hidden"}),!0)}),!0}}(v)},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e=t.deg2rad,i=t.isNumber,n=t.pick,r=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,e,i=this.options,o=this.chart,a=2*(i.slicedOffset||0),s=o.plotWidth-2*a,l=(o=o.plotHeight-2*a,i.center),u=(l=[n(l[0],"50%"),n(l[1],"50%"),i.size||"100%",i.innerSize||0],Math.min(s,o));for(t=0;4>t;++t)e=l[t],i=2>t||2===t&&/%$/.test(e),l[t]=r(e,[s,o,u,l[2]][t])+(i?a:0);return l[3]>l[2]&&(l[3]=l[2]),l},getStartAndEndRadians:function(t,n){return t=i(t)?t:0,n=i(n)&&n>t&&360>n-t?n:t+360,{start:e*(t+-90),end:e*(n+-90)}}}}(t),function(t){function e(t,e){this.init(t,e)}var i=t.CenteredSeriesMixin,n=t.each,r=t.extend,o=t.merge,a=t.splat;r(e.prototype,{coll:"pane",init:function(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)},setOptions:function(t){this.options=o(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)},render:function(){var t=this.options,e=this.options.background,i=this.chart.renderer;if(this.group||(this.group=i.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=a(e),t=Math.max(e.length,this.background.length||0),i=0;i<t;i++)e[i]&&this.axis?this.renderBackground(o(this.defaultBackgroundOptions,e[i]),i):this.background[i]&&(this.background[i]=this.background[i].destroy(),this.background.splice(i,1))},renderBackground:function(t,e){var i="animate";this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr({fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth,class:"highcharts-pane "+(t.className||"")})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},updateCenter:function(t){this.center=(t||this.axis||{}).center=i.getCenter.call(this)},update:function(t,e){o(!0,this.options,t),this.setOptions(this.options),this.render(),n(this.chart.axes,function(t){t.pane===this&&(t.pane=null,t.update({},e))},this)}}),t.Pane=e}(t),function(t){var e,i,n=t.each,r=t.extend,o=t.map,a=t.merge,s=t.noop,l=t.pick,u=t.pInt,c=t.wrap,h=t.Axis.prototype;t=t.Tick.prototype,e={getOffset:s,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:s,setCategories:s,setTitle:s},i={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){t=this.options=a(this.defaultOptions,this.defaultRadialOptions,t),t.plotBands||(t.plotBands=[])},getOffset:function(){h.getOffset.call(this),this.chart.axisOffset[this.side]=0},getLinePath:function(t,e){t=this.center;var i=this.chart,n=l(e,t[2]/2-this.offset);return this.isCircular||void 0!==e?(e=this.chart.renderer.symbols.arc(this.left+t[0],this.top+t[1],n,n,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}),e.xBounds=[this.left+t[0]],e.yBounds=[this.top+t[1]-n]):(e=this.postTranslate(this.angleRad,n),e=["M",t[0]+i.plotLeft,t[1]+i.plotTop,"L",e.x,e.y]),e},setAxisTranslation:function(){h.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){(this.autoConnect=this.isCircular&&void 0===l(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI)&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)},setAxisSize:function(){h.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*l(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,l(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var n,r=this.center,a=this.startAngleRad,s=r[2]/2,c=[l(i.outerRadius,"100%"),i.innerRadius,l(i.thickness,10)],h=Math.min(this.offset,0),p=/%$/,d=this.isCircular;return"polygon"===this.options.gridLineInterpolation?r=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),d||(c[0]=this.translate(t),c[1]=this.translate(e)),c=o(c,function(t){return p.test(t)&&(t=u(t,10)*s/100),t}),"circle"!==i.shape&&d?(t=a+this.translate(t),e=a+this.translate(e)):(t=-Math.PI/2,e=1.5*Math.PI,n=!0),c[0]-=h,c[2]-=h,r=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],c[0],c[0],{start:Math.min(t,e),end:Math.max(t,e),innerR:l(c[1],c[0]-c[2]),open:n})),r},getPlotLinePath:function(t,e){var i,r,o,a=this,s=a.center,l=a.chart,u=a.getPosition(t);return a.isCircular?o=["M",s[0]+l.plotLeft,s[1]+l.plotTop,"L",u.x,u.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t))&&(o=a.getLinePath(0,t)):(n(l.xAxis,function(t){t.pane===a.pane&&(i=t)}),o=[],t=a.translate(t),s=i.tickPositions,i.autoConnect&&(s=s.concat([s[0]])),e&&(s=[].concat(s).reverse()),n(s,function(e,n){r=i.getPosition(e,t),o.push(n?"L":"M",r.x,r.y)})),o},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}},c(h,"init",function(t,n,o){var s,u=n.angular,c=n.polar,h=o.isX,p=u&&h,d=n.options,f=o.pane||0,g=this.pane=n.pane&&n.pane[f];f=g&&g.options;u?(r(this,p?e:i),(s=!h)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):c&&(r(this,i),this.defaultRadialOptions=(s=h)?this.defaultRadialXOptions:a(this.defaultYAxisOptions,this.defaultRadialYOptions)),u||c?(this.isRadial=!0,n.inverted=!1,d.chart.zoomType=null):this.isRadial=!1,g&&s&&(g.axis=this),t.call(this,n,o),!p&&g&&(u||c)&&(t=this.options,this.angleRad=(t.angle||0)*Math.PI/180,this.startAngleRad=(f.startAngle-90)*Math.PI/180,this.endAngleRad=(l(f.endAngle,f.startAngle+360)-90)*Math.PI/180,this.offset=t.offset||0,this.isCircular=s)}),c(h,"autoLabelAlign",function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))}),c(t,"getPosition",function(t,e,i,n,r){var o=this.axis;return o.getPosition?o.getPosition(i):t.call(this,e,i,n,r)}),c(t,"getLabelPosition",function(t,e,i,n,r,o,a,s,u){var c=this.axis,h=o.y,p=20,d=o.align,f=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(t=c.getPosition(this.pos,c.center[2]/2+l(o.distance,-25)),"auto"===o.rotation?n.attr({rotation:f}):null===h&&(h=c.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===d&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(p=0),d=f>p&&f<180-p?"left":f>180+p&&f<360-p?"right":"center"):d="center",n.attr({align:d})),t.x+=o.x,t.y+=h):t=t.call(this,e,i,n,r,o,a,s,u),t}),c(t,"getMarkPath",function(t,e,i,n,r,o,a){var s=this.axis;return s.isRadial?(t=s.getPosition(this.pos,s.center[2]/2+n),e=["M",e,i,"L",t.x,t.y]):e=t.call(this,e,i,n,r,o,a),e})}(t),function(t){var e=t.each,i=t.pick,n=t.defined,r=t.seriesType,o=t.seriesTypes,a=t.Series.prototype,s=t.Point.prototype;r("arearange","area",{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX},translate:function(){var t=this,i=t.yAxis,n=!!t.modifyValue;o.area.prototype.translate.apply(t),e(t.points,function(e){var r=e.low,o=e.high,a=e.plotY;null===o||null===r?(e.isNull=!0,e.plotY=null):(e.plotLow=a,e.plotHigh=i.translate(n?t.modifyValue(o,e):o,0,1,0,1),n&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e),e.tooltipPos=[(e.plotHighX+e.plotLowX)/2,(e.plotHigh+e.plotLow)/2]})},getGraphPath:function(t){var e,n,r,a,s=[],l=[],u=o.area.prototype.getGraphPath;a=this.options;var c=this.chart.polar&&!1!==a.connectEnds,h=a.connectNulls,p=a.step;for(t=t||this.points,e=t.length;e--;)n=t[e],n.isNull||c||h||t[e+1]&&!t[e+1].isNull||l.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1}),r={polarPlotY:n.polarPlotY,rectPlotX:n.rectPlotX,yBottom:n.yBottom,plotX:i(n.plotHighX,n.plotX),plotY:n.plotHigh,isNull:n.isNull},l.push(r),s.push(r),n.isNull||c||h||t[e-1]&&!t[e-1].isNull||l.push({plotX:n.plotX,plotY:n.plotY,doCurve:!1});return t=u.call(this,t),p&&(!0===p&&(p="left"),a.step={left:"right",center:"center",right:"left"}[p]),s=u.call(this,s),l=u.call(this,l),a.step=p,a=[].concat(t,s),this.chart.polar||"M"!==l[0]||(l[0]="L"),this.graphPath=a,this.areaPath=t.concat(l),a.isArea=!0,a.xMap=t.xMap,this.areaPath.xMap=t.xMap,a},drawDataLabels:function(){var t,e,i,n=this.data,r=n.length,o=[],s=this.options.dataLabels,l=s.align,u=s.verticalAlign,c=s.inside,h=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(t=r;t--;)(e=n[t])&&(i=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,o[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,h?l||(s.align=i?"right":"left"):u||(s.verticalAlign=i?"top":"bottom"),s.x=s.xHigh,s.y=s.yHigh);for(a.drawDataLabels&&a.drawDataLabels.apply(this,arguments),t=r;t--;)(e=n[t])&&(i=c?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=o[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,h?l||(s.align=i?"left":"right"):u||(s.verticalAlign=i?"bottom":"top"),s.x=s.xLow,s.y=s.yLow);a.drawDataLabels&&a.drawDataLabels.apply(this,arguments)}s.align=l,s.verticalAlign=u},alignDataLabel:function(){o.column.prototype.alignDataLabel.apply(this,arguments)},drawPoints:function(){var t,e,i=this.points.length;for(a.drawPoints.apply(this,arguments),e=0;e<i;)t=this.points[e],t.lowerGraphic=t.graphic,t.graphic=t.upperGraphic,t._plotY=t.plotY,t._plotX=t.plotX,t.plotY=t.plotHigh,n(t.plotHighX)&&(t.plotX=t.plotHighX),e++;for(a.drawPoints.apply(this,arguments),e=0;e<i;)t=this.points[e],t.upperGraphic=t.graphic,t.graphic=t.lowerGraphic,t.plotY=t._plotY,t.plotX=t._plotX,e++},setStackedPoints:t.noop},{setState:function(){var t=this.state,e=this.series,i=e.chart.polar;n(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),n(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),s.setState.apply(this,arguments),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,i&&(this.plotX=this.plotHighX),this.state=t,e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),s.setState.apply(this,arguments),this.plotY=this.plotLow,this.graphic=this.lowerGraphic,i&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0)},haloPath:function(){var t,e=this.series.chart.polar;return this.plotY=this.plotLow,e&&(this.plotX=this.plotLowX),t=s.haloPath.apply(this,arguments),this.plotY=this.plotHigh,e&&(this.plotX=this.plotHighX),t.concat(s.haloPath.apply(this,arguments))},destroy:function(){return this.upperGraphic&&(this.upperGraphic=this.upperGraphic.destroy()),s.destroy.apply(this,arguments)}})}(t),function(t){(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}(t),function(t){var e=t.defaultPlotOptions,i=t.each,n=t.merge,r=t.noop,o=t.pick,a=t.seriesType,s=t.seriesTypes.column.prototype;a("columnrange","arearange",n(e.column,e.arearange,{pointRange:null,marker:null,states:{hover:{halo:!1}}}),{translate:function(){var t,e,n=this,r=n.yAxis,a=n.xAxis,l=a.startAngleRad,u=n.chart,c=n.xAxis.isRadial,h=Math.max(u.chartWidth,u.chartHeight)+999;s.translate.apply(n),i(n.points,function(i){var s,p,d=i.shapeArgs,f=n.options.minPointLength;i.plotHigh=e=Math.min(Math.max(-h,r.translate(i.high,0,1,0,1)),h),i.plotLow=Math.min(Math.max(-h,i.plotY),h),p=e,s=o(i.rectPlotY,i.plotY)-e,Math.abs(s)<f?(f-=s,s+=f,p-=f/2):0>s&&(s*=-1,p-=s),c?(t=i.barX+l,i.shapeType="path",i.shapeArgs={d:n.polarArc(p+s,p,t,t+i.pointWidth)}):(d.height=s,d.y=p,i.tooltipPos=u.inverted?[r.len+r.pos-u.plotLeft-p-s/2,a.len+a.pos-u.plotTop-d.x-d.width/2,s]:[a.left-u.plotLeft+d.x+d.width/2,r.pos-u.plotTop+p+s/2,s])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,getSymbol:r,crispCol:s.crispCol,drawPoints:s.drawPoints,drawTracker:s.drawTracker,getColumnMetrics:s.getColumnMetrics,pointAttribs:s.pointAttribs,animate:function(){return s.animate.apply(this,arguments)},polarArc:function(){return s.polarArc.apply(this,arguments)},translate3dPoints:function(){return s.translate3dPoints.apply(this,arguments)},translate3dShapes:function(){return s.translate3dShapes.apply(this,arguments)}},{setState:s.pointClass.prototype.setState})}(t),function(t){var e=t.each,i=t.isNumber,n=t.merge,r=t.pick,o=t.pInt,a=t.Series,s=t.seriesType,l=t.TrackerMixin;s("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:t.noop,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this.yAxis,a=this.options,s=t.center;this.generatePoints(),e(this.points,function(e){var l=n(a.dial,e.dial),u=o(r(l.radius,80))*s[2]/200,c=o(r(l.baseLength,70))*u/100,h=o(r(l.rearLength,10))*u/100,p=l.baseWidth||3,d=l.topWidth||1,f=a.overshoot,g=t.startAngleRad+t.translate(e.y,null,null,null,!0);i(f)?(f=f/180*Math.PI,g=Math.max(t.startAngleRad-f,Math.min(t.endAngleRad+f,g))):!1===a.wrap&&(g=Math.max(t.startAngleRad,Math.min(t.endAngleRad,g))),g=180*g/Math.PI,e.shapeType="path",e.shapeArgs={d:l.path||["M",-h,-p/2,"L",c,-p/2,u,-d/2,u,d/2,c,p/2,-h,p/2,"z"],translateX:s[0],translateY:s[1],rotation:g},e.plotX=s[0],e.plotY=s[1]})},drawPoints:function(){var t=this,i=t.yAxis.center,o=t.pivot,a=t.options,s=a.pivot,l=t.chart.renderer;e(t.points,function(e){var i=e.graphic,r=e.shapeArgs,o=r.d,s=n(a.dial,e.dial);i?(i.animate(r),r.d=o):(e.graphic=l[e.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:s.borderColor||"none","stroke-width":s.borderWidth||0,fill:s.backgroundColor||"#000000"}))}),o?o.animate({translateX:i[0],translateY:i[1]}):(t.pivot=l.circle(0,0,r(s.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),t.pivot.attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"#cccccc",fill:s.backgroundColor||"#000000"}))},animate:function(t){var i=this;t||(e(i.points,function(t){var e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))}),i.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),r(e,!0)&&this.chart.redraw()},drawTracker:l&&l.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){var e=t.each,i=t.noop,n=t.pick,r=t.seriesType,o=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}"></span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(t){var e=this.options,i=t&&t.color||this.color;return{fill:t.fillColor||e.fillColor||i,stroke:e.lineColor||i,"stroke-width":e.lineWidth||0}},drawDataLabels:i,translate:function(){var t=this.yAxis,i=this.pointArrayMap;o.column.prototype.translate.apply(this),e(this.points,function(n){e(i,function(e){null!==n[e]&&(n[e+"Plot"]=t.translate(n[e],0,1,0,1))})})},drawPoints:function(){var t,i,r,o,a,s,l,u,c,h,p,d=this,f=d.options,g=d.chart.renderer,m=0,v=!1!==d.doQuartiles,y=d.options.whiskerLength;e(d.points,function(e){var b=e.graphic,x=b?"animate":"attr",_=e.shapeArgs,w={},C={},S={},k=e.color||d.color;void 0!==e.plotY&&(l=_.width,u=Math.floor(_.x),c=u+l,h=Math.round(l/2),t=Math.floor(v?e.q1Plot:e.lowPlot),i=Math.floor(v?e.q3Plot:e.lowPlot),r=Math.floor(e.highPlot),o=Math.floor(e.lowPlot),b||(e.graphic=b=g.g("point").add(d.group),e.stem=g.path().addClass("highcharts-boxplot-stem").add(b),y&&(e.whiskers=g.path().addClass("highcharts-boxplot-whisker").add(b)),v&&(e.box=g.path(void 0).addClass("highcharts-boxplot-box").add(b)),e.medianShape=g.path(void 0).addClass("highcharts-boxplot-median").add(b)),w.stroke=e.stemColor||f.stemColor||k,w["stroke-width"]=n(e.stemWidth,f.stemWidth,f.lineWidth),w.dashstyle=e.stemDashStyle||f.stemDashStyle,e.stem.attr(w),y&&(C.stroke=e.whiskerColor||f.whiskerColor||k,C["stroke-width"]=n(e.whiskerWidth,f.whiskerWidth,f.lineWidth),e.whiskers.attr(C)),v&&(b=d.pointAttribs(e),e.box.attr(b)),S.stroke=e.medianColor||f.medianColor||k,S["stroke-width"]=n(e.medianWidth,f.medianWidth,f.lineWidth),e.medianShape.attr(S),s=e.stem.strokeWidth()%2/2,m=u+h+s,e.stem[x]({d:["M",m,i,"L",m,r,"M",m,t,"L",m,o]}),v&&(s=e.box.strokeWidth()%2/2,t=Math.floor(t)+s,i=Math.floor(i)+s,u+=s,c+=s,e.box[x]({d:["M",u,i,"L",u,t,"L",c,t,"L",c,i,"L",u,i,"z"]})),y&&(s=e.whiskers.strokeWidth()%2/2,r+=s,o+=s,p=/%$/.test(y)?h*parseFloat(y)/100:y/2,e.whiskers[x]({d:["M",m-p,r,"L",m+p,r,"M",m-p,o,"L",m+p,o]})),a=Math.round(e.medianPlot),s=e.medianShape.strokeWidth()%2/2,a+=s,e.medianShape[x]({d:["M",u,a,"L",c,a]}))})},setStackedPoints:i})}(t),function(t){var e=t.each,i=t.noop,n=t.seriesType,r=t.seriesTypes;n("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),e(this.data,function(e){e.y=e[t]})}:i,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){var e=t.correctFloat,i=t.isNumber,n=t.pick,r=t.Point,o=t.Series,a=t.seriesType,s=t.seriesTypes;a("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var t,i,r,o,a,l,u,c,h,p,d,f=this.options,g=this.yAxis,m=n(f.minPointLength,5),v=m/2,y=f.threshold,b=f.stacking;for(s.column.prototype.translate.apply(this),c=h=y,i=this.points,t=0,f=i.length;t<f;t++)r=i[t],u=this.processedYData[t],o=r.shapeArgs,a=b&&g.stacks[(this.negStacks&&u<y?"-":"")+this.stackKey],d=this.getStackIndicator(d,r.x,this.index),p=a?a[r.x].points[d.key]:[0,u],r.isSum?r.y=e(u):r.isIntermediateSum&&(r.y=e(u-h)),l=Math.max(c,c+r.y)+p[0],o.y=g.translate(l,0,1,0,1),r.isSum?(o.y=g.translate(p[1],0,1,0,1),o.height=Math.min(g.translate(p[0],0,1,0,1),g.len)-o.y):r.isIntermediateSum?(o.y=g.translate(p[1],0,1,0,1),o.height=Math.min(g.translate(h,0,1,0,1),g.len)-o.y,h=p[1]):(o.height=0<u?g.translate(c,0,1,0,1)-o.y:g.translate(c,0,1,0,1)-g.translate(c-u,0,1,0,1),c+=a&&a[r.x]?a[r.x].total:u),0>o.height&&(o.y+=o.height,o.height*=-1),r.plotY=o.y=Math.round(o.y)-this.borderWidth%2/2,o.height=Math.max(Math.round(o.height),.001),r.yBottom=o.y+o.height,o.height<=m&&!r.isNull?(o.height=m,o.y-=v,r.plotY=o.y,r.minPointLengthOffset=0>r.y?-v:v):r.minPointLengthOffset=0,o=r.plotY+(r.negative?o.height:0),this.chart.inverted?r.tooltipPos[0]=g.len-o:r.tooltipPos[1]=o},processData:function(t){var i,n,r,a,s,l,u,c=this.yData,h=this.options.data,p=c.length;for(r=n=a=s=this.options.threshold||0,u=0;u<p;u++)l=c[u],i=h&&h[u]?h[u]:{},"sum"===l||i.isSum?c[u]=e(r):"intermediateSum"===l||i.isIntermediateSum?c[u]=e(n):(r+=l,n+=l),a=Math.min(r,a),s=Math.max(r,s);o.prototype.processData.call(this,t),this.options.stacking||(this.dataMin=a,this.dataMax=s)},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var i=this.options.upColor;return i&&!t.options.color&&(t.color=0<t.y?i:null),t=s.column.prototype.pointAttribs.call(this,t,e),delete t.dashstyle,t},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,i,n=this.data,r=n.length,o=this.graph.strokeWidth()+this.borderWidth,a=(o=Math.round(o)%2/2,this.yAxis.reversed),s=[];for(i=1;i<r;i++)e=n[i].shapeArgs,t=n[i-1].shapeArgs,e=["M",t.x+t.width,t.y+n[i-1].minPointLengthOffset+o,"L",e.x,t.y+n[i-1].minPointLengthOffset+o],(0>n[i-1].y&&!a||0<n[i-1].y&&a)&&(e[2]+=t.height,e[5]+=t.height),s=s.concat(e);return s},drawGraph:function(){o.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},setStackedPoints:function(){var t,e,i=this.options;for(o.prototype.setStackedPoints.apply(this,arguments),t=this.stackedYData?this.stackedYData.length:0,e=1;e<t;e++)i.data[e].isSum||i.data[e].isIntermediateSum||(this.stackedYData[e]+=this.stackedYData[e-1])},getExtremes:function(){if(this.options.stacking)return o.prototype.getExtremes.apply(this,arguments)}},{getClassName:function(){var t=r.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return i(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){var e=t.Series,i=t.seriesType,n=t.seriesTypes;i("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=e.prototype.getGraphPath.call(this),i=t.length+1;i--;)(i===t.length||"M"===t[i])&&0<i&&t.splice(i,0,"z");return this.areaPath=t},drawGraph:function(){this.options.fillColor=this.color,n.area.prototype.drawGraph.call(this)},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawTracker:e.prototype.drawTracker,setStackedPoints:t.noop})}(t),function(t){var e=t.arrayMax,i=t.arrayMin,n=t.Axis,r=t.color,o=t.each,a=t.isNumber,s=t.noop,l=t.pick,u=t.pInt,c=t.Point,h=t.Series,p=t.seriesType,d=t.seriesTypes;p("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",bubblePadding:!0,zoneAxis:"z",directTouch:!0,pointAttribs:function(t,e){var i=l(this.options.marker.fillOpacity,.5);return t=h.prototype.pointAttribs.call(this,t,e),1!==i&&(t.fill=r(t.fill).setOpacity(i).get("rgba")),t},getRadii:function(t,e,i,n){var r,o,a,s=this.zData,l=[],u=this.options,c="width"!==u.sizeBy,h=u.zThreshold,p=e-t;for(o=0,r=s.length;o<r;o++)a=s[o],u.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-h),e=Math.max(e-h,Math.abs(t-h)),t=0),null===a?a=null:a<t?a=i/2-1:(a=0<p?(a-t)/p:.5,c&&0<=a&&(a=Math.sqrt(a)),a=Math.ceil(i+a*(n-i))/2),l.push(a);this.radii=l},animate:function(t){var e=this.options.animation;t||(o(this.points,function(t){var i,n=t.graphic;n&&n.width&&(i={x:n.x,y:n.y,width:n.width,height:n.height},n.attr({x:t.plotX,y:t.plotY,width:1,height:1}),n.animate(i,e))}),this.animate=null)},translate:function(){var e,i,n,r=this.data,o=this.radii;for(d.scatter.prototype.translate.call(this),e=r.length;e--;)i=r[e],n=o?o[e]:0,a(n)&&n>=this.minPxSize/2?(i.marker=t.extend(i.marker,{radius:n,width:2*n,height:2*n}),i.dlBox={x:i.plotX-n,y:i.plotY-n,width:2*n,height:2*n}):i.shapeArgs=i.plotY=i.dlBox=void 0},alignDataLabel:d.column.prototype.alignDataLabel,buildKDTree:s,applyZones:s},{haloPath:function(t){return c.prototype.haloPath.call(this,0===t?0:(this.marker&&this.marker.radius||0)+t)},ttBelow:!1}),n.prototype.beforePadding=function(){var t=this,n=this.len,r=this.chart,s=0,c=n,h=this.isXAxis,p=h?"xData":"yData",d=this.min,f={},g=Math.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-d,b=n/y,x=[];o(this.series,function(n){var a=n.options;!n.bubblePadding||!n.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,x.push(n),h&&(o(["minSize","maxSize"],function(t){var e=a[t],i=/%$/.test(e);e=u(e);f[t]=i?g*e/100:e}),n.minPxSize=f.minSize,n.maxPxSize=Math.max(f.maxSize,f.minSize),n=n.zData,n.length&&(m=l(a.zMin,Math.min(m,Math.max(i(n),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),v=l(a.zMax,Math.max(v,e(n))))))}),o(x,function(e){var i,n=e[p],r=n.length;if(h&&e.getRadii(m,v,e.minPxSize,e.maxPxSize),0<y)for(;r--;)a(n[r])&&t.dataMin<=n[r]&&n[r]<=t.dataMax&&(i=e.radii[r],s=Math.min((n[r]-d)*b-i,s),c=Math.max((n[r]-d)*b+i,c))}),x.length&&0<y&&!this.isLog&&(c-=n,b*=(n+s-c)/n,o([["min","userMin",s],["max","userMax",c]],function(e){void 0===l(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/b)}))}}(t),function(t){function e(t,e){var i=this.chart,n=this.options.animation,r=this.group,o=this.markerGroup,a=this.xAxis.center,s=i.plotLeft,l=i.plotTop;i.polar?i.renderer.isSVG&&(!0===n&&(n={}),e?(t={translateX:a[0]+s,translateY:a[1]+l,scaleX:.001,scaleY:.001},r.attr(t),o&&o.attr(t)):(t={translateX:s,translateY:l,scaleX:1,scaleY:1},r.animate(t,n),o&&o.animate(t,n),this.animate=null)):t.call(this,e)}var i=t.each,n=t.pick,r=t.seriesTypes,o=t.wrap,a=t.Series.prototype,s=t.Pointer.prototype;a.searchPointByAngle=function(t){var e=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-i[0]-e.plotLeft,t.chartY-i[1]-e.plotTop)})},a.getConnectors=function(t,e,i,n){var r,o,a,s,l,u,c,h;return o=n?1:0,r=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0,e=0>r-1?t.length-(1+o):r-1,o=r+1>t.length-1?o:r+1,a=t[e],o=t[o],s=a.plotX,a=a.plotY,l=o.plotX,u=o.plotY,o=t[r].plotX,r=t[r].plotY,s=(1.5*o+s)/2.5,a=(1.5*r+a)/2.5,l=(1.5*o+l)/2.5,c=(1.5*r+u)/2.5,u=Math.sqrt(Math.pow(s-o,2)+Math.pow(a-r,2)),h=Math.sqrt(Math.pow(l-o,2)+Math.pow(c-r,2)),s=Math.atan2(a-r,s-o),c=Math.PI/2+(s+Math.atan2(c-r,l-o))/2,Math.abs(s-c)>Math.PI/2&&(c-=Math.PI),s=o+Math.cos(c)*u,a=r+Math.sin(c)*u,l=o+Math.cos(Math.PI+c)*h,c=r+Math.sin(Math.PI+c)*h,o={rightContX:l,rightContY:c,leftContX:s,leftContY:a,plotX:o,plotY:r},i&&(o.prevPointCont=this.getConnectors(t,e,!1,n)),o},o(a,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.options.findNearestPointBy="xy"),t.apply(this)}),a.toXY=function(t){var e,i=this.chart,n=t.plotX;e=t.plotY,t.rectPlotX=n,t.rectPlotY=e,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-e),t.plotX=t.polarPlotX=e.x-i.plotLeft,t.plotY=t.polarPlotY=e.y-i.plotTop,this.kdByAngle?(i=(n/Math.PI*180+this.xAxis.pane.options.startAngle)%360,0>i&&(i+=360),t.clientX=i):t.clientX=t.plotX},r.spline&&(o(r.spline.prototype,"getPointSpline",function(t,e,i,n){return this.chart.polar?n?(t=this.getConnectors(e,n,!0,this.connectEnds),t=["C",t.prevPointCont.rightContX,t.prevPointCont.rightContY,t.leftContX,t.leftContY,t.plotX,t.plotY]):t=["M",i.plotX,i.plotY]:t=t.call(this,e,i,n),t}),r.areasplinerange&&(r.areasplinerange.prototype.getPointSpline=r.spline.prototype.getPointSpline)),o(a,"translate",function(t){var e=this.chart;if(t.call(this),e.polar&&(this.kdByAngle=e.tooltip&&e.tooltip.shared,!this.preventPostTranslate))for(t=this.points,e=t.length;e--;)this.toXY(t[e])}),o(a,"getGraphPath",function(t,e){var n,r,o,a=this;if(this.chart.polar){for(e=e||this.points,n=0;n<e.length;n++)if(!e[n].isNull){r=n;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r]),o=!0),i(e,function(t){void 0===t.polarPlotY&&a.toXY(t)})}return n=t.apply(this,[].slice.call(arguments,1)),o&&e.pop(),n}),o(a,"animate",e),r.column&&(r=r.column.prototype,r.polarArc=function(t,e,i,r){var o=this.xAxis.center,a=this.yAxis.len;return this.chart.renderer.symbols.arc(o[0],o[1],a-e,null,{start:i,end:r,innerR:a-n(t,a)})},o(r,"animate",e),o(r,"translate",function(t){var e,i,n,r=this.xAxis,o=r.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),r.isRadial)for(e=this.points,n=e.length;n--;)i=e[n],t=i.barX+o,i.shapeType="path",i.shapeArgs={d:this.polarArc(i.yBottom,i.plotY,t,t+i.pointWidth)},this.toXY(i),i.tooltipPos=[i.plotX,i.plotY],i.ttBelow=i.plotY>r.center[1]}),o(r,"alignDataLabel",function(t,e,i,n,r,o){this.chart.polar?(t=e.rectPlotX/Math.PI*180,null===n.align&&(n.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle"),a.alignDataLabel.call(this,e,i,n,r,o)):t.call(this,e,i,n,r,o)})),o(s,"getCoordinates",function(t,e){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?i(n.axes,function(t){var i=t.isXAxis,o=t.center,a=e.chartX-o[0]-n.plotLeft;o=e.chartY-o[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:t,value:t.translate(i?Math.PI-Math.atan2(a,o):Math.sqrt(Math.pow(a,2)+Math.pow(o,2)),!0)})}):r=t.call(this,e),r}),o(t.Chart.prototype,"getAxes",function(e){this.pane||(this.pane=[]),i(t.splat(this.options.pane),function(e){new t.Pane(e,this)},this),e.call(this)}),o(t.Chart.prototype,"drawChartBox",function(t){t.call(this),i(this.pane,function(t){t.render()})}),o(t.Chart.prototype,"get",function(e,i){return t.find(this.pane,function(t){return t.options.id===i})||e.call(this,i)})}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){var e,i=t.Axis,n=t.Chart,r=t.color,o=t.each,a=t.extend,s=t.isNumber,l=t.Legend,u=t.LegendSymbolMixin,c=t.noop,h=t.merge,p=t.pick,d=t.wrap;t.ColorAxis||(e=t.ColorAxis=function(){this.init.apply(this,arguments)},a(e.prototype,i.prototype),a(e.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"].concat(i.prototype.keepProps),init:function(t,e){var n,r="vertical"!==t.options.legend.layout;this.coll="colorAxis",n=h(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},e,{opposite:!r,showEmpty:!1,title:null,visible:t.options.legend.enabled}),i.prototype.init.call(this,t,n),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=r,this.zoomEnabled=!1,this.defaultLegendLength=200},initDataClasses:function(t){var e,i=this.chart,n=0,a=i.options.chart.colorCount,s=this.options,l=t.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],o(t.dataClasses,function(t,o){t=h(t),e.push(t),t.color||("category"===s.dataClassColor?(o=i.options.colors,a=o.length,t.color=o[n],t.colorIndex=n,++n===a&&(n=0)):t.color=r(s.minColor).tweenTo(r(s.maxColor),2>l?.5:o/(l-1)))})},setTickPositions:function(){if(!this.dataClasses)return i.prototype.setTickPositions.call(this)},initStops:function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],o(this.stops,function(t){t.color=r(t[1])})},setOptions:function(t){i.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker},setAxisSize:function(){var t,e,i=this.legendSymbol,n=this.chart,r=n.options.legend||{};i?(this.left=r=i.attr("x"),this.top=t=i.attr("y"),this.width=e=i.attr("width"),this.height=i=i.attr("height"),this.right=n.chartWidth-r-e,this.bottom=n.chartHeight-t-i,this.len=this.horiz?e:i,this.pos=this.horiz?r:t):this.len=(this.horiz?r.symbolWidth:r.symbolHeight)||this.defaultLegendLength},normalizedValue:function(t){return this.isLog&&(t=this.val2lin(t)),1-(this.max-t)/(this.max-this.min||1)},toColor:function(t,e){var i,n,r,o,a=this.stops,s=this.dataClasses;if(s){for(o=s.length;o--;)if(r=s[o],i=r.from,a=r.to,(void 0===i||t>=i)&&(void 0===a||t<=a)){n=r.color,e&&(e.dataClass=o,e.colorIndex=r.colorIndex);break}}else{for(t=this.normalizedValue(t),o=a.length;o--&&!(t>a[o][0]););i=a[o]||a[o+1],a=a[o+1]||i,t=1-(a[0]-t)/(a[0]-i[0]||1),n=i.color.tweenTo(a.color,t)}return n},getOffset:function(){var t=this.legendGroup,e=this.chart.axisOffset[this.side];t&&(this.axisParent=t,i.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e)},setLegendColor:function(){var t,e=this.reversed;t=e?1:0,e=e?0:1,t=this.horiz?[t,0,e,0]:[0,e,0,t],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:this.stops}},drawLegendSymbol:function(t,e){var i=t.padding,n=t.options,r=this.horiz,o=p(n.symbolWidth,r?this.defaultLegendLength:12),a=p(n.symbolHeight,r?12:this.defaultLegendLength),s=p(n.labelPadding,r?16:30);n=p(n.itemDistance,10);this.setLegendColor(),e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,o,a).attr({zIndex:1}).add(e.legendGroup),this.legendItemWidth=o+i+(r?n:s),this.legendItemHeight=a+i+(r?s:0)},setState:function(t){o(this.series,function(e){e.setState(t)})},visible:!0,setVisible:c,getSeriesExtremes:function(){var t=this.series,e=t.length;for(this.dataMin=1/0,this.dataMax=-1/0;e--;)void 0!==t[e].valueMin&&(this.dataMin=Math.min(this.dataMin,t[e].valueMin),this.dataMax=Math.max(this.dataMax,t[e].valueMax))},drawCrosshair:function(t,e){var n,r=e&&e.plotX,o=e&&e.plotY,a=this.pos,s=this.len;e&&(n=this.toPixels(e[e.series.colorKey]),n<a?n=a-2:n>a+s&&(n=a+s+2),e.plotX=n,e.plotY=this.len-n,i.prototype.drawCrosshair.call(this,t,e),e.plotX=r,e.plotY=o,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(t,e,n,r,o){return s(o)?this.horiz?["M",o-4,this.top-6,"L",o+4,this.top-6,o,this.top,"Z"]:["M",this.left,o,"L",this.left-6,o+6,this.left-6,o-6,"Z"]:i.prototype.getPlotLinePath.call(this,t,e,n,r)},update:function(t,e){var n=this.chart,r=n.legend;o(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&r.allItems&&(o(r.allItems,function(t){t.isDataClass&&t.legendGroup&&t.legendGroup.destroy()}),n.isDirtyLegend=!0),n.options[this.coll]=h(this.userOptions,t),i.prototype.update.call(this,t,e),this.legendItem&&(this.setLegendColor(),r.colorizeItem(this,!0))},remove:function(){this.legendItem&&this.chart.legend.destroyItem(this),i.prototype.remove.call(this)},getDataClassLegendSymbols:function(){var e,i=this,n=this.chart,r=this.legendItems,s=n.options.legend,l=s.valueDecimals,h=s.valueSuffix||"";return r.length||o(this.dataClasses,function(s,p){var d=!0,f=s.from,g=s.to;e="",void 0===f?e="< ":void 0===g&&(e="> "),void 0!==f&&(e+=t.numberFormat(f,l)+h),void 0!==f&&void 0!==g&&(e+=" - "),void 0!==g&&(e+=t.numberFormat(g,l)+h),r.push(a({chart:n,name:e,options:{},drawLegendSymbol:u.drawRectangle,visible:!0,setState:c,isDataClass:!0,setVisible:function(){d=this.visible=!d,o(i.series,function(t){o(t.points,function(t){t.dataClass===p&&t.setVisible(d)})}),n.legend.colorizeItem(this,d)}},s))}),r},name:""}),o(["fill","stroke"],function(e){t.Fx.prototype[e+"Setter"]=function(){this.elem.attr(e,r(this.start).tweenTo(r(this.end),this.pos),null,!0)}}),d(n.prototype,"getAxes",function(t){var i=this.options.colorAxis;t.call(this),this.colorAxis=[],i&&new e(this,i)}),d(l.prototype,"getAllItems",function(t){var e=[],i=this.chart.colorAxis[0];return i&&i.options&&(i.options.showInLegend&&(i.options.dataClasses?e=e.concat(i.getDataClassLegendSymbols()):e.push(i)),o(i.series,function(t){t.options.showInLegend=!1})),e.concat(t.call(this))}),d(l.prototype,"colorizeItem",function(t,e,i){t.call(this,e,i),i&&e.legendColor&&e.legendSymbol.attr({fill:e.legendColor})}),d(l.prototype,"update",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.colorAxis[0]&&this.chart.colorAxis[0].update({},arguments[2])}))}(t),function(t){var e=t.defined,i=t.each,n=t.noop,r=t.seriesTypes;t.colorPointMixin={isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value},setVisible:function(t){var e=this,n=t?"show":"hide";i(["graphic","dataLabel"],function(t){e[t]&&e[t][n]()})},setState:function(e){t.Point.prototype.setState.call(this,e),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})}},t.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:n,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:r.column.prototype.pointAttribs,translateColors:function(){var t=this,e=this.options.nullColor,n=this.colorAxis,r=this.colorKey;i(this.data,function(i){var o=i[r];(o=i.options.color||(i.isNull?e:n&&void 0!==o?n.toColor(o,i):i.color||t.color))&&(i.color=o)})},colorAttribs:function(t){var i={};return e(t.color)&&(i[this.colorProp||"fill"]=t.color),i}}}(t),function(t){var e=t.colorPointMixin,i=t.each,n=t.merge,r=t.noop,o=t.pick,a=t.Series,s=t.seriesType,l=t.seriesTypes;s("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}},n(t.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;l.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=o(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this.options,e=this.xAxis,n=this.yAxis,r=t.pointPadding||0,a=function(t,e,i){return Math.min(Math.max(e,t),i)};this.generatePoints(),i(this.points,function(i){var s=(t.colsize||1)/2,l=(t.rowsize||1)/2,u=a(Math.round(e.len-e.translate(i.x-s,0,1,0,1)),-e.len,2*e.len),c=(s=a(Math.round(e.len-e.translate(i.x+s,0,1,0,1)),-e.len,2*e.len),a(Math.round(n.translate(i.y-l,0,1,0,1)),-n.len,2*n.len)),h=(l=a(Math.round(n.translate(i.y+l,0,1,0,1)),-n.len,2*n.len),o(i.pointPadding,r));i.plotX=i.clientX=(u+s)/2,i.plotY=(c+l)/2,i.shapeType="rect",i.shapeArgs={x:Math.min(u,s)+h,y:Math.min(c,l)+h,width:Math.abs(s-u)-2*h,height:Math.abs(l-c)-2*h}}),this.translateColors()},drawPoints:function(){l.column.prototype.drawPoints.call(this),i(this.points,function(t){t.graphic.attr(this.colorAttribs(t))},this)},animate:r,getBox:r,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,alignDataLabel:l.column.prototype.alignDataLabel,getExtremes:function(){a.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,a.prototype.getExtremes.call(this)}}),t.extend({haloPath:function(t){if(!t)return[];var e=this.shapeArgs;return["M",e.x-t,e.y-t,"L",e.x-t,e.y+e.height+t,e.x+e.width+t,e.y+e.height+t,e.x+e.width+t,e.y-t,"Z"]}},e))}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){!function(t){function e(){var t=Array.prototype.slice.call(arguments),e=-Number.MAX_VALUE;return y(t,function(t){if(void 0!==t&&null!==t&&void 0!==t.length&&0<t.length)return e=t.length,!0}),e}function i(t){var i,n=0,r=0,o=k(t.options.boost&&t.options.boost.allowForce,!0);if(void 0!==t.boostForceChartBoost)return t.boostForceChartBoost;if(1<t.series.length)for(var a=0;a<t.series.length;a++)i=t.series[a],P[i.type]&&++r,e(i.processedXData,i.options.data,i.points)>=(i.options.boostThreshold||Number.MAX_VALUE)&&++n;return t.boostForceChartBoost=o&&r===t.series.length&&0<n||5<n,t.boostForceChartBoost}function n(t){function e(e,i){return i=t.createShader("vertex"===i?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(i,e),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS)&&i}function i(){function i(e){return t.getUniformLocation(r,e)}var n=e("#version 100\nprecision highp float;\nattribute vec4 aVertexPosition;\nattribute vec4 aColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform mat4 uPMatrix;\nuniform float pSize;\nuniform float translatedThreshold;\nuniform bool hasThreshold;\nuniform bool skipTranslation;\nuniform float plotHeight;\nuniform float xAxisTrans;\nuniform float xAxisMin;\nuniform float xAxisMinPad;\nuniform float xAxisPointRange;\nuniform float xAxisLen;\nuniform bool  xAxisPostTranslate;\nuniform float xAxisOrdinalSlope;\nuniform float xAxisOrdinalOffset;\nuniform float xAxisPos;\nuniform bool  xAxisCVSCoord;\nuniform float yAxisTrans;\nuniform float yAxisMin;\nuniform float yAxisMinPad;\nuniform float yAxisPointRange;\nuniform float yAxisLen;\nuniform bool  yAxisPostTranslate;\nuniform float yAxisOrdinalSlope;\nuniform float yAxisOrdinalOffset;\nuniform float yAxisPos;\nuniform bool  yAxisCVSCoord;\nuniform bool  isBubble;\nuniform bool  bubbleSizeByArea;\nuniform float bubbleZMin;\nuniform float bubbleZMax;\nuniform float bubbleZThreshold;\nuniform float bubbleMinSize;\nuniform float bubbleMaxSize;\nuniform bool  bubbleSizeAbs;\nuniform bool  isInverted;\nfloat bubbleRadius(){\nfloat value = aVertexPosition.w;\nfloat zMax = bubbleZMax;\nfloat zMin = bubbleZMin;\nfloat radius = 0.0;\nfloat pos = 0.0;\nfloat zRange = zMax - zMin;\nif (bubbleSizeAbs){\nvalue = value - bubbleZThreshold;\nzMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);\nzMin = 0.0;\n}\nif (value < zMin){\nradius = bubbleZMin / 2.0 - 1.0;\n} else {\npos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;\nif (bubbleSizeByArea && pos > 0.0){\npos = sqrt(pos);\n}\nradius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;\n}\nreturn radius * 2.0;\n}\nfloat translate(float val,\nfloat pointPlacement,\nfloat localA,\nfloat localMin,\nfloat minPixelPadding,\nfloat pointRange,\nfloat len,\nbool  cvsCoord\n){\nfloat sign = 1.0;\nfloat cvsOffset = 0.0;\nif (cvsCoord) {\nsign *= -1.0;\ncvsOffset = len;\n}\nreturn sign * (val - localMin) * localA + cvsOffset + \n(sign * minPixelPadding);\n}\nfloat xToPixels(float value){\nif (skipTranslation){\nreturn value;// + xAxisPos;\n}\nreturn translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord);// + xAxisPos;\n}\nfloat yToPixels(float value, float checkTreshold){\nfloat v;\nif (skipTranslation){\nv = value;// + yAxisPos;\n} else {\nv = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord);// + yAxisPos;\nif (v > plotHeight) {\nv = plotHeight;\n}\n}\nif (checkTreshold > 0.0 && hasThreshold) {\nv = min(v, translatedThreshold);\n}\nreturn v;\n}\nvoid main(void) {\nif (isBubble){\ngl_PointSize = bubbleRadius();\n} else {\ngl_PointSize = pSize;\n}\nvColor = aColor;\nif (isInverted) {\ngl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.y) + yAxisPos, yToPixels(aVertexPosition.x, aVertexPosition.z) + xAxisPos, 0.0, 1.0);\n} else {\ngl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);\n}\n}","vertex"),m=e("precision highp float;\nuniform vec4 fillColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform sampler2D uSampler;\nuniform bool isCircle;\nuniform bool hasColor;\nvoid main(void) {\nvec4 col = fillColor;\nvec4 tcol;\nif (hasColor) {\ncol = vColor;\n}\nif (isCircle) {\ntcol = texture2D(uSampler, gl_PointCoord.st);\ncol *= tcol;\nif (tcol.r < 0.0) {\ndiscard;\n} else {\ngl_FragColor = col;\n}\n} else {\ngl_FragColor = col;\n}\n}","fragment");return n&&m?(r=t.createProgram(),t.attachShader(r,n),t.attachShader(r,m),t.linkProgram(r),t.useProgram(r),t.bindAttribLocation(r,0,"aVertexPosition"),o=i("uPMatrix"),a=i("pSize"),s=i("fillColor"),l=i("isBubble"),u=i("bubbleSizeAbs"),c=i("bubbleSizeByArea"),g=i("uSampler"),h=i("skipTranslation"),p=i("isCircle"),d=i("isInverted"),f=i("plotHeight"),!0):r=!1}function n(e,i){e=m[e]=m[e]||t.getUniformLocation(r,e),t.uniform1f(e,i)}var r,o,a,s,l,u,c,h,p,d,f,g,m={};return t&&i(),{psUniform:function(){return a},pUniform:function(){return o},fillColorUniform:function(){return s},setPlotHeight:function(e){t.uniform1f(f,e)},setBubbleUniforms:function(e,i,r){var o=e.options,a=Number.MAX_VALUE,s=-Number.MAX_VALUE;"bubble"===e.type&&(a=k(o.zMin,Math.min(a,Math.max(i,!1===o.displayNegative?o.zThreshold:-Number.MAX_VALUE))),s=k(o.zMax,Math.max(s,r)),t.uniform1i(l,1),t.uniform1i(p,1),t.uniform1i(c,"width"!==e.options.sizeBy),t.uniform1i(u,e.options.sizeByAbsoluteValue),n("bubbleZMin",a),n("bubbleZMax",s),n("bubbleZThreshold",e.options.zThreshold),n("bubbleMinSize",e.minPxSize),n("bubbleMaxSize",e.maxPxSize))},bind:function(){t.useProgram(r)},program:function(){return r},create:i,setUniform:n,setPMatrix:function(e){t.uniformMatrix4fv(o,!1,e)},setColor:function(e){t.uniform4f(s,e[0]/255,e[1]/255,e[2]/255,e[3])},setPointSize:function(e){t.uniform1f(a,e)},setSkipTranslation:function(e){t.uniform1i(h,!0===e?1:0)},setTexture:function(){t.uniform1i(g,0)},setDrawAsCircle:function(e){t.uniform1i(p,e?1:0)},reset:function(){t.uniform1i(l,0),t.uniform1i(p,0)},setInverted:function(e){t.uniform1i(d,e)},destroy:function(){t&&r&&(t.deleteProgram(r),r=!1)}}}function r(t,e,i){function n(){o&&(t.deleteBuffer(o),a=o=!1),u=0,s=i||2,r=[]}var r,o=!1,a=!1,s=i||2,l=!1,u=0;return{destroy:n,bind:function(){if(!o)return!1;t.vertexAttribPointer(a,s,t.FLOAT,!1,0,0)},data:r,build:function(i,u,c){var h;return(r=i||[])&&0!==r.length||l?(s=c||s,o&&t.deleteBuffer(o),l||(h=new Float32Array(r)),o=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,l||h,t.STATIC_DRAW),a=t.getAttribLocation(e.program(),u),t.enableVertexAttribArray(a),!0):(n(),!1)},render:function(e,i,n){var a=l?l.length:r.length;return!(!o||!a)&&((!e||e>a||0>e)&&(e=0),(!i||i>a)&&(i=a),t.drawArrays(t[(n||"points").toUpperCase()],e/s,(i-e)/s),!0)},allocate:function(t){u=-1,l=new Float32Array(4*t)},push:function(t,e,i,n){l&&(l[++u]=t,l[++u]=e,l[++u]=i,l[++u]=n)}}}function o(e){function i(t){var e,i;return t.isSeriesBoosting?(e=!!t.options.stacking,i=t.xData||t.options.xData||t.processedXData,e=(e?t.data:i||t.options.data).length,"treemap"===t.type?e*=12:"heatmap"===t.type?e*=6:L[t.type]&&(e*=2),e):0}function o(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)}function a(e,i){function n(t){t&&(i.colorData.push(t[0]),i.colorData.push(t[1]),i.colorData.push(t[2]),i.colorData.push(t[3]))}function r(t,e,i,r,o){n(o),D.usePreallocated?v.push(t,e,i?1:0,r||1):(w.push(t),w.push(e),w.push(i?1:0),w.push(r||1))}function o(){i.segments.length&&(i.segments[i.segments.length-1].to=w.length)}function a(){i.segments.length&&i.segments[i.segments.length-1].from===w.length||(o(),i.segments.push({from:w.length}))}function s(t,e,i,o,a){n(a),r(t+i,e),n(a),r(t,e),n(a),r(t,e+o),n(a),r(t,e+o),n(a),r(t+i,e+o),n(a),r(t+i,e)}function l(t){D.useGPUTranslations||(i.skipTranslation=!0,t.x=O.toPixels(t.x,!0),t.y=P.toPixels(t.y,!0)),r(t.x,t.y,0,2)}var u,c,h,p,d,f,g=e.pointArrayMap&&"low,high"===e.pointArrayMap.join(","),m=e.chart,b=e.options,x=!!b.stacking,_=b.data,C=e.xAxis.getExtremes(),S=C.min,k=(C=C.max,e.yAxis.getExtremes()),A=k.min,T=(k=k.max,e.xData||b.xData||e.processedXData),M=e.yData||b.yData||e.processedYData,E=e.zData||b.zData||e.processedZData,P=e.yAxis,O=e.xAxis,I=e.chart.plotHeight,R=!T||0===T.length,z=b.connectNulls,B=e.points||!1,j=!1,F=!1,N=(_=x?e.data:T||_,T={x:-Number.MAX_VALUE,y:0},{x:Number.MIN_VALUE,y:0}),V=0,H=-1,G=!1,U=!1,W=void 0===m.index,$=!1,q=!1,X=L[e.type],Y=!1,K=!0;if(!(b.boostData&&0<b.boostData.length)){if(e.closestPointRangePx=Number.MAX_VALUE,a(),B&&0<B.length)i.skipTranslation=!0,i.drawMode="triangles",B[0].node&&B[0].node.levelDynamic&&B.sort(function(t,e){if(t.node){if(t.node.levelDynamic>e.node.levelDynamic)return 1;if(t.node.levelDynamic<e.node.levelDynamic)return-1}return 0}),y(B,function(i){var n,r=i.plotY;void 0===r||isNaN(r)||null===i.y||(r=i.shapeArgs,n=i.series.pointAttribs(i),i=n["stroke-width"]||0,c=t.color(n.fill).rgba,c[0]/=255,c[1]/=255,c[2]/=255,"treemap"===e.type&&(i=i||1,h=t.color(n.stroke).rgba,h[0]/=255,h[1]/=255,h[2]/=255,s(r.x,r.y,r.width,r.height,h),i/=2),"heatmap"===e.type&&m.inverted&&(r.x=O.len-r.x,r.y=P.len-r.y,r.width=-r.width,r.height=-r.height),s(r.x+i,r.y+i,r.width-2*i,r.height-2*i,c))});else{for(;H<_.length-1&&(u=_[++H],!W);)R?(B=u[0],p=u[1],_[H+1]&&(U=_[H+1][0]),_[H-1]&&(G=_[H-1][0]),3<=u.length&&(d=u[2],u[2]>i.zMax&&(i.zMax=u[2]),u[2]<i.zMin&&(i.zMin=u[2]))):(B=u,p=M[H],_[H+1]&&(U=_[H+1]),_[H-1]&&(G=_[H-1]),E&&E.length&&(d=E[H],E[H]>i.zMax&&(i.zMax=E[H]),E[H]<i.zMin&&(i.zMin=E[H]))),z||null!==B&&null!==p?(U&&U>=S&&U<=C&&($=!0),G&&G>=S&&G<=C&&(q=!0),g?(R&&(p=u.slice(1,3)),f=p[0],p=p[1]):x&&(B=u.x,p=u.stackY,f=p-u.y),null!==A&&void 0!==A&&null!==k&&void 0!==k&&(K=p>=A&&p<=k),B>C&&N.x<C&&(N.x=B,N.y=p),B<S&&T.x<S&&(T.x=B,T.y=p),null===p&&z||(null!==p&&K?(B>=S&&B<=C&&(Y=!0),(Y||$||q)&&(D.useGPUTranslations||(i.skipTranslation=!0,B=O.toPixels(B,!0),(p=P.toPixels(p,!0))>I&&(p=I)),X&&(u=f,!1!==f&&void 0!==f||(u=0>p?p:0),D.useGPUTranslations||(u=P.toPixels(u,!0)),r(B,u,0,0,!1)),i.hasMarkers&&!1!==j&&(e.closestPointRangePx=Math.min(e.closestPointRangePx,Math.abs(B-j))),!D.useGPUTranslations&&!D.usePreallocated&&j&&1>B-j&&F&&1>Math.abs(p-F)?D.debug.showSkipSummary&&++V:(b.step&&r(B,F,0,2,!1),r(B,p,0,"bubble"===e.type?d||1:2,!1),j=B,F=p))):a())):a();D.debug.showSkipSummary&&console.log("skipped points:",V),!j&&!1!==z&&T>-Number.MAX_VALUE&&N<Number.MAX_VALUE&&(l(T),l(N))}o()}}function s(){P=[],M.data=w=[],A=[],v&&v.destroy()}function l(t){m&&(m.setUniform("xAxisTrans",t.transA),m.setUniform("xAxisMin",t.min),m.setUniform("xAxisMinPad",t.minPixelPadding),m.setUniform("xAxisPointRange",t.pointRange),m.setUniform("xAxisLen",t.len),m.setUniform("xAxisPos",t.pos),m.setUniform("xAxisCVSCoord",!t.horiz))}function u(t){m&&(m.setUniform("yAxisTrans",t.transA),m.setUniform("yAxisMin",t.min),m.setUniform("yAxisMinPad",t.minPixelPadding),m.setUniform("yAxisPointRange",t.pointRange),m.setUniform("yAxisLen",t.len),m.setUniform("yAxisPos",t.pos),m.setUniform("yAxisCVSCoord",!t.horiz))}function c(t,e){m.setUniform("hasThreshold",t),m.setUniform("translatedThreshold",e)}function h(i){return!!i&&(x=i.chartWidth||800,_=i.chartHeight||400,!!(b&&x&&_)&&(D.debug.timeRendering&&console.time("gl rendering"),b.canvas.width=x,b.canvas.height=_,m.bind(),b.viewport(0,0,x,_),m.setPMatrix([2/x,0,0,0,0,-2/_,0,0,0,0,-2,0,-1,1,-1,1]),m.setPlotHeight(i.plotHeight),1<D.lineWidth&&!t.isMS&&b.lineWidth(D.lineWidth),v.build(M.data,"aVertexPosition",4),v.bind(),T&&(b.bindTexture(b.TEXTURE_2D,f),m.setTexture(f)),m.setInverted(i.inverted),y(P,function(e,i){var n,o=e.series.options;n=void 0!==o.lineWidth?o.lineWidth:1;var a=o.threshold,s=C(a),h=e.series.yAxis.getThreshold(a),p=(a=k(o.marker?o.marker.enabled:null,!!e.series.xAxis.isRadial||null,e.series.closestPointRangePx>2*((o.marker?o.marker.radius:10)||10)),e.series.pointAttribs&&e.series.pointAttribs().fill||e.series.color);if(e.series.fillOpacity&&o.fillOpacity&&(p=new g(p).setOpacity(k(o.fillOpacity,1)).get()),o.colorByPoint&&(p=e.series.chart.options.colors[i]),p=t.color(p).rgba,D.useAlpha||(p[3]=1),"lines"===e.drawMode&&D.useAlpha&&1>p[3]&&(p[3]/=10),"add"===o.boostBlending?(b.blendFunc(b.SRC_ALPHA,b.ONE),b.blendEquation(b.FUNC_ADD)):"mult"===o.boostBlending?b.blendFunc(b.DST_COLOR,b.ZERO):"darken"===o.boostBlending?(b.blendFunc(b.ONE,b.ONE),b.blendEquation(b.FUNC_MIN)):b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA),m.reset(),0<e.colorData.length&&(m.setUniform("hasColor",1),i=r(b,m),i.build(e.colorData,"aColor",4),i.bind()),m.setColor(p),l(e.series.xAxis),u(e.series.yAxis),c(s,h),"points"===e.drawMode&&(o.marker&&o.marker.radius?m.setPointSize(2*o.marker.radius):m.setPointSize(1)),m.setSkipTranslation(e.skipTranslation),"bubble"===e.series.type&&m.setBubbleUniforms(e.series,e.zMin,e.zMax),m.setDrawAsCircle(R[e.series.type]&&T||!1),0<n||"line_strip"!==e.drawMode)for(n=0;n<e.segments.length;n++)v.render(e.segments[n].from,e.segments[n].to,e.drawMode);if(e.hasMarkers&&a)for(o.marker&&o.marker.radius?m.setPointSize(2*o.marker.radius):m.setPointSize(10),m.setDrawAsCircle(!0),n=0;n<e.segments.length;n++)v.render(e.segments[n].from,e.segments[n].to,"POINTS")}),D.debug.timeRendering&&console.timeEnd("gl rendering"),e&&e(),void s()))}function d(t){if(o(),t.renderer.forExport)return h(t);E?h(t):setTimeout(function(){d(t)},1)}var f,m=!1,v=!1,b=!1,x=0,_=0,w=!1,A=!1,T=!1,M={},E=!1,P=[],O=p.createElement("canvas"),I=O.getContext("2d"),L={column:!0,columnrange:!0,bar:!0,area:!0,arearange:!0},R={scatter:!0,bubble:!0},D={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}};return M={allocateBufferForSingleSeries:function(t){var e=0;D.usePreallocated&&(t.isSeriesBoosting&&(e=i(t)),v.allocate(e))},pushSeries:function(t){0<P.length&&P[P.length-1].hasMarkers&&(P[P.length-1].markerTo=A.length),D.debug.timeSeriesProcessing&&console.time("building "+t.type+" series"),P.push({segments:[],markerFrom:A.length,colorData:[],series:t,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:!!t.options.marker&&!1!==t.options.marker.enabled,showMarksers:!0,drawMode:{area:"lines",arearange:"lines",areaspline:"line_strip",column:"lines",columnrange:"lines",bar:"lines",line:"line_strip",scatter:"points",heatmap:"triangles",treemap:"triangles",bubble:"points"}[t.type]||"line_strip"}),a(t,P[P.length-1]),D.debug.timeSeriesProcessing&&console.timeEnd("building "+t.type+" series")},setSize:function(t,e){x===t&&e===e||(x=t,_=e,m.bind(),m.setPMatrix([2/x,0,0,0,0,-2/_,0,0,0,0,-2,0,-1,1,-1,1]))},inited:function(){return E},setThreshold:c,init:function(t,e){var i=0,o=["webgl","experimental-webgl","moz-webgl","webkit-3d"];if(E=!1,!t)return!1;for(D.debug.timeSetup&&console.time("gl setup");i<o.length&&!(b=t.getContext(o[i],{}));i++);if(!b)return!1;e||s(),b.enable(b.BLEND),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.disable(b.DEPTH_TEST),b.depthFunc(b.LESS),m=n(b),v=r(b,m),T=!1,f=b.createTexture(),O.width=512,O.height=512,I.mozImageSmoothingEnabled=!1,I.webkitImageSmoothingEnabled=!1,I.msImageSmoothingEnabled=!1,I.imageSmoothingEnabled=!1,I.strokeStyle="rgba(255, 255, 255, 0)",I.fillStyle="#FFF",I.beginPath(),I.arc(256,256,256,0,2*Math.PI),I.stroke(),I.fill();try{b.bindTexture(b.TEXTURE_2D,f),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,O),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.bindTexture(b.TEXTURE_2D,null),T=!0}catch(t){}return E=!0,D.debug.timeSetup&&console.timeEnd("gl setup"),!0},render:d,settings:D,valid:function(){return!1!==b},clear:o,flush:s,setXAxis:l,setYAxis:u,data:w,gl:function(){return b},allocateBuffer:function(t){var e=0;D.usePreallocated&&(y(t.series,function(t){t.isSeriesBoosting&&(e+=i(t))}),v.allocate(e))},destroy:function(){s(),v.destroy(),m.destroy(),b&&(f&&b.deleteTexture(f),b.canvas.width=1,b.canvas.height=1)},setOptions:function(t){S(!0,D,t)}}}function a(e,i){var n=e.chartWidth,r=e.chartHeight,a=e,s=e.seriesGroup||i.group;p.implementation.hasFeature("www.http://w3.org/TR/SVG11/feature#Extensibility","1.1"),a=e.isChartSeriesBoosting()?e:i;return a.renderTarget||(a.canvas=M,e.renderer.forExport,a.renderTarget=e.renderer.image("",0,0,n,r).addClass("highcharts-boost-canvas").add(s),a.boostClear=function(){a.renderTarget.attr({href:""})},a.boostCopy=function(){a.boostResizeTarget(),a.renderTarget.attr({href:a.canvas.toDataURL("image/png")})},a.boostResizeTarget=function(){n=e.chartWidth,r=e.chartHeight,(a.renderTargetFo||a.renderTarget).attr({x:0,y:0,width:n,height:r}).css({pointerEvents:"none",mixedBlendMode:"normal",opacity:1}),a instanceof t.Chart&&a.markerGroup.translate(e.plotLeft,e.plotTop)},a.boostClipRect=e.renderer.clipRect(),(a.renderTargetFo||a.renderTarget).clip(a.boostClipRect),a instanceof t.Chart&&(a.markerGroup=a.renderer.g().add(s),a.markerGroup.translate(i.xAxis.pos,i.yAxis.pos))),a.canvas.width=n,a.canvas.height=r,a.boostClipRect.attr(e.getBoostClipRect(a)),a.boostResizeTarget(),a.boostClear(),a.ogl||(a.ogl=o(function(){a.ogl.settings.debug.timeBufferCopy&&console.time("buffer copy"),a.boostCopy(),a.ogl.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),a.ogl.init(a.canvas),a.ogl.setOptions(e.options.boost||{}),a instanceof t.Chart&&a.ogl.allocateBuffer(e)),a.ogl.setSize(n,r),a.ogl}function s(t,e,i){t&&e.renderTarget&&e.canvas&&!(i||e.chart).isChartSeriesBoosting()&&t.render(i||e.chart)}function l(t,e){t&&e.renderTarget&&e.canvas&&!e.chart.isChartSeriesBoosting()&&t.allocateBufferForSingleSeries(e)}function u(t){var e=!0;if(this.chart.options&&this.chart.options.boost&&(e=void 0===this.chart.options.boost.enabled||this.chart.options.boost.enabled),!e||!this.isSeriesBoosting)return t.call(this);this.chart.isBoosting=!0,(t=a(this.chart,this))&&(l(t,this),t.pushSeries(this)),s(t,this)}var c,h=t.win,p=h.document,d=function(){},f=t.Chart,g=t.Color,m=t.Series,v=t.seriesTypes,y=t.each,b=t.extend,x=t.addEvent,_=t.fireEvent,w=t.grep,C=t.isNumber,S=t.merge,k=t.pick,A=t.wrap,T=t.getOptions().plotOptions,M=p.createElement("canvas"),E="area arearange column columnrange bar line scatter heatmap bubble treemap".split(" "),P={};y(E,function(t){P[t]=1}),g.prototype.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",feldspar:"#d19275",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslateblue:"#8470ff",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",violetred:"#d02090",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f.prototype.isChartSeriesBoosting=function(){return k(this.options.boost&&this.options.boost.seriesThreshold,50)<=this.series.length||i(this)},f.prototype.getBoostClipRect=function(t){var e={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};return t===this&&y(this.yAxis,function(t){e.y=Math.min(t.pos,e.y),e.height=Math.max(t.pos-this.plotTop+t.len,e.height)},this),e},t.eachAsync=function(e,i,n,r,o,a){o=o||0,r=r||3e4;for(var s=o+r,l=!0;l&&o<s&&o<e.length;)l=i(e[o],o),++o;l&&(o<e.length?a?t.eachAsync(e,i,n,r,o,a):h.requestAnimationFrame?h.requestAnimationFrame(function(){t.eachAsync(e,i,n,r,o)}):setTimeout(function(){t.eachAsync(e,i,n,r,o)}):n&&n())},m.prototype.getPoint=function(t){var e=t,i=this.xData||this.options.xData||this.processedXData||!1;return!t||t instanceof this.pointClass||(e=(new this.pointClass).init(this,this.options.data[t.i],i?i[t.i]:void 0),e.category=e.x,e.dist=t.dist,e.distX=t.distX,e.plotX=t.plotX,e.plotY=t.plotY,e.index=t.i),e},A(m.prototype,"searchPoint",function(t){return this.getPoint(t.apply(this,[].slice.call(arguments,1)))}),A(m.prototype,"destroy",function(t){var e=this,i=e.chart;i.markerGroup===e.markerGroup&&(e.markerGroup=null),i.hoverPoints&&(i.hoverPoints=w(i.hoverPoints,function(t){return t.series===e})),i.hoverPoint&&i.hoverPoint.series===e&&(i.hoverPoint=null),t.call(this)}),A(m.prototype,"getExtremes",function(t){if(!this.isSeriesBoosting||!this.hasExtremes||!this.hasExtremes())return t.apply(this,Array.prototype.slice.call(arguments,1))}),y(E,function(t){T[t]&&(T[t].boostThreshold=5e3,T[t].boostData=[],v[t].prototype.fillOpacity=!0)}),y(["translate","generatePoints","drawTracker","drawPoints","render"],function(t){function e(e){var i=this.options.stacking&&("translate"===t||"generatePoints"===t),n=k(this.chart&&this.chart.options&&this.chart.options.boost&&this.chart.options.boost.enabled,!0);this.isSeriesBoosting&&!i&&n&&"heatmap"!==this.type&&"treemap"!==this.type&&P[this.type]?this[t+"Canvas"]&&this[t+"Canvas"]():e.call(this)}A(m.prototype,t,e),"translate"===t&&y("column bar arearange columnrange heatmap treemap".split(" "),function(i){v[i]&&A(v[i].prototype,t,e)})}),A(m.prototype,"processData",function(t){function e(t){return i.chart.isChartSeriesBoosting()||(t?t.length:0)>=(i.options.boostThreshold||Number.MAX_VALUE)}var i=this,n=this.options.data;P[this.type]?(e(n)&&"heatmap"!==this.type&&"treemap"!==this.type&&!this.options.stacking&&this.hasExtremes&&this.hasExtremes(!0)||(t.apply(this,Array.prototype.slice.call(arguments,1)),n=this.processedXData),(this.isSeriesBoosting=e(n))?this.enterBoost():this.exitBoost&&this.exitBoost()):t.apply(this,Array.prototype.slice.call(arguments,1))}),A(m.prototype,"setVisible",function(t,e,i){t.call(this,e,i),!1===this.visible&&this.canvas&&this.renderTarget&&(this.ogl&&this.ogl.clear(),this.boostClear())}),m.prototype.enterBoost=function(){this.alteredByBoost=[],y(["allowDG","directTouch","stickyTracking"],function(t){this.alteredByBoost.push({prop:t,val:this[t],own:this.hasOwnProperty(t)})},this),this.directTouch=this.allowDG=!1,this.stickyTracking=!0,this.animate=null,this.labelBySeries&&(this.labelBySeries=this.labelBySeries.destroy())},m.prototype.exitBoost=function(){y(this.alteredByBoost||[],function(t){t.own?this[t.prop]=t.val:delete this[t.prop]},this),this.boostClear&&this.boostClear()},m.prototype.hasExtremes=function(t){var e=this.options,i=this.xAxis&&this.xAxis.options,n=this.yAxis&&this.yAxis.options;return e.data.length>(e.boostThreshold||Number.MAX_VALUE)&&C(n.min)&&C(n.max)&&(!t||C(i.min)&&C(i.max))},m.prototype.destroyGraphics=function(){var t,e,i=this,n=this.points;if(n)for(e=0;e<n.length;e+=1)(t=n[e])&&t.destroyElements&&t.destroyElements();y(["graph","area","tracker"],function(t){i[t]&&(i[t]=i[t].destroy())})},t.hasWebGLSupport=function(){var t,e=0,i=["webgl","experimental-webgl","moz-webgl","webkit-3d"],n=!1;if(void 0!==h.WebGLRenderingContext)for(t=p.createElement("canvas");e<i.length;e++)try{if(void 0!==(n=t.getContext(i[e]))&&null!==n)return!0}catch(t){}return!1},t.hasWebGLSupport()?(t.extend(m.prototype,{renderCanvas:function(){function e(t,e){var i,r,a=!1,s=void 0===y.index,l=!0;return!s&&(B?(i=t[0],r=t[1]):(i=t,r=C[e]),L?(B&&(r=t.slice(1,3)),a=r[0],r=r[1]):R&&(i=t.x,r=t.stackY,a=r-t.y),z||(l=r>=T&&r<=M),null!==r&&i>=k&&i<=A&&l)&&(t=Math.ceil(b.toPixels(i,!0)),P?(void 0!==h&&t!==n||(L||(a=r),(void 0===p||r>u)&&(u=r,p=e),(void 0===h||a<o)&&(o=a,h=e)),t!==n&&(void 0!==h&&(r=x.toPixels(u,!0),I=x.toPixels(o,!0),F(t,r,p),I!==r&&F(t,I,h)),h=p=void 0,n=t)):(r=Math.ceil(x.toPixels(r,!0)),F(t,r,e))),!s}function i(){_(g,"renderedCanvas"),delete g.buildKDTree,g.buildKDTree(),f.debug.timeKDTree&&console.timeEnd("kd tree building")}var n,r,o,u,h,p,f,g=this,m=g.options||{},v=!1,y=g.chart,b=this.xAxis,x=this.yAxis,w=m.xData||g.processedXData,C=m.yData||g.processedYData,S=m.data,k=(v=b.getExtremes(),v.min),A=v.max,T=(v=x.getExtremes(),v.min),M=v.max,E={},P=!!g.sampling,O=!1!==m.enableMouseTracking,I=x.getThreshold(m.threshold),L=g.pointArrayMap&&"low,high"===g.pointArrayMap.join(","),R=!!m.stacking,D=g.cropStart||0,z=g.requireSorting,B=!w,j=this.xData||this.options.xData||this.processedXData||!1,F=function(t,e,i){c=t+","+e,O&&!E[c]&&(E[c]=!0,y.inverted&&(t=b.len-t,e=x.len-e),r.push({x:!!j&&j[D+i],clientX:t,plotX:t,plotY:e,i:D+i}))};v=a(y,g);y.isBoosting=!0,f=v.settings,this.visible&&((this.points||this.graph)&&(this.animate=null,this.destroyGraphics()),y.isChartSeriesBoosting()?(this.markerGroup=y.markerGroup,this.renderTarget&&(this.renderTarget=this.renderTarget.destroy())):this.markerGroup=g.plotGroup("markerGroup","markers",!0,1,y.seriesGroup),r=this.points=[],g.buildKDTree=d,v&&(l(v,this),v.pushSeries(g),s(v,this,y)),y.renderer.forExport||(f.debug.timeKDTree&&console.time("kd tree building"),t.eachAsync(R?g.data:w||S,e,i)))}}),y(["heatmap","treemap"],function(t){v[t]&&A(v[t].prototype,"drawPoints",u)}),v.bubble&&(delete v.bubble.prototype.buildKDTree,A(v.bubble.prototype,"markerAttribs",function(t){return!this.isSeriesBoosting&&t.apply(this,[].slice.call(arguments,1))})),v.scatter.prototype.fill=!0,b(v.area.prototype,{fill:!0,fillOpacity:!0,sampling:!0}),b(v.column.prototype,{fill:!0,sampling:!0}),t.Chart.prototype.callbacks.push(function(t){x(t,"predraw",function(){t.boostForceChartBoost=void 0,t.boostForceChartBoost=i(t),t.isBoosting=!1,!t.isChartSeriesBoosting()&&t.didBoost&&(t.didBoost=!1),t.boostClear&&t.boostClear(),t.canvas&&t.ogl&&t.isChartSeriesBoosting()&&(t.didBoost=!0,t.ogl.allocateBuffer(t)),t.markerGroup&&t.xAxis&&0<t.xAxis.length&&t.yAxis&&0<t.yAxis.length&&t.markerGroup.translate(t.xAxis[0].pos,t.yAxis[0].pos)}),x(t,"render",function(){t.ogl&&t.isChartSeriesBoosting()&&t.ogl.render(t)})})):void 0!==t.initCanvasBoost?t.initCanvasBoost():t.error(26)}(t)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){var e=function(t){var e=t.each,i=t.extend,n=t.isArray,r=t.isObject,o=t.isNumber,a=t.merge,s=t.pick,l=t.reduce;return{getColor:function(e,i){var n,r,o,a,l=i.index,u=i.mapOptionsToLevel,c=i.parentColor,h=i.parentColorIndex,p=i.series,d=i.colors,f=i.siblings,g=p.points;return e&&(g=g[e.i],e=u[e.level]||{},(n=g&&e.colorByPoint)&&(o=g.index%(d?d.length:p.chart.options.chart.colorCount),r=d&&d[o]),d=g&&g.options.color,n=e&&e.color,(u=c)&&(u=(u=e&&e.colorVariation)&&"brightness"===u.key?t.color(c).brighten(l/f*u.to).get():c),n=s(d,n,r,u,p.color),a=s(g&&g.options.colorIndex,e&&e.colorIndex,o,h,i.colorIndex)),{color:n,colorIndex:a}},getLevelOptions:function(t){var e,s,u,c,h=null;if(r(t))for(h={},u=o(t.from)?t.from:1,c=t.levels,s={},e=r(t.defaults)?t.defaults:{},n(c)&&(s=l(c,function(t,n){var s,l;return r(n)&&o(n.level)&&(l=a({},n),s="boolean"==typeof l.levelIsConstant?l.levelIsConstant:e.levelIsConstant,delete l.levelIsConstant,delete l.level,n=n.level+(s?0:u-1),r(t[n])?i(t[n],l):t[n]=l),t},{})),c=o(t.to)?t.to:1,t=0;t<=c;t++)h[t]=a({},e,r(s[t])?s[t]:{});return h},setTreeValues:function t(n,r){var o=r.before,a=r.idRoot,l=r.mapIdToNode[a],u=r.points[n.i],c=u&&u.options||{},h=0,p=[];return i(n,{levelDynamic:n.level-("boolean"!=typeof r.levelIsConstant||r.levelIsConstant?0:l.level),name:s(u&&u.name,""),visible:a===n.id||"boolean"==typeof r.visible&&r.visible}),"function"==typeof o&&(n=o(n,r)),e(n.children,function(e,o){var a=i({},r);i(a,{index:o,siblings:n.children.length,visible:n.visible}),e=t(e,a),p.push(e),e.visible&&(h+=e.val)}),n.visible=0<h||n.visible,o=s(c.value,h),i(n,{children:p,childrenTotal:h,isLeaf:n.visible&&!h,val:o}),n}}}(t);!function(t,e){var i=t.seriesType,n=t.seriesTypes,r=t.map,o=t.merge,a=t.extend,s=t.noop,l=t.each,u=e.getColor,c=e.getLevelOptions,h=t.grep,p=t.isNumber,d=t.isObject,f=t.isString,g=t.pick,m=t.Series,v=t.stableSort,y=t.Color,b=function(e,i,n){n=n||this,t.objectEach(e,function(t,r){i.call(n,t,r,e)})},x=t.reduce,_=function(t,e,i){i=i||this,!1!==(t=e.call(i,t))&&_(t,e,i)};i("treemap","scatter",{showInLegend:!1,marker:!1,colorByPoint:!1,dataLabels:{enabled:!0,defer:!1,verticalAlign:"middle",formatter:function(){return this.point.name||this.point.id},inside:!0},tooltip:{headerFormat:"",pointFormat:"<b>{point.name}</b>: {point.value}<br/>"},ignoreHiddenPoint:!0,layoutAlgorithm:"sliceAndDice",layoutStartingDirection:"vertical",alternateStartingDirection:!1,levelIsConstant:!0,drillUpButton:{position:{align:"right",x:-10,y:10}},borderColor:"#e6e6e6",borderWidth:1,opacity:.15,states:{hover:{borderColor:"#999999",brightness:n.heatmap?0:.1,halo:!1,opacity:.75,shadow:!1}}},{pointArrayMap:["value"],axisTypes:n.heatmap?["xAxis","yAxis","colorAxis"]:["xAxis","yAxis"],directTouch:!0,optionalAxis:"colorAxis",getSymbol:s,parallelArrays:["x","y","value","colorValue"],colorKey:"colorValue",translateColors:n.heatmap&&n.heatmap.prototype.translateColors,colorAttribs:n.heatmap&&n.heatmap.prototype.colorAttribs,trackerGroups:["group","dataLabelsGroup"],getListOfParents:function(e,i){return e=x(e||[],function(t,e,i){return e=g(e.parent,""),void 0===t[e]&&(t[e]=[]),t[e].push(i),t},{}),b(e,function(e,n,r){""!==n&&-1===t.inArray(n,i)&&(l(e,function(t){r[""].push(t)}),delete r[n])}),e},getTree:function(){var t=r(this.data,function(t){return t.id});t=this.getListOfParents(this.data,t);return this.nodeMap=[],this.buildNode("",-1,0,t,null)},init:function(e,i){m.prototype.init.call(this,e,i),this.options.allowDrillToNode&&t.addEvent(this,"click",this.onClickDrillToNode)},buildNode:function(t,e,i,n,r){var o,a=this,s=[],u=a.points[e],c=0;return l(n[t]||[],function(e){o=a.buildNode(a.points[e].id,e,i+1,n,t),c=Math.max(o.height+1,c),s.push(o)}),e={id:t,i:e,children:s,height:c,level:i,parent:r,visible:!1},a.nodeMap[e.id]=e,u&&(u.node=e),e},setTreeValues:function(t){var e,i=this,n=i.options,r=i.nodeMap[i.rootNode],o=(n="boolean"!=typeof n.levelIsConstant||n.levelIsConstant,0),s=[],u=i.points[t.i];return l(t.children,function(t){t=i.setTreeValues(t),s.push(t),t.ignore||(o+=t.val)}),v(s,function(t,e){return t.sortIndex-e.sortIndex}),e=g(u&&u.options.value,o),u&&(u.value=e),a(t,{children:s,childrenTotal:o,ignore:!(g(u&&u.visible,!0)&&0<e),isLeaf:t.visible&&!o,levelDynamic:t.level-(n?0:r.level),name:g(u&&u.name,""),sortIndex:g(u&&u.sortIndex,-e),val:e}),t},calculateChildrenAreas:function(t,e){var i=this,n=i.options,r=i.mapOptionsToLevel[t.level+1],a=g(i[r&&r.layoutAlgorithm]&&r.layoutAlgorithm,n.layoutAlgorithm),s=n.alternateStartingDirection,u=[];t=h(t.children,function(t){return!t.ignore}),r&&r.layoutStartingDirection&&(e.direction="vertical"===r.layoutStartingDirection?0:1),u=i[a](e,t),l(t,function(t,n){n=u[n],t.values=o(n,{val:t.childrenTotal,direction:s?1-e.direction:e.direction}),t.pointValues=o(n,{x:n.x/i.axisRatio,width:n.width/i.axisRatio}),t.children.length&&i.calculateChildrenAreas(t,t.values)})},setPointValues:function(){var t=this,e=t.xAxis,i=t.yAxis;l(t.points,function(n){var r,o,a,s=n.node,l=s.pointValues;a=(t.pointAttribs(n)["stroke-width"]||0)%2/2,l&&s.visible?(s=Math.round(e.translate(l.x,0,0,0,1))-a,r=Math.round(e.translate(l.x+l.width,0,0,0,1))-a,o=Math.round(i.translate(l.y,0,0,0,1))-a,l=Math.round(i.translate(l.y+l.height,0,0,0,1))-a,n.shapeType="rect",n.shapeArgs={x:Math.min(s,r),y:Math.min(o,l),width:Math.abs(r-s),height:Math.abs(l-o)},n.plotX=n.shapeArgs.x+n.shapeArgs.width/2,n.plotY=n.shapeArgs.y+n.shapeArgs.height/2):(delete n.plotX,delete n.plotY)})},setColorRecursive:function(t,e,i,n,r){var o,a=this,s=a&&a.chart;s=s&&s.options&&s.options.colors;t&&(o=u(t,{colors:s,index:n,mapOptionsToLevel:a.mapOptionsToLevel,parentColor:e,parentColorIndex:i,series:a,siblings:r}),(e=a.points[t.i])&&(e.color=o.color,e.colorIndex=o.colorIndex),l(t.children||[],function(e,i){a.setColorRecursive(e,o.color,o.colorIndex,i,t.children.length)}))},algorithmGroup:function(t,e,i,n){this.height=t,this.width=e,this.plot=n,this.startDirection=this.direction=i,this.lH=this.nH=this.lW=this.nW=this.total=0,this.elArr=[],this.lP={total:0,lH:0,nH:0,lW:0,nW:0,nR:0,lR:0,aspectRatio:function(t,e){return Math.max(t/e,e/t)}},this.addElement=function(t){this.lP.total=this.elArr[this.elArr.length-1],this.total+=t,0===this.direction?(this.lW=this.nW,this.lP.lH=this.lP.total/this.lW,this.lP.lR=this.lP.aspectRatio(this.lW,this.lP.lH),this.nW=this.total/this.height,this.lP.nH=this.lP.total/this.nW,this.lP.nR=this.lP.aspectRatio(this.nW,this.lP.nH)):(this.lH=this.nH,this.lP.lW=this.lP.total/this.lH,this.lP.lR=this.lP.aspectRatio(this.lP.lW,this.lH),this.nH=this.total/this.width,this.lP.nW=this.lP.total/this.nH,this.lP.nR=this.lP.aspectRatio(this.lP.nW,this.nH)),this.elArr.push(t)},this.reset=function(){this.lW=this.nW=0,this.elArr=[],this.total=0}},algorithmCalcPoints:function(t,e,i,n){var r,o,a,s,u,c=i.lW,h=i.lH,p=i.plot,d=0,f=i.elArr.length-1;e?(c=i.nW,h=i.nH):u=i.elArr[i.elArr.length-1],l(i.elArr,function(t){(e||d<f)&&(0===i.direction?(r=p.x,o=p.y,a=c,s=t/a):(r=p.x,o=p.y,s=h,a=t/s),n.push({x:r,y:o,width:a,height:s}),0===i.direction?p.y+=s:p.x+=a),d+=1}),i.reset(),0===i.direction?i.width-=c:i.height-=h,p.y=p.parent.y+(p.parent.height-i.height),p.x=p.parent.x+(p.parent.width-i.width),t&&(i.direction=1-i.direction),e||i.addElement(u)},algorithmLowAspectRatio:function(t,e,i){var n,r=[],o=this,a={x:e.x,y:e.y,parent:e},s=0,u=i.length-1,c=new this.algorithmGroup(e.height,e.width,e.direction,a);return l(i,function(i){n=i.val/e.val*e.height*e.width,c.addElement(n),c.lP.nR>c.lP.lR&&o.algorithmCalcPoints(t,!1,c,r,a),s===u&&o.algorithmCalcPoints(t,!0,c,r,a),s+=1}),r},algorithmFill:function(t,e,i){var n,r,o,a,s,u=[],c=e.direction,h=e.x,p=e.y,d=e.width,f=e.height;return l(i,function(i){n=i.val/e.val*e.height*e.width,r=h,o=p,0===c?(s=f,a=n/s,d-=a,h+=a):(a=d,s=n/a,f-=s,p+=s),u.push({x:r,y:o,width:a,height:s}),t&&(c=1-c)}),u},strip:function(t,e){return this.algorithmLowAspectRatio(!1,t,e)},squarified:function(t,e){return this.algorithmLowAspectRatio(!0,t,e)},sliceAndDice:function(t,e){return this.algorithmFill(!0,t,e)},stripes:function(t,e){return this.algorithmFill(!1,t,e)},translate:function(){var t,e,i=this,n=i.options,r=i.rootNode=g(i.rootNode,i.options.rootId,"");m.prototype.translate.call(i),e=i.tree=i.getTree(),t=i.nodeMap[r],i.mapOptionsToLevel=c({from:t.level+1,levels:n.levels,to:e.height,defaults:{levelIsConstant:i.options.levelIsConstant,colorByPoint:n.colorByPoint}}),""===r||t&&t.children.length||(i.drillToNode("",!1),r=i.rootNode,t=i.nodeMap[r]),_(i.nodeMap[i.rootNode],function(t){var e=!1,n=t.parent;return t.visible=!0,(n||""===n)&&(e=i.nodeMap[n]),e}),_(i.nodeMap[i.rootNode].children,function(t){var e=!1;return l(t,function(t){t.visible=!0,t.children.length&&(e=(e||[]).concat(t.children))}),e}),i.setTreeValues(e),i.axisRatio=i.xAxis.len/i.yAxis.len,i.nodeMap[""].pointValues=r={x:0,y:0,width:100,height:100},i.nodeMap[""].values=r=o(r,{width:r.width*i.axisRatio,direction:"vertical"===n.layoutStartingDirection?0:1,val:e.val}),i.calculateChildrenAreas(e,r),i.colorAxis?i.translateColors():n.colorByPoint||i.setColorRecursive(i.tree),n.allowDrillToNode&&(n=t.pointValues,i.xAxis.setExtremes(n.x,n.x+n.width,!1),i.yAxis.setExtremes(n.y,n.y+n.height,!1),i.xAxis.setScale(),i.yAxis.setScale()),i.setPointValues()},drawDataLabels:function(){var t,e,i=this,n=i.mapOptionsToLevel,r=h(i.points,function(t){return t.node.visible});l(r,function(r){e=n[r.node.level],t={style:{}},r.node.isLeaf||(t.enabled=!1),e&&e.dataLabels&&(t=o(t,e.dataLabels),i._hasPointLabels=!0),r.shapeArgs&&(t.style.width=r.shapeArgs.width,r.dataLabel&&r.dataLabel.css({width:r.shapeArgs.width+"px"})),r.dlOptions=o(t,r.options.dataLabels)}),m.prototype.drawDataLabels.call(this)},alignDataLabel:function(t){n.column.prototype.alignDataLabel.apply(this,arguments),t.dataLabel&&t.dataLabel.attr({zIndex:(t.node.zIndex||0)+1})},pointAttribs:function(t,e){var i=d(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},n=t&&i[t.node.level]||{},r=(i=this.options,e&&i.states[e]||{}),o=t&&t.getClassName()||"";return t={stroke:t&&t.borderColor||n.borderColor||r.borderColor||i.borderColor,"stroke-width":g(t&&t.borderWidth,n.borderWidth,r.borderWidth,i.borderWidth),dashstyle:t&&t.borderDashStyle||n.borderDashStyle||r.borderDashStyle||i.borderDashStyle,fill:t&&t.color||this.color},-1!==o.indexOf("highcharts-above-level")?(t.fill="none",t["stroke-width"]=0):-1!==o.indexOf("highcharts-internal-node-interactive")?(e=g(r.opacity,i.opacity),t.fill=y(t.fill).setOpacity(e).get(),t.cursor="pointer"):-1!==o.indexOf("highcharts-internal-node")?t.fill="none":e&&(t.fill=y(t.fill).brighten(r.brightness).get()),t},drawPoints:function(){var t=this,e=h(t.points,function(t){return t.node.visible});l(e,function(e){var i="level-group-"+e.node.levelDynamic;t[i]||(t[i]=t.chart.renderer.g(i).attr({zIndex:1e3-e.node.levelDynamic}).add(t.group)),e.group=t[i]}),n.column.prototype.drawPoints.call(this),t.options.allowDrillToNode&&l(e,function(e){e.graphic&&(e.drillId=t.options.interactByLeaf?t.drillToByLeaf(e):t.drillToByGroup(e))})},onClickDrillToNode:function(t){var e=(t=t.point)&&t.drillId;f(e)&&(t.setState(""),this.drillToNode(e))},drillToByGroup:function(t){var e=!1;return 1!=t.node.level-this.nodeMap[this.rootNode].level||t.node.isLeaf||(e=t.id),e},drillToByLeaf:function(t){var e=!1;if(t.node.parent!==this.rootNode&&t.node.isLeaf)for(t=t.node;!e;)t=this.nodeMap[t.parent],t.parent===this.rootNode&&(e=t.id);return e},drillUp:function(){var t=this.nodeMap[this.rootNode];t&&f(t.parent)&&this.drillToNode(t.parent)},drillToNode:function(t,e){var i=this.nodeMap[t];this.idPreviousRoot=this.rootNode,this.rootNode=t,""===t?this.drillUpButton=this.drillUpButton.destroy():this.showDrillUpButton(i&&i.name||t),this.isDirty=!0,g(e,!0)&&this.chart.redraw()},showDrillUpButton:function(t){var e=this;t=t||"< Back";var i,n,r=e.options.drillUpButton;r.text&&(t=r.text),this.drillUpButton?(this.drillUpButton.placed=!1,this.drillUpButton.attr({text:t}).align()):(n=(i=r.theme)&&i.states,this.drillUpButton=this.chart.renderer.button(t,null,null,function(){e.drillUp()},i,n&&n.hover,n&&n.select).addClass("highcharts-drillup-button").attr({align:r.position.align,zIndex:7}).add().align(r.position,!1,r.relativeTo||"plotBox"))},buildKDTree:s,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getExtremes:function(){m.prototype.getExtremes.call(this,this.colorValueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,m.prototype.getExtremes.call(this)},getExtremesFromAll:!0,bindAxes:function(){var e={endOnTick:!1,gridLineWidth:0,lineWidth:0,min:0,dataMin:0,minPadding:0,max:100,dataMax:100,maxPadding:0,startOnTick:!1,title:null,tickPositions:[]};m.prototype.bindAxes.call(this),t.extend(this.yAxis.options,e),t.extend(this.xAxis.options,e)},utils:{recursive:_,reduce:x}},{getClassName:function(){var e=t.Point.prototype.getClassName.call(this),i=this.series,n=i.options;return this.node.level<=i.nodeMap[i.rootNode].level?e+=" highcharts-above-level":this.node.isLeaf||g(n.interactByLeaf,!n.allowDrillToNode)?this.node.isLeaf||(e+=" highcharts-internal-node"):e+=" highcharts-internal-node-interactive",e},isValid:function(){return this.id||p(this.value)},setState:function(e){t.Point.prototype.setState.call(this,e),this.graphic&&this.graphic.attr({zIndex:"hover"===e?1:0})},setVisible:n.pie.prototype.pointClass.prototype.setVisible})}(t,e)})},function(t,e){!function(e){"object"==typeof t&&t.exports?t.exports=e:e(Highcharts)}(function(t){"use strict";function e(t){return JSON.parse(JSON.stringify(t))}function i(t,i){return this.userOptions=e(t),this.name=t.name||t,this.parent=i,this}function n(t){for(var e=t.length,i=0;e--;)i+=t[e];return i}function r(t,e,n){for(t.unshift(new i(e,n));n;)n.leaves=n.leaves?n.leaves+1:1,n=n.parent}function o(t,e,i,n,a){var s,l=t.length;for(a=a||0,i.depth=i.depth?i.depth:0;l--;)s=t[l],s.categories?(n&&(s.parent=n),o(s.categories,e,i,s,a+1)):r(e,s,n);i.depth=h(i.depth,a)}function a(t,e,i){e[0]===e[2]&&(e[0]=e[2]=u(e[0])-i%2/2),e[1]===e[3]&&(e[1]=e[3]=u(e[1])+i%2/2),t.push("M",e[0],e[1],"L",e[2],e[3])}function s(t,e){return t.getPosition(t.axis.horiz,e,t.axis.tickmarkOffset)}function l(t,e,i){for(var n,r=t.length;r--;)n=t[r][e],n&&l(n,e,i),i(t[r])}var u=Math.round,c=Math.min,h=Math.max,p=t.merge,d=t.pick,f=t.each,g=window.HighchartsAdapter&&window.HighchartsAdapter.inArray||t.inArray,m=t.Axis.prototype,v=t.Tick.prototype,y=m.init,b=m.render,x=m.setCategories,_=v.getLabelSize,w=v.addLabel,C=v.destroy,S=v.render;i.prototype.toString=function(){for(var t=[],e=this;e;)t.push(e.name),e=e.parent;return t.join(", ")},m.init=function(t,e){y.call(this,t,e),"object"==typeof e&&e.categories&&this.setupGroups(e)},m.setupGroups=function(t){var i=e(t.categories),n=[],r={},a=this.options.labels,s=a.groupedOptions,l=a.style;o(i,n,r),this.categoriesTree=i,this.categories=n,this.isGrouped=0!==r.depth,this.labelsDepth=r.depth,this.labelsSizes=[],this.labelsGridPath=[],this.tickLength=t.tickLength||this.tickLength||null,this.tickWidth=d(t.tickWidth,this.isXAxis?1:0),this.directionFactor=[-1,1,1,-1][this.side],this.options.lineWidth=d(t.lineWidth,1),this.groupFontHeights=[];for(var u=0;u<=r.depth;u++){var c=s&&s[u-1],h=c&&s[u-1].style?p(l,s[u-1].style):l;this.groupFontHeights[u]=Math.round(.3*this.chart.renderer.fontMetrics(h?h.fontSize:0).b)}},m.render=function(){if(this.isGrouped&&(this.labelsGridPath=[]),void 0===this.originalTickLength&&(this.originalTickLength=this.options.tickLength),this.options.tickLength=this.isGrouped?.001:this.originalTickLength,b.call(this),!this.isGrouped)return this.labelsGrid&&this.labelsGrid.attr({visibility:"hidden"}),!1;var t,e=this,i=e.options,n=e.top,r=e.left,o=r+e.width,s=n+e.height,u=e.hasVisibleSeries||e.hasData,c=e.labelsDepth,h=e.labelsGrid,p=e.horiz,d=e.labelsGridPath,f=!1===i.drawHorizontalBorders?c+1:0,g=e.opposite?p?n:o:p?s:r,m=e.tickWidth;for(e.userTickLength&&(c-=1),h||(h=e.labelsGrid=e.chart.renderer.path().attr({strokeWidth:m,"stroke-width":m,stroke:i.tickColor||""}).add(e.axisGroup),i.tickColor||h.addClass("highcharts-tick"));f<=c;)g+=e.groupSize(f),t=p?[r,g,o,g]:[g,n,g,s],a(d,t,m),f++;return h.attr({d:d,visibility:u?"visible":"hidden"}),e.labelGroup.attr({visibility:u?"visible":"hidden"}),l(e.categoriesTree,"categories",function(t){var i=t.tick;return!!i&&(i.startAt+i.leaves-1<e.min||i.startAt>e.max?(i.label.hide(),i.destroyed=0):i.label.attr({visibility:u?"visible":"hidden"}),!0)}),!0},m.setCategories=function(t,e){this.categories&&this.cleanGroups(),this.setupGroups({categories:t}),this.categories=this.userOptions.categories=t,x.call(this,this.categories,e)},m.cleanGroups=function(){var t,e=this.ticks;for(t in e)e[t].parent&&delete e[t].parent;l(this.categoriesTree,"categories",function(t){var e=t.tick;return!!e&&(e.label.destroy(),f(e,function(t,i){delete e[i]}),delete t.tick,!0)}),this.labelsGrid=null},m.groupSize=function(t,e){var i=this.labelsSizes,r=this.directionFactor,o=!!this.options.labels.groupedOptions&&this.options.labels.groupedOptions[t-1],a=0;return o&&(a=-1===r?o.x?o.x:0:o.y?o.y:0),void 0!==e&&(i[t]=h(i[t]||0,e+10+Math.abs(a))),!0===t?n(i)*r:i[t]?i[t]*r:0},v.addLabel=function(){var t;return w.call(this),!(!this.axis.categories||!(t=this.axis.categories[this.pos]))&&(this.label&&this.label.attr("text",this.axis.labelFormatter.call({axis:this.axis,chart:this.axis.chart,isFirst:this.isFirst,isLast:this.isLast,value:t.name})),this.axis.isGrouped&&this.axis.options.labels.enabled&&this.addGroupedLabels(t),!0)},v.addGroupedLabels=function(t){for(var e,i=this,n=this.axis,r=n.chart,o=n.options.labels,a=o.useHTML,s=o.style,l=o.groupedOptions,u={align:"center",rotation:o.rotation,x:0,y:0},c=n.horiz?"height":"width",h=0;i;){if(h>0&&!t.tick){this.value=t.name;var d=o.formatter?o.formatter.call(this,t):t.name,f=l&&l[h-1],g=f?p(u,l[h-1]):u,m=f&&l[h-1].style?p(s,l[h-1].style):s;delete g.style,e=r.renderer.text(d,0,0,a).attr(g).css(m).add(n.labelGroup),i.startAt=this.pos,i.childCount=t.categories.length,i.leaves=t.leaves,i.visible=this.childCount,i.label=e,i.labelOffsets={x:g.x,y:g.y},t.tick=i}i&&n.groupSize(h,i.label.getBBox()[c]),t=t.parent,i=t?i.parent=t.tick||{}:null,h++}},v.render=function(t,e,i){S.call(this,t,e,i);var n=this.axis.categories[this.pos];if(this.axis.isGrouped&&n&&!(this.pos>this.axis.max)){var r,o,l,u,p,d,f=this,m=f,v=f.axis,y=f.pos,b=f.isFirst,x=v.max,_=v.min,w=v.horiz,C=v.labelsGridPath,k=v.groupSize(0),A=v.tickWidth,T=s(f,y),M=w?T.y:T.x,E=v.chart.renderer.fontMetrics(v.options.labels.style?v.options.labels.style.fontSize:0).b,P=1,O=w&&T.x===v.pos+v.len||!w&&T.y===v.pos?-1:0;for(b&&(r=w?[v.left,T.y,v.left,T.y+v.groupSize(!0)]:v.isXAxis?[T.x,v.top,T.x+v.groupSize(!0),v.top]:[T.x,v.top+v.len,T.x+v.groupSize(!0),v.top+v.len],a(C,r,A)),w&&v.left<T.x?a(C,[T.x-O,T.y,T.x-O,T.y+k],A):!w&&v.top<=T.y&&a(C,[T.x,T.y+O,T.x+k,T.y+O],A),k=M+k;m.parent;){m=m.parent;var I=function(t){var e=0;return b?(e=g(t.name,t.parent.categories),e=e<0?0:e):e}(n),L=m.labelOffsets.x,R=m.labelOffsets.y;l=s(f,h(m.startAt-1,_-1)),u=s(f,c(m.startAt+m.leaves-1-I,x)),d=m.label.getBBox(!0),o=v.groupSize(P),O=w&&u.x===v.pos+v.len||!w&&u.y===v.pos?-1:0,p=w?{x:(l.x+u.x)/2+L,y:k+v.groupFontHeights[P]+o/2+R/2}:{x:k+o/2+L,y:(l.y+u.y-d.height)/2+E+R},isNaN(p.x)||isNaN(p.y)||(m.label.attr(p),C&&(w&&v.left<u.x?a(C,[u.x-O,k,u.x-O,k+o],A):!w&&v.top<=u.y&&a(C,[k,u.y+O,k+o,u.y+O],A))),k+=o,P++}}},v.destroy=function(){for(var t=this.parent;t;)t.destroyed=t.destroyed?t.destroyed+1:1,t=t.parent;C.call(this)},v.getLabelSize=function(){if(!0===this.axis.isGrouped){var t=_.call(this)+10;return this.axis.labelsSizes[0]<t&&(this.axis.labelsSizes[0]=t),n(this.axis.labelsSizes)}return _.call(this)}})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}])})},Q6Nf:function(t,e,i){var n=i("ydD5");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},R3AP:function(t,e,i){var n=i("OzIq"),r=i("2p1q"),o=i("WBcL"),a=i("ulTY")("src"),s="toString",l=Function[s],u=(""+l).split(s);i("7gX0").inspectSource=function(t){return l.call(t)},(t.exports=function(t,e,i,s){var l="function"==typeof i;l&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(l&&(o(i,a)||r(i,a,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||l.call(this)})},RhFG:function(t,e,i){var n=i("kkCw")("unscopables"),r=Array.prototype;void 0==r[n]&&i("2p1q")(r,n,{}),t.exports=function(t){r[n][t]=!0}},"UKM+":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},VWgF:function(t,e,i){var n=i("OzIq"),r="__core-js_shared__",o=n[r]||(n[r]={});t.exports=function(t){return o[t]||(o[t]={})}},WBcL:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},XSOZ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},XyMi:function(t,e,i){"use strict";function n(t,e,i,n,r,o,a,s){t=t||{};var l=typeof t.default;"object"!==l&&"function"!==l||(t=t.default);var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId=o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var h=c.render;c.render=function(t,e){return u.call(e),h(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}e["a"]=n},bUqO:function(t,e,i){t.exports=!i("zgIt")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},fU25:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},gbyG:function(t,e,i){"use strict";var n=i("Ds5P"),r=i("ot5s")(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i("RhFG")("includes")},jhxf:function(t,e,i){var n=i("UKM+"),r=i("OzIq").document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},kkCw:function(t,e,i){var n=i("VWgF")("wks"),r=i("ulTY"),o=i("OzIq").Symbol,a="function"==typeof o,s=t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=n},kqpo:function(t,e,i){var n=i("u0PK"),r=i("/whu");t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},lDLk:function(t,e,i){var n=i("DIVP"),r=i("xZa+"),o=i("s4j0"),a=Object.defineProperty;e.f=i("bUqO")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},oeih:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},ot5s:function(t,e,i){var n=i("PHqh"),r=i("BbyF"),o=i("zo/l");t.exports=function(t){return function(e,i,a){var s,l=n(e),u=r(l.length),c=o(a,u);if(t&&i!=i){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},rFzY:function(t,e,i){var n=i("XSOZ");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},s4j0:function(t,e,i){var n=i("UKM+");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},u0PK:function(t,e,i){var n=i("UKM+"),r=i("ydD5"),o=i("kkCw")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"uGK+":function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=88)}([function(t,e){var i=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(39)("wks"),r=i(26),o=i(2).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){"use strict";var n=i(6),r=n.extend("Feature",{next:null,detached:null,cursor:null,currentHoverCell:null,setNext:function(t){this.next?this.next.setNext(t):(this.next=t,this.detached=t)},detachChain:function(){this.next=null},attachChain:function(){this.next=this.detached},handleMouseMove:function(t,e){this.next&&this.next.handleMouseMove(t,e)},handleMouseExit:function(t,e){this.next&&this.next.handleMouseExit(t,e)},handleMouseEnter:function(t,e){this.next&&this.next.handleMouseEnter(t,e)},handleMouseDown:function(t,e){this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){this.next&&this.next.handleMouseUp(t,e)},handleKeyDown:function(t,e){if(!this.next)return!0;this.next.handleKeyDown(t,e)},handleKeyUp:function(t,e){this.next&&this.next.handleKeyUp(t,e)},handleWheelMoved:function(t,e){this.next&&this.next.handleWheelMoved(t,e)},handleDoubleClick:function(t,e){this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){this.next&&this.next.handleClick(t,e)},handleMouseDrag:function(t,e){this.next&&this.next.handleMouseDrag(t,e)},handleContextMenu:function(t,e){this.next&&this.next.handleContextMenu(t,e)},moveSingleSelect:function(t,e,i){this.next&&this.next.moveSingleSelect(t,e,i)},isFixedRow:function(t,e){return this.deprecated("isFixedRow","isFixedRow(grid, event) has been deprecated as of v1.2.0 in favor of event.isRowFixed. (Will be removed in a future version.)"),e.isRowFixed},isFirstFixedRow:function(t,e){return e.gridCell.y<1},isFixedColumn:function(t,e){return this.deprecated("isFixedColumn","isFixedColumn(grid, event) has been deprecated as of v1.2.0 in favor of event.isColumnFixed. (Will be removed in a future version.)"),e.isColumnFixed},isFirstFixedColumn:function(t,e){return 0===e.gridCell.x},isTopLeft:function(t,e){return this.deprecated("isTopLeft","isTopLeft(grid, event) has been deprecated as of v1.2.0 in favor of event.isCellFixed. (Will be removed in a future version.)"),e.isCellFixed},setCursor:function(t){this.next&&this.next.setCursor(t),this.cursor&&t.beCursor(this.cursor)},initializeOn:function(t){this.next&&this.next.initializeOn(t)}});t.exports=r},function(t,e,i){var n=i(2),r=i(0),o=i(19),a=i(9),s=i(12),l=function(t,e,i){var u,c,h,p=t&l.F,d=t&l.G,f=t&l.S,g=t&l.P,m=t&l.B,v=t&l.W,y=d?r:r[e]||(r[e]={}),b=y.prototype,x=d?n:f?n[e]:(n[e]||{}).prototype;for(u in d&&(i=e),i)(c=!p&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:i[u],y[u]=d&&"function"!=typeof x[u]?i[u]:m&&c?o(h,n):v&&x[u]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var n=i(10);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){"use strict";var n=i(76).Base;n.prototype.deprecated=i(30),n.prototype.HypergridError=i(49),n.prototype.notify=function(t,e){switch(e){case"warn":console.warn(t);break;case"alert":alert(t);break;default:throw new this.HypergridError(t)}},n.prototype.unwrap=function(t){return"f"===(typeof t)[0]&&(t=t()),t},n.prototype.mixIn=i(31).mixIn,n.prototype.createApply=function(t,e,i){var n=Array.prototype.slice.call(arguments,2),r=[null].concat(n).concat(e);return new(t.bind.apply(t,r))},t.exports=n},function(t,e,i){"use strict";var n=i(6),r=n.extend("CellRenderer",{paint:function(t,e){},roundRect:function(t,e,i,n,r,o,a,s){s||(s=!0),o||(o=5),t.beginPath(),t.moveTo(e+o,i),t.lineTo(e+n-o,i),t.quadraticCurveTo(e+n,i,e+n,i+o),t.lineTo(e+n,i+r-o),t.quadraticCurveTo(e+n,i+r,e+n-o,i+r),t.lineTo(e+o,i+r),t.quadraticCurveTo(e,i+r,e,i+r-o),t.lineTo(e,i+o),t.quadraticCurveTo(e,i,e+o,i),t.closePath(),s&&t.stroke(),a&&t.fill(),t.closePath()}});r.abstract=!0,t.exports=r},function(t,e,i){var n=i(5),r=i(57),o=i(35),a=Object.defineProperty;e.f=i(11)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(8),r=i(20);t.exports=i(11)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){"use strict";function n(t,e){Object.defineProperty(this,t,{value:e,writable:!1,enumerable:!0,configurable:!1})}function r(t,e){n.call(this,"x",Number(t)||0),n.call(this,"y",Number(e)||0)}function o(t,e,i,o){t=Number(t)||0,e=Number(e)||0,i=Number(i)||0,o=Number(o)||0,i<0&&(t+=i,i=-i),o<0&&(e+=o,o=-o),n.call(this,"origin",new r(t,e)),n.call(this,"extent",new r(i,o)),n.call(this,"corner",new r(t+i,e+o)),n.call(this,"center",new r(t+i/2,e+o/2))}r.prototype={plus:function(t){return new r(this.x+t.x,this.y+t.y)},plusXY:function(t,e){return new r(this.x+(t||0),this.y+(e||0))},minus:function(t){return new r(this.x-t.x,this.y-t.y)},min:function(t){return new r(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new r(Math.max(this.x,t.x),Math.max(this.y,t.y))},distance:function(t){var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){var e=!1;return t&&(e=this.x===t.x&&this.y===t.y),e},greaterThan:function(t){return this.x>t.x&&this.y>t.y},lessThan:function(t){return this.x<t.x&&this.y<t.y},greaterThanOrEqualTo:function(t){return this.x>=t.x&&this.y>=t.y},lessThanOrEqualTo:function(t){return this.x<=t.x&&this.y<=t.y},within:function(t){var e=t.origin.x,i=e+t.extent.x,n=t.origin.y,r=n+t.extent.y;return t.extent.x<0&&(e=i,i=t.origin.x),t.extent.y<0&&(n=r,r=t.origin.y),e<=this.x&&this.x<i&&n<=this.y&&this.y<r}},r.prototype.EQ=r.prototype.equals,r.prototype.GT=r.prototype.greaterThan,r.prototype.LT=r.prototype.lessThan,r.prototype.GE=r.prototype.greaterThanOrEqualTo,r.prototype.LE=r.prototype.lessThanOrEqualTo,o.prototype={get top(){return this.origin.y},get left(){return this.origin.x},get bottom(){return this.corner.y},get right(){return this.corner.x},get width(){return this.extent.x},get height(){return this.extent.y},get area(){return this.width*this.height},flattenXAt:function(t){return new o(t,this.origin.y,0,this.extent.y)},flattenYAt:function(t){return new o(this.origin.x,t,this.extent.x,0)},contains:function(t){return t.within(this)},within:function(t){return t.origin.lessThanOrEqualTo(this.origin)&&t.corner.greaterThanOrEqualTo(this.corner)},growBy:function(t){return new o(this.origin.x+t,this.origin.y+t,this.extent.x-t-t,this.extent.y-t-t)},shrinkBy:function(t){return this.growBy(-t)},union:function(t){var e=this.origin.min(t.origin),i=this.corner.max(t.corner),n=i.minus(e);return new o(e.x,e.y,n.x,n.y)},forEach:function(t,e){e=e||this;for(var i=this.origin.x,n=this.corner.x;i<n;i++)for(var r=this.origin.y,o=this.corner.y;r<o;r++)t.call(e,i,r)},intersect:function(t,e,i){var n=null,r=this.origin.max(t.origin),a=this.corner.min(t.corner),s=a.minus(r);return s.x>0&&s.y>0?n=new o(r.x,r.y,s.x,s.y):"function"==typeof e&&(n=e.call(i||this,t)),n},intersects:function(t){return t.corner.x>this.origin.x&&t.corner.y>this.origin.y&&t.origin.x<this.corner.x&&t.origin.y<this.corner.y}},e.Point=r,e.Rectangle=o},function(t,e,i){"use strict";function n(){}function r(t){return t+"px"}var o=i(187),a=i(6),s=i(188),l=i(52),u=a.extend("CellEditor",{initialize:function(t,e){for(var i in e)this[i]=e[i];this.event=e;var n=t.behavior.getValue(this.event);n instanceof Array&&(n=n[1]),this.grid=t,this.grid.cellEditor=this,this.locale=t.localization.locale,e.format&&(this.localizer=this.grid.localization.get(e.format)),this.initialValue=n;var r=document.createElement("DIV");r.innerHTML=o.render(this.template,this),this.el=r.firstChild,this.input=this.el,this.errors=0;var a=this;this.el.addEventListener("keyup",this.keyup.bind(this)),this.el.addEventListener("keydown",function(e){9===e.keyCode&&e.preventDefault(),t.fireSyntheticEditorKeyDownEvent(a,e)}),this.el.addEventListener("keypress",function(e){t.fireSyntheticEditorKeyPressEvent(a,e)}),this.el.addEventListener("mousedown",function(t){a.onmousedown(t)})},onmousedown:function(t){t.stopPropagation()},localizer:l.prototype.null,specialKeyups:{9:"stopEditing",13:"stopEditing",27:"cancelEditing"},keyup:function(t){var e,i,n=this.grid,r=this.event.properties,o=r.feedbackCount,a=n.canvas.getKeyChar(t);if((e=this.specialKeyups[t.keyCode])&&(i=this[e](o))&&n.repaint(),r.mappedNavKey(a,t.ctrlKey)&&(!e&&(i=this.stopEditing(o))&&n.repaint(),i)){var s=n.canvas.newEvent(t,"fin-editor-keydown",{alt:t.altKey,ctrl:t.ctrlKey,char:a,code:t.charCode,key:t.keyCode,meta:t.metaKey,shift:t.shiftKey,identifier:t.key,editor:this});n.delegateKeyDown(s)}return this.grid.fireSyntheticEditorKeyUpEvent(this,t),i},checkEditorPositionFlag:!1,gridRenderedNotification:function(){this.checkEditor()},scrollValueChangedNotification:function(){this.checkEditorPositionFlag=!0},moveEditor:function(){this.setBounds(this.event.bounds)},beginEditing:function(){this.grid.fireRequestCellEdit(this.event,this.initialValue)&&(this.checkEditorPositionFlag=!0,this.checkEditor())},beginEditAt:function(t,e){return this.deprecated("beginEditAt(point)","beginEditing()","1.0.6")},setEditorValue:function(t){this.input.value=this.localizer.format(t)},showEditor:function(){this.el.style.display="inline"},hideEditor:function(){this.el.style.display="none"},stopEditing:function(t){var e=this.validateEditorValue();if(!e)try{var i=this.getEditorValue()}catch(t){e=t}if(!e&&this.grid.fireSyntheticEditorDataChangeEvent(this,this.initialValue,i))try{this.saveEditorValue(i)}catch(t){e=t}return e?t>=0?this.errorEffectBegin(++this.errors%t==0&&e):this.cancelEditing():(this.hideEditor(),this.grid.cellEditor=null,this.el.remove()),!e},cancelEditing:function(){return this.setEditorValue(this.initialValue),this.hideEditor(),this.grid.cellEditor=null,this.el.remove(),!0},errorEffectBegin:function(t){var e=this.grid.properties.feedbackEffect,i=Object.assign({},e.options),n=s[e.name||e];t&&(i.callback=this.errorEffectEnd.bind(this,t)),n&&n.call(this,i)},errorEffectEnd:function(t,e){if(t){var i='Invalid value. To resolve, do one of the following:\n\n   * Correct the error and try again.\n         - or -\n   * Cancel editing by pressing the "esc" (escape) key.';t=t.message||t,"string"!=typeof t&&(t=""),this.localizer.expectation&&(t=t?t+"\n"+this.localizer.expectation:this.localizer.expectation),t&&(/[\n\r]/.test(t)&&(t="\n"+t,t=t.replace(/[\n\r]+/g,"\n\n   * ")),i+="\n\nAdditional information about this error: "+t),setTimeout(function(){alert(i)})}},saveEditorValue:function(t){var e=!(t&&t===this.initialValue)&&this.grid.fireBeforeCellEdit(this.event.gridCell,this.initialValue,t,this);return e&&(this.grid.behavior.setValue(this.event,t),this.grid.fireAfterCellEdit(this.event.gridCell,this.initialValue,t,this)),e},getEditorValue:function(){return this.localizer.parse(this.input.value)},validateEditorValue:function(){return this.localizer.invalid&&this.localizer.invalid(this.input.value)},takeFocus:function(){var t=this.el,e=t.style.left,i=t.style.top;t.style.left=t.style.top=0;var n=window.scrollX,r=window.scrollY;this.input.focus(),window.scrollTo(n,r),this.selectAll(),t.style.left=e,t.style.top=i},selectAll:n,setBounds:function(t){var e=this.el.style;e.left=r(t.x),e.top=r(t.y),e.width=r(t.width),e.height=r(t.height)},checkEditor:function(){this.checkEditorPositionFlag&&(this.checkEditorPositionFlag=!1,this.event.isCellVisible?(this.setEditorValue(this.initialValue),this.attachEditor(),this.moveEditor(),this.showEditor(),this.takeFocus()):this.hideEditor())},attachEditor:function(){this.grid.div.appendChild(this.el)},template:""});u.abstract=!0,t.exports=u},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports={}},function(t,e,i){var n=i(60),r=i(33);t.exports=function(t){return n(r(t))}},function(t,e,i){"use strict";var n=i(91)(!0);i(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var n=i(25);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(59),r=i(40);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){var n=i(33);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){var n=i(8).f,r=i(12),o=i(1)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){i(96);for(var n=i(2),r=i(9),o=i(16),a=i(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";function n(t){return t.match(/^\w+\((.*)\)$/)[1].match(/(\w+)/g)}console.warn||(console.warn=function(){console.log.apply(console,["WARNING:"].concat(Array.prototype.slice.call(arguments)))});var r=/^\w+\(.*\)$/,o=function(t,e,i,a,s){function l(t){var e=m.indexOf(t);if(-1===e)throw'Actual arg "'+t+'" not found in formal arg list '+m;return a[e]}"string"==typeof a&&(s=a,a=void 0);var u,c,h=e.split("."),p=this.$$DEPRECATION_WARNED=this.$$DEPRECATION_WARNED||{},d=this,f=e.indexOf(" ")>=0,g=r.test(t);if(t in p||(p[t]=o.warnings),!g){if(f)return void(p[t]&&(--p[t],console.warn(e)));throw"Expected method name with parentheses in 1st parameter OR simple warning (containing one or more spaces) in 2nd parameter of deprecated() call."}if(f)throw"Expected replacement method or property in 2nd parameter of deprecated() call.";p[t]&&(--p[t],u=r.test(e)?"method":"property",c="The ."+t+" method is deprecated as of v"+i+" in favor of the ."+h.join(".")+" "+u+". (Will be removed in a future release.)",s&&(c+=" "+s),console.warn(c));for(var m=n(t),v=0,y=h.length-1;v<=y;++v){var b=h[v],x=b.match(/\w+/)[0],_=r.test(b),w=_?n(b):void 0,C=[];w?(C=w.map(l),d=d[x].apply(d,C)):d=_?d[x]():d[x]}return d};o.warnings=1,t.exports=o},function(t,e,i){"use strict";function n(t,e){for(var i=1;i<arguments.length;++i)o.call(t,arguments[i]);return t}function r(t){var e;for(var i in this)(e=Object.getOwnPropertyDescriptor(this,i))&&Object.defineProperty(t,i,e);return t}function o(t){var e;for(var i in t)(e=Object.getOwnPropertyDescriptor(t,i))&&Object.defineProperty(this,i,e);return this}n.mixInTo=r,n.mixIn=o,t.exports=n},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(10),r=i(2).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(10);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var n=i(5),r=i(93),o=i(40),a=i(38)("IE_PROTO"),s=function(){},l=function(){var t,e=i(34)("iframe"),n=o.length;for(e.style.display="none",i(61).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(32),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(39)("keys"),r=i(26);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(2),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(22),r=i(1)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(41),r=i(1)("iterator"),o=i(16);t.exports=i(0).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=r(e),this.reject=r(i)}var r=i(25);t.exports.f=function(t){return new n(t)}},function(t,e,i){e.f=i(1)},function(t,e,i){var n=i(2),r=i(0),o=i(24),a=i(44),s=i(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(4),r=i(0),o=i(15);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e,i){"use strict";function n(t){return t instanceof n?t:this instanceof n?(this.originalValue=t,void(this.o=t||{})):new n(t)}n.chain=function(t){var e=n(t);return e.chaining=!0,e},n.prototype={value:function(){return this.originalValue},each:function(t,e){var i=this.o;return Object.keys(i).forEach(function(e){t.call(this,i[e],e,i)},e||i),this},find:function(t,e){var i,n=this.o;return n&&void 0!==(i=Object.keys(n).find(function(e){return t.call(this,n[e],e,n)},e||n))&&(i=n[i]),i},filter:function(t,e){var i=this.o,n=[];return i&&Object.keys(i).forEach(function(e){t.call(this,i[e],e,i)&&n.push(i[e])},e||i),n},map:function(t,e){var i=this.o,n=[];return i&&Object.keys(i).forEach(function(e){n.push(t.call(this,i[e],e,i))},e||i),n},reduce:function(t,e,i){var n=this.o;return n&&Object.keys(n).forEach(function(i,r){e=r||void 0!==e?t(e,n[i],i,n):n[i]},i||n),e},extend:function(t){var e=this.o;return Array.prototype.slice.call(arguments).forEach(function(t){if(t)for(var i in t)e[i]=t[i]}),this.chaining?this:e},extendOwn:function(t){var e=this.o;return Array.prototype.slice.call(arguments).forEach(function(t){n(t).each(function(t,i){e[i]=t})}),this.chaining?this:e}},Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(e=i[o],t.call(r,e,o,i))return e}),t.exports=n},function(t,e,i){"use strict";function n(t){this.message=t}n.prototype=Object.create(Error.prototype),n.prototype.name="HypergridError",t.exports=n},function(t,e,i){"use strict";var n=i(48),r=i(165);n(r).each(function(t,e){var i=new Image;i.src="data:"+t.type+";base64,"+t.data,r[e]=i}),r["checkbox-on"]=r.checked,r["checkbox-off"]=r.unchecked,r.add=function(t,e){return r[t]=e},r.checkbox=function(t){return r[t?"checked":"unchecked"]},r.filter=function(t){return r[t?"filter-on":"filter-off"]},t.exports=r},function(t,e,i){"use strict";function n(t){var e,i,n,r=this.grid.properties,o=this.visibleRows,a=o.length;if(t){n=this.cellEventPool;var s=0;this.visibleColumns.forEachWithNeg(function(t){for(i=0;i<a;i++,s++)e=o[i],n[s].reset(t,e)})}var l,u,c=[],h=r.backgroundColor;this.visibleColumns.forEachWithNeg(function(t){u=t.column.properties.backgroundColor,l&&l.backgroundColor===u?l.right=t.right:u===h?l=void 0:(l={backgroundColor:u,left:t.left,right:t.right},c.push(l))}),this.columnBundles=c}t.exports=n},function(t,e,i){"use strict";function n(t){var e=this.map.indexOf(t)%11;return e<0?"":e<10?e:"."}function r(t){return this.localizedDigits[t]}function o(t){var e=this.localizedDigits.indexOf(t);return e<0&&(e=""),e}function a(t,e,i){this.locale=t,this.int=this.float=this.construct("number",c,e),this.construct("date",h,i)}var s=i(6),l=i(30),u=s.extend({initialize:function(t,e,i){"object"==typeof e&&(i=e,e=t),this.locale=e,i&&("function"==typeof i.invalid&&(this.invalid=i.invalid),i.expectation&&(this.expectation=i.expectation))}});window.Intl||(window.Intl={NumberFormat:function(t,e){var i="0123456789";this.format=function(t){var n=t.toString();if(!e||void 0===e.useGrouping||e.useGrouping){var r=n.indexOf(".");for(r<0&&(r=n.length);(r-=3)>0&&i.indexOf(n[r-1])>=0;)n=n.substr(0,r)+","+n.substr(r)}return n}},DateTimeFormat:function(t,e){this.format=function(t){return null!=t?("object"!=typeof t&&(t=new Date(t)),t=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear()):t=null,t}}});var c=u.extend("NumberFormatter",{initialize:function(t,e,i){"object"==typeof e&&(i=e),i=i||{},this.format=new Intl.NumberFormat(this.locale,i).format;var r={useGrouping:!1},o=new Intl.NumberFormat(this.locale,r).format;this.demapper=n.bind(this),this.map=o(10123456789.5).substr(1,11),i.acceptStandardDigits&&"0123456789."!==this.map&&(this.map+="0123456789."),this.invalids=new RegExp("[^"+this.format(11111).replace(this.map[1],"")+this.map+"]")},invalid:function(t){return this.invalids.test(t)},expectation:"Expected a number with optional commas (thousands grouping separator), optional decimal point, and an optional fractional part.\nComma separators are part of the format and will always be displayed for values >= 1000.\nEdited values are always saved in their entirety even though the formatted value is rounded to the specified number of decimal places.",parse:function(t){var e=Number(t.split("").map(this.demapper).join(""));if(isNaN(e))throw"Invalid Number";return e}}),h=u.extend("DateFormatter",{initialize:function(t,e,i){"object"==typeof e&&(i=e),i=i||{},this.format=new Intl.DateTimeFormat(this.locale,i).format;var n={useGrouping:!1,style:"decimal"},a=new Intl.NumberFormat(this.locale,n).format,s=this.localizedDigits=a(10123456789).substr(1,10);this.digitFormatter=r.bind(this),this.digitParser=o.bind(this);var l=this.transformNumber(this.digitFormatter,1987),u=this.transformNumber(this.digitFormatter,12),c=this.transformNumber(this.digitFormatter,30),h=new Date(1987,11,30),p=new Intl.DateTimeFormat(this.locale).format,d=p(h),f=new Intl.NumberFormat(this.locale).format(456),g=this.localizedNumberPattern=new RegExp("["+s+"]+","g"),m=d.match(g);this.partsMap={yy:m.indexOf(l),mm:m.indexOf(u),dd:m.indexOf(c)},i.acceptStandardDigits&&(f+="1234567890"),this.invalids=new RegExp("[^"+d.replace(/-/g,"\\-")+f+"]")},invalid:function(t){return this.invalids.test(t)},parse:function(t){var e=t.match(this.localizedNumberPattern);if(!e||3!==e.length)throw"Invalid Date";var i=this.transformNumber(this.digitParser,e[this.partsMap.yy]),n=this.transformNumber(this.digitParser,e[this.partsMap.mm])-1,r=this.transformNumber(this.digitParser,e[this.partsMap.dd]);return new Date(i,n,r)},transformNumber:function(t,e){return e.toString().split("").map(t).join("")}});a.prototype={constructor:a.prototype.constructor,$$CLASS_NAME:"Localization",deprecated:l,construct:function(t,e,i){var n=t[0].toUpperCase()+t.substr(1).toLowerCase()+"Formatter",r=e.bind(null,this.locale),o=new r(i);return this[n]=r,this.add(t,o)},add:function(t,e){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e||"function"!=typeof e.format||"function"!=typeof e.parse||e.invalid&&"function"!=typeof e.invalid||e.expectation&&"string"!=typeof e.expectation)throw"Expected localizer object to conform to interface.";return t=t||e.name,t=t&&t.toLowerCase(),this[t]=e,e},set:function(t){return this.deprecated("set(name, localizer)","add(name, localizer)","1.0.6",arguments)},get:function(t){return this[t&&t.toLowerCase()]||this.string},chromeDate:{format:function(t){if(null!=t){"object"!=typeof t&&(t=new Date(t));var e=t.getFullYear(),i=t.getMonth()+1,n=i<10?"0"+i:i,r=t.getDate();t=e+"-"+n+"-"+(r<10?"0"+r:r)}else t=null;return t},parse:function(t){var e=t.split("-");return e&&3===e.length?new Date(e[0],e[1]-1,e[2]):null}},null:{format:function(t){return t},parse:function(t){return t}},string:{format:function(t){return t+""},parse:function(t){return t+""}}},t.exports=a},function(t,e,i){"use strict";var n=i(13).Point,r=i(6),o=i(82),a=i(176),s=["columnHeader","columnHeaderColumnSelection","filterProperties","rowHeader","rowHeaderRowSelection","rowNumbersProperties","treeColumnProperties","treeColumnPropertiesColumnSelection"],l=r.extend("Behavior",{initialize:function(t,e){this.grid=t,this.initializeFeatureChain(t),this.grid.behavior=this,this.reset(e)},initializeFeatureChain:function(t){var e=this;this.featureMap={},this.features.forEach(function(t){var i=new t;e.featureMap[i.$$CLASS_NAME]=i,e.featureChain?e.featureChain.setNext(i):e.featureChain=i}),this.featureChain&&this.featureChain.initializeOn(t)},features:[],reset:function(t){this.dataModel?(t=t||{},this.dataModel.reset({pipeline:t.pipeline,controllers:t.controllers})):(this.dataModel=this.getNewDataModel(t),this.CellEvent=a(this.grid)),this.scrollPositionX=this.scrollPositionY=0,this.clearColumns(),this.createColumns(),this.subgrids=t.subgrids||this.subgrids||this.grid.properties.subgrids},get renderedColumnCount(){return this.grid.renderer.visibleColumns.length},get renderedRowCount(){return this.grid.renderer.visibleRows.length},get treeColumnIndex(){return-1},get rowColumnIndex(){return-2},get leftMostColIndex(){return this.grid.properties.showRowNumbers?this.rowColumnIndex:this.hasTreeColumn()?this.treeColumnIndex:0},clearColumns:function(){var t=this.treeColumnIndex,e=this.rowColumnIndex;this.columns=[],this.allColumns=[],this.allColumns[t]=this.columns[t]=this.newColumn({index:t,header:this.dataModel.schema[t].header}),this.allColumns[e]=this.columns[e]=this.newColumn({index:e,header:this.dataModel.schema[e].header})},getActiveColumn:function(t){return this.columns[t]},getActiveColumnIndex:function(t){for(var e=t instanceof o?t.index:t,i=0;i<this.columns.length;++i)if(this.columns[i].index===e)return i},getVisibleColumn:function(){return this.deprecated("getVisibleColumn(x)","getActiveColumn(x)","1.0.6",arguments)},getVisibleColumnName:function(){return this.deprecated("getVisibleColumnName(x)","getActiveColumn(x).name","1.0.6",arguments)},getColumnId:function(){return this.deprecated("getColumnId(x)","getActiveColumn(x).header","1.0.6",arguments)},getHeader:function(){return this.deprecated("getHeader(x)","getActiveColumn(x).header","1.0.6",arguments)},getColumn:function(t){return this.allColumns[t]},newColumn:function(t){return new o(this,t)},addColumn:function(t){var e=this.newColumn(t);return this.columns.push(e),this.allColumns.push(e),e},createColumns:function(){this.clearColumns(),this.clearAllCellProperties()},getColumnWidth:function(t){var e=this.getActiveColumn(t);return e?e.getWidth():this.grid.properties.defaultColumnWidth},setColumnWidth:function(t,e){(t>=-2?this.getActiveColumn(t):t).setWidth(e),this.stateChanged()},getCellProvider:function(t){return this.deprecated("getCellProvider()","grid.cellRenderers","1.0.6",arguments)},createCellProvider:function(t){console.error("getCellProvider() is deprecated as of v1.0.6. No replacement; do not call. Previously called by `Behavior` constructor; `new CellRenderers()` is now called by `Hypergrid` constructor instead.",arguments)},reindex:function(){this.dataModel.reindex(),this.shapeChanged()},clearObjectProperties:function(t,e){for(var i in t)t.hasOwnProperty(i)&&(void 0===e||!e&&s.indexOf(i)>=0||e&&s.indexOf(i)<0)&&delete t[i]},getPrivateState:function(){return this.deprecated("getPrivateState()","grid.properties","1.2.0")},getState:function(){var t=JSON.parse(JSON.stringify(this.grid.properties));return this.clearObjectProperties(t.columnProperties,!1),t},clearState:function(){this.grid.clearState()},setState:function(t){t.rowHeights&&this.deprecated("rowHeights","rowHeights, the hash of row heights you provided to setState method, is no longer supported as of v1.2.0 and will be ignored. Instead, for each row height you wish to set, use `rows: { subgrid: { y: { height: heightInPixels } } }` substituting the name (or type) of the subgrid for `subgrid`, the local zero-based rowIndex within the subgrid for `y`, and the row height in pixels for `heightInPixels`; or make individual calls to `setRowHeight(y, heightInPixels, dataModel)`. The dataModel arg is optional and defaults to this.dataModel (the data subgrid); specify to set row heights in other data models, such as header row, filter cell row, individual summary rows, etc."),this.createColumns();var e=this.grid.properties;Object.keys(t).forEach(function(i){e[i]=t[i]},this),this.setAllColumnProperties(t.columnProperties),this.dataModel.reindex()},setAllColumnProperties:function(t){t&&t.forEach(function(t,e){this.getColumn(e).properties=t},this)},setColumnOrder:function(t){Array.isArray(t)&&(this.columns.length=t.length,t.forEach(function(t,e){this.columns[e]=this.allColumns[t]},this))},setColumnOrderByName:function(t){Array.isArray(t)&&(this.columns.length=t.length,t.forEach(function(t,e){this.columns[e]=this.allColumns.find(function(e){return e.name===t})},this))},_setColumnOrder:function(t){this.deprecated("_setColumnOrder(columnIndexes)","setColumnOrder(columnIndexes)","1.2.10",arguments)},setColumnIndexes:function(t,e){this.grid.properties.columnIndexes=t,e||this.grid.fireSyntheticOnColumnsChangedEvent()},showColumns:function(t,e,i,n){("number"==typeof t||Array.isArray(t))&&(n=i,i=e,e=t,t=!1);var r=this.columns,o=t?r:this.allColumns;"number"==typeof e&&(e=[e]);var a=e.map(function(t){return o[t]}).filter(function(t){return t});"number"!=typeof i&&(n=i,i=r.length),n||a.forEach(function(t){var e=r.indexOf(t);e>=0&&(r.splice(e,1),i>e&&--i)}),i>=0&&r.splice.apply(r,[i,0].concat(a)),this.grid.properties.columnIndexes=r.map(function(t){return t.index})},hideColumns:function(t,e){var i=Array.prototype.slice.call(arguments);i.push(-1),this.showColumns.apply(this,i)},resolveProperty:function(t){return this.grid.resolveProperty(t)},cellClicked:function(t){return 2===arguments.length?this.deprecated("cellClicked(cell, event)","cellClicked(event)","1.2.0",arguments):this.dataModel.cellClicked(t)},cellDoubleClicked:function(t,e){},lookupFeature:function(t){return this.featureMap[t]},getValue:function(t,e,i){return"object"!=typeof t&&(t=new this.CellEvent,i?t.resetDataXY(t,e,i):t.resetGridCY(t,e)),t.value},getRowCount:function(){return this.dataModel.getRowCount()},getUnfilteredValue:function(t,e){return this.deprecated("getUnfilteredValue()","","1.4.0",arguments,"No longer supported")},setValue:function(t,e,i,n){"object"==typeof t?i=e:(t=new this.CellEvent,n?t.resetDataXY(t,e,n):t.resetGridCY(t,e)),t.value=i},getDataValue:function(t,e){return this.deprecated("getDataValue(x, y)","dataModel.getValue(x, y)","1.1.0",arguments)},setDataValue:function(t,e,i){return this.deprecated("setDataValue(x, y, value)","dataModel.setValue(x, y, value)","1.1.0",arguments)},getCellOwnProperties:function(t,e,i){switch(arguments.length){case 1:return t.column.getCellOwnProperties(t.dataCell.y,t.visibleRow.subgrid);case 2:case 3:return this.getColumn(t).getCellOwnProperties(e,i)}},getCellProperties:function(t,e,i){switch(arguments.length){case 1:return t.properties;case 2:case 3:return this.getColumn(t).getCellProperties(e,i)}},getCellProperty:function(t,e,i,n){return"object"==typeof t?(i=e,t.properties[i]):this.getColumn(t).getCellProperty(e,i,n)},setCellProperties:function(t,e,i,n){"object"==typeof t?(i=e,t.column.setCellProperties(t.dataCell.y,i,t.visibleRow.subgrid)):this.getColumn(t).setCellProperties(e,i,n)},addCellProperties:function(t,e,i,n){"object"==typeof t?(i=e,t.column.addCellProperties(t.dataCell.y,i,t.visibleRow.subgrid)):this.getColumn(t).addCellProperties(e,i,n)},setCellProperty:function(t,e,i,n,r){var o;return"object"==typeof t?(n=i,i=e,o=t.setCellProperty(i,n)):(o=this.getColumn(t).setCellProperty(e,i,n,r),this.grid.renderer.resetCellPropertiesCache(t,e,r)),o},getUnfilteredRowCount:function(){return this.deprecated("getUnfilteredRowCount()","","1.2.0",arguments,"No longer supported")},getFixedRowsHeight:function(){for(var t,e,i,n,r=this.subgrids,o=0,a=0;a<r.length&&!e;++a)for(t=r[a],e=t.isData,n=e?this.grid.properties.fixedRowCount:t.getRowCount(),i=0;i<n;++i)o+=this.getRowHeight(i,t);return o},getRowHeight:function(t,e){var i=(e||this.dataModel).getRow(t);return i&&i.__ROW_HEIGHT||this.grid.properties.defaultRowHeight},getDefaultRowHeight:function(){return this.deprecated("getDefaultRowHeight()","grid.properties.defaultRowHeight","1.2.0")},setRowHeight:function(t,e,i){var n=(i||this.dataModel).getRow(t);n&&(n.__ROW_HEIGHT=Math.max(5,Math.ceil(e)),this.stateChanged())},getFixedColumnsWidth:function(){for(var t=this.getFixedColumnCount(),e=0,i=this.leftMostColIndex;i<t;i++)e+=this.getColumnWidth(i);return e},getFixedColumnsMaxWidth:function(){return this.getFixedColumnsWidth()},_setScrollPositionY:function(t){this.setScrollPositionY(t),this.changed()},_setScrollPositionX:function(t){this.setScrollPositionX(t),this.changed()},_fixedRowClicked:function(t,e){var i=this.translateColumnIndex(this.getScrollPositionX()+e.gridCell.x-this.getFixedColumnCount()),r=new n(i,e.gridCell.y);e.gridCell=r,this.fixedRowClicked(t,e)},_fixedColumnClicked:function(t,e){var i=new n(e.gridCell.x,this.getScrollPositionY()+e.gridCell.y-this.getFixedRowCount());e.gridCell=i,this.fixedColumnClicked(t,e)},setCursor:function(t){t.updateCursor(),this.featureChain.setCursor(t)},onMouseMove:function(t,e){this.featureChain&&(this.featureChain.handleMouseMove(t,e),this.setCursor(t))},onClick:function(t,e){this.featureChain&&(this.featureChain.handleClick(t,e),this.setCursor(t))},onContextMenu:function(t,e){this.featureChain&&(this.featureChain.handleContextMenu(t,e),this.setCursor(t))},onWheelMoved:function(t,e){this.featureChain&&(this.featureChain.handleWheelMoved(t,e),this.setCursor(t))},onMouseUp:function(t,e){this.featureChain&&(this.featureChain.handleMouseUp(t,e),this.setCursor(t))},onMouseDrag:function(t,e){this.featureChain&&(this.featureChain.handleMouseDrag(t,e),this.setCursor(t))},onKeyDown:function(t,e){this.featureChain&&(this.featureChain.handleKeyDown(t,e),this.setCursor(t))},onKeyUp:function(t,e){this.featureChain&&(this.featureChain.handleKeyUp(t,e),this.setCursor(t))},onDoubleClick:function(t,e){this.featureChain&&(this.featureChain.handleDoubleClick(t,e),this.setCursor(t))},handleMouseDown:function(t,e){this.featureChain&&(this.featureChain.handleMouseDown(t,e),this.setCursor(t))},handleMouseExit:function(t,e){this.featureChain&&(this.featureChain.handleMouseExit(t,e),this.setCursor(t))},changed:function(){this.grid.behaviorChanged()},shapeChanged:function(){this.grid.behaviorShapeChanged()},stateChanged:function(){this.grid.behaviorStateChanged()},isColumnReorderable:function(){return this.grid.properties.columnsReorderable},getColumnProperties:function(t){var e=this.getColumn(t);return e&&e.properties},setColumnProperties:function(t,e){var i=this.getColumn(t);if(!i)throw"Expected column.";var n=Object.assign(i.properties,e);return this.changed(),n},clearAllCellProperties:function(t){if(void 0!==t){var e=this.getColumn(t);e&&e.clearAllCellProperties()}else this.subgrids&&this.subgrids.forEach(function(t){for(var e=t.getRowCount();e--;)delete t.getRow(e).__META})},getHiddenColumnDescriptors:function(){for(var t=this.grid.properties,e=t.columnIndexes,i=[],n=this.getActiveColumnCount(),r=0;r<n;r++)if(-1===e.indexOf(r)){var o=this.getActiveColumn(r);i.push({id:r,header:o.header,field:o.name})}return i},getFixedColumnCount:function(){return this.grid.properties.fixedColumnCount},setFixedColumnCount:function(t){this.grid.properties.fixedColumnCount=t},getFixedRowCount:function(){return this.grid.getHeaderRowCount()+this.grid.properties.fixedRowCount},setFixedRowCount:function(t){this.grid.properties.fixedRowCount=t},endDragColumnNotification:function(){},getCursorAt:function(t,e){return null},getActiveColumnCount:function(){return this.columns.length},getColumnCount:function(){return this.deprecated("getColumnCount()","getActiveColumnCount()","1.0.6",arguments)},setScrollPositionX:function(t){this.scrollPositionX=t},getScrollPositionX:function(){return this.scrollPositionX},setScrollPositionY:function(t){this.scrollPositionY=t},getScrollPositionY:function(){return this.scrollPositionY},getCellEditorAt:function(t){return t.isDataColumn&&t.column.getCellEditorAt(t)},highlightCellOnHover:function(t,e){return t&&e},cellPropertiesPrePaintNotification:function(t){},cellFixedRowPrePaintNotification:function(t){},cellFixedColumnPrePaintNotification:function(t){},cellTopLeftPrePaintNotification:function(t){},swapColumns:function(t,e){var i=this.columns,n=i[t];i[t]=i[e],i[e]=n,this.changed()},getColumnEdge:function(t,e){return this.dataModel.getColumnEdge(t,e)},getRow:function(t){return this.dataModel.getRow(t)},convertViewPointToDataPoint:function(t){return new n(this.getActiveColumn(t.x).index,t.y)},hasTreeColumn:function(){return!1},getSelectionMatrixFunction:function(t){return function(){return null}},autosizeAllColumns:function(){this.checkColumnAutosizing(!0),this.changed()},checkColumnAutosizing:function(t){t=!0===t;var e=this.autoSizeRowNumberColumn()||this.hasTreeColumn()&&this.allColumns[this.rowColumnIndex].checkColumnAutosizing(t);return this.allColumns.forEach(function(i){e=i.checkColumnAutosizing(t)||e}),e},autoSizeRowNumberColumn:function(){if(this.grid.properties.showRowNumbers&&this.grid.properties.rowNumberAutosizing)return this.allColumns[this.rowColumnIndex].checkColumnAutosizing(!0)},getController:function(t){return this.dataModel.getController(t)},setController:function(t,e){var i=this.dataModel.setController(t,e);return this.changed(),i},prop:function(t,e,i,n){var r=this.dataModel.prop.apply(this.dataModel,arguments);return void 0===r&&this.changed(),r},get charMap(){return this.dataModel.charMap},getColumns:function(){return this.allColumns},getActiveColumns:function(){return this.columns},getHiddenColumns:function(){for(var t=this.columns,e=this.allColumns,i=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&i.push(e[n]);return i.sort(function(t,e){return t.header<e.header}),i},getSelectedRows:function(){return this.grid.selectionModel.getSelectedRows()},getSelectedColumns:function(){return this.grid.selectionModel.getSelectedColumns()},getSelections:function(){return this.grid.selectionModel.getSelections()},getData:function(){return this.dataModel.getData()},getFilteredData:function(){return this.deprecated("getIndexedData()","getIndexedData","1.2.0",arguments)},getIndexedData:function(){this.dataModel.getIndexedData()}});l.prototype.applyAnalytics=l.prototype.reindex,l.prototype.mixIn(i(178)),t.exports=l},function(t,e,i){t.exports={default:i(90),__esModule:!0}},function(t,e){},function(t,e,i){"use strict";var n=i(24),r=i(4),o=i(58),a=i(9),s=i(16),l=i(92),u=i(27),c=i(62),h=i(1)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,f,g,m,v){l(i,e,f);var y,b,x,_=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},w=e+" Iterator",C="values"==g,S=!1,k=t.prototype,A=k[h]||k["@@iterator"]||g&&k[g],T=A||_(g),M=g?C?_("entries"):T:void 0,E="Array"==e&&k.entries||A;if(E&&(x=c(E.call(new t)))!==Object.prototype&&x.next&&(u(x,w,!0),n||"function"==typeof x[h]||a(x,h,d)),C&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),n&&!v||!p&&!S&&k[h]||a(k,h,T),s[e]=T,s[w]=d,g)if(y={values:C?T:_("values"),keys:m?T:_("keys"),entries:M},v)for(b in y)b in k||o(k,b,y[b]);else r(r.P+r.F*(p||S),e,y);return y}},function(t,e,i){t.exports=!i(11)&&!i(15)(function(){return 7!=Object.defineProperty(i(34)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){t.exports=i(9)},function(t,e,i){var n=i(12),r=i(17),o=i(94)(!1),a=i(38)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=a&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(u,i)||u.push(i));return u}},function(t,e,i){var n=i(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(2).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(12),r=i(23),o=i(38)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(5);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(16),r=i(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){var n=i(5),r=i(25),o=i(1)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n,r,o,a=i(19),s=i(102),l=i(61),u=i(34),c=i(2),h=c.process,p=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},d=function(t){delete v[t]},"process"==i(22)(h)?n=function(t){h.nextTick(a(y,t,1))}:g&&g.now?n=function(t){g.now(a(y,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(5),r=i(10),o=i(43);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){var n=i(1)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){t.exports={default:i(112),__esModule:!0}},function(t,e,i){t.exports={default:i(114),__esModule:!0}},function(t,e,i){var n=i(17),r=i(73).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(n(t))}},function(t,e,i){var n=i(59),r=i(40).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){t.exports={default:i(134),__esModule:!0}},function(t,e,i){t.exports={default:i(141),__esModule:!0}},function(t,e,i){"use strict";function n(t,e){function i(){this.preInitialize&&this.preInitialize.apply(this,arguments),o.apply(this,arguments),this.postInitialize&&this.postInitialize.apply(this,arguments)}switch(arguments.length){case 0:e={};break;case 1:switch(typeof t){case"object":e=t,t=void 0;break;case"string":e={};break;default:throw"Single-parameter overload must be either string or object."}break;case 2:if("string"!=typeof t||"object"!=typeof e)throw"Two-parameter overload must be string, object.";break;default:throw"Too many parameters"}i.extend=n,i.getClassName=a,i.parent=s;var r,l,u=i.prototype=Object.create(this.prototype);for(r in u.constructor=i,(t=t||u.$$CLASS_NAME||u.name)&&(Object.defineProperty(i,"name",{value:t,configurable:!0}),u.$$CLASS_NAME=t),e)(l=Object.getOwnPropertyDescriptor(e,r))&&Object.defineProperty(u,r,l);return"function"==typeof this.postExtend&&this.postExtend(u),i}function r(){}function o(){function t(n){var r=Object.getPrototypeOf(n);r.constructor!==Object&&(t(r),r.hasOwnProperty("initialize")&&r.initialize.apply(e,i))}var e=this,i=arguments;t(e)}function a(){return this.prototype.$$CLASS_NAME||this.prototype.name||this.name}function s(t){var e=this.prototype;if(e)do{e=Object.getPrototypeOf(e)}while(t&&e&&e.constructor.name!==t);return e&&e.constructor}r.prototype={constructor:r.prototype.constructor,getClassName:function(){return this.$$CLASS_NAME||this.name||this.constructor.name},get super(){return Object.getPrototypeOf(Object.getPrototypeOf(this))},superMember:function(t){var e=this.super;do{e=Object.getPrototypeOf(e)}while(!e.hasOwnProperty(t));return e&&e[t]},superMethod:function(t){var e=this.superMember(t);if("function"!=typeof e)throw new TypeError("this."+t+" is not a function");return e},callSuperMethod:function(t){return this.superMethod(t).apply(this,Array.prototype.slice.call(arguments,1))}},r.extend=n,n.Base=r,t.exports=n},function(t,e,i){"use strict";function n(t){if(this.dataRow){var e="f"===(typeof t)[0]&&t||this.calculator;e&&(t=e(this.dataRow,this.name))}return t}var r=i(78),o=i(49),a="Attempt to set column-only property on a non-column properties object.",s={},l={set name(t){throw new o(a)},set type(t){throw new o(a)},set header(t){throw new o(a)},set calculator(t){throw new o(a)},mixIn:i(31).mixIn,noDataMessage:"",subgrids:["HeaderSubgrid","data"],themeName:"default",font:"13px Tahoma, Geneva, sans-serif",color:"rgb(25, 25, 25)",backgroundColor:"rgb(241, 241, 241)",foregroundSelectionFont:"bold 13px Tahoma, Geneva, sans-serif",foregroundSelectionColor:"rgb(0, 0, 128)",backgroundSelectionColor:"rgba(147, 185, 255, 0.625)",columnHeaderFont:"12px Tahoma, Geneva, sans-serif",columnHeaderColor:"rgb(25, 25, 25)",columnHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",columnHeaderBackgroundColor:"rgb(223, 227, 232)",columnHeaderForegroundSelectionColor:"rgb(80, 80, 80)",columnHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",columnHeaderHalign:"center",columnHeaderRenderer:"SimpleCell",rowHeaderFont:"12px Tahoma, Geneva, sans-serif",rowHeaderColor:"rgb(25, 25, 25)",rowHeaderBackgroundColor:"rgb(223, 227, 232)",rowHeaderForegroundSelectionColor:"rgb(80, 80, 80)",rowHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",rowHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",backgroundColor2:"rgb(201, 201, 201)",treeHeaderFont:"12px Tahoma, Geneva, sans-serif",treeHeaderColor:"rgb(25, 25, 25)",treeHeaderBackgroundColor:"rgb(223, 227, 232)",treeHeaderForegroundSelectionColor:"rgb(80, 80, 80)",treeHeaderForegroundSelectionFont:"bold 12px Tahoma, Geneva, sans-serif",treeHeaderBackgroundSelectionColor:"rgba(255, 220, 97, 0.45)",filterFont:"12px Tahoma, Geneva, sans-serif",filterColor:"rgb(25, 25, 25)",filterBackgroundColor:"white",filterForegroundSelectionColor:"rgb(25, 25, 25)",filterBackgroundSelectionColor:"rgb(255, 220, 97)",filterHalign:"center",filterRenderer:"SimpleCell",filterable:!0,showFilterRow:!1,voffset:0,scrollbarHoverOver:"visible",scrollbarHoverOff:"hidden",scrollingEnabled:!0,vScrollbarClassPrefix:"",hScrollbarClassPrefix:"",halign:"center",cellPadding:5,iconPadding:3,leftIcon:void 0,centerIcon:void 0,rightIcon:void 0,renderFalsy:!1,gridLinesH:!0,gridLinesV:!0,gridBorderLeft:!1,gridBorderRight:!1,gridBorderTop:!1,gridBorderBottom:!0,lineColor:"rgb(199, 199, 199)",lineWidth:1,defaultRowHeight:15,defaultColumnWidth:100,minimumColumnWidth:5,repaintIntervalRate:60,repaintImmediately:!1,useBitBlit:!1,useHiDPI:!0,navKeyMap:{RETURN:"DOWN",RETURNSHIFT:"UP",TAB:"RIGHT",TABSHIFT:"LEFT"},navKey:function(t,e){var i;return(t.length>1||!this.editOnKeydown||e)&&(i=t),i},mappedNavKey:function(t,e){return(t=this.navKeyMap[t])&&this.navKey(t)},feedbackCount:3,feedbackEffect:"shaker",readOnly:!1,getTextWidth:function(t,e){return s.getTextWidth||(s.getTextWidth=!0,console.warn("getTextWidth(gc, string) has been deprecated on the properties (or config) object as of v1.2.4 in favor of the graphics context (aka gc) object and will be removed from the properties object in a future release. Please change your calling context to gc.getTextWidth(string), excluding the first parameter (gc) from your call.")),r.getTextWidth.apply(t,e)},getTextHeight:function(t){return s.getTextHeight||(s.getTextHeight=!0,console.warn("getTextHeight(font) has been deprecated on the properties (or config) object as of v1.2.4 in favor of the graphics context (aka gc) object and will be removed from the properties object in a future release. Please change your calling context to gc.getTextHeight(font).")),r.getTextHeight(t)},get x(){return s.x||(s.x=!0,console.warn("config.x has been deprecated as of v1.2.10 in favor of config.dataCell.x. (Will be removed in a future release.)")),this.dataCell.x},get untranslatedX(){return s.untranslatedX||(s.untranslatedX=!0,console.warn("config.untranslatedX has been deprecated as of v1.2.10 in favor of config.gridCell.x. (Will be removed in a future release.)")),this.gridCell.x},get y(){return s.y||(s.y=!0,console.warn("config.y has been deprecated as of v1.2.10 in favor of config.gridCell.y. (Will be removed in a future release.)")),this.gridCell.y},get normalizedY(){return s.normalizedY||(s.normalizedY=!0,console.warn("config.normalizedY has been deprecated as of v1.2.10 in favor of config.dataCell.y. (Will be removed in a future release.)")),this.dataCell.y},exec:n,fixedColumnCount:0,fixedRowCount:0,showRowNumbers:!0,showTreeColumn:!0,treeRenderer:"SimpleCell",showHeaderRow:!0,cellSelection:!0,columnSelection:!0,rowSelection:!0,singleRowSelectionMode:!0,selectionRegionOverlayColor:"transparent",selectionRegionOutlineColor:"rgb(69, 69, 69)",columnAutosizing:!0,rowNumberAutosizing:!0,headerTextWrapping:!1,rowResize:!1,editable:!0,editOnDoubleClick:!0,doubleClickDelay:325,editOnKeydown:!0,editOnNextCell:!1,checkboxOnlyRowSelections:!1,autoSelectRows:!1,autoSelectColumns:!1,format:void 0,editor:void 0,renderer:"SimpleCell",gridRenderer:"by-columns-and-rows",hoverCellHighlight:{enabled:!0,backgroundColor:"rgba(160, 160, 40, 0.45)"},hoverRowHighlight:{enabled:!0,backgroundColor:"rgba(100, 100, 25, 0.30)"},hoverColumnHighlight:{enabled:!0,backgroundColor:"rgba(60, 60, 15, 0.15)"},link:!1,linkTarget:"_blank",linkOnHover:!1,linkColor:"blue",linkVisitedColor:"purple",linkColorOnHover:!1,strikeThrough:!1,multipleSelections:!1,enableContinuousRepaint:!1,columnsReorderable:!0,applyCellProperties:!0,reapplyCellProperties:!1,columnGrabMargin:5,columnClip:!0,rowProperties:void 0,truncateTextWithEllipsis:!0};t.exports=l},function(t,e,i){"use strict";function n(t,e,i,n,o){var a=r(o);a<1&&this.clearRect(t,e,i,n),a>0&&(this.cache.fillStyle=o,this.fillRect(t,e,i,n))}function r(t){var e;return t?null===(e=t.match(h))?1:void 0===e[4]?0:Number(e[4]):0}function o(t){var e=p[this.cache.font]=p[this.cache.font]||{};t+="";for(var i=0,n=0,r=t.length;i<r;++i){var o=t[i];n+=e[o]=e[o]||this.measureText(o).width}return n}function a(t,e,i,n){var r,o,a,s=p[this.cache.font],l=void 0!==i;s||(s=p[this.cache.font]={},s[d]=this.measureText(d).width),t+="",e+=!1===i?2:-1;for(var u=0,c=0,h=t.length;u<h;++u){var f=t[u],g=s[f]=s[f]||this.measureText(f).width;if(c+=g,!r&&l&&c>e){switch(a=u,i){case!0:for(o=c-g+s[d];a&&o>e;)o-=s[t[--a]];r=o>e?"":r=t.substr(0,a)+d;break;case!1:r=t.substr(0,a);break;default:++a<t.length&&(r=t.substr(0,a))}if(n)break}}return{string:r,width:c}}function s(t){var e=f[t];if(!e){e={};var i=document.createElement("span");i.textContent="Hg",i.style.font=t;var n=document.createElement("div");n.style.display="inline-block",n.style.width="1px",n.style.height="0px";var r=document.createElement("div");r.appendChild(i),r.appendChild(n),r.style.position="absolute",document.body.appendChild(r);try{n.style.verticalAlign="baseline";var o=n.getBoundingClientRect(),a=i.getBoundingClientRect();e.ascent=o.top-a.top,n.style.verticalAlign="bottom",e.height=o.top-a.top,e.descent=e.height-e.ascent}finally{document.body.removeChild(r)}0!==e.height&&(f[t]=e)}return e}function l(t,e,i,n,r){this.conditionalsStack.push(t),t&&(this.cache.save(),this.beginPath(),this.rect(e,i,n,r),this.clip())}function u(t){this.conditionalsStack.pop()&&this.cache.restore()}var c,h=/^(transparent|((RGB|HSL)A\(.*,\s*([\d\.]+)\)))$/i,p={},d="",f={};c={clearFill:n,alpha:r,getTextWidth:o,getTextWidthTruncated:a,getTextHeight:s,clipSave:l,clipRestore:u,truncateTextWithEllipsis:!0},t.exports=c},function(t,e,i){"use strict";function n(t){var e,i,n,a,s,l,u,c,h,p,d,f=this.grid,g=f.properties,m=g.backgroundColor,v=this.visibleColumns,y=this.visibleRows,b=v.length,x=b-1,_=y.length,w=this.cellEventPool,C=b?v[b-1].right:0,S=_?y[_-1].bottom:0;if(t.clearRect(0,0,this.bounds.width,this.bounds.height),b&&_){if(t.alpha(m)>0&&(t.cache.fillStyle=m,t.fillRect(0,0,C,S)),this.gridRenderer.reset?(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,o.call(this,!1),r.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,r.call(this)),s=this.rowBundles,s.length)for(i=this.rowPrefillColors,h=s.length;h--;)a=s[h],t.clearFill(0,a.top,C,a.bottom-a.top,a.backgroundColor);else for(u=this.columnBundles,c=u.length;c--;)l=u[c],t.clearFill(l.left,0,l.right-l.left,S,l.backgroundColor);var k=0;this.visibleColumns.forEachWithNeg(function(r,o){for(n=w[k],r=n.visibleColumn,i||(e=n.column.properties.backgroundColor),d=r.column.properties.columnClip,t.clipSave(d||null===d&&o===x,0,0,r.right,S),p=h=0;h<_;h++,k++)if(!w[k].disabled){i&&(e=i[h]);try{p=Math.max(p,this._paintCell(t,w[k],e))}catch(e){this.renderErrorCell(e,t,r,w[k].visibleRow)}}t.clipRestore(d),n.column.properties.preferredWidth=Math.round(p)}.bind(this)),this.paintGridlines(t)}}var r=i(51),o=i(80);n.key="by-columns-and-rows",n.rebundle=!0,t.exports=n},function(t,e,i){"use strict";function n(t){var e,i,n,r,o=this.grid.properties,a=this.visibleRows,s=a.length;if(t)for(r=this.cellEventPool,n=0,i=0;i<s;i++)e=a[i],this.visibleColumns.forEachWithNeg(function(t){n++,r[n].reset(t,e)});var l,u,c,h=[],p=o.backgroundColor,d=o.rowProperties,f=Array(s);for(i=0;i<s;i++)e=a[i],u=e.subgrid.isData&&d&&d[e.rowIndex%d.length],c=f[i]=u&&u.backgroundColor||p,l&&l.backgroundColor===c?l.bottom=e.bottom:c===p?l=void 0:(l={backgroundColor:c,top:e.top,bottom:e.bottom},h.push(l));this.rowBundles=h,this.rowPrefillColors=f}t.exports=n},function(t,e,i){"use strict";t.exports={Behavior:i(53),JSON:i(182),Column:i(82)}},function(t,e,i){"use strict";function n(t,e){function i(t){return r.findIndex(function(e,i){return e.name===t})}var n,r,o,a;switch(this.behavior=t,this.dataModel=t.dataModel,r=this.behavior.dataModel.schema,typeof e){case"number":n=e,o={};break;case"string":n=i(e),o={};break;case"object":o=e,n=void 0!==o.index?o.index:i(o.name)}if(void 0===n)throw"Column not found in data.";switch(this._index=n,this.properties=o,n){case this.behavior.treeColumnIndex:a=s[Object.create(this.properties.treeHeader,{isDataRow:{value:!0}}).leftIcon],this.properties.minimumColumnWidth=a?a.width+3:0;break;case this.behavior.rowColumnIndex:a=s[Object.create(this.properties.rowHeader,{isDataRow:{value:!0}}).leftIcon],this.properties.minimumColumnWidth=a?a.width+3:0;break;default:if(n<0)throw"`index` out of range"}}var r=i(31),o=i(30),a=i(49),s=i(50);n.prototype={constructor:n.prototype.constructor,$$CLASS_NAME:"Column",deprecated:o,HypergridError:a,mixIn:r.mixIn,set:function(t){return this.deprecated("set(options)","setProperties(options)","1.2.0",arguments)},get index(){return this._index},get name(){var t=this.dataModel.schema[this._index];return t&&t.name},set header(t){this.dataModel.schema[this.index].header=t,this.dataModel.prop(null,this.index,"header",t),this.behavior.grid.repaint()},get header(){return this.dataModel.schema[this.index].header},set calculator(t){var e=this.dataModel.schema;t!==e[this.index].calculator&&(void 0===t?delete e[this.index].calculator:e[this.index].calculator=t,this.behavior.prop(null,this.index,"calculator",t),this.behavior.applyAnalytics())},get calculator(){return this.dataModel.schema[this.index].calculator},set type(t){this._type=t,this.dataModel.prop(null,this.index,"type",t),this.behavior.reindex()},get type(){return this._type},getUnfilteredValue:function(t){return this.deprecated("getUnfilteredValue(y)",null,"1.2.0",arguments,"No longer supported")},getValue:function(t){return this.dataModel.getValue(this.index,t)},setValue:function(t,e){return this.dataModel.setValue(this.index,t,e)},getWidth:function(){return this.properties.width||this.behavior.grid.properties.defaultColumnWidth},setWidth:function(t){(t=Math.max(this.properties.minimumColumnWidth,t))!==this.properties.width&&(this.properties.width=t,this.properties.columnAutosizing=!1)},checkColumnAutosizing:function(t){var e,i,n,r=this.properties;return r.columnAutosizing&&(e=r.width,i=r.preferredWidth||e,t=t||!r.columnAutosized,(e!==i||t&&void 0!==i)&&(r.width=t?i:Math.max(e,i),r.columnAutosized=!isNaN(r.width),n=r.width!==e)),n},getCellType:function(t){var e=this.getValue(t);return this.typeOf(e)},getType:function(){var t=this.properties,e=t.type;return e||"unknown"!==(e=this.computeColumnType())&&(t.type=e),e},computeColumnType:function(){var t=this.behavior.getHeaderRowCount(),e=this.behavior.getRowCount(),i=this.getValue(t),n=this.typeOf(i);if(!n)return"unknown";for(var r=this.typeOf(i),o=t;o<e;o++)i=this.getValue(o),n=this.typeOf(i);return r},typeOf:function(t){if(null==t)return null;var e=typeof t;switch(e){case"object":return t.constructor.name.toLowerCase();case"number":return parseInt(t)===t?"int":"float";default:return e}},get properties(){return this._properties},set properties(t){this._properties=this.createColumnProperties(),this.addProperties(t)},getProperties:function(){return this.deprecated("getProperties()","properties","1.2.0")},setBackgroundColor:function(t){this.properties.backgroundColor!==t&&(this.properties.backgroundColor=t,this.behavior.grid.renderer.rebundleGridRenderers())},setProperties:function(t,e){e?this.deprecated("setPropertiesPreserve","setProperties(properties, preserve)","addProperties(properties)","1.2.0",arguments,"This warning pertains to setProperties only when preserve is truthy. When preserve is faulty, use the new properties setter."):(this.deprecated("setProperties","setProperties(properties) has been deprecated in favor of properties (setter) as of v1.2.0. (Will be removed in a future version.) This advice only pertains to usages of setProperties when called with a single parameter. When called with a truthy second parameter, use the new addProperties(properties) call instead."),this.properties=t)},addProperties:function(t){var e,i,n=this.properties;for(e in t)t.hasOwnProperty(e)&&(!(i=Object.getOwnPropertyDescriptor(n,e))||i.writable||i.set)&&(n[e]=t[e])},getCellEditorAt:function(t){var e=this.index,i=t.gridCell.y,n=t.properties.editor,r=Object.create(t,{format:{writable:!0,enumerable:!0,value:t.properties.format}}),o=this.dataModel.getCellEditorAt(e,i,n,r);return o&&!o.grid&&(o=void 0),o},getFormatter:function(){var t=this.properties.format;return this.behavior.grid.localization.get(t).format}},n.prototype.mixIn(i(173)),n.prototype.mixIn(i(174)),t.exports=n},function(t,e,i){"use strict";var n={DataModel:i(84),JSON:i(85),HeaderSubgrid:i(181)};Object.defineProperties(n,{add:{value:function(t,e){this[t]=e}},get:{value:function(t){return this[t]}},keys:{get:function(){return Object.keys(this)}}}),t.exports=n},function(t,e,i){"use strict";var n=i(6),r=n.extend("DataModel",{grid:null,initialize:function(t,e){this.grid=t},changed:function(){this.deprecated("changed()","grid.behavior.changed()","1.1.0")},getPrivateState:function(){return this.deprecated("getPrivateState()","grid.properties","1.2.0")},getCell:function(t,e){return this.grid.cellRenderers.get(e)},getCellEditorAt:function(t,e,i,n){return this.grid.cellEditors.create(i,n)}});t.exports=r},function(t,e,i){"use strict";function n(){var t=[],e=this.dataSource;return this.grid.properties.checkboxOnlyRowSelections&&this.grid.getSelectedRows().forEach(function(i){t.push(e.getDataIndex(i))}),t}function r(t){var e,i,n=this.getRowCount(),r=t.length,o=[],a=this.grid.selectionModel;if(a.clearRowSelection(),this.grid.properties.checkboxOnlyRowSelections){for(i=0;r&&i<n;++i)(e=t.indexOf(this.dataSource.getDataIndex(i)))>=0&&(o.push(i),delete t[e],r--);o.forEach(function(t){a.selectRow(t)})}return o.length}function o(t,e){return this.deprecated(e,e+"() has been deprecated as of v1.2.0 and will be removed in a future release. Constructs like "+e+"()[i] should be changed to schema[i]. (This deprecated method now returns a new array derived from schema.)"),this.schema.map(function(e){return e[t]},this)}function a(t){this.dataModel=t}var s=i(84),l=i(179),u=s.extend("dataModels.JSON",{initialize:function(t,e){this.controllers={},this.charMap=new a(this),this.reset(e)},DataSourceOrigin:l,pipelineSchemaStash:[],reset:function(t){delete this.pipelineSchemaStash,t=t||{},this.source=new this.DataSourceOrigin(t.data,t.schema,this.grid.behavior.treeColumnIndex,this.grid.behavior.rowColumnIndex),this.setPipeline({pipeline:t.pipeline,controllers:t.controllers})},defaultPipelineSchema:[],clearSelectedData:function(){var t="clearSelectedData()",e=this.$$DEPRECATION_WARNED=this.$$DEPRECATION_WARNED||{};t in e||(e[t]=0,console.warn(t+" has been deprecated as of v1.2.23. This function no longer has any meaning; calls should be removed."))},getDataSource:function(){return this.deprecated("getDataSource()","dataSource","1.0.7")},getData:function(){return this.source.data},getFilteredData:function(){return this.deprecated("getFilteredData()","getIndexedData()","1.2.0",arguments)},getIndexedData:function(){for(var t=this.dataSource,e=t.getRowCount(),i=new Array(e),n=0;n<e;n++)i[n]=t.getRow(n);return i},getValue:function(t,e){return this.dataSource.getValue(t,e)},getDataIndex:function(t){return this.dataSource.getDataIndex(t)},setValue:function(t,e,i){this.dataSource.setValue(t,e,i)},getColumnProperties:function(t){return this.deprecated("getColumnProperties(x)","grid.behavior.getColumnProperties(x)","1.2.0",arguments)},getColumnCount:function(){var t=this.grid.behavior.hasTreeColumn()?-1:0;return this.dataSource.getColumnCount()+t},getRowCount:function(){return this.dataSource.getRowCount()},getHeaders:function(){return o.call(this,"header","getHeaders")},setHeaders:function(t){this.dataSource.setHeaders(t)},setFields:function(t){this.dataSource.setFields(t)},getFields:function(){return o.call(this,"name","getFields")},getCalculators:function(){return o.call(this,"calculator","getCalculators")},reindex:function(t){var e=n.call(this);this.pipeline.forEach(function(e){e&&e.apply&&e.apply(t)}),r.call(this,e)},setData:function(t,e){this.source.setData(t,e)},setPipeline:function(t,e){Array.isArray(t)||(e=t,t=e.pipeline),e=e||{},t=t?t.slice():this.DataSources?this.DataSources:this.defaultPipelineSchema.slice(),this.DataSources=t;var i=[],n=this.source;t.length&&(e.stash&&this.getPipelineSchemaStash(e.stash).push(t),t.forEach(function(t){t&&(n=new t(n),i.push(n))},this)),this.dataSource=n,this.pipeline=i,this.setController(e.controllers||this.controllers)},findDataSourceByType:function(t){for(var e,i=this.pipeline.length-1;i>=0;i--)if(e=this.pipeline[i],e.type===t)return e},getPipelineSchemaStash:function(t){var e;switch(t){case"shared":e=s.prototype.stash;break;case"own":case"instance":this.hasOwnProperty("pipelineSchemaStash")||(this.pipelineSchemaStash=[]);case"default":case void 0:e=this.pipelineSchemaStash}return e},unstashPipeline:function(t){var e=this.getPipelineSchemaStash(t);e.length&&this.setPipeline(e.pop())},truncatePipeline:function(t){return this.deprecated("truncatePipeline(newLength)","setPipeline()","1.2.0",arguments,"Build a local pipeline (array of data source constructors) and pass it to setPipeline.")},isTree:function(){return this.dataSource.isDrillDown()},isTreeCol:function(t){return this.dataSource.isDrillDownCol(t)},setTopTotals:function(t){return this.deprecated("setTopTotals(rows)","grid.behavior.setTopTotals(rows)","1.1.0",arguments)},getTopTotals:function(){return this.deprecated("getTopTotals(rows)","grid.behavior.getTopTotals(rows)","1.1.0",arguments)},setBottomTotals:function(t){return this.deprecated("setBottomTotals(rows)","grid.behavior.setBottomTotals(rows)","1.1.0",arguments)},getBottomTotals:function(){return this.deprecated("getBottomTotals()","grid.behavior.getBottomTotals()","1.1.0")},getActiveColumns:function(){return this.deprecated("getActiveColumns()","grid.behavior.getActiveColumns()","1.2.14",arguments)},getVisibleColumns:function(){return this.deprecated("getVisibleColumns()","getActiveColumns()","1.0.6",arguments)},getHiddenColumns:function(){return this.deprecated("getHiddenColumns()","grid.behavior.getHiddenColumns()","1.2.14",arguments)},hasHierarchyColumn:function(){return this.deprecated("hasHierarchyColumn()","","v1.3.3")},getSortImageForColumn:function(t){},cellClicked:function(t){return 2===arguments.length?this.deprecated("cellClicked(cell, event)","cellClicked(event)","1.2.0",arguments):this.toggleRow(t.dataCell.y,void 0,t)},toggleRow:function(t,e,i){var n;return this.isTreeCol(i)&&(n=this.dataSource.click(t,e))&&(this.reindex({rowClick:!0}),this.grid.behavior.changed()),n},getRow:function(t){return this.dataSource.getRow(t)},getController:function(t){return this.controllers[t]},setController:function(t,e){var i,n,r,o=this.dataSource,a=this.controllers,s={};if("string"==typeof t){var l=t;r={},r[l]=e}else r=t;return Object.keys(r).forEach(function(t){i=o.setController(t,r[t]),n=n||i,s[t]=i}),Object.assign(a,s),Object.keys(a).forEach(function(t){a[t]||delete a[t]}),n&&this.reindex(),s},prop:function(t,e,i,n){var r,o,a={},s=arguments.length,l=this.controllers,u=null!==t?[t]:Object.keys(l);if(l=u.map(function(t){return l[t]}).filter(function(t){return t}),l.length){switch("number"==typeof e?s--:(n=i,i=e,e=void 0),s){case 2:"object"==typeof i?a=i:a.GETTER=i;break;case 3:"string"==typeof i?a[i]=n:o=!0;break;default:o=!0}if(o)throw"Invalid overload.";void 0!==e&&Object.defineProperty(a,"COLUMN",{value:{index:e,name:this.schema[e].name}}),l.forEach(function(t){r=t.properties(a)})}return r},applyState:function(){return this.deprecated("applyState()","reindex()","1.2.0",arguments)},getUnfilteredValue:function(t,e){return this.deprecated("getUnfilteredValue(x, y)",null,"1.2.0",arguments,"No longer supported")},getUnfilteredRowCount:function(){return this.deprecated("getUnfilteredValue(x, y)",null,"1.2.0",arguments,"No longer supported")},addRow:function(t){return this.getData().push(t),t},get schema(){return this.dataSource.schema},set schema(t){this.dataSource.setSchema(t)}});a.prototype={mixIn:i(31).mixIn,get OPEN(){return this.dataModel.dataSource.drillDownCharMap.OPEN},set OPEN(t){this.dataModel.dataSource.drillDownCharMap.OPEN=t},get CLOSE(){return this.dataModel.dataSource.drillDownCharMap.CLOSE},set CLOSE(t){this.dataModel.dataSource.drillDownCharMap.CLOSE=t}},u.prototype.applyAnalytics=u.prototype.reindex,t.exports=u},function(t,e,i){"use strict";function n(){}function r(t){this.message=t}n.extend=i(76),n.prototype={constructor:n.prototype.constructor,replaceIndent:"_",isNullObject:!0,drillDownCharMap:{OPEN:"",CLOSE:"",undefined:""},DataSourceError:r,initialize:function(t){if(this.dataSource=t,this.type){for(var e=t;e;){if(e.type===this.type){this.controller=e.controller;break}e=e.dataSource}void 0===this.controller&&(this.controller=this.newController())}},get schema(){if(this.dataSource)return this.dataSource.schema},set schema(t){this.dataSource&&(this.dataSource.schema=t)},setSchema:function(){if(this.dataSource)return this.dataSource.setSchema.apply(this.dataSource,arguments)},setData:function(){if(this.dataSource)return this.dataSource.setData.apply(this.dataSource,arguments)},getFields:function(){if(this.dataSource)return this.dataSource.getFields.apply(this.dataSource,arguments)},getHeaders:function(){if(this.dataSource)return this.dataSource.getHeaders.apply(this.dataSource,arguments)},setValue:function(){if(this.dataSource)return this.dataSource.setValue.apply(this.dataSource,arguments)},newController:function(){return{}},setController:function(t,e){var i,n;void 0===e&&(e=this.newController.call(n)),n=this;do{n.type===t&&(i=n.controller=e),n=n.dataSource}while(n);return i},getController:function(t){var e;e=this;do{if(e.type===t)return e.controller;e=e.dataSource}while(e)},getSchema:function(){if(this.dataSource)return this.dataSource.getSchema()},getRowCount:function(){if(this.dataSource)return this.dataSource.getRowCount()},getColumnCount:function(){if(this.dataSource)return this.dataSource.getColumnCount()},getGrandTotals:function(){if(this.dataSource)return this.dataSource.getGrandTotals()},getProperty:function t(e){return e in this?this[e]:this.dataSource?t.call(this.dataSource,e):void 0},getDataIndex:function(){if(this.dataSource)return this.dataSource.getDataIndex.apply(this.dataSource,arguments)},getRow:function(){if(this.dataSource)return this.dataSource.getRow.apply(this.dataSource,arguments)},findRow:function(){if(this.dataSource)return this.dataSource.findRow.apply(this.dataSource,arguments)},revealRow:function(){if(this.dataSource)return this.dataSource.revealRow.apply(this.dataSource,arguments)},getValue:function(){if(this.dataSource)return this.dataSource.getValue.apply(this.dataSource,arguments)},click:function(){if(this.dataSource)return this.dataSource.click.apply(this.dataSource,arguments)},isDrillDown:function(t){if(this.dataSource)return this.dataSource.isDrillDown(t)},isDrillDownCol:function(t){if(this.dataSource)return this.dataSource.isDrillDownCol(t)},isLeafNode:function(t){if(this.dataSource)return this.dataSource.isLeafNode(t)},viewMakesSense:function(){if(this.dataSource)return this.dataSource.viewMakesSense()},apply:function(){throw new r("Nothing to apply.")},getColumnInfo:function(t){var e,i,n;return"number"==typeof t?(i=t,e=this.schema[i].name):(e=t,i=this.schema.findIndex(function(t){return t.name===e})),e&&i>=0&&(n={name:e,index:i}),n},fixIndentForTableDisplay:function(t){var e=t.search(/\S/),i=t.substring(e);return Array(e+1).join(this.replaceIndent)+i},dump:function(t){t=Math.min(this.getRowCount(),t||Math.max(100,this.getRowCount()));for(var e=[],i=this.schema?this.schema.map(function(t){return t.name}):this.getHeaders(),n=this.getColumnCount(),r=this.viewMakesSense,o=0;o<t;o++){for(var a={},s=0;s<n;s++){var l=this.getValue(s,o);0===s&&r&&(l=this.fixIndentForTableDisplay(l)),a[i[s]]=l}e[o]=a}console.table(e)}},r.prototype=Object.create(Error.prototype),r.prototype.name="DataSourceError",t.exports=n},function(t,e,i){"use strict";var n=i(14),r=i(52),o=n.extend("Textfield",{template:'<input type="text" lang="{{locale}}" class="hypergrid-textfield" style="{{style}}">',initialize:function(){this.input.style.textAlign=this.event.properties.halign},localizer:r.prototype.string,selectAll:function(){this.input.setSelectionRange(0,this.input.value.length)}});t.exports=o},function(t,e,i){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t){var e={};for(var i in Y)e[i]=Y[i];for(i in t)e[i]=t[i];return e}function r(t){t.isTree?this.grid.renderer.properties.fixedColumnCount=1:this.grid.renderer.properties.fixedColumnCount=0;var e,i,n,r=[];0!==t.columnPaths[0].length&&""!==t.columnPaths[0][0]||(t.columnPaths[0]=[" "]);for(var o=0;o<t.columnPaths.length;o++){e=t.columnPaths[o].join("|");var a=t.configuration.columnAliases;i=a&&a[e]||e,this.grid.properties.treeColumn,n={name:o.toString(),header:i},"str"===t.columnTypes[o]?n.type="string":n.type=t.columnTypes[o],r.push(n)}var s=this.grid.behavior.subgrids.lookup.data.schema;if(this.schema_loaded=this.schema_loaded&&q.isEqual(r,s),this.schema=r,this.schema_loaded)this.grid.setData({data:t.rows});else{for(var l={},u=0;u<this.grid.getColumnCount();u++){var c=this.grid.getColumnProperties(u).header,h=c.split("|");h=h[h.length-1];var p=this.grid.getColumnWidth(u);h in l?l[c]=p:l[h]=p}console.log("Setting up initial schema and data load into HyperGrid"),this.grid.setData({data:t.rows,schema:this.schema}),this.schema_loaded=!0,this.grid.canvas.dispatchEvent(new CustomEvent("fin-hypergrid-schema-loaded",{detail:{grid:this.grid}})),this.grid.properties.treeColumnIndex=0,this.grid.installPlugins([$]),this.grid.behavior.setHeaders();var d=this.grid.renderer.computeCellsBounds;for(this.grid.renderer.computeCellsBounds=function(){d.call(this)},o=0;o<this.schema.length;o++){var f=this.grid.getColumnProperties(o);"number"===this.schema[o].type||"float"===this.schema[o].type?(0,D.default)(f,{halign:"right",columnHeaderHalign:"right",format:"FinanceFloat"}):"integer"===this.schema[o].type?(0,D.default)(f,{halign:"right",columnHeaderHalign:"right",format:"FinanceInteger"}):"date"===this.schema[o].type?(0,D.default)(f,{format:"FinanceDate"}):Array.isArray(this.schema[o].type)&&(0,D.default)(f,{format:"FinanceTree"});var g=f.header,m=g.split("|");m=m[m.length-1],f.width=g in l?l[g]:m in l?l[m]:50,f.columnAutosizing=!0,this.grid.behavior.setColumnProperties(o,f)}}this.grid.canvas.dispatchEvent(new CustomEvent("fin-hypergrid-data-loaded",{detail:{grid:this.grid}}))}function o(t){t.selectionModel.checkedRows={},t._clearSelections=t._clearSelections,t._clearSelections=function(){t.clearCheckedRows(),t._clearSelections()},t.clearCheckedRows=function(){t.selectionModel.checkedRows={}},t.isRowChecked=function(e){var i=t.getRow(e);if(i)return t.selectionModel.checkedRows&&(0,L.default)(i.rowPath)in t.selectionModel.checkedRows},t.getCheckedRows=function(){return t.selectionModel.checkedRows},t.getRowIdx=function(e){for(var i=Array.isArray(e)?(0,L.default)(e):e,n=0;n<t.getRowCount();n++)if((0,L.default)(t.getRow(n).rowPath)===i)return n}}function a(t){G.JSON.prototype.setPSP=r;var e=U.extend({paint:W});t.cellRenderers.add("TreeLines",e),t.behavior.dataModel.configuration={},t.behavior.dataModel.configuration.expandedRows=[],this.grid=t,this.viewData=[],t.mixIn.call(t.behavior.dataModel,{setData:function(t,e){this.viewData=t,this.source.setData(t,e)},isTree:function(){if(this.grid.behavior.dataModel.viewData){var t=this.grid.behavior.dataModel.viewData;return 0===t.length||0!==t[0].rowPath.length}return!1},isTreeCol:function(t){return t===this.grid.properties.treeColumnIndex&&this.isTree()},isLeafNode:function(t){return this.viewData[t].isLeaf},matchedRowExpansions:function(t){for(var e=this.configuration.expandedRows,i=[],n=0;n<e.length;n++)q.isEqual(e[n],t)&&i.push(n),t.length<e[n].length&&q.isEqual(t,e[n].slice(0,t.length))&&i.push(n);return i},getValue:function(t,e){return this.dataSource.data[e].rowData[t]},setValue:function(t,e,i){this.dataSource.setValue(t,e,i)},getRowCount:function(){return this.dataSource.data.length},getColumnCount:function(){var t=this.grid.behavior.hasTreeColumn()?-1:0;return this.dataSource.getColumnCount()+t},toggleRow:function(t,e,i){if(this.isTreeCol(i.dataCell.x)){var n=this.dataSource.data[t].rowPath.slice(),r=this.matchedRowExpansions(n);if(r.length>0){r.sort();for(var o=0;o<r.length;o++)this.configuration.expandedRows.splice(r[o]-o,1)}else this.configuration.expandedRows.push(n)}},cellStyle:function(t,e){null===t.value||void 0===t.value?t.value="-":["number","float","integer"].indexOf(this.schema[t.dataCell.x.toString()].type)>-1?0===t.value?t.value="float"===this.schema[t.dataCell.x.toString()].type?"0.00":"0":isNaN(t.value)?t.value="-":t.color=t.value>=0?t.columnHeaderBackgroundNumberPositive||"rgb(160,207,255)":t.columnHeaderBackgroundNumberNegative||"rgb(255,136,136)":"boolean"===this.schema[t.dataCell.x.toString()].type&&(t.value=String(t.value))},getCell:function(e,i){if(this.grid.properties.singleRowSelectionMode&&e.isHandleColumn&&e.isHeaderRow)e.value=[];else if(this.grid.properties.showCheckboxes&&e.isHandleColumn&&e.isDataRow){var n=H.images[this.grid.isRowChecked(e.dataCell.y)?"checked":"unchecked"];e.value=[n]}else if(e.isUserDataArea&&(this.cellStyle(e,i),this.isTreeCol(e.dataCell.x))){e.depth=e.dataRow.rowPath.length-1,e.leaf=e.dataRow.isLeaf;var r=e.dataCell.y+1===this.getRowCount()||this.getRow(e.dataCell.y+1).rowPath.length!=e.dataRow.rowPath.length,o=this.dataSource.data[e.dataCell.y+1];return e.expanded=!!o&&e.dataRow.rowPath.length<o.rowPath.length,e.last=r,e._type=this.schema[0].type[e.depth-1],t.cellRenderers.get("TreeLines")}return t.cellRenderers.get(i)},getCellEditorAt:function(e,i,n,r){if(n){var o=t.cellEditors.create(n,r);return"combobox"===n&&(o.modes[0].appendOptions=testingDropdownItems),o}return n}})}function s(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(0===t.length){var s=(0,P.default)(e);return{rows:[],rowPaths:[],data:[],isTree:!1,configuration:{},columnPaths:s.map(function(t){return[t]}),columnTypes:s.map(function(t){return Z[e[t]]})}}var l=t[0].hasOwnProperty("__ROW_PATH__"),u=(0,P.default)(t[0]).filter(function(t){return"__ROW_PATH__"!==t}).map(function(t){return t.split(",")}),c=u.map(function(t){return t.join(",")}),h=[];a&&(h.length=a);for(var p=r;p<(o||t.length);p++){var d=t[p]||{},f=[],g=[],m=!0;if(l){void 0===d.__ROW_PATH__&&(d.__ROW_PATH__=[]),g=["ROOT"].concat(d.__ROW_PATH__);var v=d.__ROW_PATH__[d.__ROW_PATH__.length-1];void 0===v&&0===p&&(v="TOTAL"),f=[v],m=d.__ROW_PATH__.length>=(t[p+1]?t[p+1].__ROW_PATH__.length:0)}var y=c,b=Array.isArray(y),x=0;for(y=b?y:(0,M.default)(y);;){var _;if(b){if(x>=y.length)break;_=y[x++]}else{if(x=y.next(),x.done)break;_=x.value}var w=_;f.push(d[w])}h[p]={rowPath:g,rowData:f,isLeaf:m}}return{rows:h,isTree:l,configuration:{},columnPaths:(l?[[" "]]:[]).concat(u),columnTypes:(l?[n.map(function(t){return i[t]})]:[]).concat(u.map(function(t){return Z[e[t[t.length-1]]]}))}}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t.format.bind(t);return t.format=function(t){if("string"==typeof t)return t;if(e===t)return"-";var n=i(t);return""===n?"-":n},t}function u(t,e){return!!e&&e[0]<=t[0]&&e[1]>=t[1]}function c(t){var e=(0,P.default)(t.renderer.visibleRowsByDataRowIndex);return[parseInt(e[0]),parseInt(e[e.length-1])+J]}function h(t){var e=function(){var e=(0,A.default)(x.default.mark(function e(){var i,n,r,o,a;return x.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._lazy_load){e.next=17;break}if(i=c(t),n=(0,S.default)(i[0])||(0,S.default)(i[1]),r=t._updating_cache&&!u(i,t._updating_cache.range),o=!t._updating_cache&&!u(i,t._cached_range),n||!r&&!o){e.next=15;break}return t._updating_cache=t._cache_update.apply(t,(0,w.default)(i)),t._updating_cache.range=i,e.next=10,t._updating_cache;case 10:return a=e.sent,a&&(t._updating_cache=void 0,t._cached_range=i),e.abrupt("return",a);case 15:if(u(i,t._cached_range)){e.next=17;break}return e.abrupt("return",!1);case 17:return e.abrupt("return",!0);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();t.canvas._paintNow=t.canvas.paintNow,t.canvas.resize=(0,A.default)(x.default.mark(function i(){var n,r,o,a,s,l,u;return x.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return this.size=this.div.getBoundingClientRect(),n=this.width=Math.floor(this.div.clientWidth),r=this.height=Math.floor(this.div.clientHeight),o=1,a=window.devicePixelRatio&&this.component.properties.useHiDPI,a&&(s=window.devicePixelRatio||1,l=this.gc.webkitBackingStorePixelRatio||this.gc.mozBackingStorePixelRatio||this.gc.msBackingStorePixelRatio||this.gc.oBackingStorePixelRatio||this.gc.backingStorePixelRatio||1,o=s/l),this.bounds=new V.default.Rectangle(0,0,n,r),this.component.setBounds(this.bounds),this.resizeNotification(),i.next=11,e();case 11:u=i.sent,u&&(this.buffer.width=this.canvas.width=n*o,this.buffer.height=this.canvas.height=r*o,this.canvas.style.width=this.buffer.style.width=n+"px",this.canvas.style.height=this.buffer.style.height=r+"px",this.bc.scale(o,o),a&&!this.component.properties.useBitBlit&&this.gc.scale(o,o),t.canvas._paintNow());case 13:case"end":return i.stop()}},i,this)})),t.canvas.paintNow=(0,A.default)(x.default.mark(function i(){var n;return x.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e();case 2:n=i.sent,n&&t.canvas._paintNow();case 4:case"end":return i.stop()}},i,this)}))}function p(t,e){if(t.length>0){var i=e[0],n=[];for(var r in i){var o=r.split(",");t.indexOf(o[o.length-1].trim())>=0&&n.push(r)}var a=e,s=Array.isArray(a),l=0;for(a=s?a:(0,M.default)(a);;){var u;if(s){if(l>=a.length)break;u=a[l++]}else{if(l=a.next(),l.done)break;u=l.value}var c=u,h=n,p=Array.isArray(h),d=0;for(h=p?h:(0,M.default)(h);;){var f;if(p){if(d>=h.length)break;f=h[d++]}else{if(d=h.next(),d.done)break;f=d.value}delete c[f]}}}return e}var d=i(54),f=e(d),g=i(108),m=e(g),v=i(71),y=e(v),b=i(122),x=e(b),_=i(125),w=e(_),C=i(130),S=e(C),k=i(133),A=e(k),T=i(70),M=e(T),E=i(74),P=e(E),O=i(136),I=(e(O),i(139)),L=e(I),R=i(75),D=e(R),z=function(){var t=(0,A.default)(x.default.mark(function t(e,i,n,r,o){var a,s;return x.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.to_json({start_row:r,end_row:o});case 2:for(a=t.sent,a=p(n,a),s=0;s<a.length;s++)i[r+s]=a[s];return t.abrupt("return",i);case 6:case"end":return t.stop()}},t,this)}));return function(e,i,n,r,o){return t.apply(this,arguments)}}(),B=function(){var t=(0,A.default)(x.default.mark(function t(e,i,n,r){var o,a,l,h,d,g,v,y,b,_=this;return x.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this[tt]=this[tt]||{},t.next=3,f.default.all([i.num_rows(),i.to_json({end_row:1}),i.schema(),this._table.schema()]);case 3:if(o=t.sent,a=(0,m.default)(o,4),l=a[0],h=a[1],d=a[2],g=a[3],void 0,this.hypergrid||(v=document.createElement("perspective-hypergrid"),this[tt].grid=v,Object.defineProperty(this,"hypergrid",{get:function(){return _[tt].grid.grid}})),h.length=l,y=l>Q,document.contains&&document.contains(this[tt].grid)){t.next=18;break}return e.innerHTML="",e.appendChild(this[tt].grid),t.next=18,new f.default(function(t){return setTimeout(t)});case 18:return y?(b=c(this.hypergrid),((0,S.default)(b[0])||(0,S.default)(b[1]))&&(b=[0,100]),h=z.apply(void 0,[i,h,n].concat((0,w.default)(b))),this.hypergrid._cached_range=b):h=i.to_json().then(function(t){return p(n,t)}),t.next=21,h;case 21:if(h=t.sent,!r.cancelled){t.next=24;break}return t.abrupt("return");case 24:return this.hypergrid._lazy_load=y,this.hypergrid._cache_update=function(){var t=(0,A.default)(x.default.mark(function t(e,r){var o,a;return x.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(i,h,n,e,r);case 2:if(h=t.sent,o=c(_.hypergrid),!u(o,[e,r])){t.next=11;break}return a=s(h,d,g,JSON.parse(_.getAttribute("row-pivots")),e,Math.min(r,l),l).rows,a[0]=_.hypergrid.behavior.dataModel.viewData[0],_.hypergrid.setData({data:a}),t.abrupt("return",!0);case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}},t,_)}));return function(e,i){return t.apply(this,arguments)}}(),this[tt].grid.set_data(h,d,g,JSON.parse(this.getAttribute("row-pivots"))),t.next=29,this.hypergrid.canvas.resize();case 29:return t.next=31,this.hypergrid.canvas.resize();case 31:case"end":return t.stop()}},t,this)}));return function(e,i,n,r){return t.apply(this,arguments)}}(),j=i(144),F=i(145);i(149);var N=i(13),V=e(N),H=i(154),G=i(81),U=i(6),W=i(217).treeLineRendererPaint,$=i(218),q=i(225),X=i(226),Y={autoSelectRows:!1,cellPadding:5,cellSelection:!1,columnSelection:!1,rowSelection:!1,checkboxOnlyRowSelections:!1,columnClip:!0,columnHeaderFont:"12px amplitude-regular, Helvetica, sans-serif",columnHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',columnsReorderable:!1,defaultRowHeight:24,doubleClickDelay:30,editable:!1,editOnKeydown:!0,editor:"textfield",editorActivationKeys:["alt","esc"],enableContinuousRepaint:!1,fixedColumnCount:0,fixedRowCount:0,font:'12px "Arial", Helvetica, sans-serif',foregroundSelectionFont:'12px "Arial", Helvetica, sans-serif',gridLinesH:!1,gridLinesV:!1,halign:"left",headerTextWrapping:!1,hoverColumnHighlight:{enabled:!1},noDataMessage:"",minimumColumnWidth:50,multipleSelections:!1,renderFalsy:!1,rowHeaderFont:"12px Arial, Helvetica, sans-serif",rowHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',rowResize:!0,scrollbarHoverOff:"visible",showCheckboxes:!1,showFilterRow:!0,showHeaderRow:!0,showRowNumbers:!1,showTreeColumn:!1,singleRowSelectionMode:!1,sortColumns:[],treeColumn:"",treeHeaderFont:"12px Arial, Helvetica, sans-serif",treeHeaderForegroundSelectionFont:'12px "Arial", Helvetica, sans-serif',useBitBlit:!1,vScrollbarClassPrefix:"",voffset:0},K={backgroundColor:"#ffffff",color:"#666",lineColor:"#AAA",font:'12px "Open Sans", Helvetica, sans-serif',foregroundSelectionFont:"12px amplitude-regular, Helvetica, sans-serif",foregroundSelectionColor:"#666",backgroundSelectionColor:"rgba(162, 183, 206, 0.3)",selectionRegionOutlineColor:"rgb(45, 64, 85)",columnHeaderColor:"#666",paintBackground:function(t,e){},columnHeaderBackgroundColor:"#fff",columnHeaderHalign:"left",columnHeaderForegroundSelectionColor:"#333",columnHeaderBackgroundSelectionColor:"#40536d",columnHeaderBackgroundNumberPositive:"#1078d1",columnHeaderBackgroundNumberNegative:"#de3838",rowHeaderForegroundSelectionFont:"12px Arial, Helvetica, sans-serif",rowProperties:[{color:"#666",backgroundColor:"#fff"}],hoverCellHighlight:{enabled:!0,backgroundColor:"#eeeeee"},hoverRowHighlight:{enabled:!0,backgroundColor:"#f6f6f6"}},Z={integer:"integer",float:"float",string:"str",boolean:"boolean",date:"date"},J=5;(0,F.registerElement)(X,{set_data:{value:function(t,e,i,n){this._detached&&(this._detached=!1);var r=s(t,e,i,n);this.grid?this.grid.behavior.setPSP(r):this._hg_data=r}},detachedCallback:{value:function(){this._detached=!0}},attachedCallback:{value:function(){if(this.grid)this._detached=!1;else{var t=this.querySelector("#mainGrid");t.setAttribute("hidden",!0),this.grid=new H(t,{Behavior:G.JSON}),t.removeAttribute("hidden"),this.grid.installPlugins([j.GridUIFixPlugin,a,o,h]);var e=n(H._default_properties||K);e.showRowNumbers=e.showCheckboxes||e.showRowNumbers,this.grid.addProperties(e);var i=l(new this.grid.localization.NumberFormatter("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}));this.grid.localization.add("FinanceFloat",i);var r=l(new this.grid.localization.NumberFormatter("en-US",{}));this.grid.localization.add("FinanceInteger",r);var s=l(new this.grid.localization.DateFormatter("en-us",{week:"numeric",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),-1);this.grid.localization.add("FinanceDate",s),this.grid.localization.add("FinanceTree",{format:function(t,e){var n={date:s,integer:r,float:i}[e];return n?n.format(t):t},parse:function(t){return t}}),this._hg_data&&(this.grid.behavior.setPSP(this._hg_data),delete this._hgdata)}}}});var Q=1e4,tt=(0,y.default)("Hypergrid private");t.registerPlugin("hypergrid",{name:"Grid",create:B,selectMode:"toggle",deselectMode:"pivots",resize:function(){this.hypergrid&&this.hypergrid.canvas.resize()},delete:function(){this.hypergrid&&(this.hypergrid.behavior.reset(),this.hypergrid.renderer.reset(),this.hypergrid.canvas.resize())}})}).call(e,i(89))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(55),i(18),i(28),i(99),i(106),i(107),t.exports=i(0).Promise},function(t,e,i){var n=i(32),r=i(33);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,i){"use strict";var n=i(36),r=i(20),o=i(27),a={};i(9)(a,i(1)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(8),r=i(5),o=i(21);t.exports=i(11)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(17),r=i(37),o=i(95);t.exports=function(t){return function(e,i,a){var s,l=n(e),u=r(l.length),c=o(a,u);if(t&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(32),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){"use strict";var n=i(97),r=i(98),o=i(16),a=i(17);t.exports=i(56)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n,r,o,a,s=i(24),l=i(2),u=i(19),c=i(41),h=i(4),p=i(10),d=i(25),f=i(100),g=i(101),m=i(65),v=i(66).set,y=i(103)(),b=i(43),x=i(67),_=i(68),w=l.TypeError,C=l.process,S=l.Promise,k="process"==c(C),A=function(){},T=r=b.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[i(1)("species")]=function(t){t(A,A)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),E=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,r=1==t._s,o=0;i.length>o;)!function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&L(t),t._h=1),!0===s?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?u(w("Promise-chain cycle")):(o=E(i))?o.call(i,l,u):l(i)):u(n)}catch(t){c&&!a&&c.exit(),u(t)}}(i[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(l,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=x(function(){k?C.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=k||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,function(){var e;k?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},D=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(e=E(t))?y(function(){var n={_w:i,_d:!1};try{e.call(t,u(D,n,1),u(R,n,1))}catch(t){R.call(n,t)}}):(i._v=t,i._s=1,P(i,!1))}catch(t){R.call({_w:i,_d:!1},t)}}};M||(S=function(t){f(this,S,"Promise","_h"),d(t),n.call(this);try{t(u(D,this,1),u(R,this,1))}catch(t){R.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(104)(S.prototype,{then:function(t,e){var i=T(m(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=k?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&P(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=u(D,t,1),this.reject=u(R,t,1)},b.f=T=function(t){return t===S||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!M,{Promise:S}),i(27)(S,"Promise"),i(105)("Promise"),a=i(0).Promise,h(h.S+h.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!M),"Promise",{resolve:function(t){return _(s&&this===a?S:this,t)}}),h(h.S+h.F*!(M&&i(69)(function(t){S.all(t).catch(A)})),"Promise",{all:function(t){var e=this,i=T(e),n=i.resolve,r=i.reject,o=x(function(){var i=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=T(e),n=i.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(19),r=i(63),o=i(64),a=i(5),s=i(37),l=i(42),u={},c={};e=t.exports=function(t,e,i,h,p){var d,f,g,m,v=p?function(){return t}:l(t),y=n(i,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((m=e?y(a(f=t[b])[0],f[1]):y(t[b]))===u||m===c)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=r(g,y,f.value,e))===u||m===c)return m};e.BREAK=u,e.RETURN=c},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(2),r=i(66).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(22)(a);t.exports=function(){var t,e,i,u=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(u)}}else i=function(){r.call(n,u)};else{var h=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),i=function(){p.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n=i(9);t.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},function(t,e,i){"use strict";var n=i(2),r=i(0),o=i(8),a=i(11),s=i(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(4),r=i(0),o=i(2),a=i(65),s=i(68);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(4),r=i(43),o=i(67);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(109),o=n(r),a=i(70),s=n(a);e.default=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,i){t.exports={default:i(110),__esModule:!0}},function(t,e,i){i(28),i(18),t.exports=i(111)},function(t,e,i){var n=i(41),r=i(1)("iterator"),o=i(16);t.exports=i(0).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,i){i(28),i(18),t.exports=i(113)},function(t,e,i){var n=i(5),r=i(42);t.exports=i(0).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){i(115),i(55),i(120),i(121),t.exports=i(0).Symbol},function(t,e,i){"use strict";var n=i(2),r=i(12),o=i(11),a=i(4),s=i(58),l=i(116).KEY,u=i(15),c=i(39),h=i(27),p=i(26),d=i(1),f=i(44),g=i(45),m=i(117),v=i(118),y=i(5),b=i(10),x=i(17),_=i(35),w=i(20),C=i(36),S=i(72),k=i(119),A=i(8),T=i(21),M=k.f,E=A.f,P=S.f,O=n.Symbol,I=n.JSON,L=I&&I.stringify,R=d("_hidden"),D=d("toPrimitive"),z={}.propertyIsEnumerable,B=c("symbol-registry"),j=c("symbols"),F=c("op-symbols"),N=Object.prototype,V="function"==typeof O,H=n.QObject,G=!H||!H.prototype||!H.prototype.findChild,U=o&&u(function(){return 7!=C(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(N,e);n&&delete N[e],E(t,e,i),n&&t!==N&&E(N,e,n)}:E,W=function(t){var e=j[t]=C(O.prototype);return e._k=t,e},$=V&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},q=function(t,e,i){return t===N&&q(F,e,i),y(t),e=_(e,!0),y(i),r(j,e)?(i.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),i=C(i,{enumerable:w(0,!1)})):(r(t,R)||E(t,R,w(1,{})),t[R][e]=!0),U(t,e,i)):E(t,e,i)},X=function(t,e){y(t);for(var i,n=m(e=x(e)),r=0,o=n.length;o>r;)q(t,i=n[r++],e[i]);return t},Y=function(t,e){return void 0===e?C(t):X(C(t),e)},K=function(t){var e=z.call(this,t=_(t,!0));return!(this===N&&r(j,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(j,t)||r(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=x(t),e=_(e,!0),t!==N||!r(j,e)||r(F,e)){var i=M(t,e);return!i||!r(j,e)||r(t,R)&&t[R][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=P(x(t)),n=[],o=0;i.length>o;)r(j,e=i[o++])||e==R||e==l||n.push(e);return n},Q=function(t){for(var e,i=t===N,n=P(i?F:x(t)),o=[],a=0;n.length>a;)!r(j,e=n[a++])||i&&!r(N,e)||o.push(j[e]);return o};V||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===N&&e.call(F,i),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),U(this,t,w(1,i))};return o&&G&&U(N,t,{configurable:!0,set:e}),W(t)},s(O.prototype,"toString",function(){return this._k}),k.f=Z,A.f=q,i(73).f=S.f=J,i(29).f=K,i(46).f=Q,o&&!i(24)&&s(N,"propertyIsEnumerable",K,!0),f.f=function(t){return W(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var it=T(d.store),nt=0;it.length>nt;)g(it[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=O(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!V,"Object",{create:Y,defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!V||u(function(){var t=O();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(b(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!$(e))return e}),n[1]=e,L.apply(I,n)}}),O.prototype[D]||i(9)(O.prototype,D,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,i){var n=i(26)("meta"),r=i(10),o=i(12),a=i(8).f,s=0,l=Object.isExtensible||function(){return!0},u=!i(15)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[n].i},p=function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[n].w},d=function(t){return u&&f.NEED&&l(t)&&!o(t,n)&&c(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:p,onFreeze:d}},function(t,e,i){var n=i(21),r=i(46),o=i(29);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,i){var n=i(22);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(29),r=i(20),o=i(17),a=i(35),s=i(12),l=i(57),u=Object.getOwnPropertyDescriptor;e.f=i(11)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){i(45)("asyncIterator")},function(t,e,i){i(45)("observable")},function(t,e,i){t.exports=i(123)},function(t,e,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i(124),r)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new d(n||[]);return a._invoke=u(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,r,o,a){var s=n(t[i],t,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function i(t,i){function n(){return new Promise(function(n,r){e(t,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function u(t,e,i){var r=k;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===M){if("throw"===o)throw a;return g()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=c(s,i);if(l){if(l===E)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===k)throw r=M,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=T;var u=n(t,e,i);if("normal"===u.type){if(r=i.done?M:A,u.arg===E)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=M,i.method="throw",i.arg=u.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function f(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(y.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=m,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",C="object"==typeof t,S=e.regeneratorRuntime;if(S)C&&(t.exports=S);else{S=e.regeneratorRuntime=C?t.exports:{},S.wrap=i;var k="suspendedStart",A="suspendedYield",T="executing",M="completed",E={},P={};P[x]=function(){return this};var O=Object.getPrototypeOf,I=O&&O(O(f([])));I&&I!==v&&y.call(I,x)&&(P=I);var L=a.prototype=r.prototype=Object.create(P);o.prototype=L.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(L),t},S.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[_]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,n,r){var o=new l(i(t,e,n,r));return S.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(L),L[w]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=f,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),p(i),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;p(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:f(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=m),E}}}}(function(){return this}()||Function("return this")())},function(t,e,i){"use strict";e.__esModule=!0;var n=i(126),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,r.default)(t)}},function(t,e,i){t.exports={default:i(127),__esModule:!0}},function(t,e,i){i(18),i(128),t.exports=i(0).Array.from},function(t,e,i){"use strict";var n=i(19),r=i(4),o=i(23),a=i(63),s=i(64),l=i(37),u=i(129),c=i(42);r(r.S+r.F*!i(69)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,h,p=o(t),d="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,y=c(p);if(m&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=l(p.length),i=new d(e);e>v;v++)u(i,v,m?g(p[v],v):p[v]);else for(h=y.call(p),i=new d;!(r=h.next()).done;v++)u(i,v,m?a(h,g,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(8),r=i(20);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){t.exports={default:i(131),__esModule:!0}},function(t,e,i){i(132),t.exports=i(0).Number.isNaN},function(t,e,i){var n=i(4);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){"use strict";e.__esModule=!0;var n=i(54),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,i){function n(o,a){try{var s=e[o](a),l=s.value}catch(t){return void i(t)}if(!s.done)return r.default.resolve(l).then(function(t){n("next",t)},function(t){n("throw",t)});t(l)}return n("next")})}}},function(t,e,i){i(135),t.exports=i(0).Object.keys},function(t,e,i){var n=i(23),r=i(21);i(47)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(137),o=n(r),a=i(71),s=n(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){i(18),i(28),t.exports=i(44).f("iterator")},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){var n=i(0),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){i(142),t.exports=i(0).Object.assign},function(t,e,i){var n=i(4);n(n.S+n.F,"Object",{assign:i(143)})},function(t,e,i){"use strict";var n=i(21),r=i(46),o=i(29),a=i(23),s=i(60),l=Object.assign;t.exports=!l||i(15)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=a(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var p,d=s(arguments[u++]),f=c?n(d).concat(c(d)):n(d),g=f.length,m=0;g>m;)h.call(d,p=f[m++])&&(i[p]=d[p]);return i}:l},function(t,e,i){"use strict";function n(t){t._getGridCellFromMousePoint=t.getGridCellFromMousePoint,t.getGridCellFromMousePoint=function(t){if(0===this.getRowCount())return{fake:1};try{return this._getGridCellFromMousePoint(t)}catch(t){return{fake:1}}},t.renderer._paintGridlines=t.renderer.paintGridlines,t.renderer.paintGridlines=function(t){var e=this.visibleColumns,i=e.length,n=this.visibleRows,r=n.length;if(i&&r){var o=this.properties,a=o.lineWidth,s=o.lineColor,l=n[r-1].bottom,u=e[i-1].right;if(t.cache.fillStyle=s,o.fixedColumnCount>0&&o.fixedColumnCount<i){var c=o.gridLinesV?a+1:a,h=e[o.fixedColumnCount].left-1;t.fillRect(h,0,c,l)}if(o.fixedRowCount>0&&o.fixedRowCount<r){c=o.gridLinesH?a+1:a;var p=n[o.fixedRowCount].bottom;t.fillRect(0,p,u,c)}t.fillRect(0,n[0].bottom,u,1),this._paintGridlines(t)}},t.renderer.computeCellsBounds=function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b,x,_,w,C,S,k,A,T,M,E,P,O,I,L,R,D,z=this.getScrollTop(),B=this.getScrollLeft(),j=this.grid.getFixedColumnCount(),F=this.grid.getFixedRowCount(),N=this.getBounds(),V=this.grid,H=V.behavior,G=V.cellEditor&&V.cellEditor.event,U=0,W=0,$=V.properties.gridLinesV?V.properties.lineWidth:1,q=V.properties.gridLinesH?V.properties.lineWidth:0,X=0,Y=0,K=H.subgrids;for(G&&(e=G.gridCell.x,n=G.dataCell.y,r=G.subgrid),V.properties.showRowNumbers&&(X=H.rowColumnIndex,Y=Math.abs(X)),this.scrollHeight=0,this.visibleColumns.length=0,this.visibleRows.length=0,this.visibleColumnsByIndex=[],this.visibleRowsByDataRowIndex={},this.insertionBounds=[],a=0,c=X,h=V.getColumnCount(),s=N.width||V.canvas.width;c<h&&a<=s;c++)if(c!==H.treeColumnIndex||H.hasTreeColumn()){if(w=c,c>=j&&(E=w+=B,void 0===M&&(M=E)),w>=h)break;A=Math.ceil(H.getColumnWidth(w)),L=a?a+$:a,R=a?A-$:A,this.visibleColumns[c]=this.visibleColumnsByIndex[w]=k={index:c,columnIndex:w,column:H.getActiveColumn(w),left:L,width:R,right:L+R},e===w&&(t=k),a+=A,U+=Math.round(A/2)+W,this.insertionBounds.push(U),W=Math.round(A/2)}else Y=Y>0?Y-1:0,this.visibleColumns[c]=void 0;for(_=V.properties.defaultRowHeight*K.reduce(function(t,e){return x?t+=e.getRowCount():x=e.isData,t},0),v=f=p=l=0,d=K.length,u=N.height-_;p<d;p++,v+=m){for(y=K[p],m=y.getRowCount(),x=y.isData,o=r===y,I=f,g=f+m;f<g&&l<u&&(C=f,!(x&&f>=F&&(C+=z,O=C-v,void 0===P&&(P=O),C>=g)));f++)b=C-v,T=H.getRowHeight(b,y),D=T-q,this.visibleRows[f]=S={index:f,subgrid:y,rowIndex:b,top:l,height:D,bottom:l+D},x&&(this.visibleRowsByDataRowIndex[C-v]=S),o&&n===b&&(i=S),l+=T;x&&(m=f-I,u+=_)}G&&(G.visibleColumn=t,G.visibleRow=i,G.gridCell.y=i&&i.index,G._bounds=null),this.viewHeight=u,this.dataWindow=this.grid.newRectangle(M,P,E-M,O-P);var Z=this.cellEventPool,J=Z.length,Q=(this.visibleColumns.length+Y)*this.visibleRows.length;Q>J&&(Z.length=Q);for(var tt=J;tt<Q;tt++)Z[tt]=new H.CellEvent;this.resetAllGridRenderers()}}Object.defineProperty(e,"__esModule",{value:!0}),e.GridUIFixPlugin=n},function(t,e,i){"use strict";function n(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}function r(){var t=window.chrome,e=window.navigator,i=e.vendor,n=e.userAgent.indexOf("OPR")>-1,r=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!==t&&void 0!==t&&"Google Inc."===i&&!1===n&&!1===r}function o(){var t;try{throw new Error}catch(r){var e=r.stack.split("\n"),i=0;for(var n in e)if(e[n].match(/http[s]?:\/\//)){i=Number(n);break}t=e[i].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))).*?:/)}this.fullPath=function(){return t?t[1]:window.location.origin+window.location.pathname},this.path=function(){return t?t[2]:window.location.pathname},this.host=function(){var t=this.path().match(/.+?\/\/.+?\//);return t?t[0]:window.location.hostname},this.file=function(){return t?t[3]:""}}function a(t){var e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}function s(t,e){e.attributeChangedCallback={value:function(t,e,i){"_"!==t[0]&&(this[t]=i)}},t=a(t);var i=e.attachedCallback;for(var n in e)!function(t){if(e[t].set){var i=e[t].set;e[t].set=function(e){this.getAttribute(t)===e?(this._initializing||this._initialized)&&i.bind(this)(e):this.setAttribute(t,e)}}}(n);e.attachedCallback={value:function(){if(!this._initialized){for(this._initializing=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var n=document.importNode(t.content,!0);for(var r in this.appendChild(n),i.value.bind(this)(),e)"attachedCallback"!==r&&this.getAttribute(r)&&"_"!==r[0]&&(this[r]=this.getAttribute(r));this._initializing=!1,this._initialized=!0}}};var r=t.getAttribute("id");console.log("Registered "+r),document.registerElement(r,{prototype:(0,u.default)(HTMLElement.prototype,e)})}Object.defineProperty(e,"__esModule",{value:!0});var l=i(146),u=function(t){return t&&t.__esModule?t:{default:t}}(l);e.detectIE=n,e.detectChrome=r,e.ScriptPath=o,e.importTemplate=a,e.registerElement=s},function(t,e,i){t.exports={default:i(147),__esModule:!0}},function(t,e,i){i(148);var n=i(0).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(4);n(n.S,"Object",{create:i(36)})},function(t,e,i){var n=i(150);"string"==typeof n&&(n=[[t.i,n,""]]);var r={transform:void 0};i(152)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(151)(!1),e.push([t.i,"/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nperspective-hypergrid {\n  width: 100%;\n  position: relative;\n}\nperspective-hypergrid #gridWrapper {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  position: absolute;\n}\nperspective-hypergrid #mainGrid {\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n  overflow: hidden;\n}\nperspective-hypergrid #mainGrid input {\n  margin: 0px;\n}\nperspective-hypergrid div.finbar-vertical {\n  margin: 0px 0px 0px 0px !important;\n  width: 15px !important;\n  box-shadow: 0 0 0px #000, 0 0 0px #000, 0 0 0px #000;\n}\nperspective-hypergrid div.finbar-vertical div.thumb {\n  width: 13px;\n  right: -1px;\n  background-color: #9e9e9e;\n  box-shadow: 0 0 0px #000, 0 0 0px #000, 0 0 0px #000;\n  border-radius: 0px;\n  margin: 0px !important;\n}\nperspective-hypergrid div.finbar-horizontal {\n  margin: 0px !important;\n  height: 15px !important;\n  box-shadow: 0 0 0px #000, 0 0 0px #000, 0 0 0px #000;\n}\nperspective-hypergrid div.finbar-horizontal div.thumb {\n  margin: -3px 2px;\n  height: 13px;\n  bottom: 4px;\n  background-color: #9e9e9e;\n  box-shadow: 0 0 0px #000, 0 0 0px #000, 0 0 0px #000;\n  border-radius: 0px;\n}\n",""])},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(c(n.parts[o],e));f[n.id]={id:n.id,refs:1,parts:a}}}}function r(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s=o[1],l=o[2],u=o[3],c={css:s,media:l,sourceMap:u};n[a]?n[a].parts.push(c):i.push(n[a]={id:a,parts:[c]})}return i}function o(t,e){var i=m(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function c(t,e){var i,n,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=y++;i=v||(v=s(e)),n=h.bind(null,i,u,!1),r=h.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=d.bind(null,i,e),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=p.bind(null,i),r=function(){a(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function h(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=x(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var f={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),m=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t.call(this,i)),e[i]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],x=i(153);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=r(t,e);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=f[s.id];l.refs--,o.push(l)}t&&n(r(t,e),e);for(a=0;a<o.length;a++){l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var _=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,i){"use strict";t.exports=i(155)},function(t,e,i){"use strict";function n(t,e){if(1===arguments.length&&(e=t,t=e.themeName),!t)throw new g.prototype.HypergridError("Cannot register a theme without a name.");if("default"===t)throw new g.prototype.HypergridError('Cannot register a theme named "default".');e.themeName=e.themeName||t,T.themes[t]=e}function r(t){switch(typeof t){case"undefined":case"object":if(t&&Object.getOwnPropertyNames(t).length)break;t="default";case"string":if(t=T.themes[t])break;default:throw new g.prototype.HypergridError('Unknown theme "'+t+'"')}var e=Object.getOwnPropertyDescriptors(t);"themeName"in e||(e.themeName={configurable:!0,value:void 0}),d(e).each(function(t,i){i in v?delete e[i]:t.configurable=!0}),Object.defineProperties(this.theme,e)}function o(){Object.getOwnPropertyNames(v).forEach(function(t){var e=v[t];(a(e.get,".var.")||a(e.set,".var."))&&(this[t]=m[t])},this)}function a(t,e){return t&&-1!==t.toString().indexOf(e)}function s(t){var e=document.getElementById("hypergrid");return e&&!e.firstElementChild||(e=document.createElement("div"),l(e,t,A),document.body.appendChild(e)),e}function l(t,e,i){if(e){var n=t.style;i.forEach(function(t){void 0!==e[t]&&(n[t]=e[t])})}}function u(){var t=this;return Object.keys(this).reduce(function(e,i){return"toJSON"!==i&&(e[i]=/^function /.test(i)?null:t[i].toString().replace(/^function anonymous\(/,"function(").replace("\n/*``*/)",")")),e},{})}i(156);var c=i(157),h=i(13).Point,p=i(13).Rectangle,d=i(48),f=i(159).bind(i(161)),g=i(6),m=i(77),v=i(162),y=i(163),b=i(164),x=i(170),_=i(52),w=i(81),C=i(199),S=i(208),k=["top","bottom","left","right"],A=k.concat(["width","height","position"]),T=g.extend("Hypergrid",{initialize:function(t,e){"string"==typeof t||t instanceof HTMLElement||(e=t,t=null),this.options=e=e||{},this.clearState(),this.setContainer(t||e.container||s(e.boundingRect)),Object.getPrototypeOf(this).installPlugins(e.plugins),this.lastEdgeSelection=[0,0],this.isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,this.selectionModel=new x(this),this.renderOverridesCache={},this.allowEventHandlers=!0,this.dragExtent=new h(0,0),this.numRows=0,this.numColumns=0,this.clearMouseDown(),this.setFormatter(e.localization),this.listeners={},this.cellRenderers=new C,this.cellEditors=new S(this),this.options.Behavior?this.setBehavior(this.options):this.options.data&&this.setData(this.options.data,this.options),this.options.state&&this.loadState(this.options.state),this.plugins={},this.installPlugins(e.plugins),document.addEventListener("mousedown",this.mouseCatcher=function(){this.abortEditing()}.bind(this))},terminate:function(){document.removeEventListener("mousedown",this.mouseCatcher)},registerCellEditor:function(t,e){return this.deprecated("registerCellEditor(Constructor, name)","cellEditors.add(name, Constructor)","1.0.6",arguments)},createCellEditor:function(t){return this.deprecated("createCellEditor(name)","cellEditors.create(name)","1.0.6",arguments)},getCellProvider:function(t){return this.deprecated("getCellProvider()","cellRenderers","1.0.6",arguments)},registerLocalizer:function(t,e,i,n){return this.deprecated("registerLocalizer(name, localizer, baseClassName, newClassName)","localization.add(name, localizer)","1.0.6",arguments,"STRUCTURAL CHANGE: No longer supports deriving and registering a new cell editor class. Use .cellEditors.get(baseClassName).extend(newClassName || name, {...}) for that.")},getRenderer:function(){return this.deprecated("getRenderer()","renderer","1.1.0")},behavior:null,isWebkit:!0,mouseDown:[],dragExtent:null,vScrollValue:0,hScrollValue:0,selectionModel:null,cellEditor:null,sbHScroller:null,sbVScroller:null,sbPrevVScrollValue:null,sbPrevHScrollValue:null,renderOverridesCache:{},hoverCell:null,scrollingNow:!1,lastEdgeSelection:null,setAttribute:function(t,e){this.div.setAttribute(t,e)},clearState:function(){this._theme=Object.create(m),this.properties=Object.defineProperties(Object.create(this.theme,v),{grid:{value:this},var:{value:new o}})},reset:function(t){this.clearState(),this.removeAllEventListeners(),this.lastEdgeSelection=[0,0],this.selectionModel.reset(),this.renderOverridesCache={},this.clearMouseDown(),this.dragExtent=new h(0,0),this.numRows=0,this.numColumns=0,this.vScrollValue=0,this.hScrollValue=0,this.cancelEditing(),this.sbPrevVScrollValue=null,this.sbPrevHScrollValue=null,this.hoverCell=null,this.scrollingNow=!1,this.lastEdgeSelection=[0,0],t=t||{},this.behavior.reset({subgrids:t.subgrids,pipeline:t.pipeline,controllers:t.controllers}),this.renderer.reset(),this.canvas.resize(),this.behaviorChanged(),this.refreshProperties()},installPlugins:function(t){var e=this===T.prototype;t&&(Array.isArray(t)||(t=[t]),t.forEach(function(t){var i,n,r;if(t&&(n=[this],e&&n.push(w.Behavior.prototype),Array.isArray(t)&&(t.length?"string"!=typeof t[0]?(n=n.concat(t.slice(1)),t=t[0]):t.length>=2?(n=n.concat(t.slice(2)),i=t[0],t=t[1]):t=void 0:t=void 0),t)){if(i=i||t.name||t.$$CLASS_NAME,i&&(i=i.substr(0,1).toLowerCase()+i.substr(1)),e)r=this.constructor.plugins,t.preinstall&&!r[i]&&t.preinstall.apply(t,n);else if(r=this.plugins,"function"==typeof t)t=this.createApply(t,n);else if(t.install)t.install.apply(t,n);else if(!t.preinstall)throw new g.prototype.HypergridError("Expected plugin (a constructor; or an API with a `preinstall` method and/or an `install` method).");i&&(r[i]=t)}},this))},uninstallPlugins:function(t){t?Array.isArray(t)||(t=[t]):t=[],d(this.plugins).each(function(e,i,n){n.hasOwnProperty(i)&&t.indexOf(i)>=0&&e.uninstall&&e.uninstall(this,i,n)},this)},getProperties:function(){return this.deprecated("getProperties()","properties","1.2.0")},computeCellsBounds:function(){this.renderer.computeCellsBounds()},setFormatter:function(t){t=t||{},this.localization=new _(t.locale||T.localization.locale,t.numberOptions||T.localization.numberOptions,t.dateOptions||T.localization.dateOptions)},getFormatter:function(t){return this.localization.get(t).format},formatValue:function(t,e){return this.getFormatter(t)(e)},isRowResizeable:function(){return this.deprecated("isRowResizeable()","properties.rowResize","v1.2.10")},isCheckboxOnlyRowSelections:function(){return this.deprecated("isCheckboxOnlyRowSelections()","properties.checkboxOnlyRowSelections","v1.2.10")},getHoverCell:function(){return this.deprecated("getHoverCell()","hoverCell","v1.2.0")},setHoverCell:function(t){var e=this.hoverCell;e&&e.equals(t.gridCell)||(this.hoverCell=t.gridCell,e&&this.fireSyntheticOnCellExitEvent(t),this.fireSyntheticOnCellEnterEvent(t),this.repaint())},addProperties:function(t){Object.assign(this.properties,t),this.refreshProperties()},refreshProperties:function(){this.synchronizeScrollingBoundaries(),this.computeCellsBounds(),this.checkScrollbarVisibility(),this.behavior.defaultRowHeight=null,this.behavior.autosizeAllColumns()},getPrivateState:function(){return this.deprecated("getPrivateState()","properties","1.2.0")},setState:function(t){var e=this;this.behavior.setState(t),this.refreshProperties(),setTimeout(function(){e.behaviorChanged(),e.synchronizeScrollingBoundaries()},100)},getState:function(){return this.behavior.getState()},loadState:function(t){this.behavior.setState(t)},saveState:function(t){t=t||{};var e=void 0===t.space?"\t":t.space,i=this.properties,n=i.calculators;if(n){if(t.compact){var r=this.behavior.getColumns();Object.keys(n).forEach(function(t){r.find(function(e){return e.properties.calculator===n[t]})||delete n[t]})}n.toJSON=u}this.headerify=t.headerify;var o=JSON.stringify(i,function(e,r){return t.blacklist&&this===i&&t.blacklist.indexOf(e)>=0?r=void 0:"calculator"===e&&(r=n?Object.keys(n).find(function(t){return n[t]===r}):r.toString()),r},e);return delete this.headerify,o},getMouseDown:function(){if(this.mouseDown.length)return this.mouseDown[this.mouseDown.length-1]},popMouseDown:function(){var t;return this.mouseDown.length&&(t=this.mouseDown.pop()),t},clearMouseDown:function(){this.mouseDown=[new h(-1,-1)],this.dragExtent=null},setMouseDown:function(t){this.mouseDown.push(t)},getDragExtent:function(){return this.dragExtent},setDragExtent:function(t){this.dragExtent=t},gridRenderedNotification:function(){this.cellEditor&&this.cellEditor.gridRenderedNotification(),this.checkColumnAutosizing(),this.fireSyntheticGridRenderedEvent()},tickNotification:function(){this.fireSyntheticTickEvent()},checkColumnAutosizing:function(){var t=this.behavior;t.autoSizeRowNumberColumn(),t.checkColumnAutosizing(!1)&&setTimeout(function(){t.grid.synchronizeScrollingBoundaries()})},checkClipboardCopy:function(t){if(this.hasFocus()){t.preventDefault();var e=this.getSelectionAsTSV();t.clipboardData.setData("text/plain",e)}},hasFocus:function(){return this.canvas.hasFocus()},setBehavior:function(t){if(!this.behavior){var e=t.Behavior||w.JSON;this.behavior=new e(this,t),this.initCanvas(),this.initScrollbars(),this.refreshProperties(),this.behavior.reindex()}},setData:function(t,e){this.setBehavior({pipeline:this.options.pipeline}),this.behavior.setData(t,e),this.setInfo(t.length?"":this.properties.noDataMessage),this.behavior.changed()},setInfo:function(t){this.renderer.setInfo(t)},updateData:function(t,e){this.deprecated("updateData(dataRows, options)","setData(dataRows, options)","v1.2.10",arguments,"To update data without changing column definitions, call setData _without a schema._")},setPipeline:function(t,e){this.behavior.setPipeline(t,e)},behaviorChanged:function(){this.divCanvas&&(this.numColumns!==this.getColumnCount()||this.numRows!==this.getRowCount()?(this.numColumns=this.getColumnCount(),this.numRows=this.getRowCount(),this.behaviorShapeChanged()):this.behaviorStateChanged())},behaviorShapeChanged:function(){this.divCanvas&&this.synchronizeScrollingBoundaries()},behaviorStateChanged:function(){this.divCanvas&&(this.computeCellsBounds(),this.repaint())},getBounds:function(){return this.renderer.getBounds()},resolveProperty:function(t){return this.deprecated("resolveProperty",".resolveProperty(key) deprecated as of v1.2.0 in favor of .properties dereferenced by [key]. (Will be removed in a future version.)"),this.properties[t]},repaint:function(){var t=this.properties.repaintImmediately,e=this.canvas;e&&(!0===t?e.paintNow():e.repaint())},paintNow:function(){this.canvas.paintNow()},useHiDPI:function(){return this.deprecated("useHiDPI()","properties.useHiDPI","v1.2.10")},setContainer:function(t){this.initContainer(t),this.initRenderer()},initContainer:function(t){"string"==typeof t&&(t=document.querySelector(t)),t.style.position||(t.style.position=null),t.clientHeight<1&&(t.style.height=null),f("grid"),t.oncontextmenu=function(t){return t.stopPropagation(),t.preventDefault(),!1},t.removeAttribute("tabindex"),t.classList.add("hypergrid-container"),t.id=t.id||"hypergrid"+(document.querySelectorAll(".hypergrid-container").length-1||""),this.div=t},initCanvas:function(){if(!this.divCanvas){var t=document.createElement("div");l(t,this.options.margin,k),this.div.appendChild(t);var e=new y(t,this.renderer,this.options.canvas);e.canvas.classList.add("hypergrid"),this.divCanvas=t,this.canvas=e,this.delegateCanvasEvents()}},convertViewPointToDataPoint:function(t){return this.behavior.convertViewPointToDataPoint(t)},convertDataPointToViewPoint:function(t){return this.behavior.convertDataPointToViewPoint(t)},setScrollingNow:function(t){this.scrollingNow=t},isScrollingNow:function(){return this.scrollingNow},beCursor:function(t){t||(t="default"),this.div.style.cursor=t},stopEditing:function(){return!this.cellEditor||this.cellEditor.stopEditing()},cancelEditing:function(){return!this.cellEditor||this.cellEditor.cancelEditing()},abortEditing:function(){return!this.cellEditor||(this.cellEditor.abortEditing?this.cellEditor.abortEditing():this.cellEditor.stopEditing())},getDataBounds:function(){var t=this.canvas.bounds;return new p(0,0,t.origin.x+t.extent.x,t.origin.y+t.extent.y)},getCanvas:function(){return this.deprecated("getCanvas()","canvas","1.2.2")},editAt:function(t){var e;return 2===arguments.length?this.deprecated("editAt(cellEditor, event)","editAt(event)","1.0.6",arguments):(this.abortEditing(),t.isDataColumn&&t.properties[t.isDataRow?"editable":"filterable"]&&(e=this.getCellEditorAt(t))&&e.beginEditing(),e)},isColumnVisible:function(t){return this.renderer.isColumnVisible(t)},isDataRowVisible:function(t){return this.renderer.isRowVisible(t)},isDataVisible:function(t,e){return this.isDataRowVisible(e)&&this.isColumnVisible(t)},insureModelColIsVisible:function(t,e){var i=this.getColumnCount()-1,n=t+Math.sign(e),r=!this.isColumnVisible(n)||t===i;return r&&this.scrollBy(e,0),r},insureModelRowIsVisible:function(t,e){var i=this.getRowCount()-1,n=t+Math.sign(e),r=!this.isDataRowVisible(n)||t===i;return r&&this.scrollBy(0,e),r},scrollBy:function(t,e){this.scrollHBy(t),this.scrollVBy(e)},scrollVBy:function(t){var e=this.sbVScroller.range.max,i=this.getVScrollValue(),n=Math.min(e,Math.max(0,i+t));n!==i&&this.setVScrollValue(n)},scrollHBy:function(t){var e=this.sbHScroller.range.max,i=this.getHScrollValue(),n=Math.min(e,Math.max(0,i+t));n!==i&&this.setHScrollValue(n)},scrollToMakeVisible:function(t,e){var i,n=this.renderer.dataWindow,r=this.properties.fixedColumnCount,o=this.properties.fixedRowCount;t>=r&&((i=t-n.origin.x)<0||(i=t-n.origin.x+1)>0)&&(this.sbHScroller.index+=i),e>=o&&((i=e-n.origin.y)<0||(i=e-n.corner.y)>0)&&(this.sbVScroller.index+=i)},selectCellAndScrollToMakeVisible:function(t,e){this.scrollToMakeVisible(t,e),this.selectCell(t,e,!0)},getGridCellFromMousePoint:function(t){return this.renderer.getGridCellFromMousePoint(t)},getBoundsOfCell:function(t){var e=this.renderer.getBoundsOfCell(t.x,t.y);return new p(e.x,e.y,e.width,e.height)},resized:function(){this.synchronizeScrollingBoundaries()},cellClicked:function(t){var e=this.behavior.cellClicked(t);return void 0!==e&&this.behavior.changed(),e},windowOpen:function(t,e,i,n){return window.open.apply(window,arguments)},getColumns:function(t,e){var i=this.behavior.getColumns();return i.slice.apply(i,arguments)},getActiveColumns:function(t,e){var i=this.behavior.getActiveColumns();return i.slice.apply(i,arguments)},getHiddenColumns:function(){return this.behavior.getHiddenColumns()},isViewableButton:function(t,e){return this.renderer.isViewableButton(t,e)},setVScrollValue:function(t){var e=this;if((t=Math.min(this.sbVScroller.range.max,Math.max(0,Math.round(t))))!==this.vScrollValue){this.behavior._setScrollPositionY(t);var i=this.vScrollValue;this.vScrollValue=t,this.scrollValueChangedNotification(),setTimeout(function(){e.fireScrollEvent("fin-scroll-y",i,t)})}},getVScrollValue:function(){return this.vScrollValue},setHScrollValue:function(t){var e=this;if((t=Math.min(this.sbHScroller.range.max,Math.max(0,Math.round(t))))!==this.hScrollValue){this.behavior._setScrollPositionX(t);var i=this.hScrollValue;this.hScrollValue=t,this.scrollValueChangedNotification(),setTimeout(function(){e.fireScrollEvent("fin-scroll-x",i,t)})}},getHScrollValue:function(){return this.hScrollValue},takeFocus:function(){var t=this.cellEditor;this.stopEditing(),t||this.canvas.takeFocus()},editorTakeFocus:function(){if(this.cellEditor)return this.cellEditor.takeFocus()},initScrollbars:function(){if(!this.sbHScroller||!this.sbVScroller){var t=this,e=new c({orientation:"horizontal",onchange:t.setHScrollValue.bind(t),cssStylesheetReferenceElement:this.div}),i=new c({orientation:"vertical",onchange:t.setVScrollValue.bind(t),paging:{up:t.pageUp.bind(t),down:t.pageDown.bind(t)}});this.sbHScroller=e,this.sbVScroller=i;var n=this.properties.hScrollbarClassPrefix,r=this.properties.vScrollbarClassPrefix;n&&""!==n&&(this.sbHScroller.classPrefix=n),r&&""!==r&&(this.sbVScroller.classPrefix=r),this.div.appendChild(e.bar),this.div.appendChild(i.bar),this.resizeScrollbars()}},resizeScrollbars:function(){this.sbHScroller.shortenBy(this.sbVScroller).resize(),this.sbVScroller.resize()},setVScrollbarValues:function(t){this.sbVScroller.range={min:0,max:t}},setHScrollbarValues:function(t){this.sbHScroller.range={min:0,max:t}},scrollValueChangedNotification:function(){this.hScrollValue===this.sbPrevHScrollValue&&this.vScrollValue===this.sbPrevVScrollValue||(this.sbPrevHScrollValue=this.hScrollValue,this.sbPrevVScrollValue=this.vScrollValue,this.cellEditor&&this.cellEditor.scrollValueChangedNotification(),this.computeCellsBounds())},getValue:function(t,e){return this.behavior.getValue.apply(this.behavior,arguments)},setValue:function(t,e,i){this.behavior.setValue.apply(this.behavior,arguments)},synchronizeScrollingBoundaries:function(){var t=this.getFixedColumnCount(),e=this.getColumnCount(),i=this.getRowCount(),n=this.getBounds();if(n){for(var r=n.width-this.behavior.getFixedColumnsMaxWidth(),o=0,a=0;a<e&&o<r;a++)o+=this.getColumnWidth(e-a-1);o>r&&a--;for(var s=this.renderer.getVisibleScrollHeight(),l=0,u=0;u<i&&l<s;u++)l+=this.getRowHeight(i-u-1);if(l>s&&u--,this.sbHScroller){var c=Math.max(0,e-t-a);this.setHScrollbarValues(c),this.setHScrollValue(Math.min(this.getHScrollValue(),c))}if(this.sbVScroller){var h=Math.max(0,i-this.properties.fixedRowCount-u);this.setVScrollbarValues(h),this.setVScrollValue(Math.min(this.getVScrollValue(),h))}this.behaviorStateChanged(),this.resizeScrollbars()}},synchronizeScrollingBoundries:function(){this.deprecated("synchronizeScrollingBoundries()","synchronizeScrollingBoundaries()","1.2.0")},getVisibleRows:function(){return this.renderer.getVisibleRows()},getVisibleColumns:function(){return this.renderer.getVisibleColumns()},initRenderer:function(){this.renderer=this.renderer||new b(this)},getColumnWidth:function(t){return this.behavior.getColumnWidth(t)},setColumnWidth:function(t,e){this.abortEditing()&&this.behavior.setColumnWidth(t,e)},getColumnEdge:function(t){return this.behavior.getColumnEdge(t,this.getRenderer())},getFixedColumnsWidth:function(){return this.behavior.getFixedColumnsWidth()},getRowHeight:function(t,e){return this.behavior.getRowHeight(t,e)},setRowHeight:function(t,e,i){this.abortEditing()&&this.behavior.setRowHeight(t,e,i)},getFixedRowsHeight:function(){return this.behavior.getFixedRowsHeight()},getColumnCount:function(){return this.behavior.getActiveColumnCount()},getRowCount:function(){return this.behavior.getRowCount()},getUnfilteredRowCount:function(){return this.deprecated("getUnfilteredRowCount()","","1.2.0",arguments,"No longer supported")},getFixedColumnCount:function(){return this.behavior.getFixedColumnCount()},getFixedRowCount:function(){return this.behavior.getFixedRowCount()},topLeftClicked:function(t){this.behavior.topLeftClicked(this,t)},rowHeaderClicked:function(t){this.behavior.rowHeaderClicked(this,t)},columnHeaderClicked:function(t){this.behavior.columnHeaderClicked(this,t)},onEditorActivate:function(t){return this.editAt(t)},getCellEditorAt:function(t){return this.behavior.getCellEditorAt(t)},toggleHiDPI:function(){this.properties.useHiDPI?this.removeAttribute("hidpi"):this.setAttribute("hidpi",null),this.canvas.resize()},getHiDPI:function(t){if(window.devicePixelRatio&&this.properties.useHiDPI)var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;else n=1;return n},getRenderedWidth:function(t){return this.renderer.getRenderedWidth(t)},getRenderedHeight:function(t){return this.renderer.getRenderedHeight(t)},updateCursor:function(){var t=this.behavior.getCursorAt(-1,-1),e=this.hoverCell;if(e&&e.x>-1&&e.y>-1){var i=e.x+this.getHScrollValue();t=this.behavior.getCursorAt(i,e.y+this.getVScrollValue())}this.beCursor(t)},repaintCell:function(t,e){this.renderer.repaintCell(t,e)},isDraggingColumn:function(){return!!this.renderOverridesCache.dragger},pageUp:function(){var t=this.renderer.getPageUpRow();return this.setVScrollValue(t),t},pageDown:function(){var t=this.renderer.getPageDownRow();return this.setVScrollValue(t),t},pageLeft:function(){throw"page left not yet implemented"},pageRight:function(){throw"page right not yet implemented"},getRenderedData:function(){var t,e=this.behavior,i=this.getColumnCount().length,n=this.renderer.visibleRows.length,r=new Array(i),o=new Array(n);return r.forEach(function(t,i){r[i]=e.getActiveColumn(i).header}),o.forEach(function(i,n){t=o[n]={hierarchy:e.getFixedColumnValue(0,n)},r.forEach(function(i,r){t[i]=e.getValue(r,n)})}),o},autosizeColumn:function(t){(t>=-2?this.behavior.getActiveColumn(t):t).checkColumnAutosizing(!0),this.computeCellsBounds()},setFocusable:function(t){this.canvas.setFocusable(t)},getVisibleColumnsCount:function(){return this.renderer.getVisibleColumnsCount()},getVisibleRowsCount:function(){return this.renderer.getVisibleRowsCount()},updateSize:function(){this.canvas.checksize()},stopPaintThread:function(){this.canvas.stopPaintThread()},stopResizeThread:function(){this.canvas.stopResizeThread()},restartResizeThread:function(){this.canvas.restartResizeThread()},restartPaintThread:function(){this.canvas.restartPaintThread()},swapColumns:function(t,e){this.behavior.swapColumns(t,e)},endDragColumnNotification:function(){this.behavior.endDragColumnNotification()},getFixedColumnsMaxWidth:function(){return this.behavior.getFixedColumnsMaxWidth()},isMouseDownInHeaderArea:function(){var t=this.getHeaderRowCount(),e=this.getMouseDown();return e.x<0||e.y<t},_getBoundsOfCell:function(t,e){return this.deprecated("_getBoundsOfCell()","getBoundsOfCell()","1.2.0",arguments)},getColumnProperties:function(t){return this.behavior.getColumnProperties(t)},setColumnProperties:function(t,e){this.behavior.setColumnProperties(t,e)},clearAllCellProperties:function(t){this.behavior.clearAllCellProperties(t),this.renderer.resetAllCellPropertiesCaches()},isShowRowNumbers:function(){return this.deprecated("isShowRowNumbers()","properties.showRowNumbers","v1.2.10")},isEditable:function(){return this.deprecated("isEditable()","properties.editable","v1.2.10")},isGridRow:function(t){return new this.behavior.CellEvent(0,t).isDataRow},isShowHeaderRow:function(){return this.deprecated("isShowHeaderRow()","properties.showHeaderRow","v1.2.10")},getHeaderRowCount:function(){return this.behavior.getHeaderRowCount()},isShowFilterRow:function(){return this.deprecated("isShowFilterRow()","properties.showFilterRow","v1.2.10")},hasTreeColumn:function(){return this.behavior.hasTreeColumn()},isHierarchyColumn:function(t){return this.deprecated("isHierarchyColumn(x)","","v1.3.3")},checkScrollbarVisibility:function(){},isRowNumberAutosizing:function(){return this.deprecated("isRowNumberAutosizing()","properties.rowNumberAutosizing","v1.2.10")},lookupFeature:function(t){return this.behavior.lookupFeature(t)},getRow:function(t){return this.behavior.getRow(t)},isColumnAutosizing:function(){return this.deprecated("isColumnAutosizing()","columnAutosizing","v1.2.2",arguments,"Note however that as of v1.2.2 columnAutosizing grid property no longer has the global meaning it had previously and should no longer be referred to directly. Refer to each column's `columnAutosizing` property instead.")},newPoint:function(t,e){return new h(t,e)},newRectangle:function(t,e,i,n){return new p(t,e,i,n)},getController:function(t){return this.behavior.getController(t)},setController:function(t,e){var i=this.behavior.setController(t,e),n=Object.keys(i).filter(function(t){return!i[t]}).toString();if(n)throw"Unexpected data controller(s): "+n;return i},prop:function(t,e,i,n){return this.behavior.prop.apply(this.behavior,arguments)},get charMap(){return this.behavior.charMap},applyTheme:function(t){var e=this.theme;Object.getOwnPropertyNames(e).forEach(function(t){delete e[t]}),!t||"object"==typeof t&&0===Object.getOwnPropertyNames(t).length||r.call(this,t)},getTheme:function(){var t=this.theme,e=t.themeName;return"default"!==e&&Object.getOwnPropertyNames(t).length?e in T.themes?e:t:void 0},get theme(){return this._theme},set theme(t){console.warn("Attempt to reset grid.theme (properties layer). Use grid.applyTheme or the grid.properties.theme setter to apply a new theme.")}});T.plugins={},T.localization={locale:"en-US",numberOptions:{maximumFractionDigits:0}},T.prototype.setController.onerror="warn",T.prototype.mixIn(i(214)),T.prototype.mixIn(i(215)),T.defaults=m,T.properties=m,T.dataModels=i(83),T.themes=i(216),T.registerTheme=n,T.applyTheme=r,Object.defineProperty(T,"theme",{get:function(){return T.defaults},set:r}),t.exports=T},function(t,e,i){"use strict";Math.sign=Math.sign=function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},"function"!=typeof Array.prototype.findIndex&&(Array.prototype.findIndex=function(t){for(var e=arguments[1],i=0,n=this.length;i<n;i++)if(t.call(e,this[i],i,this))return i;return-1}),"function"!=typeof Array.prototype.fill&&(Array.prototype.fill=function(t,e,i){e=void 0===e?0:e<0?this.length+e:e,i=void 0===i?this.length:i<0?this.length+i:i;for(var n=e||0;n<i;++n)this[n]=t;return this}),"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}return t}),"function"!=typeof Object.getOwnPropertyDescriptors&&(Object.getOwnPropertyDescriptors=function(t){return Object.getOwnPropertyNames(t).reduce(function(e,i){return e[i]=Object.getOwnPropertyDescriptor(t,i),e},{})})},function(t,e,i){"use strict";function n(t){var e=this._bound={};for(a in u)e[a]=u[a].bind(this);var i=this.thumb=document.createElement("div");i.classList.add("thumb"),i.onclick=e.shortStop,i.onmouseover=e.onmouseover,i.onmouseout=this._bound.onmouseout;var r=this.bar=document.createElement("div");for(var a in r.classList.add("finbar-vertical"),r.onmousedown=this._bound.onmousedown,this.paging&&(r.onclick=e.onclick),r.appendChild(i),t=t||{},this.orientation="vertical",this._min=this._index=0,this._max=100,t)if(t.hasOwnProperty(a)){var c=t[a];switch(a){case"index":this._index=c;break;case"range":o(c),this._min=c.min,this._max=c.max,this.contentSize=c.max-c.min+1;break;default:"_"!==a.charAt(0)&&"function"!=typeof n.prototype[a]&&(this[a]=c)}}s(l,"finbar-base",t.cssStylesheetReferenceElement)}function r(t){for(var e=1;e<arguments.length;++e){var i=arguments[e];if(i)for(var n in i)t[n]=i[n]}return t}function o(t){2===Object.keys(t).length&&"number"==typeof t.min&&"number"==typeof t.max&&t.min<=t.max||a("Invalid .range object.")}function a(t){throw"finbars: "+t}var s=i(158);n.prototype={set orientation(t){t!==this._orientation&&(this._orientation=t,this.oh=c[this._orientation],this.oh||a("Invalid value for `options._orientation."),this.deltaProp=this.oh.delta,this.bar.className=this.bar.className.replace(/(vertical|horizontal)/g,t),(this.bar.style.cssText||this.thumb.style.cssText)&&(this.bar.removeAttribute("style"),this.thumb.removeAttribute("style"),this.resize()))},get orientation(){return this._orientation},onchange:null,set classPrefix(t){this._classPrefix&&this.bar.classList.remove(this._classPrefix+this.orientation),this._classPrefix=t,t&&this.bar.classList.add(t+"-"+this.orientation)},get classPrefix(){return this._classPrefix},increment:1,barStyles:null,set style(t){var e=Object.keys(t=r({},t,this._auxStyles));if(e.length){var i=this.bar,n=i.getBoundingClientRect(),o=this.container||i.parentElement,a=o.getBoundingClientRect(),s=this.oh;i.removeAttribute("style"),e.forEach(function(e){var r=t[e];if(e in s&&(e=s[e]),isNaN(Number(r))){if(/%$/.test(r)){var o=h[e],l=n[o.marginLeading]+n[o.marginTrailing];l&&(r=parseInt(r,10)/100*a[o.size]-l+"px")}}else r=(r||0)+"px";i.style[e]=r})}},paging:!0,set range(t){o(t),this._min=t.min,this._max=t.max,this.contentSize=t.max-t.min+1,this.index=this.index},get range(){return{min:this._min,max:this._max}},set index(t){t=Math.min(this._max,Math.max(this._min,t)),this._setScroll(t)},get index(){return this._index},_setScroll:function(t,e){this._index=t,this.testPanelItem&&this.testPanelItem.index instanceof Element&&(this.testPanelItem.index.innerHTML=Math.round(t)),this.onchange&&this.onchange.call(this,Math.round(t)),void 0===e&&(e=(t-this._min)/(this._max-this._min)*this._thumbMax),this.thumb.style[this.oh.leading]=e+"px"},scrollRealContent:function(t){var e=this.content.parentElement.getBoundingClientRect(),i=this.oh.size,n=Math.max(0,this.content[i]-e[i]),r=(t-this._min)/(this._max-this._min)*n;this.content.style[this.oh.leading]=-r+"px"},resize:function(t,e){var i=this.bar;if(i.parentNode){var n=this.container||i.parentElement,r=n.getBoundingClientRect();"object"==typeof t&&(e=t,t=void 0),this.style=this.barStyles=e||this.barStyles,this.content&&(this.onchange||(this.onchange=this.scrollRealContent,this.contentSize=this.content[this.oh.size],this._min=0,this._max=this.contentSize-1)),this.onchange===this.scrollRealContent?(this.containerSize=r[this.oh.size],this.increment=this.containerSize/(this.contentSize-this.containerSize)*(this._max-this._min)):(this.containerSize=1,this.increment=t||this.increment);var o=this.index;return this.testPanelItem=this.testPanelItem||this._addTestPanelItem(),this._setThumbSize(),this.index=o,null!==this.deltaProp&&n.addEventListener("wheel",this._bound.onwheel),this}},shortenBy:function(t){return this.shortenEndBy("trailing",t)},foreshortenBy:function(t){return this.shortenEndBy("leading",t)},shortenEndBy:function(t,e){if(e){if(e instanceof n&&e.orientation!==this.orientation){var i=window.getComputedStyle(e.bar),r=c[e.orientation];this._auxStyles={},this._auxStyles[t]=i[r.thickness]}}else delete this._auxStyles;return this},_setThumbSize:function(){var t=this.oh,e=window.getComputedStyle(this.thumb),i=parseInt(e[t.marginLeading]),n=parseInt(e[t.marginTrailing]),r=i+n,o=this.bar.getBoundingClientRect()[t.size],a=Math.max(20,o*this.containerSize/this.contentSize);this.containerSize<this.contentSize?(this.bar.style.visibility="visible",this.thumb.style[t.size]=a+"px"):this.bar.style.visibility="hidden",this._thumbMax=o-a-r,this._thumbMarginLeading=i},remove:function(){this.bar.onmousedown=null,this._removeEvt("mousemove"),this._removeEvt("mouseup"),(this.container||this.bar.parentElement)._removeEvt("wheel",this._bound.onwheel),this.bar.onclick=this.thumb.onclick=this.thumb.onmouseover=this.thumb.transitionend=this.thumb.onmouseout=null,this.bar.remove()},_addTestPanelItem:function(){var t,e=document.querySelector("."+this._classPrefix+".test-panel")||document.querySelector(".test-panel");if(e){var i=["mousedown","mousemove","mouseup","index"],n=document.createElement("li");i.forEach(function(t){n.innerHTML+='<span class="'+t+'">'+t.replace("mouse","")+"</span>"}),e.appendChild(n),t={},i.forEach(function(e){t[e]=n.getElementsByClassName(e)[0]})}return t},_addEvt:function(t){var e=this.testPanelItem&&this.testPanelItem[t];e&&e.classList.add("listening"),window.addEventListener(t,this._bound["on"+t])},_removeEvt:function(t){var e=this.testPanelItem&&this.testPanelItem[t];e&&e.classList.remove("listening"),window.removeEventListener(t,this._bound["on"+t])}};var l,u={shortStop:function(t){t.stopPropagation()},onwheel:function(t){this.index+=t[this.deltaProp],t.stopPropagation(),t.preventDefault()},onclick:function(t){var e=this.thumb.getBoundingClientRect(),i=t[this.oh.coordinate]<e[this.oh.leading];"object"==typeof this.paging?this.index=this.paging[i?"up":"down"](Math.round(this.index)):this.index+=i?-this.increment:this.increment,this.thumb.classList.add("hover");var n=this;this.thumb.addEventListener("transitionend",function e(){this.removeEventListener("transitionend",e),n._bound.onmouseup(t)}),t.stopPropagation()},onmouseover:function(){this.thumb.classList.add("hover")},onmouseout:function(){this.thumb.classList.remove("hover")},onmousedown:function(t){var e=this.thumb.getBoundingClientRect();this.pinOffset=t[this.oh.axis]-e[this.oh.leading]+this.bar.getBoundingClientRect()[this.oh.leading]+this._thumbMarginLeading,document.documentElement.style.cursor="default",this._addEvt("mousemove"),this._addEvt("mouseup"),t.stopPropagation(),t.preventDefault()},onmousemove:function(t){var e=Math.min(this._thumbMax,Math.max(0,t[this.oh.axis]-this.pinOffset)),i=e/this._thumbMax*(this._max-this._min)+this._min;this._setScroll(i,e),t.stopPropagation(),t.preventDefault()},onmouseup:function(t){this._removeEvt("mousemove"),this._removeEvt("mouseup"),document.documentElement.style.cursor="auto";var e=this.thumb.getBoundingClientRect();e.left<=t.clientX&&t.clientX<=e.right&&e.top<=t.clientY&&t.clientY<=e.bottom?this._bound.onmouseover(t):this._bound.onmouseout(t),t.stopPropagation(),t.preventDefault()}},c={vertical:{coordinate:"clientY",axis:"pageY",size:"height",outside:"right",inside:"left",leading:"top",trailing:"bottom",marginLeading:"marginTop",marginTrailing:"marginBottom",thickness:"width",delta:"deltaY"},horizontal:{coordinate:"clientX",axis:"pageX",size:"width",outside:"bottom",inside:"top",leading:"left",trailing:"right",marginLeading:"marginLeft",marginTrailing:"marginRight",thickness:"height",delta:"deltaX"}},h={top:"vertical",bottom:"vertical",height:"vertical",left:"horizontal",right:"horizontal",width:"horizontal"};l="div.finbar-horizontal,div.finbar-vertical{position:absolute;margin:3px}div.finbar-horizontal>.thumb,div.finbar-vertical>.thumb{position:absolute;background-color:#d3d3d3;-webkit-box-shadow:0 0 1px #000;-moz-box-shadow:0 0 1px #000;box-shadow:0 0 1px #000;border-radius:4px;margin:2px;opacity:.4;transition:opacity .5s}div.finbar-horizontal>.thumb.hover,div.finbar-vertical>.thumb.hover{opacity:1;transition:opacity .5s}div.finbar-vertical{top:0;bottom:0;right:0;width:11px}div.finbar-vertical>.thumb{top:0;right:0;width:7px}div.finbar-horizontal{left:0;right:0;bottom:0;height:11px}div.finbar-horizontal>.thumb{left:0;bottom:0;height:7px}",t.exports=n},function(t,e,i){"use strict";function n(t,e,i){if("string"==typeof i){if(!(i=document.querySelector(i)))throw"Cannot find reference element for CSS injection."}else if(i&&!(i instanceof Element))throw"Given value not a reference element.";var r=i&&i.parentNode||document.head||document.getElementsByTagName("head")[0];if(!e||(e=n.idPrefix+e,!r.querySelector("#"+e))){var o=document.createElement("style");return o.type="text/css",e&&(o.id=e),t instanceof Array&&(t=t.join("\n")),t="\n"+t+"\n",o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),void 0===i&&(i=r.firstChild),r.insertBefore(o,i),o}}n.idPrefix="injected-stylesheet-",t.exports=n},function(t,e,i){"use strict";function n(t,e){var i,o,a,s,l,u,c=n.prefix;if("boolean"==typeof t?i=2:(e=t,t=n.before,i=1),!(o=document.getElementById(c+e))){if(a=document.querySelector("head"),t&&(s=Array.prototype.slice.call(a.children).find(function(t){var e=t.getAttribute("id");return"STYLE"===t.tagName&&(!e||e.indexOf(c)!==c)||"LINK"===t.tagName&&"stylesheet"===t.getAttribute("rel")})),!(l=this[e]))throw"Expected to find member `"+e+"` in calling context.";u=["<style>\n"+l+"\n</style>\n",a,s||null],arguments.length>1&&(u=u.concat(Array.prototype.slice.call(arguments,i))),o=r.append.apply(null,u)[0],o.id=c+e}return o}var r=i(160);n.before=!0,n.prefix="injected-stylesheet-",t.exports=n},function(t,e,i){"use strict";function n(t,e){var i=arguments.length>1;if("function"==typeof t&&(t=t.call(this)),i){var r=arguments;t=t.replace(n.replacersRegex,function(t,e){return e-=-1,r.length>e?r[e]:""}),t=t.replace(n.encodersRegex,function(t,e){if(e-=-1,r.length>e){var i=document.createElement("DIV");return i.textContent=r[e],i.innerHTML}return""})}return t}function r(t,e,i){var r="object"!=typeof e,o=Array.prototype.slice.call(arguments,1);return r?(e=document.createElement("DIV"),o.unshift(t)):o[0]=t,e.innerHTML=n.apply(null,o),e}function o(t,e,i,n){var o=3;"object"!=typeof i&&(i=null,o=2),n=Array.prototype.slice.call(arguments,o);for(var a=[],s=r.apply(null,[t].concat(n));s.childNodes.length;)a.push(s.firstChild),e.insertBefore(s.firstChild,i);return a}function a(t,e){return r.apply(null,arguments).firstChild}function s(t,e){return r.apply(null,arguments).firstElementChild}var l=/%\{(\d+)\}/g,u=/\$\{(.*?)\}/g;n.encodersRegex=l,n.replacersRegex=u,n.format=n,n.replace=r,n.append=o,n.firstChild=a,n.firstElement=s,t.exports=n},function(t,e,i){"use strict";e.grid=[".hypergrid-container {","\tposition: relative;","\theight: 500px;","}",".hypergrid-container > div:first-child {","\tposition: absolute;","\tleft: 0;","\ttop: 0;","\tright: 0;","\tbottom: 0;","}",".hypergrid-container > div:first-child > div.info {","\tposition: absolute;","\tdisplay: none; /* initially hidden */","\tmargin-top: 150px; /* to place below headers */","\tcolor: #eee;","\ttext-shadow: 1px 1px #ccc;","\tfont-size: 36pt;","\tfont-weight: bold;","\ttext-align: center;","\ttop: 0; right: 0; bottom: 0; left: 0;","}",".hypergrid-textfield {","\tposition: absolute;","\tfont-size: 12px;","\tcolor: black;","\tbackground-color: ivory;","\tbox-sizing: border-box;","\tmargin: 0;","\tpadding: 0 5px;","\tborder: 0; /*border: 1px solid #777;*/","\toutline: 0;","}","",""].join("\n")},function(t,e,i){"use strict";function n(){var t={};return this.grid.behavior.subgrids.forEach(function(e){for(var i=e.name||e.type,n=0,r=e.getRowCount();n<r;++n){var o=e.getRow(n).__ROW_HEIGHT;void 0!==o&&((t[i]=t[i]||{})[n]={height:o})}}),t}function r(t){var e=this.grid.behavior;for(var i in t)if(t.hasOwnProperty(i)){var n=e.subgrids.lookup[i];if(n){var r=t[i];for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];switch(s){case"height":e.setRowHeight(o,Number(l),n);break;default:console.warn('Unexpected row property "'+s+'" ignored. (The only row property currently implemented is "height").')}}}}}}function o(){var t=this.grid.behavior.getColumns(),e=this.grid.headerify;return t.reduce(function(t,i){var n=Object.keys(i.properties).reduce(function(t,n){switch(n){case"preferredWidth":break;case"header":if(e&&i.properties.header===e(i.properties.name))break;default:var r=i.properties[n];void 0!==r&&(t[n]=r)}return t},{});return Object.keys(n).length&&(t[i.name]=n),t},{})}function a(t){function e(t){return t.name===n}var i=this.grid.behavior.getColumns();for(var n in t)if(t.hasOwnProperty(n)){var r=i.find(e);r&&(r.properties=t[n])}}function s(){var t=this.grid.behavior,e=t.getColumns(),i={};return t.subgrids.forEach(function(n){function r(e){var r=t.getCellOwnProperties(e.index,a,n);if(r){var s=i[o]=i[o]||{};(s[a]=s[a]={})[e.name]=Object.assign({},r)}}for(var o=n.name||n.type,a=0,s=n.getRowCount();a<s;++a)e.forEach(r)}),i}function l(t){function e(t){return t.name===u}var i=this.grid.behavior.subgrids,n=this.grid.behavior.getColumns();for(var r in t)if(t.hasOwnProperty(r)){var o=i.lookup[r];if(o){var a=t[r];for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(var u in l)if(l.hasOwnProperty(u)){var c=n.find(e);if(c){var h=l[u];c.addCellProperties(s,h,o)}}}}}}var u={theme:{enumerable:!0,get:function(){return this.grid.getTheme()},set:function(t){this.grid.applyTheme(t)}},subgrids:{enumerable:!0,get:function(){return this.var.subgrids},set:function(t){this.grid.behavior.subgrids=this.var.subgrids=t}},gridRenderer:{enumerable:!0,get:function(){return this.var.gridRenderer},set:function(t){this.var.gridRenderer=t,this.grid.renderer.setGridRenderer(t)}},columnIndexes:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(t){return t.index})},set:function(t){this.grid.behavior.setColumnOrder(t),this.grid.behavior.changed()}},columnNames:{enumerable:!0,get:function(){return this.grid.behavior.getActiveColumns().map(function(t){return t.name})},set:function(t){this.grid.behavior.setColumnOrderByName(t),this.grid.behavior.changed()}},rows:{enumerable:!0,get:n,set:function(t){t&&(r.call(this,t),this.grid.behavior.changed())}},columns:{enumerable:!0,get:o,set:function(t){t&&(a.call(this,t),this.grid.behavior.changed())}},cells:{enumerable:!0,get:s,set:function(t){t&&(l.call(this,t),this.grid.behavior.changed())}}};t.exports=u},function(t,e,i){"use strict";function n(t,e){var i=this;this.div=t,this.component=e,this.dragEndtime=Date.now(),this.infoDiv=document.createElement("div"),this.infoDiv.className="info",this.div.appendChild(this.infoDiv),this.gc=p(this.canvas=document.createElement("canvas")),this.bc=p(this.buffer=document.createElement("canvas")),this.div.appendChild(this.canvas),this.canvas.style.outline="none",this.mouseLocation=new g.Point(-1,-1),this.dragstart=new g.Point(-1,-1),this.bounds=new g.Rectangle(0,0,0,0),this.hasMouse=!1,document.addEventListener("mousemove",function(t){(i.hasMouse||i.isDragging())&&i.finmousemove(t)}),document.addEventListener("mouseup",function(t){i.finmouseup(t)}),document.addEventListener("wheel",function(t){i.finwheelmoved(t)}),document.addEventListener("keydown",function(t){i.finkeydown(t)}),document.addEventListener("keyup",function(t){i.finkeyup(t)}),this.canvas.onmouseover=function(){i.hasMouse=!0},this.addEventListener("focus",function(t){i.finfocusgained(t)}),this.addEventListener("blur",function(t){i.finfocuslost(t)}),this.addEventListener("mousedown",function(t){i.finmousedown(t)}),this.addEventListener("mouseout",function(t){i.hasMouse=!1,i.finmouseout(t)}),this.addEventListener("click",function(t){i.finclick(t)}),this.addEventListener("contextmenu",function(t){return i.fincontextmenu(t),t.preventDefault(),!1}),this.canvas.setAttribute("tabindex",0),this.canvas.contentEditable=!0,this.resize(),this.beginResizing(),this.beginPainting()}function r(t){this.doubleClickTimer=void 0,this.mouseLocation=this.getLocal(t),this.dispatchNewMouseKeysEvent(t,"fin-canvas-click",{isRightClick:this.isRightClick(t)})}function o(t){this.doubleRightClickTimer=void 0,this.dispatchNewMouseKeysEvent(t,"fin-canvas-context-menu",{isRightClick:this.isRightClick(t)})}function a(t){d&&(v.forEach(function(e){try{e.tickPainter(t)}catch(t){console.error(t)}e.component.tickNotification&&e.component.tickNotification()}),d=requestAnimationFrame(a))}function s(){d=d||requestAnimationFrame(a)}function l(){d&&(cancelAnimationFrame(d),d=void 0)}function u(t){if(f)for(var e=0;e<y.length;e++)try{y[e].tickResizer(t)}catch(t){console.error(t)}}function c(){f=f||setInterval(u,m)}function h(){f&&(clearInterval(f),f=void 0)}function p(t,e){function r(t){t in a||/^(webkit|moz|ms|o)[A-Z]/.test(t)||"function"==typeof o[t]||Object.defineProperty(a,t,{get:function(){return s[t]=s[t]||o[t]},set:function(e){e!==s[t]&&(o[t]=s[t]=e)}})}var o=t.getContext(e||"2d"),a={},s={};return Object.keys(Object.getPrototypeOf(o)).forEach(r),Object.keys(o).forEach(r),o.cache=a,o.cache.save=function(){o.save(),s=Object.create(s)},o.cache.restore=function(){o.restore(),s=Object.getPrototypeOf(s)},o.conditionalsStack=[],Object.getOwnPropertyNames(n.graphicsContextAliases).forEach(function(t){o[t]=o[n.graphicsContextAliases[t]]}),Object.assign(o,i(78))}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i},window.CustomEvent.prototype=window.Event.prototype);var d,f,g=i(13),m=200,v=[],y=[],b=function(){for(var t=[],e=["",""],i=0;i<256;i++)t[i]=e;return t[27]=["ESC","ESCSHIFT"],t[192]=["`","~"],t[49]=["1","!"],t[50]=["2","@"],t[51]=["3","#"],t[52]=["4","$"],t[53]=["5","%"],t[54]=["6","^"],t[55]=["7","&"],t[56]=["8","*"],t[57]=["9","("],t[48]=["0",")"],t[189]=["-","_"],t[187]=["=","+"],t[8]=["BACKSPACE","BACKSPACESHIFT"],t[46]=["DELETE","DELETESHIFT"],t[9]=["TAB","TABSHIFT"],t[81]=["q","Q"],t[87]=["w","W"],t[69]=["e","E"],t[82]=["r","R"],t[84]=["t","T"],t[89]=["y","Y"],t[85]=["u","U"],t[73]=["i","I"],t[79]=["o","O"],t[80]=["p","P"],t[219]=["[","{"],t[221]=["]","}"],t[220]=["\\","|"],t[220]=["CAPSLOCK","CAPSLOCKSHIFT"],t[65]=["a","A"],t[83]=["s","S"],t[68]=["d","D"],t[70]=["f","F"],t[71]=["g","G"],t[72]=["h","H"],t[74]=["j","J"],t[75]=["k","K"],t[76]=["l","L"],t[186]=[";",":"],t[222]=["'","|"],t[13]=["RETURN","RETURNSHIFT"],t[16]=["SHIFT","SHIFT"],t[90]=["z","Z"],t[88]=["x","X"],t[67]=["c","C"],t[86]=["v","V"],t[66]=["b","B"],t[78]=["n","N"],t[77]=["m","M"],t[188]=[",","<"],t[190]=[".",">"],t[191]=["/","?"],t[16]=["SHIFT","SHIFT"],t[17]=["CTRL","CTRLSHIFT"],t[18]=["ALT","ALTSHIFT"],t[91]=["COMMANDLEFT","COMMANDLEFTSHIFT"],t[32]=["SPACE","SPACESHIFT"],t[93]=["COMMANDRIGHT","COMMANDRIGHTSHIFT"],t[18]=["ALT","ALTSHIFT"],t[38]=["UP","UPSHIFT"],t[37]=["LEFT","LEFTSHIFT"],t[40]=["DOWN","DOWNSHIFT"],t[39]=["RIGHT","RIGHTSHIFT"],t[33]=["PAGEUP","PAGEUPSHIFT"],t[34]=["PAGEDOWN","PAGEDOWNSHIFT"],t[35]=["PAGERIGHT","PAGERIGHTSHIFT"],t[36]=["PAGELEFT","PAGELEFTSHIFT"],t[112]=["F1","F1SHIFT"],t[113]=["F2","F2SHIFT"],t[114]=["F3","F3SHIFT"],t[115]=["F4","F4SHIFT"],t[116]=["F5","F5SHIFT"],t[117]=["F6","F6SHIFT"],t[118]=["F7","F7SHIFT"],t[119]=["F8","F8SHIFT"],t[120]=["F9","F9SHIFT"],t[121]=["F10","F10SHIFT"],t[122]=["F11","F1S1HIFT"],t[123]=["F12","F121HIFT"],t}();n.prototype={constructor:n.prototype.constructor,div:null,component:null,canvas:null,focuser:null,buffer:null,ctx:null,mouseLocation:null,dragstart:null,origin:null,bounds:null,dirty:!1,size:null,mousedown:!1,dragging:!1,repeatKeyCount:0,repeatKey:null,repeatKeyStartTime:0,currentKeys:[],hasMouse:!1,lastDoubleClickTime:0,dragEndTime:0,lastRepaintTime:0,currentPaintCount:0,currentFPS:0,lastFPSComputeTime:0,addEventListener:function(t,e){this.canvas.addEventListener(t,e)},removeEventListener:function(t,e){this.canvas.removeEventListener(t,e)},stopPaintLoop:l,restartPaintLoop:s,stopResizeLoop:h,restartResizeLoop:c,detached:function(){this.stopPainting(),this.stopResizing()},getCurrentFPS:function(){return this.currentFPS},tickPaint:function(t){var e=this.component.properties.enableContinuousRepaint,i=this.component.properties.repaintIntervalRate;if(0!==i){var n=1e3/i;t-this.lastRepaintTime>n&&(e||this.dirty)&&(this.paintNow(),this.lastRepaintTime=t,e&&(this.currentPaintCount++,t-this.lastFPSComputeTime>=1e3&&(this.currentFPS=1e3*this.currentPaintCount/(t-this.lastFPSComputeTime),this.currentPaintCount=0,this.lastFPSComputeTime=t)))}},beginPainting:function(){var t=this;this.dirty=!0,this.tickPainter=function(e){t.tickPaint(e)},v.push(this)},stopPainting:function(){v.splice(v.indexOf(this),1)},beginResizing:function(){var t=this;this.tickResizer=function(){t.checksize()},y.push(this)},stopResizing:function(){y.splice(y.indexOf(this),1)},start:function(){this.beginPainting(),this.beginResizing()},stop:function(){this.stopPainting(),this.stopResizing()},checksize:function(){var t=this.div.getBoundingClientRect();t.width===this.size.width&&t.height===this.size.height||this.resize()},resize:function(){var t=this.size=this.div.getBoundingClientRect();this.width=t.width,this.height=t.height;var e=1,i=window.devicePixelRatio&&this.component.properties.useHiDPI;i&&(e=(window.devicePixelRatio||1)/(this.gc.webkitBackingStorePixelRatio||this.gc.mozBackingStorePixelRatio||this.gc.msBackingStorePixelRatio||this.gc.oBackingStorePixelRatio||this.gc.backingStorePixelRatio||1)),this.buffer.width=this.canvas.width=this.width*e,this.buffer.height=this.canvas.height=this.height*e,this.canvas.style.width=this.buffer.style.width=this.width+"px",this.canvas.style.height=this.buffer.style.height=this.height+"px",this.bc.scale(e,e),i&&!this.component.properties.useBitBlit&&this.gc.scale(e,e),this.bounds=new g.Rectangle(0,0,this.width,this.height),this.component.setBounds(this.bounds),this.resizeNotification(),this.paintNow()},resizeNotification:function(){this.dispatchNewEvent(void 0,"fin-canvas-resized",{width:this.width,height:this.height})},getBounds:function(){return this.bounds},paintNow:function(){var t=this.component.properties.useBitBlit,e=t?this.bc:this.gc;try{e.cache.save(),this.component.paint(e),this.dirty=!1}catch(t){console.error(t)}finally{e.cache.restore()}t&&this.flushBuffer()},flushBuffer:function(){this.buffer.width>0&&this.buffer.height>0&&this.gc.drawImage(this.buffer,0,0)},newEvent:function(t,e,i){var n={detail:i||{}};return t&&(n.detail.primitiveEvent=t),new CustomEvent(e,n)},dispatchNewEvent:function(t,e,i){return this.canvas.dispatchEvent(this.newEvent(t,e,i))},dispatchNewMouseKeysEvent:function(t,e,i){return i=i||{},i.mouse=this.mouseLocation,i.keys=this.currentKeys,this.dispatchNewEvent(t,e,i)},finmousemove:function(t){!this.isDragging()&&this.mousedown&&(this.beDragging(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-dragstart",{isRightClick:this.isRightClick(t),dragstart:this.dragstart}),this.dragstart=new g.Point(this.mouseLocation.x,this.mouseLocation.y)),this.mouseLocation=this.getLocal(t),this.isDragging()&&this.dispatchNewMouseKeysEvent(t,"fin-canvas-drag",{dragstart:this.dragstart,isRightClick:this.isRightClick(t)}),this.bounds.contains(this.mouseLocation)&&this.dispatchNewMouseKeysEvent(t,"fin-canvas-mousemove")},finmousedown:function(t){this.mouseLocation=this.mouseDownLocation=this.getLocal(t),this.mousedown=!0,this.dispatchNewMouseKeysEvent(t,"fin-canvas-mousedown",{isRightClick:this.isRightClick(t)}),this.takeFocus()},finmouseup:function(t){this.isDragging()&&(this.dispatchNewMouseKeysEvent(t,"fin-canvas-dragend",{dragstart:this.dragstart,isRightClick:this.isRightClick(t)}),this.beNotDragging(),this.dragEndtime=Date.now()),this.mousedown=!1,this.dispatchNewMouseKeysEvent(t,"fin-canvas-mouseup",{dragstart:this.dragstart,isRightClick:this.isRightClick(t)})},finmouseout:function(t){this.mousedown||(this.mouseLocation=new g.Point(-1,-1)),this.repaint(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-mouseout",{dragstart:this.dragstart})},finwheelmoved:function(t){!this.isDragging()&&this.hasFocus()&&(t.preventDefault(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-wheelmoved",{isRightClick:this.isRightClick(t)}))},finclick:function(t){var e=this.component.properties.doubleClickDelay;e<100?r.call(this,t):this.doubleClickTimer&&Date.now()-this.lastClickTime<e?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0,this.findblclick(t)):(this.lastClickTime=Date.now(),this.doubleClickTimer=setTimeout(r.bind(this,t),e))},findblclick:function(t){this.mouseLocation=this.getLocal(t),this.lastDoubleClickTime=Date.now(),this.dispatchNewMouseKeysEvent(t,"fin-canvas-dblclick",{isRightClick:this.isRightClick(t)})},getCharMap:function(){return b},getKeyChar:function(t){var e=t.keyCode||t.detail.key,i=t.shiftKey||t.detail.shift;return b[e][i?1:0]},finkeydown:function(t){if(this.hasFocus()){9===t.keyCode&&t.preventDefault();var e=this.getKeyChar(t);t.repeat?this.repeatKey===e?this.repeatKeyCount++:(this.repeatKey=e,this.repeatKeyStartTime=Date.now()):(this.repeatKey=null,this.repeatKeyCount=0,this.repeatKeyStartTime=0),-1===this.currentKeys.indexOf(e)&&this.currentKeys.push(e),this.dispatchNewEvent(t,"fin-canvas-keydown",{alt:t.altKey,ctrl:t.ctrlKey,char:e,code:t.charCode,key:t.keyCode,meta:t.metaKey,repeatCount:this.repeatKeyCount,repeatStartTime:this.repeatKeyStartTime,shift:t.shiftKey,identifier:t.key,currentKeys:this.currentKeys.slice(0)})}},finkeyup:function(t){if(this.hasFocus()){9===t.keyCode&&t.preventDefault();var e=this.getKeyChar(t);this.currentKeys.splice(this.currentKeys.indexOf(e),1),this.repeatKeyCount=0,this.repeatKey=null,this.repeatKeyStartTime=0,this.dispatchNewEvent(t,"fin-canvas-keyup",{alt:t.altKey,ctrl:t.ctrlKey,char:e,code:t.charCode,key:t.keyCode,meta:t.metaKey,repeat:t.repeat,shift:t.shiftKey,identifier:t.key,currentKeys:this.currentKeys.slice(0)})}},finfocusgained:function(t){this.dispatchNewEvent(t,"fin-canvas-focus-gained")},finfocuslost:function(t){this.dispatchNewEvent(t,"fin-canvas-focus-lost")},fincontextmenu:function(t){var e=this.component.properties.doubleClickDelay;t.ctrlKey&&-1===this.currentKeys.indexOf("CTRL")&&this.currentKeys.push("CTRL"),e<100?o.call(this,t):this.doubleRightClickTimer&&Date.now()-this.lastClickTime<e?(clearTimeout(this.doubleRightClickTimer),this.doubleRightClickTimer=void 0,this.findblclick(t)):(this.lastClickTime=Date.now(),this.doubleRightClickTimer=setTimeout(o.bind(this,t),e))},repaint:function(){this.dirty=!0,d&&0!==this.component.properties.repaintIntervalRate||this.paintNow()},getMouseLocation:function(){return this.mouseLocation},getOrigin:function(){var t=this.canvas.getBoundingClientRect();return new g.Point(t.left,t.top)},getLocal:function(t){var e=this.canvas.getBoundingClientRect();return new g.Point(t.clientX-e.left,t.clientY-e.top)},hasFocus:function(){return document.activeElement===this.canvas},takeFocus:function(){var t=this;this.hasFocus()||setTimeout(function(){t.canvas.focus()},10)},beDragging:function(){this.dragging=!0,this.disableDocumentElementSelection()},beNotDragging:function(){this.dragging=!1,this.enableDocumentElementSelection()},isDragging:function(){return this.dragging},disableDocumentElementSelection:function(){var t=document.body.style;t.cssText=t.cssText+"-webkit-user-select: none"},enableDocumentElementSelection:function(){var t=document.body.style;t.cssText=t.cssText.replace("-webkit-user-select: none","")},setFocusable:function(t){this.focuser.style.display=t?"":"none"},isRightClick:function(t){var e;return t=t||window.event,"which"in t?e=3===t.which:"button"in t&&(e=2===t.button),e},dispatchEvent:function(t){return this.canvas.dispatchEvent(t)},setInfo:function(t,e){t&&(void 0!==e&&(e&&!isNaN(Number(e))&&(e+="px"),this.infoDiv.style.width=e),t.indexOf("<")?this.infoDiv.innerHTML=t:this.infoDiv.innerText=t),this.infoDiv.style.display=t?"block":"none"}},s(),c(),n.graphicsContextAliases={simpleText:"fillText"},t.exports=n},function(t,e,i){"use strict";function n(t,e){var i=e.dataModel.getRowCount(),n=e.getColumnProperties(e.rowColumnIndex),r=n.rowHeader,o=2*n.cellPadding,s=n.preferredWidth=Math.max(a.checked?a.checked.width:0,a.unchecked?a.unchecked.width:0);t.cache.font=r.foregroundSelectionFont.indexOf("bold ")>=0?r.foregroundSelectionFont:r.font,n.preferredWidth=s+o+t.getTextWidth(i),void 0===n.width&&(n.width=n.preferredWidth)}function r(t){l.indexOf(t)<0&&l.push(t)}var o=i(6),a=i(50),s=function(t){return{findWithNeg:{value:function(e,i){for(var n=t.behavior.leftMostColIndex;n in this;--n);for(;++n;)if(this[n]&&e.call(i,this[n],n,this))return this[n];return Array.prototype.find.call(this,e,i)}},forEachWithNeg:{value:function(e,i){for(var n=t.behavior.leftMostColIndex;n in this;--n);for(;++n;)this[n]&&e.call(i,this[n],n,this);return Array.prototype.forEach.call(this,e,i)}},totalLength:{get:function(){return Math.abs(t.behavior.leftMostColIndex)+this.length}}}},l=[],u=o.extend("Renderer",{cell:{x:0,y:0,width:0,height:0},scrollHeight:0,viewHeight:0,reset:function(){this.bounds={width:0,height:0},this.visibleColumns=Object.defineProperties([],s(this.grid)),this.visibleRows=[],this.insertionBounds=[],this.cellEventPool=[]},initialize:function(t){this.grid=t,this.gridRenderers={},l.forEach(function(t){this.registerGridRenderer(t)},this),this.setGridRenderer(this.properties.gridRenderer||"by-columns-and-rows"),this.reset()},registerGridRenderer:function(t){this.gridRenderers[t.key]={paintCells:t}},setGridRenderer:function(t){var e=this.gridRenderers[t];if(!e)throw new this.HypergridError('Unregistered grid renderer "'+t+'"');e!==this.gridRenderer&&(this.gridRenderer=e,this.gridRenderer.reset=!0)},resetAllGridRenderers:function(t){Object.keys(this.gridRenderers).forEach(function(e){this.gridRenderers[e].reset=!t||t.indexOf(e)<0},this)},rebundleGridRenderers:function(){Object.keys(this.gridRenderers).forEach(function(t){this.gridRenderers[t].paintCells.rebundle&&(this.gridRenderers[t].rebundle=!0)},this)},computeCellsBounds:function(){var t,e,i,n,r,o,a,s,l,u,c,h,p,d,f,g,m,v,y,b,x,_,w,C,S,k,A,T,M,E,P,O,I,L,R,D,z=this.getScrollTop(),B=this.getScrollLeft(),j=this.grid.getFixedColumnCount(),F=this.grid.getFixedRowCount(),N=this.getBounds(),V=this.grid,H=V.behavior,G=V.cellEditor&&V.cellEditor.event,U=0,W=0,$=V.properties.lineWidth,q=0,X=0,Y=H.subgrids;for(G&&(e=G.gridCell.x,n=G.dataCell.y,r=G.subgrid),V.properties.showRowNumbers&&(q=H.rowColumnIndex,X=Math.abs(q)),this.scrollHeight=0,this.visibleColumns.length=0,this.visibleRows.length=0,this.visibleColumnsByIndex=[],this.visibleRowsByDataRowIndex={},this.insertionBounds=[],a=0,c=q,h=V.getColumnCount(),s=N.width||V.canvas.width;c<h&&a<=s;c++)if(c!==H.treeColumnIndex||H.hasTreeColumn()){if(w=c,c>=j&&(E=w+=B,void 0===M&&(M=E)),w>=h)break;A=Math.ceil(H.getColumnWidth(w)),L=a?a+$:a,R=a?A-$:A,this.visibleColumns[c]=this.visibleColumnsByIndex[w]=k={index:c,columnIndex:w,column:H.getActiveColumn(w),left:L,width:R,right:L+R},e===w&&(t=k),a+=A,U+=Math.round(A/2)+W,this.insertionBounds.push(U),W=Math.round(A/2)}else X=X>0?X-1:0,this.visibleColumns[c]=void 0;for(_=V.properties.defaultRowHeight*Y.reduce(function(t,e){return x?t+=e.getRowCount():x=e.isData,t},0),v=f=p=l=0,d=Y.length,u=N.height-_;p<d;p++,v+=m){for(y=Y[p],m=y.getRowCount(),x=y.isData,o=r===y,I=f,g=f+m;f<g&&l<u&&(C=f,!(x&&f>=F&&(C+=z,O=C-v,void 0===P&&(P=O),C>=g)));f++)b=C-v,T=H.getRowHeight(b,y),D=T-$,this.visibleRows[f]=S={index:f,subgrid:y,rowIndex:b,top:l,height:D,bottom:l+D},x&&(this.visibleRowsByDataRowIndex[C-v]=S),o&&n===b&&(i=S),l+=T;x&&(m=f-I,u+=_)}G&&(G.visibleColumn=t,G.visibleRow=i,G.gridCell.y=i&&i.index,G._bounds=null),this.viewHeight=u,this.dataWindow=this.grid.newRectangle(M,P,E-M,O-P);var K=this.cellEventPool,Z=K.length,J=(this.visibleColumns.length+X)*this.visibleRows.length;J>Z&&(K.length=J);for(var Q=Z;Q<J;Q++)K[Q]=new H.CellEvent;this.resetAllGridRenderers()},get properties(){return this.grid.properties},resolveProperty:function(t){return this.deprecated("resolveProperty","The .resolveProperty(key) method is deprecated as of v1.2.10 in favor of the .grid.properties object dereferenced with [key]. (Will be removed in a future release.)"),this.properties[t]},paint:function(t){this.grid.canvas&&(this.renderGrid(t),this.grid.gridRenderedNotification())},tickNotification:function(){this.grid.tickNotification()},getVisibleRowsCount:function(){return this.visibleRows.length-1},getVisibleScrollHeight:function(){return this.viewHeight-this.grid.getFixedRowsHeight()},getVisibleRows:function(){return this.deprecated("getVisibleRows","The getVisibleRows() method has been deprecated as of v1.2.0. (Will be removed in a future version.) Previously returned the this.visibleRows array but because this.visibleRows is no longer a simple array of integers but is now an array of objects, it now returns an array mapped to this.visibleRows[*].rowIndex. Note however that this mapping is not equivalent to what this method previously returned because while each object's .rowIndex property is still adjusted for scrolling within the data subgrid, the index is now local to (zero-based within) each subgrid"),this.visibleRows.map(function(t){return t.rowIndex})},getVisibleColumnsCount:function(){return this.visibleColumns.length-1},getVisibleColumns:function(){return this.deprecated("visibleColumns","The getVisibleColumns() method has been deprecated as of v1.2.0. (Will be removed in a future version.) Previously returned the this.visibleColumns but because this.visibleColumns is no longer a simple array of integers but is now an array of objects, it now returns an array mapped to the equivalent visibleColumns[*].columnIndex."),this.visibleColumns.map(function(t){return t.columnIndex})},getBoundsOfCell:function(t,e){var i=this.visibleColumns[t],n=this.visibleRows[e];return{x:i.left,y:n.top,width:i.width,height:n.height}},getColumnFromPixelX:function(t){for(var e=0,i=this.grid.getFixedColumnCount(),n=this.grid.getHScrollValue(),r=this.visibleColumns,o=1;o<r.length-1;o++)if(e=r[o].left-(r[o].left-r[o-1].left)/2,t<e)return o>i&&(o+=n),o-1;return o>i&&(o+=n),o-1},getGridCellFromMousePoint:function(t){var e=t.x,i=t.y,n=!1,r=!1,o=this.visibleRows,a=this.visibleColumns,s=a[this.grid.behavior.leftMostColIndex],l=e<s.right,u=l?s:a.findWithNeg(function(t){return e<t.right}),c=o.find(function(t){return i<t.bottom}),h={fake:!1};c?n=!1:(c=o[o.length-1],n=!0),u?r=!1:(u=a[a.length-1],r=!0);var p=this.grid.newPoint(e-u.left,i-c.top),d=new this.grid.behavior.CellEvent(u.columnIndex,c.index);return h.cellEvent=Object.defineProperty(d,"mousePoint",{value:p}),(r||n)&&(h.fake=!0,this.grid.beCursor(null)),h},isColumnVisible:function(t){return!!this.getVisibleColumn(t)},getVisibleColumn:function(t){return this.visibleColumns.findWithNeg(function(e){return e.columnIndex===t})},isDataColumnVisible:function(t){return!!this.getVisibleDataColumn(t)},getVisibleDataColumn:function(t){return this.visibleColumns.findWithNeg(function(e){return e.column.index===t})},getFinalVisibleColumnBoundary:function(){var t=this.isLastColumnVisible()?2:1,e=this.visibleColumns[this.visibleColumns.length-t].right;return Math.min(e,this.getBounds().width)},isRowVisible:function(t){return!!this.visibleRows[t]},getVisibleRow:function(t){return this.visibleRows[t]},isDataRowVisible:function(t,e){return!!this.getVisibleDataRow(t,e)},getVisibleDataRow:function(t,e){return e=e||this.grid.behavior.subgrids.lookup.data,this.visibleRows.find(function(i){return i.subgrid===e&&i.rowIndex===t})},isSelected:function(t,e){return this.grid.isSelected(t,e)},renderGrid:function(t){t.beginPath(),this.buttonCells={},this.gridRenderer.paintCells.call(this,t),n(t,this.grid.behavior),this.renderOverrides(t),this.renderLastSelection(t),t.closePath()},renderLastSelection:function(t){var e=this.grid.selectionModel.getSelections();if(e&&0!==e.length){var i=this.grid.selectionModel.getLastSelection();if(-1!==i.origin.x){var n=this.visibleColumnsByIndex,r=this.visibleRowsByDataRowIndex,o=this.visibleColumns[this.visibleColumns.length-1],a=r[this.dataWindow.corner.y];if(!(!o||!a||i.origin.x>o.columnIndex||i.origin.y>a.rowIndex)){var s=n[i.origin.x],l=n[i.corner.x],u=r[i.origin.y],c=r[i.corner.y];if((s||l)&&(u||c)){var h=this.properties;s=s||this.visibleColumns[h.fixedColumnCount],u=u||this.visibleRows[h.fixedRowCount],l=l||(i.corner.x>o.columnIndex?o:n[h.fixedColumnCount-1]),c=c||(i.corner.y>a.rowIndex?a:r[h.fixedRowCount-1]);var p={bounds:{x:s.left,y:u.top,width:l.right-s.left,height:c.bottom-u.top},selectionRegionOverlayColor:this.gridRenderer.paintCells.partial?"transparent":h.selectionRegionOverlayColor,selectionRegionOutlineColor:h.selectionRegionOutlineColor};this.grid.cellRenderers.get("lastselection").paint(t,p),"by-cells"===this.gridRenderer.paintCells.key&&(this.gridRenderer.reset=!0)}}}}},renderOverrides:function(t){var e=this.grid.renderOverridesCache;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&this.renderOverride(t,n)}},renderOverride:function(t,e){var i=e.hdpiratio,n=e.startX,r=e.width+1,o=e.height,a=e.ctx,s=t.getImageData(n,0,Math.round(r*i),Math.round(o*i));a.putImageData(s,0,0),t.cache.fillStyle=this.properties.backgroundColor2,t.fillRect(Math.round(n/i),0,r,o)},getScrollTop:function(){return this.grid.getVScrollValue()},getScrollLeft:function(){return this.grid.getHScrollValue()},getColumnEdges:function(){return this.deprecated("columnEdges","The getColumnEdges() mehtod has been deprecated as of version 1.2.0 in favor of visibleColumns[*].top. (Will be removed in a future version.) Note however that columnEdges had one additional element (representing the right edge of the last visible column) which visibleColumns lacks. Instead you can reference visibleColumns[*].bottom."),this.visibleColumns.map(function(t){return t.left}).concat([this.visibleColumns[this.visibleColumns.length-1].right])},getRowEdges:function(){return this.deprecated("rowEdges","The getRowEdges() method has been deprecated as of version 1.2.0 in favor of visibleRows[*].top. (Will be removed in a future version.) Note however that rowEdges had one additional element (representing the bottom edge of the last visible row) which visibleRows lacks. Instead you can reference visibleRows[*].bottom."),this.visibleRows.map(function(t){return t.top}).concat([this.visibleRows[this.visibleRows.length-1].bottom])},isLastColumnVisible:function(){var t=this.grid.getColumnCount()-1;return!!this.visibleColumns.findWithNeg(function(e){return e.columnIndex===t})},getRenderedWidth:function(t){var e=this.visibleColumns;return t>=e.length?e[e.length-1].right:e[t].left},getRenderedHeight:function(t){var e,i=this.visibleRows;return e=t>=i.length?i[i.length-1].bottom:i[t].top,e},getCanvas:function(){return this.deprecated("getCanvas()","grid.canvas","1.2.2")},isDraggingColumn:function(){return this.grid.isDraggingColumn()},getPageUpRow:function(){for(var t=this.grid,e=this.getVisibleScrollHeight(),i=this.dataWindow.origin.y-this.properties.fixedRowCount-1,n=0;n<e&&i>=0;)n+=t.getRowHeight(i),i--;return i+1},getPageDownRow:function(){return this.dataWindow.corner.y-this.properties.fixedRowCount+1},renderErrorCell:function(t,e,i,n){var r=t&&(t.message||t)||"Unknown error.",o={x:i.left,y:n.top,width:i.width,height:n.height},a={bounds:o};console.error(r),e.cache.save(),e.beginPath(),e.rect(o.x,o.y,o.width,o.height),e.clip(),this.grid.cellRenderers.get("errorcell").paint(e,a,r),e.cache.restore()},paintGridlines:function(t){var e=this.visibleColumns,i=e.length,n=this.visibleRows,r=n.length;if(i&&r){var o=this.properties,a=o.lineWidth,s=o.lineColor;if(o.gridLinesV){t.cache.fillStyle=s;var l=n[r-1].bottom,u=this.grid.behavior.leftMostColIndex;o.gridBorderLeft&&t.fillRect(e[u].left,0,a,l);this.visibleColumns.forEachWithNeg(function(e){!1||t.fillRect(e.left-a,0,a,l)}),o.gridBorderRight&&t.fillRect(e[i-1].right+1-a,0,a,l)}if(o.gridLinesH){t.cache.fillStyle=s;var c=e[i-1].right;o.gridBorderTop&&t.fillRect(0,n[0].top,c,a),o.gridBorderBottom||(r-=1),o.gridBorderRight&&(c+=a);for(var h=0;h<r;h++)t.fillRect(0,n[h].bottom,c,a)}}},paintCell:function(t,e,i){t.moveTo(0,0);var n=this.visibleColumns[e].index,r=this.visibleRows[i].index;n&&this._paintCell(t,n,r)},_paintCell:function(t,e,i){var n,r,o=this.grid,a=o.selectionModel,s=o.behavior,l=e.subgrid,u=e.isHandleColumn,c=e.isTreeColumn,h=e.isColumnSelected,p=e.isDataRow,d=e.isRowSelected,f=e.isCellSelected,g=e.isHeaderRow,m=e.isFilterRow,v=u||c,y=!v&&p,b=Object.assign(Object.create(e.columnProperties),e.cellOwnProperties),x=(b.gridCell=e.gridCell).x,_=(b.dataCell=e.dataCell).y;if(u)r=d||a.isCellSelectedInRow(_),b.halign="right";else if(c)r=d||a.isCellSelectedInRow(_),b.halign="left";else if(p){r=f||d||h,n=b.format;var w=e.columnProperties.rowProperties;Object.assign(b,w&&w[e.dataCell.y%w.length])}else n=l.format||b.format,r=!m&&(!!h||a.isCellSelectedInColumn(x));u?p?b.value=_+1:g&&(b.allRowsSelected=a.areAllRowsSelected()):(b.dataRow=e.dataRow,b.value=e.value),b.isSelected=r,b.isDataColumn=!v,b.isHandleColumn=u,b.isTreeColumn=c,b.isDataRow=p,b.isHeaderRow=g,b.isFilterRow=m,b.isUserDataArea=y,b.isColumnHovered=e.isColumnHovered,b.isRowHovered=e.isRowHovered,b.isCellHovered=e.isCellHovered,b.bounds=e.bounds,b.isCellSelected=f,b.isRowSelected=d,b.isColumnSelected=h,b.isInCurrentSelectionRectangle=a.isInCurrentSelectionRectangle(x,_),b.prefillColor=i,o.mouseDownState&&(b.mouseDown=o.mouseDownState.gridCell.equals(e.gridCell)),!y||b.value&&b.value.constructor===Array||(b.value=b.exec(b.value));var C=s.dataModel.getCell(b,b.renderer);return e.cellOwnProperties&&b.reapplyCellProperties&&Object.assign(b,e.cellOwnProperties),s.cellPropertiesPrePaintNotification(b),b.buttonCells=this.buttonCells,b.formatValue=o.getFormatter(n),b.snapshot=e.snapshot,b.minWidth=e.minWidth,C.paint(t,b),e.snapshot=b.snapshot,e.minWidth=b.minWidth,b.minWidth},findCell:function(t,e,i){var n,r,o=this.cellEventPool;"object"==typeof t?(i=e,e=t.visibleRow.rowIndex,n=t.column.index):n=t,i=i||this.grid.behavior.dataModel;for(var a=0,s=this.visibleColumns.length*this.visibleRows.length;a<s;++a)if(r=o[a],r.subgrid===i&&r.column.index===n&&r.visibleRow.rowIndex===e)return r},resetCellPropertiesCache:function(t,e,i){var n=this.findCell.apply(this,arguments);return n&&(n._cellOwnProperties=void 0),n},resetAllCellPropertiesCaches:function(){this.cellEventPool.forEach(function(t){t._cellOwnProperties=void 0})},isViewableButton:function(t,e){var i=t+","+e;return!0===this.buttonCells[i]},getBounds:function(){return this.bounds},setBounds:function(t){return this.bounds=t},setInfo:function(t){var e;this.visibleColumns.length&&(e=this.visibleColumns[this.visibleColumns.length-1].right),this.grid.canvas.setInfo(t,e)}});r(i(166)),r(i(167)),r(i(168)),r(i(79)),r(i(169)),u.registerGridRenderer=r,t.exports=u},function(t,e){t.exports={calendar:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAc0lEQVR4nIXQwQkCMRSE4U9ZLMCT9Xjaq2AfNhfYU5oQLMAOtoN48EWei5iBIRPe/yYQ3qrhf1lFG7iKcEaJxSfukUvMWgdHavt0uWHtg2QwxXnAnJZ2uOLyVZtybzzhgWNmfoFl0/YB87NbzR1cjP9xeQHSDC6mcL1xFQAAAABJRU5ErkJggg=="},checked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAYJJREFUOE+NkstLglEQxf0fahG0iFrUxm2ElFDYLohCqCDaCAkWPaxIRbFFEJEaGEKLDCoMETRFUAMLyaIHBUG6sSKIMtKFqEhLT818ZUgmDhzu3DPn9z0uV1RrmUwmyGQyqNVqfFvViwBxu5RFPZuLSyGMKhz/qlEsRV19K8xm6y+w7bpBPFnAferjj3bdQX6DpHcAUwavAHUN2RGIZxBJZHH2mC/TUeydwwTZvBegLENNgw7sX6Wh1FswNmPEmjPCDyGRRwCtW9E3tMgdAtQw7GZjYcNX+gza2wJ3ZXsSZUuQ0vWCOV8SHfJJ/uluhbHUj1v8PKNMszIoQNRMHCShD6Wh8zyhrbOPwz8w+STKlCCJ7oRNUzQH63kBs5thBghePXxlj2aUoSxDPcuXPNiLAc5EEZ6HIkbmV2DYiXBPHs0o079+K0DTVj/s11mE00A0L+g4VcDp10qKZMAzytBhMaTRaPmYg885DlcSzSij0eoEiIouoUqlqqqaL2rlEok+Ad4vlfzPoVDsAAAAAElFTkSuQmCC"},"down-rectangle":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAAkAAAAECAYAAABcDxXOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAABpJREFUGFdjgIL/eDAKIKgABggqgAE0BQwMAPTlD/Fpi0JfAAAAAElFTkSuQmCC"},"filter-off":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAChSURBVChTzZHBCoUgFET9TqEiskgyWoutQvRLRIr+cR7XQAjiJW/1BgZmMUevXsY5xy9OoDEGMcYiUzeB67qibVuwQjVNA6311V+WBeM4vsLDMEApde/1fY9pmtI453neHEKAlBJd1z0fXtc16PbjODK07zvmeUZVVd8nooc75zJIOX3Gm6i0bVsGKf8xKIRIuyJTLgJJ3nvQzsjW2geIsQ/pr9hMVrSncAAAAABJRU5ErkJggg=="},"filter-on":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAACoSURBVChTY3BqfP2fHAzWmDbj7f8p294RhVOBasEa02e+/e/VBmQQCTxaX/9PnvYGoj5ywpv/Qd2ENft3vv4f1gfVBAP+nW/+h/a+ATtn1q73KHjytvdgg3070DTBgHvL6/8g22fsQGiaDmSHA21xaybgIpDHixa8hWssnA8NDEIApCh3LkIjiD2INYJCL2X6W3B8gdhEaQQBUOCA4gyE8+e9xaKJgQEA/74BNE3cElkAAAAASUVORK5CYII="},unchecked:{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA0AAAAPCAYAAAA/I0V3AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAARBJREFUOE+9krtug1AQRPldSio7FQ1tZImOkoKOBomGT0EURC5ino54yTw90WywQhTkIkVWGoF2zuxdrlD+t0zThKZpT0Vmxb8CQRCg6zr0fb8rer7vfwcPxxdcrx+YpgnzPGNZlh9ibxxHlGUJshLSdV0at9tNpg7DIBrX5+OkPM9BVkKGYSBJEtR1jbZrBdiqbVtUVYU0TUFWQq+nE+I4xvvlImGaW7FHjwxZCVmWhbfzGVmWoSgKWXUr9uiRISshx3FkEldomubXauzRI0NWQp7nyUR+NG/rfr/jUXxnjx5vmKyEbNuWox9Xvid6ZMhK6HA4wnVdhGGIKIp2RY8MWQmx+JuoqvpUZFb8L6UonyYL3uOtrFH+AAAAAElFTkSuQmCC"},"up-down-spin":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGJJREFUOE+lkwEKACEIBH2Zb/PnHsoGeaVJDUjGOgRRpKpkiIj+y4MME3eDR7kaKOVNsJyMNjIHzGy9YnW6J7qIcrriQimeCqORNABd0fpRTkt8uVUj7EsxC6vs/q3e/Q6iD2bwnByjPXHNAAAAAElFTkSuQmCC"},"up-down":{type:"image/png",data:"iVBORw0KGgoAAAANSUhEUgAAAA4AAAAPCAYAAADUFP50AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC41ZYUyZQAAAGFJREFUOE+lkkEKQCEIRD2ZJ3Ph3iN4WD9GflpYhj0YYowpGgJmbikd3gjMDFokwbuT1iAiurG5nomgqo5QaPo9ERQRI6Jf7sfGjudy2je23+i0Wl2oQ85TOdlfrJQOazF8br+rqTXQKn0AAAAASUVORK5CYII="}}},function(t,e,i){"use strict";function n(t){var e,i,n,o,a=this.visibleColumns,s=this.visibleRows,l=a.length,u=l-1,c=s.length,h=0,p=this.cellEventPool,d=c?s[c-1].bottom:0;l&&c&&(this.gridRenderer.reset&&(this.resetAllGridRenderers(),r.call(this,t),this.gridRenderer.reset=!1),this.visibleColumns.forEachWithNeg(function(r,a){for(e=p[h],r=e.visibleColumn,o=r.column.properties.columnClip,t.clipSave(o||null===o&&a===u,0,0,r.right,d),n=i=0;i<c;i++,h++){e=p[h];try{n=Math.max(n,this._paintCell(t,p[h]))}catch(e){this.renderErrorCell(e,t,r,p[h].visibleRow)}}t.clipRestore(o),e.column.properties.preferredWidth=Math.round(n)}.bind(this)))}var r=i(79);n.key="by-cells",n.partial=!0,t.exports=n},function(t,e,i){"use strict";function n(t){var e,i,n,o,a,s,l,u,c=this.grid,h=c.properties,p=h.backgroundColor,d=this.visibleColumns,f=this.visibleRows,g=d.length,m=g-1,v=f.length,y=this.cellEventPool,b=g?d[m].right:0,x=v?f[v-1].bottom:0;if(t.clearRect(0,0,this.bounds.width,this.bounds.height),g&&v){for(t.alpha(p)>0&&(t.cache.fillStyle=p,t.fillRect(0,0,b,x)),this.gridRenderer.reset?(this.resetAllGridRenderers(["by-columns-discrete"]),this.gridRenderer.reset=!1,r.call(this,!0)):this.gridRenderer.rebundle&&(this.gridRenderer.rebundle=!1,r.call(this)),o=this.columnBundles,a=o.length;a--;)n=o[a],t.clearFill(n.left,0,n.right-n.left,x,n.backgroundColor);var _=0;this.visibleColumns.forEachWithNeg(function(n,r){for(i=y[_],n=i.visibleColumn,e=i.column.properties.backgroundColor,u=n.column.properties.columnClip,t.clipSave(u||null===u&&r===m,0,0,n.right,x),l=s=0;s<v;s++,_++){i=y[_];try{l=Math.max(l,this._paintCell(t,i,e))}catch(e){this.renderErrorCell(e,t,n,i.visibleRow)}}t.clipRestore(u),i.column.properties.preferredWidth=Math.round(l)}.bind(this)),this.paintGridlines(t)}}var r=i(51);n.key="by-columns",n.rebundle=!0,t.exports=n},function(t,e,i){"use strict";function n(t){var e,i,n,o,a,s=this.visibleColumns,l=this.visibleRows,u=s.length,c=u-1,h=l.length,p=this.cellEventPool,d=h?l[h-1].bottom:0;if(t.clearRect(0,0,this.bounds.width,this.bounds.height),u&&h){this.gridRenderer.reset&&(this.resetAllGridRenderers(["by-columns"]),this.gridRenderer.reset=!1,r.call(this,!0));var f=0;this.visibleColumns.forEachWithNeg(function(r,s){for(i=p[f],r=i.visibleColumn,e=i.column.properties.backgroundColor,t.clearFill(r.left,0,r.width,d,e),a=r.column.properties.columnClip,t.clipSave(a||null===a&&s===c,0,0,r.right,d),o=n=0;n<h;n++,f++){i=p[f];try{o=Math.max(o,this._paintCell(t,i,e))}catch(e){this.renderErrorCell(e,t,r,i.visibleRow)}}t.clipRestore(a),i.column.properties.preferredWidth=Math.round(o)}.bind(this)),this.paintGridlines(t)}}var r=i(51);n.key="by-columns-discrete",t.exports=n},function(t,e,i){"use strict";function n(t){var e,i,n,o,a,s,l,u,c=this.grid,h=c.properties,p=h.backgroundColor,d=this.rowBundles,f=this.visibleColumns,g=this.visibleRows,m=f.length,v=m-1,y=g.length,b=this.cellEventPool,x=Array(m-0).fill(0),_=m?f[m-1].right:0,w=y?g[y-1].bottom:0,C=h.lineWidth,S=h.lineColor;if(t.clearRect(0,0,this.bounds.width,this.bounds.height),m&&y){for(t.alpha(p)>0&&(t.cache.fillStyle=p,t.fillRect(0,0,_,w)),this.gridRenderer.reset&&(this.resetAllGridRenderers(),this.gridRenderer.reset=!1,r.call(this,!0)),i=this.rowPrefillColors,s=d.length;s--;)o=d[s],t.clearFill(0,o.top,_,o.bottom-o.top,o.backgroundColor);for(l=0,s=0;s<y;s++)e=i[s],h.gridLinesH&&(t.cache.fillStyle=S,t.fillRect(0,b[l].visibleRow.bottom,_,C)),this.visibleColumns.forEachWithNeg(function(i){l++,n=b[l],i=n.visibleColumn,u=i.column.properties.columnClip,t.clipSave(u||null===u&&a===v,0,0,i.right,w);try{x[a]=Math.max(x[a],this._paintCell(t,n,e))}catch(e){this.renderErrorCell(e,t,i,void 0)}t.clipRestore(u)}.bind(this));this.paintGridlines(t),this.visibleColumns.forEachWithNeg(function(t,e){t.column.properties.preferredWidth=Math.round(x[e])})}}var r=i(80);n.key="by-rows",t.exports=n},function(t,e,i){"use strict";function n(t){this.grid=t,this.reset()}var r=i(171);n.prototype={constructor:n.prototype.constructor,allRowsSelected:!1,reset:function(){this.selections=[],this.flattenedX=[],this.flattenedY=[],this.rowSelectionModel=new r,this.columnSelectionModel=new r,this.setLastSelectionType("")},getLastSelection:function(){var t=this.selections;return t[t.length-1]},getLastSelectionType:function(){return this.lastSelectionType},setLastSelectionType:function(t){this.lastSelectionType=t},select:function(t,e,i,n,r){var o=this.grid.newRectangle(t,e,i,n);o.firstSelectedCell=this.grid.newPoint(t,e),o.lastSelectedCell=o.firstSelectedCell.x===o.origin.x&&o.firstSelectedCell.y===o.origin.y?o.corner:o.origin,this.grid.properties.multipleSelections?(this.selections.push(o),this.flattenedX.push(o.flattenXAt(0)),this.flattenedY.push(o.flattenYAt(0))):(this.selections[0]=o,this.flattenedX[0]=o.flattenXAt(0),this.flattenedY[0]=o.flattenYAt(0)),this.setLastSelectionType("cell"),r||this.grid.selectionChanged()},toggleSelect:function(t,e,i,n){var r,o;r=this.selections.find(function(r,a){return o=a,r.origin.x===t&&r.origin.y===e&&r.extent.x===i&&r.extent.y===n}),r?(this.selections.splice(o,1),this.flattenedX.splice(o,1),this.flattenedY.splice(o,1),this.grid.selectionChanged()):this.select(t,e,i,n)},clearMostRecentSelection:function(t){t||this.setAllRowsSelected(!1),this.selections.length&&--this.selections.length,this.flattenedX.length&&--this.flattenedX.length,this.flattenedY.length&&--this.flattenedY.length},clearMostRecentColumnSelection:function(){this.columnSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("column")},clearMostRecentRowSelection:function(){this.rowSelectionModel.clearMostRecentSelection(),this.setLastSelectionType("row")},clearRowSelection:function(){this.rowSelectionModel.clear(),this.setLastSelectionType("row")},getSelections:function(){return this.selections},hasSelections:function(){return 0!==this.selections.length},hasRowSelections:function(){return!this.rowSelectionModel.isEmpty()},hasColumnSelections:function(){return!this.columnSelectionModel.isEmpty()},isCellSelectedInRow:function(t){return this._isCellSelected(this.flattenedX,0,t)},isCellSelectedInColumn:function(t){return this._isCellSelected(this.flattenedY,t,0)},isSelected:function(t,e){return this.isColumnSelected(t)||this.isRowSelected(e)||this._isCellSelected(this.selections,t,e)},isCellSelected:function(t,e){return this._isCellSelected(this.selections,t,e)},_isCellSelected:function(t,e,i){var n=this;return!!t.find(function(t){return n.rectangleContains(t,e,i)})},clear:function(t){this.selections.length=0,this.flattenedX.length=0,this.flattenedY.length=0,this.columnSelectionModel.clear(),t||(this.setAllRowsSelected(!1),this.rowSelectionModel.clear())},isRectangleSelected:function(t,e,i,n){return!!this.selections.find(function(r){return r.origin.x===t&&r.origin.y===e&&r.extent.x===i&&r.extent.y===n})},isColumnSelected:function(t){return this.columnSelectionModel.isSelected(t)},isRowSelected:function(t){return this.allRowsSelected||this.rowSelectionModel.isSelected(t)},selectColumn:function(t,e){this.columnSelectionModel.select(t,e),this.setLastSelectionType("column")},selectAllRows:function(){this.clear(),this.setAllRowsSelected(!0)},setAllRowsSelected:function(t){this.allRowsSelected=t},areAllRowsSelected:function(){return this.allRowsSelected},selectRow:function(t,e){this.rowSelectionModel.select(t,e),this.setLastSelectionType("row")},deselectColumn:function(t,e){this.columnSelectionModel.deselect(t,e),this.setLastSelectionType("column")},deselectRow:function(t,e){this.areAllRowsSelected()&&(this.setAllRowsSelected(!1),this.rowSelectionModel.select(0,this.grid.getRowCount()-1)),this.rowSelectionModel.deselect(t,e),this.setLastSelectionType("row")},getSelectedRows:function(){if(this.areAllRowsSelected()){for(var t=this.grid.getHeaderRowCount(),e=this.grid.getRowCount()-t,i=new Array(e),n=0;n<e;n++)i[n]=n+t;return i}return this.rowSelectionModel.getSelections()},getSelectedColumns:function(){return this.columnSelectionModel.getSelections()},isColumnOrRowSelected:function(){return!this.columnSelectionModel.isEmpty()||!this.rowSelectionModel.isEmpty()},getFlattenedYs:function(){var t=[],e={};return this.selections.forEach(function(i){for(var n=i.origin.y,r=i.extent.y+1,o=0;o<r;o++){var a=o+n;e[a]||(t.push(a),e[a]=!0)}}),t.sort(function(t,e){return t-e}),t},selectRowsFromCells:function(t,e){t=t||0;var i=this.rowSelectionModel;e||(this.setAllRowsSelected(!1),i.clear()),this.selections.forEach(function(e){var n=e.origin.y,r=e.extent.y;n+=t,i.select(n,n+r)})},selectColumnsFromCells:function(t){t=t||0;var e=this.columnSelectionModel;e.clear(),this.selections.forEach(function(i){var n=i.origin.x,r=i.extent.x;n+=t,e.select(n,n+r)})},isInCurrentSelectionRectangle:function(t,e){var i=this.selections[this.selections.length-1];return i&&this.rectangleContains(i,t,e)},rectangleContains:function(t,e,i){var n=t.origin.x,r=t.origin.y,o=n+t.extent.x,a=r+t.extent.y;return t.extent.x<0&&(n=o,o=t.origin.x),t.extent.y<0&&(r=a,a=t.origin.y),e>=n&&i>=r&&e<=o&&i<=a}},t.exports=n},function(t,e,i){"use strict";(function(t){(function(t){function e(){this.selection=[],this.states=[],this.storeState=function(){for(var t,e=this.selection,i=[],n=0;n<e.length;n++)t=[].concat(e[n]),i.push(t);this.states.push(i)}}function i(t,e){return t instanceof Array?i.apply(this,t):void 0===e?[t,t]:t<=e?[t,e]:[e,t]}function n(t,e){return t[0]<=e[0]&&e[0]<=t[1]||t[0]<=e[1]&&e[1]<=t[1]||e[0]<t[0]&&t[1]<e[1]}function r(t,e){return t[1]===e[0]-1||e[1]===t[0]-1}function o(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],a=[];return r<=i&&o<n?a.push([o+1,n]):r>i&&o>=n?a.push([i,r-1]):i<r&&o<n?(a.push([i,r-1]),a.push([o+1,n])):(o<i||r>n)&&a.push(t),a}function a(t,e){return[Math.min(Math.min.apply(Math,t),Math.min.apply(Math,e)),Math.max(Math.max.apply(Math,t),Math.max.apply(Math,e))]}e.prototype={select:function(t,e){this.storeState();var o=i(t,e),s=[0,1];return this.selection.forEach(function(t){n(t,o)||r(t,o)?o=a(t,o):s.push(t)}),s.push(o),s[1]=this.selection.length,this.selection.splice.apply(this.selection,s),this},deselect:function(t,e){var r=i(t,e),a=[0,0];return this.selection.forEach(function(t){if(n(t,r)){var e=o(t,r);a=a.concat(e)}else a.push(t)}),a[1]=this.selection.length,this.selection.splice.apply(this.selection,a),this},clear:function(){return this.states.length=0,this.selection.length=0,this},clearMostRecentSelection:function(){0!==this.states.length&&(this.selection=this.states.pop())},isSelected:function(t){return this.selection.some(function(e){return e[0]<=t&&t<=e[1]})},isEmpty:function(){return 0===this.selection.length},getSelections:function(){var t=[];return this.selection.forEach(function(e){for(var i=e[0];i<=e[1];i++)t.push(i)}),t.sort(function(t,e){return t-e}),t}},t.exports=e})("object"==typeof t&&t||(window.RangeSelectionModel={}),"object"==typeof t&&t.exports||(window.RangeSelectionModel.exports={}))||"object"==typeof t||(window.RangeSelectionModel=window.RangeSelectionModel.exports)}).call(e,i(172)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";function n(t,e){return this.getCellOwnProperties(t,e)||r.call(this,t,e)}function r(t,e){var i,n=(e||this.dataModel).getRow(t),r=n.__META=n.__META||{};return this._index>=0?i=this.properties:this._index===this.behavior.treeColumnIndex?i=this.properties.treeHeader:this._index===this.behavior.rowColumnIndex&&(i=this.properties.rowHeader),r[this.name]=Object.create(i)}var o={getCellProperties:function(t,e){return this.getCellOwnProperties(t,e)||this.properties},setCellProperties:function(t,e,i){return Object.assign(r.call(this,t,i),e)},addCellProperties:function(t,e,i){return Object.assign(n.call(this,t,i),e)},getCellOwnProperties:function(t,e){var i;return(i=(e||this.dataModel).getRow(t))&&i.__META&&i.__META[this.name]||null},deleteCellOwnProperties:function(t,e){var i=(e||this.dataModel).getRow(t);i.__META&&delete i.__META[this.name]},getCellProperty:function(t,e,i){return this.getCellProperties(t,i)[e]},setCellProperty:function(t,e,i,r){var o=n.call(this,t,r);return o[e]=i,o},deleteCellProperty:function(t,e,i){var n=this.getCellOwnProperties(t,i);n&&delete n[e]},clearAllCellProperties:function(){var t=this.name;this.behavior.subgrids.forEach(function(e){for(var i=e.getRowCount();i--;){var n=e.getRow(i),r=n.__META;r&&(1===Object.keys(r).length&&delete n.__META,r&&delete r[t])}})}};t.exports=o},function(t,e,i){"use strict";function n(){var t,e=this,i=e.behavior.grid.properties;return t=Object.create(i,{index:{get:function(){return e.index}},name:{get:function(){return e.name}},field:{get:function(){return o&&(console.warn(o),o=void 0),e.name}},columnName:{get:function(){return a&&(console.warn(a),a=void 0),e.name}},header:{enumerable:!0,get:function(){return e.header},set:function(t){if(this!==e.properties)throw new e.HypergridError(s);e.header=t}},type:{enumerable:!0,get:function(){return e.type},set:function(t){if(this!==e.properties)throw new e.HypergridError(s);e.type=t}},calculator:{enumerable:!0,get:function(){return e.calculator},set:function(t){if(this!==e.properties)throw new e.HypergridError(s);if(t){if("function"==typeof t)t=t.toString();else if("string"!=typeof t)throw new this.grid.HypergridError("Expected function or string containing function or function name.");var i,n=t,o=this.grid.properties.calculators=this.grid.properties.calculators||{};/^\w+$/.test(t)?t=o[t]:(i=t.match(/^function\s*(\w+)\(/))&&(n=i[1]),e.calculator=o[n]="function"==typeof o[n]?o[n]||n:r(t)}else e.calculator=void 0}}}),Object.defineProperty(t,"rowHeader",{value:Object.create(t,n.rowHeaderDescriptors)}),Object.defineProperty(t,"treeHeader",{value:Object.create(t,n.treeHeaderDescriptors)}),Object.defineProperty(t,"columnHeader",{value:Object.create(t,n.columnHeaderDescriptors)}),Object.defineProperty(t,"filterProperties",{value:Object.create(t,n.filterDescriptors)}),t}var r=i(175),o="columnProperties.field is deprecated as of v1.1.0 in favor of columnProperties.name. (Will be removed in a future release.)",a="columnProperties.columnName is deprecated as of v1.1.0 in favor of columnProperties.name. (Will be removed in a future release.)",s="Attempt to set column-only property on a non-column properties object.";n.treeHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderFont},set:function(t){this.treeHeaderFont=t}},color:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderColor},set:function(t){this.treeHeaderColor=t}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundColor},set:function(t){this.treeHeaderBackgroundColor=t}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionFont},set:function(t){this.treeHeaderForegroundSelectionFont=t}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderForegroundSelectionColor},set:function(t){this.treeHeaderForegroundSelectionColor=t}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.treeRenderer},set:function(t){this.treeRenderer=t}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.treeHeaderBackgroundSelectionColor},set:function(t){this.treeHeaderBackgroundSelectionColor=t}}},n.rowHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderFont},set:function(t){this.rowHeaderFont=t}},color:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderColor},set:function(t){this.rowHeaderColor=t}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundColor},set:function(t){this.rowHeaderBackgroundColor=t}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionFont},set:function(t){this.rowHeaderForegroundSelectionFont=t}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderForegroundSelectionColor},set:function(t){this.rowHeaderForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.rowHeaderBackgroundSelectionColor},set:function(t){this.rowHeaderBackgroundSelectionColor=t}},leftIcon:{configurable:!0,enumerable:!0,get:function(){var t;return this.isDataRow?t=this.isRowSelected?"checked":"unchecked":this.isHeaderRow?t=this.allRowsSelected?"checked":"unchecked":this.isFilterRow&&(t="filter-off"),t},set:function(t){Object.defineProperty(this,"leftIcon",{configurable:!0,enumerable:!0,writable:!0,value:t})}}},n.filterDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.filterFont},set:function(t){this.filterFont=t}},color:{configurable:!0,enumerable:!0,get:function(){return this.filterColor},set:function(t){this.filterColor=t}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundColor},set:function(t){this.filterBackgroundColor=t}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterForegroundSelectionColor},set:function(t){this.filterForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.filterBackgroundSelectionColor},set:function(t){this.filterBackgroundSelectionColor=t}},halign:{configurable:!0,enumerable:!0,get:function(){return this.filterHalign},set:function(t){this.filterHalign=t}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.filterRenderer},set:function(t){this.filterRenderer=t}},rightIcon:{configurable:!0,enumerable:!0,get:function(){var t;return this.filterable&&(t=this.value.length?"filter-on":"filter-off"),t},set:function(t){Object.defineProperty(this,"rightIcon",{configurable:!0,enumerable:!0,writable:!0,value:t})}}},n.columnHeaderDescriptors={font:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderFont},set:function(t){this.columnHeaderFont=t}},color:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderColor},set:function(t){this.columnHeaderColor=t}},backgroundColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundColor},set:function(t){this.columnHeaderBackgroundColor=t}},foregroundSelectionFont:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionFont},set:function(t){this.columnHeaderForegroundSelectionFont=t}},foregroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderForegroundSelectionColor},set:function(t){this.columnHeaderForegroundSelectionColor=t}},backgroundSelectionColor:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderBackgroundSelectionColor},set:function(t){this.columnHeaderBackgroundSelectionColor=t}},halign:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderHalign},set:function(t){this.columnHeaderHalign=t}},renderer:{configurable:!0,enumerable:!0,get:function(){return this.columnHeaderRenderer},set:function(t){this.columnHeaderRenderer=t}},leftIcon:{writable:!0,value:void 0},centerIcon:{writable:!0,value:void 0},rightIcon:{writable:!0,value:void 0}},t.exports.createColumnProperties=n},function(t,e,i){"use strict";t.exports=function(t){switch(typeof t){case"undefined":case"function":return t;case"string":break;default:throw"Expected string, function, or undefined."}var e=t.match(/^function\s*\w*\s*\(([^]*?)\)/);if(!e)throw"Expected function keyword with formal parameter list.";e=e[1].split(",").map(function(t,e){if(!(t=t.match(/\s*(\w*)\s*/))&&e)throw"Expected formal parameter.";return t[1]});var i=t.match(/{\s*([^]*?)\s*}/);if(!i)throw"Expected function body.";return i=i[1],1!==e.length||e[0]?e=e.concat(i):e[0]=i,Function.apply(null,e)}},function(t,e,i){"use strict";function n(t){function e(t,e){Object.defineProperties(this,{visibleColumn:a,visibleRow:a,subgrid:a,gridCell:{value:new o},dataCell:{value:new o},column:s,_columnProperties:a,_cellOwnProperties:a,_bounds:a,snapshot:a,minWidth:a,disabled:a}),arguments.length&&this.resetGridCY(t,e)}return e.prototype=Object.create(n.prototypeDescriptors),Object.defineProperties(e.prototype,{constructor:{value:e},grid:{value:t},renderer:{value:t.renderer},selectionModel:{value:t.selectionModel},behavior:{value:t.behavior},dataModel:{value:t.behavior.dataModel}}),e}var r=i(30),o=i(177),a={writable:!0},s={writable:!0,enumerable:!0};n.prototypeDescriptors=Object.defineProperties({},{value:{get:function(){return this.visibleRow.subgrid.getValue(this.dataCell.x,this.dataCell.y)},set:function(t){this.visibleRow.subgrid.setValue(this.dataCell.x,this.dataCell.y,t)}},dataRow:{get:function(){return this.visibleRow.subgrid.getRow(this.dataCell.y)}},formattedValue:{get:function(){return this.grid.formatValue(this.properties.format,this.value)}},bounds:{get:function(){return this._bounds||(this._bounds={x:this.visibleColumn.left,y:this.visibleRow.top,width:this.visibleColumn.width,height:this.visibleRow.height})}},columnProperties:{get:function(){var t=this._columnProperties;return t||(t=this.column.properties,this.isHandleColumn?t=t.rowHeader:this.isTreeColumn?t=t.treeHeader:this.isDataRow||(t=this.isFilterRow?t.filterProperties:t.columnHeader),this._columnProperties=t),t}},cellOwnProperties:{get:function(){return void 0===this._cellOwnProperties&&(this._cellOwnProperties=this.column.getCellOwnProperties(this.dataCell.y,this.visibleRow.subgrid)),this._cellOwnProperties}},properties:{get:function(){return this.cellOwnProperties||this.columnProperties}},getCellProperty:{value:function(t){return this.properties[t]}},setCellProperty:{value:function(t,e){this._cellOwnProperties=this.column.setCellProperty(this.dataCell.y,t,e,this.visibleRow.subgrid)}},reset:{value:function(t,e){this._columnProperties=void 0,this._cellOwnProperties=void 0,this._bounds=void 0,this.snapshot=void 0,this.minWidth=void 0,this.disabled=void 0,this.visibleColumn=t,this.visibleRow=e,this.subgrid=e.subgrid,this.column=t.column,this.gridCell.x=t.columnIndex,this.gridCell.y=e.index,this.dataCell.x=this.column&&this.column.index,this.dataCell.y=e.rowIndex}},resetGridCY:{value:function(t,e){var i,n,r=(n=this.renderer.getVisibleColumn(t))&&(i=this.renderer.getVisibleRow(e));return r&&this.reset(n,i),r}},resetGridXY:{value:function(t,e){var i,n,r=(n=this.renderer.visibleColumns[t])&&(i=this.renderer.getVisibleRow(e));return r&&this.reset(n,i),r}},resetDataXY:{value:function(t,e,i){var n,r,o=(r=this.renderer.getVisibleDataColumn(t))&&(n=this.renderer.getVisibleDataRow(e,i));return o&&this.reset(r,n),o}},resetGridXDataY:{value:function(t,e,i){var n,r,o=(r=this.renderer.getVisibleColumn(t))&&(n=this.renderer.getVisibleDataRow(e,i));return o&&this.reset(r,n),o&&this}},clone:{value:function(t){var e=new this.constructor;return e.resetGridXY(this.visibleColumn.index,this.visibleRow.index),t&&Object.assign(e,this),e}},editPoint:{get:function(){throw"The `.editPoint` property is no longer available as of v1.2.10. Use the following coordinates instead:\n`.gridCell.x` - The active column index. (Adjusted for column scrolling after fixed columns.)\n`.gridCell.y` - The vertical grid coordinate. (Unaffected by row scrolling.)\n`.dataCell.x` - The data model's column index. (Unaffected by column scrolling.)\n`.dataCell.y` - The data model's row index. (Adjusted for data row scrolling after fixed rows.)\n"}},isRowVisible:{get:function(){return!!this.visibleRow}},isColumnVisible:{get:function(){return!!this.visibleColumn}},isCellVisible:{get:function(){return this.isRowVisible&&this.isColumnVisible}},isDataRow:{get:function(){return this.visibleRow.subgrid.isData}},isDataColumn:{get:function(){return this.gridCell.x>=0}},isDataCell:{get:function(){return this.isDataRow&&this.isDataColumn}},isRowSelected:{get:function(){return this.isDataRow&&this.selectionModel.isRowSelected(this.dataCell.y)}},isColumnSelected:{get:function(){return this.isDataColumn&&this.selectionModel.isColumnSelected(this.gridCell.x)}},isCellSelected:{get:function(){return this.selectionModel.isCellSelected(this.gridCell.x,this.dataCell.y)}},isRowHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataRow&&this.grid.hoverCell&&this.grid.hoverCell.y===this.gridCell.y}},isColumnHovered:{get:function(){return this.grid.canvas.hasMouse&&this.isDataColumn&&this.grid.hoverCell&&this.grid.hoverCell.x===this.gridCell.x}},isCellHovered:{get:function(){return this.isRowHovered&&this.isColumnHovered}},isRowFixed:{get:function(){return this.isDataRow&&this.dataCell.y<this.grid.properties.fixedRowCount}},isColumnFixed:{get:function(){return this.isDataColumn&&this.gridCell.x<this.grid.properties.fixedColumnCount}},isCellFixed:{get:function(){return this.isRowFixed&&this.isColumnFixed}},isHandleColumn:{get:function(){return this.gridCell.x===this.grid.behavior.rowColumnIndex&&this.grid.properties.showRowNumbers}},isHandleCell:{get:function(){return this.isHandleColumn&&this.isDataRow}},isTreeColumn:{get:function(){return this.gridCell.x===this.grid.behavior.treeColumnIndex}},isHeaderRow:{get:function(){return this.visibleRow.subgrid.isHeader}},isHeaderHandle:{get:function(){return this.isHeaderRow&&this.isHandleColumn}},isHeaderCell:{get:function(){return this.isHeaderRow&&this.isDataColumn}},isFilterRow:{get:function(){return this.visibleRow.subgrid.isFilter}},isFilterHandle:{get:function(){return this.isFilterRow&&this.isHandleColumn}},isFilterCell:{get:function(){return this.isFilterRow&&this.isDataColumn}},isSummaryRow:{get:function(){return this.visibleRow.subgrid.isSummary}},isSummaryHandle:{get:function(){return this.isSummaryRow&&this.isHandleColumn}},isSummaryCell:{get:function(){return this.isSummaryRow&&this.isDataColumn}},isTopTotalsRow:{get:function(){return this.visibleRow.subgrid===this.behavior.subgrids.lookup.topTotals}},isTopTotalsHandle:{get:function(){return this.isTopTotalsRow&&this.isHandleColumn}},isTopTotalsCell:{get:function(){return this.isTopTotalsRow&&this.isDataColumn}},isBottomTotalsRow:{get:function(){return this.visibleRow.subgrid===this.behavior.subgrids.lookup.bottomTotals}},isBottomTotalsHandle:{get:function(){return this.isBottomTotalsRow&&this.isHandleColumn}},isBottomTotalsCell:{get:function(){return this.isBottomTotalsRow&&this.isDataColumn}},$$CLASS_NAME:{value:"CellEvent"},deprecated:{value:r},isGridRow:{get:function(){return this.deprecated("isGridRow",".isGridRow is deprecated as of v1.2.10 in favor of .isDataRow. (Will be removed in a future release.)"),this.isDataRow}},isGridColumn:{get:function(){return this.deprecated("isGridColumn",".isGridColumn is deprecated as of v1.2.10 in favor of .isDataColumn. (Will be removed in a future release.)"),this.isDataColumn}},isGridCell:{get:function(){return this.deprecated("isGridCell",".isGridCell is deprecated as of v1.2.10 in favor of .isDataCell. (Will be removed in a future release.)"),this.isDataCell}}}),t.exports=n},function(t,e,i){"use strict";function n(t,e){}var r=i(13).Point;n.prototype=r.prototype,t.exports=n},function(t,e,i){"use strict";function n(t){var e;switch(typeof t){case"string":e=r[t];break;case"function":e=t;break;default:throw new this.HypergridError("Expected subgrid ref to be registered name or constructor, but found "+typeof t+".")}return e}var r=i(83);t.exports={set subgrids(t){var e=this._subgrids=[];e.lookup={},t.forEach(function(t){t&&e.push(this.createSubgrid(t))},this),this.shapeChanged()},get subgrids(){return this._subgrids},createSubgrid:function(t,e){var i,r,o;"data"===t?i=this.dataModel:t instanceof Array&&t.length?(r=n.call(this,t[0]),o=t.slice(1),i=this.createApply(r,o,this.grid)):"object"==typeof t?i=t:(r=n.call(this,t),o=Array.prototype.slice.call(arguments,1),i=this.createApply(r,o,this.grid)),i.type=i.type||"data";var a=i.name||i.type;return this._subgrids.lookup[a]=this._subgrids.lookup[a]||i,i["is"+i.type[0].toUpperCase()+i.type.substr(1)]=!0,i},getHeaderRowCount:function(){var t=0;return this.subgrids.find(function(e){if(e.isData)return!0;t+=e.getRowCount()}),t}}},function(t,e,i){"use strict";function n(t){return t[this.treeColumnIndex]||(t[this.treeColumnIndex]={name:"Tree",header:"Tree"}),t[this.rowColumnIndex]||(t[this.rowColumnIndex]={name:"",header:""}),t}var r=i(86),o=i(180).getFieldNames,a=r.extend("DataSourceOrigin",{initialize:function(t,e,i,r){delete this.dataSource,this.treeColumnIndex=i,this.rowColumnIndex=r,this._schema=n.call(this,[]),this.setData(t,e)},setData:function(t,e){this.data=t||[],e?this.setSchema(e):this.data.length&&!this.schema.length&&this.setSchema([])},get schema(){return this._schema},set schema(t){t=n.call(this,t),this._schema=t},getSchema:function(){return this._schema},setSchema:function(t){if(!t.length){var e=o(this.data[0]);t=Array(e.length);for(var i=0;i<e.length;i++)t[i]={name:e[i]}}t=n.call(this,t),this._schema=t},isNullObject:!1,getDataIndex:function(t){return t},getRow:function(t){return this.data[t]},findRow:function(t,e,i){var n,r,o,a,s;if("object"==typeof t){if(a=t,e instanceof Array){if(s=2,o=e,o.reduce(function(t,e){return e in a&&t++,t},0)!==o.length)throw"Expected all keys given in 2nd arg to be found in hash given in 1st arg."}else s=1,o=Object.keys(a),i=e;1===o.length?(t=o[0],e=a[t],a=void 0):o.length&&(n=this.data.find(function(e,i){if(e){for(var n in r=i,o)if(t=o[n],e[t]!==a[t])return;return!0}}))}else{if(arguments.length<2)throw"Expected at least 2 arguments when first argument not object but found "+arguments.length+".";s=2}if(a||(n=this.data.find(function(i,n){if(i)return r=n,i[t]===e})),n)if(this.foundRowIndex=r,null===i)this.data.splice(r,1);else if("object"==typeof i)this.data[r]=i;else{if(void 0!==i)throw"Expected null, undefined, or object but found "+typeof i+".";arguments.length>s&&delete this.data[r]}else this.foundRowIndex=void 0;return n},findRowByIndex:function(t,e){var i;if(arguments.length<1)throw"Expected at least 1 argument but found "+arguments.length+".";if("number"!=typeof t)throw"Expected at index to be a number but got "+t+".";if(i=this.data[t])if(null===e)this.data.splice(t,1);else if("object"==typeof e)this.data[t]=e;else if(void 0===e&&arguments.length>=2)delete this.data[t];else if(void 0!==e)throw"Expected null, undefined, or object but found "+typeof e+".";return i},getValue:function(t,e){var i=this.getRow(e);return i?i[this.schema[t].name]:null},setValue:function(t,e,i){this.getRow(e)[this.schema[t].name]=i},getRowCount:function(){return this.data.length},getColumnCount:function(){return this.schema.length},getFields:function(){return this.schema.map(function(t){return t.name})},getHeaders:function(){return this.schema.map(function(t){return t.header})},setFields:function(t){if(!Array.isArray(t)||t.length!==this.schema.length)throw new this.DataSourceError("Expected argument to be an array with correct length.");t.forEach(function(t,e){this.schema[e].field=t},this)},setHeaders:function(t){if(!Array.isArray(t)||t.length!==this.schema.length)throw new this.DataSourceError("Expected argument to be an array with correct length.");t.forEach(function(t,e){this.schema[e].header=t},this)}});t.exports=a,(window.datasaur=window.datasaur||{}).base=i(86)},function(t,e,i){"use strict";function n(t){return Object.keys(t||[]).filter(function(t){return!s.test(t)})}function r(t,e,i){return e.toUpperCase()+i}function o(t){return(c.test(t)?t:t.toLowerCase()).replace(l,r).replace(u," $&").trim()}function a(t){return n(t&&t[0]||{}).map(function(t){return{name:t,header:o(t)}})}var s=/^__/,l=/[\s\-_]*([^\s\-_])([^\s\-_]+)/g,u=/[A-Z]/g,c=/[a-z]/;t.exports={getFieldNames:n,titleize:o,getSchema:a}},function(t,e,i){"use strict";function n(t,e){this.grid=t,this.behavior=t.behavior,this.dataRow={},e&&e.name&&(this.name=e.name)}n.prototype={constructor:n.prototype.constructor,type:"header",format:"header",getRowCount:function(){return this.grid.properties.showHeaderRow?1:0},getValue:function(t,e){var i=this.behavior.getColumn(t);return i.header||i.name},setValue:function(t,e,i){e<this.getRowCount()&&(this.behavior.getColumn(t).header=i)},getRow:function(t){return this.dataRow}},t.exports=n},function(t,e,i){"use strict";var n=i(53),r=i(183),o=i(85),a=i(184),s=n.extend("behaviors.JSON",{preInitialize:function(t,e){this.columnEnum={}},initialize:function(t,e){this.setData(e),e.pipeline&&this.setPipeline(e.pipeline)},features:[a.Filters,a.CellSelection,a.KeyPaging,a.ColumnResizing,a.RowSelection,a.ColumnSelection,a.ColumnMoving,a.ColumnSorting,a.CellClick,a.CellEditing,a.OnHover],createColumns:function(){n.prototype.createColumns.call(this);var t=this.columnEnum;Object.keys(t).forEach(function(e){delete t[e]}),this.dataModel.schema.forEach(function(e,i){this.addColumn({index:i,header:e.header,calculator:e.calculator}),t[this.columnEnumKey(e.name)]=i},this)},columnEnumKey:r.toAllCaps,getNewDataModel:function(t){return new o(this.grid,t)},setHeaders:function(t){if(t instanceof Array){var e=this.allColumns;t.forEach(function(t,i){e[i].header=t})}else"object"==typeof t&&this.allColumns.forEach(function(e){t[e.name]&&(e.header=t[e.name])})},setFields:function(t){this.dataModel.setFields(t),this.createColumns()},setPipeline:function(t,e){this.dataModel.setPipeline.apply(this.dataModel,arguments),Array.isArray(t)||(e=t),e&&void 0!==e.apply&&!e.apply||this.reindex()},unstashPipeline:function(t,e){"object"==typeof t&&(e=t,t=void 0),this.dataModel.unstashPipeline(t),e&&void 0!==e.apply&&!e.apply||this.reindex()},setData:function(t,e){if(Array.isArray(t)||"function"==typeof t||(e=t,t=e&&e.data),void 0!==(t=this.unwrap(t))){if(!Array.isArray(t))throw"Expected data to be an array (of data row objects).";e=e||{};var i=this.grid,n=this.unwrap(e.schema),r=n||!this.subgrids.lookup.data.schema.length,o=void 0===e.apply||e.apply;this.subgrids.forEach(function(e){e.setData&&!e.hasOwnData&&e.setData(t,n)}),i.cellEditor&&i.cellEditor.cancelEditing(),o&&this.reindex(),r&&this.createColumns(),i.allowEvents(this.dataModel.getRowCount()>0)}},updateData:function(t,e){this.deprecated("updateData(dataRows, options)","setData(dataRows, options)","v1.2.10",arguments,"To update data without changing column definitions, call setData _without a schema._")},setColumns:function(t){console.warn("This function does not do anything")},setDataProvider:function(t){this.dataModel.setDataProvider(t)},hasHierarchyColumn:function(){return this.deprecated("hasHierarchyColumn()","hasTreeColumn()","1.3.3",arguments)},hasTreeColumn:function(){return this.dataModel.isTree()&&this.grid.properties.showTreeColumn},getVisibleColumns:function(){return this.deprecated("getVisibleColumns()","getActiveColumns()","1.0.6",arguments)},getSelections:function(){return this.grid.selectionModel.getSelections()}});s.columnEnumDecorators=r,t.exports=s},function(t,e,i){"use strict";var n=/([^_A-Z])([A-Z]+)/g,r={passThrough:function(t){return t},toAllCaps:function(t){return t.replace(n,"$1_$2").toUpperCase()},toCamelCase:function(t){return"_"!==t[0]&&(/[a-z]/.test(t)||(t=t.toLowerCase()),t=t.replace(/_([a-z])/gi,function(t,e){return e.toUpperCase()})),t}};t.exports=r},function(t,e,i){"use strict";t.exports={Feature:i(3),CellClick:i(185),CellEditing:i(186),CellSelection:i(189),ColumnMoving:i(190),ColumnResizing:i(191),ColumnSelection:i(192),ColumnSorting:i(193),Filters:i(194),KeyPaging:i(195),OnHover:i(196),RowSelection:i(197),ThumbwheelScrolling:i(198)}},function(t,e,i){"use strict";var n=i(3),r=n.extend("CellClick",{handleMouseMove:function(t,e){var i=e.properties.link,n=i&&"boolean"!=typeof i;this.cursor=n?"pointer":null,this.next&&this.next.handleMouseMove(t,e)},handleClick:function(t,e){(!e.isDataCell&&!e.isTreeColumn||void 0===this.openLink(t,e)&&!t.cellClicked(e))&&this.next&&this.next.handleClick(t,e)},openLink:function(t,e){var i,n,r=e.dataRow,o=Object.create(e.properties,{dataRow:{value:r}}),a=o.exec(e.value),s=e.properties.link,l=s instanceof Array,u=l?s[0]:s;switch(typeof u){case"string":"*"===u?n=a:/^\w+$/.test(u)&&(n=r[u]);break;case"function":n=u(e)}return n&&(n=n.toString().replace(/%name/g,o.name).replace(/%value/g,a),l?(s=s.slice(),s[0]=n,i=t.windowOpen.apply(t,s)):i=t.windowOpen(n,e.properties.linkTarget)),i&&(e.setCellProperty("linkColor",t.properties.linkVisitedColor),t.renderer.resetCellPropertiesCache(e),t.repaint()),i}});t.exports=r},function(t,e,i){"use strict";var n=i(3),r=i(14),o=n.extend("CellEditing",{handleDoubleClick:function(t,e){t.properties.editOnDoubleClick&&e.isDataCell?t.onEditorActivate(e):this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){!t.properties.editOnDoubleClick&&e.isDataCell?t.onEditorActivate(e):this.next&&this.next.handleClick(t,e)},handleKeyDown:function(t,e){var i,n,o,a,s;(s=t.getGridCellFromLastSelection())&&s.properties.editOnKeydown&&!t.cellEditor&&("F2"===(i=e.detail.char)||(n=1===i.length&&!(e.detail.meta||e.detail.ctrl))||(o="DELETE"===i||"BACKSPACE"===i))?(a=t.onEditorActivate(s))instanceof r&&(n?a.input.value=i:o&&a.setEditorValue(""),e.detail.primitiveEvent.preventDefault()):this.next&&this.next.handleKeyDown(t,e)}});t.exports=o},function(t,e,i){var n,r,o;!function(i,a){"object"==typeof e&&e&&"string"!=typeof e.nodeName?a(e):(r=[e],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o))}(0,function(t){function e(t){return"function"==typeof t}function i(t){return g(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return m.call(t,e)}function a(t){return!o(v,t)}function s(t){return String(t).replace(/[&<>"'\/]/g,function(t){return y[t]})}function l(e,i){function r(t){if("string"==typeof t&&(t=t.split(x,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(n(t[0])+"\\s*"),s=new RegExp("\\s*"+n(t[1])),l=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var o,s,l,p=[],d=[],f=[],m=!1,v=!1;r(i||t.tags);for(var y,S,k,A,T,M,E=new h(e);!E.eos();){if(y=E.pos,k=E.scanUntil(o))for(var P=0,O=k.length;P<O;++P)A=k.charAt(P),a(A)?f.push(d.length):v=!0,d.push(["text",A,y,y+1]),y+=1,"\n"===A&&function(){if(m&&!v)for(;f.length;)delete d[f.pop()];else f=[];m=!1,v=!1}();if(!E.scan(o))break;if(m=!0,S=E.scan(C)||"name",E.scan(b),"="===S?(k=E.scanUntil(_),E.scan(_),E.scanUntil(s)):"{"===S?(k=E.scanUntil(l),E.scan(w),E.scanUntil(s),S="&"):k=E.scanUntil(s),!E.scan(s))throw new Error("Unclosed tag at "+E.pos);if(T=[S,k,y,E.pos],d.push(T),"#"===S||"^"===S)p.push(T);else if("/"===S){if(!(M=p.pop()))throw new Error('Unopened section "'+k+'" at '+y);if(M[1]!==k)throw new Error('Unclosed section "'+M[1]+'" at '+y)}else"name"===S||"{"===S||"&"===S?v=!0:"="===S&&r(k)}if(M=p.pop())throw new Error('Unclosed section "'+M[1]+'" at '+E.pos);return c(u(d))}function u(t){for(var e,i,n=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],r=n,o=[],a=0,s=t.length;a<s;++a)switch(e=t[a],e[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":i=o.pop(),i[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function h(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function d(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===f.call(t)},m=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,x=/\s+/,_=/\s*=/,w=/\s*\}/,C=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},h.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var o,a,s=this,l=!1;s;){if(t.indexOf(".")>0)for(i=s.view,o=t.split("."),a=0;null!=i&&a<o.length;)a===o.length-1&&(l=r(i,o[a])),i=i[o[a++]];else i=s.view[t],l=r(s.view,t);if(l)break;s=s.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},d.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof p?e:new p(e);return this.renderTokens(n,r,i,t)},d.prototype.renderTokens=function(t,e,i,n){for(var r,o,a,s="",l=0,u=t.length;l<u;++l)a=void 0,r=t[l],o=r[0],"#"===o?a=this.renderSection(r,e,i,n):"^"===o?a=this.renderInverted(r,e,i,n):">"===o?a=this.renderPartial(r,e,i,n):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},d.prototype.renderSection=function(t,i,n,r){function o(t){return a.render(t,i,n)}var a=this,s="",l=i.lookup(t[1]);if(l){if(g(l))for(var u=0,c=l.length;u<c;++u)s+=this.renderTokens(t[4],i.push(l[u]),n,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(t[4],i.push(l),n,r);else if(e(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,r.slice(t[3],t[5]),o),null!=l&&(s+=l)}else s+=this.renderTokens(t[4],i,n,r);return s}},d.prototype.renderInverted=function(t,e,i,n){var r=e.lookup(t[1]);if(!r||g(r)&&0===r.length)return this.renderTokens(t[4],e,i,n)},d.prototype.renderPartial=function(t,i,n){if(n){var r=e(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),i,n,r):void 0}},d.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},d.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},d.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.0",t.tags=["{{","}}"];var S=new d;t.clearCache=function(){return S.clearCache()},t.parse=function(t,e){return S.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return S.render(t,e,n)},t.to_html=function(i,n,r,o){var a=t.render(i,n,r);if(!e(o))return a;o(a)},t.escape=s,t.Scanner=h,t.Context=p,t.Writer=d})},function(t,e,i){"use strict";e.shaker=function(t){function e(r){r&&"left"!==r.propertyName||(n.style.left=l+u+"px",c--||(n.removeEventListener("transitionend",e),a.pop(),n.style.transition=a.join(","),n.style.position=s,t.callback&&t.callback.call(i,t)),u=c?-u:0)}t=t||{};var i=this,n=t.el||i.el,r=t.duration||"0.065s",o=window.getComputedStyle(n),a=o.transition.split(","),s=o.position,l=parseInt(o.left),u=-3,c=6;a.push("left "+r),n.style.transition=a.join(","),n.addEventListener("transitionend",e),e()};var n={"background-color":"yellow","box-shadow":"0 0 10px red"};e.glower=function(t){function e(n){var o=u[n.propertyName];o.undo?(r.style[n.propertyName]=o.style,o.undo=!1):--s||(r.removeEventListener("transitionend",e),r.style.transition=c,t.callback&&t.callback.call(i,t))}t=t||{};var i=this,r=t.el||i.el,o=t.duration||"0.25s",a=t.styles||n,s=a.length,l=window.getComputedStyle(r),u={},c=l.transition,h=c.split(",");Object.keys(a).forEach(function(t){u[t]={style:l[t],undo:!0},h.push(t+" "+o)}),r.style.transition=h.join(","),r.addEventListener("transitionend",e),Object.keys(a).forEach(function(t){r.style[t]=a[t]})}},function(t,e,i){"use strict";var n=i(3),r=n.extend("CellSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(t,e){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(t,e)},handleMouseDown:function(t,e){var i=e.gridCell.x,n=e.dataCell.y;if(t.behavior.getCellProperty(e.dataCell.x,e.gridCell.y,"cellSelection")&&e.isDataCell&&!e.primitiveEvent.detail.isRightClick){var r=t.newPoint(i,n),o=e.primitiveEvent,a=o.detail.keys;this.dragging=!0,this.extendSelection(t,r,a)}else this.next&&this.next.handleMouseDown(t,e)},handleMouseDrag:function(t,e){this.dragging&&t.properties.cellSelection&&!e.primitiveEvent.detail.isRightClick?(this.currentDrag=e.primitiveEvent.detail.mouse,this.lastDragCell=t.newPoint(e.gridCell.x,e.dataCell.y),this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,this.lastDragCell,e.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(t,e)},handleKeyDown:function(t,e){var i=e.detail,n=t.getGridCellFromLastSelection(),r=n&&(n.properties.mappedNavKey(i.char,i.ctrl)||n.properties.navKey(i.char,i.ctrl)),o=this["handle"+r];o?(o.call(this,t,i),n=t.getGridCellFromLastSelection(),n.properties.editOnNextCell&&t.editAt(n),t.cellEditor||t.takeFocus()):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=Math.max(0,e.x),r=Math.max(0,e.y),o=t.getDragExtent(),a=t.getMouseDown(),s=n-a.x,l=r-a.y;o.x===s&&o.y===l||(t.clearMostRecentSelection(),t.select(a.x,a.y,s,l),t.setDragExtent(t.newPoint(s,l)),t.repaint())},checkDragScroll:function(t,e){t.properties.scrollingEnabled&&(t.getDataBounds().contains(e)?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t)))},scrollDrag:function(t){if(t.isScrollingNow()){var e=t.isMouseDownInHeaderArea(),i=this.lastDragCell,n=t.getDataBounds(),r=0,o=0,a=t.getFixedColumnCount(),s=t.getFixedRowCount(),l=i.x<a,u=i.y<s;e||(this.currentDrag.x<n.origin.x&&(r=-1),this.currentDrag.y<n.origin.y&&(o=-1)),this.currentDrag.x>n.origin.x+n.extent.x&&(r=1),this.currentDrag.y>n.origin.y+n.extent.y&&(o=1);var c=r,h=o;l&&(c=0),u&&(h=0),this.lastDragCell=i.plusXY(c,h),t.scrollBy(r,o),this.handleMouseDragCellSelection(t,i,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){var n=i.indexOf("CTRL")>=0,r=i.indexOf("SHIFT")>=0,o=t.getMouseDown(),a=e.x,s=e.y;if(!(a<0||s<0)){if(n&&a===o.x&&s===o.y)return t.clearMostRecentSelection(),t.popMouseDown(),void t.repaint();n||r||t.clearSelections(),r?(t.clearMostRecentSelection(),t.select(o.x,o.y,a-o.x,s-o.y),t.setDragExtent(t.newPoint(a-o.x,s-o.y))):(t.select(a,s,0,0),t.setMouseDown(t.newPoint(a,s)),t.setDragExtent(t.newPoint(0,0))),t.repaint()}},handleDOWNSHIFT:function(t){this.moveShiftSelect(t,0,1)},handleUPSHIFT:function(t){this.moveShiftSelect(t,0,-1)},handleLEFTSHIFT:function(t){this.moveShiftSelect(t,-1,0)},handleRIGHTSHIFT:function(t){this.moveShiftSelect(t,1,0)},handleDOWN:function(t,e){e.primitiveEvent.preventDefault();var i=this.getAutoScrollAcceleration();t.moveSingleSelect(0,i)},handleUP:function(t,e){e.primitiveEvent.preventDefault();var i=this.getAutoScrollAcceleration();t.moveSingleSelect(0,-i)},handleLEFT:function(t){t.moveSingleSelect(-1,0)},handleRIGHT:function(t){t.moveSingleSelect(1,0)},getAutoScrollAcceleration:function(){var t=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(t*t*t*t))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e,i){t.extendSelect(e,i)&&this.pingAutoScroll()}});t.exports=r},function(t,e,i){"use strict";var n,r,o,a,s=i(3),l=s.extend("ColumnMoving",{floaterAnimationQueue:[],columnDragAutoScrollingRight:!1,columnDragAutoScrollingLeft:!1,dragArmed:!1,dragging:!1,dragCol:-1,dragOffset:0,initializeOn:function(t){this.isFloatingNow=!1,this.initializeAnimationSupport(t),this.next&&this.next.initializeOn(t)},initializeAnimationSupport:function(t){n||(n=document.createElement("canvas"),n.setAttribute("width","0px"),n.setAttribute("height","0px"),n.style.position="fixed",document.body.appendChild(n),r=n.getContext("2d")),o||(o=document.createElement("canvas"),o.setAttribute("width","0px"),o.setAttribute("height","0px"),o.style.position="fixed",document.body.appendChild(o),a=o.getContext("2d"))},handleMouseDrag:function(t,e){var i,n=e.gridCell;Math.abs(e.primitiveEvent.detail.dragstart.x-e.primitiveEvent.detail.mouse.x)<10||e.isColumnFixed?this.next&&this.next.handleMouseDrag(t,e):(e.isHeaderCell&&this.dragArmed&&!this.dragging?(this.dragging=!0,this.dragCol=n.x,this.dragOffset=e.mousePoint.x,this.detachChain(),i=e.primitiveEvent.detail.mouse.x-this.dragOffset,this.createDragColumn(t,i,this.dragCol)):this.next&&this.next.handleMouseDrag(t,e),this.dragging&&(i=e.primitiveEvent.detail.mouse.x-this.dragOffset,this.dragColumn(t,i)))},handleMouseDown:function(t,e){t.behavior.isColumnReorderable()&&!e.isColumnFixed&&e.isHeaderCell&&(this.dragArmed=!0,this.cursor="-webkit-grabbing",t.clearSelections()),this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){if(this.dragging){this.cursor=null;var i=this;this.endDragColumn(t),setTimeout(function(){i.attachChain()},200)}this.dragCol=-1,this.dragging=!1,this.dragArmed=!1,this.cursor=null,t.repaint(),this.next&&this.next.handleMouseUp(t,e)},handleMouseMove:function(t,e){t.behavior.isColumnReorderable()&&!e.isColumnFixed&&!this.dragging&&e.isHeaderCell&&e.mousePoint.y<t.properties.columnGrabMargin?this.cursor="-webkit-grab":this.cursor=null,this.next&&this.next.handleMouseMove(t,e),e.isHeaderCell&&this.dragging&&(this.cursor="-webkit-grabbing")},floatColumnTo:function(t,e){this.floatingNow=!0;var i,n,r=t.renderer.visibleColumns,o=t.getHScrollValue(),a=t.renderOverridesCache.floater.columnIndex,s=t.renderOverridesCache.dragger.columnIndex,l=t.renderOverridesCache.dragger.hdpiratio,u=t.getFixedColumnCount(),c=t.getColumnWidth(s),h=t.getColumnWidth(a),p=t.getVisibleColumnsCount(),d=0,f=0;s>=u&&(d=o),a>=u&&(f=o),e?(i=r[Math.min(p,s-d)].left,n=r[Math.min(p,a-f)].left,t.renderOverridesCache.dragger.startX=(i+h)*l,t.renderOverridesCache.floater.startX=i*l):(n=r[Math.min(p,a-f)].left,i=n+c,t.renderOverridesCache.dragger.startX=n*l,t.renderOverridesCache.floater.startX=i*l),t.swapColumns(s,a),t.renderOverridesCache.dragger.columnIndex=a,t.renderOverridesCache.floater.columnIndex=s,this.floaterAnimationQueue.unshift(this.doColumnMoveAnimation(t,n,i)),this.doFloaterAnimation(t)},doColumnMoveAnimation:function(t,e,i){var n=this;return function(){var r=o;r.style.display="inline",n.setCrossBrowserProperty(r,"transform","translate("+e+"px, 0px)"),requestAnimationFrame(function(){n.setCrossBrowserProperty(r,"transition",(n.isWebkit?"-webkit-":"")+"transform 150ms ease"),n.setCrossBrowserProperty(r,"transform","translate("+i+"px, "+-2+"px)")}),t.repaint(),setTimeout(function(){n.setCrossBrowserProperty(r,"transition",""),t.renderOverridesCache.floater=null,t.repaint(),n.doFloaterAnimation(t),requestAnimationFrame(function(){r.style.display="none",n.isFloatingNow=!1})},200)}},doFloaterAnimation:function(t){if(0===this.floaterAnimationQueue.length)return this.floatingNow=!1,void t.repaint();this.floaterAnimationQueue.pop()()},createFloatColumn:function(t,e){var i=t.getFixedColumnCount(),n=t.getHScrollValue();e<i&&(n=0);var r=t.getColumnWidth(e),s=t.div.clientHeight,l=o,u=l.style,c=t.div.getBoundingClientRect();u.top=c.top-2+"px",u.left=c.left+"px";var h=t.getHiDPI(a);l.setAttribute("width",Math.round(r*h)+"px"),l.setAttribute("height",Math.round(s*h)+"px"),u.boxShadow="0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)",u.width=r+"px",u.height=s+"px",u.borderTop="1px solid "+t.properties.lineColor,u.backgroundColor=t.properties.backgroundColor;var p=t.renderer.visibleColumns[e-n].left*h;a.scale(h,h),t.renderOverridesCache.floater={columnIndex:e,ctx:a,startX:p,width:r,height:s,hdpiratio:h},u.zIndex="4",this.setCrossBrowserProperty(l,"transform","translate("+p+"px, "+-2+"px)"),u.cursor="-webkit-grabbing",t.repaint()},setCrossBrowserProperty:function(t,e,i){var n=e[0].toUpperCase()+e.substr(1);this.setProp(t,"webkit"+n,i),this.setProp(t,"Moz"+n,i),this.setProp(t,"ms"+n,i),this.setProp(t,"O"+n,i),this.setProp(t,e,i)},setProp:function(t,e,i){e in t.style&&(t.style[e]=i)},createDragColumn:function(t,e,i){var o=t.getFixedColumnCount(),a=t.getHScrollValue();i<o&&(a=0);var s=t.getHiDPI(r),l=t.getColumnWidth(i),u=t.div.clientHeight,c=n,h=t.div.getBoundingClientRect(),p=c.style;p.top=h.top+"px",p.left=h.left+"px",p.opacity=.85,p.boxShadow="0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)",p.borderTop="1px solid "+t.properties.lineColor,p.backgroundColor=t.properties.backgroundColor,c.setAttribute("width",Math.round(l*s)+"px"),c.setAttribute("height",Math.round(u*s)+"px"),p.width=l+"px",p.height=u+"px";var d=t.renderer.visibleColumns[i-a].left*s;r.scale(s,s),t.renderOverridesCache.dragger={columnIndex:i,startIndex:i,ctx:r,startX:d,width:l,height:u,hdpiratio:s},this.setCrossBrowserProperty(c,"transform","translate("+e+"px, -5px)"),p.zIndex="5",p.cursor="-webkit-grabbing",t.repaint()},dragColumn:function(t,e){var i=this,o=this.columnDragAutoScrollingRight||this.columnDragAutoScrollingLeft,a=t.getHiDPI(r),s=t.renderOverridesCache.dragger.columnIndex,l=t.renderer.getFinalVisibleColumnBoundary();e=Math.min(e,l+15),e=Math.max(-15,e);var u=e<0&&0!==s,c=e>l,h=n;this.setCrossBrowserProperty(h,"transition",(i.isWebkit?"-webkit-":"")+"transform 0ms ease, box-shadow 150ms ease"),this.setCrossBrowserProperty(h,"transform","translate("+e+"px, "+-10+"px)"),requestAnimationFrame(function(){h.style.display="inline"});var p=t.renderer.getColumnFromPixelX(e+h.width/2/a);u&&(p=0),c&&(p=t.getColumnCount()-1);var d=s>p;if((d=d||p-s>=1)&&!o){var f=s<p;if(this.isFloatingNow)return;this.isFloatingNow=!0,this.createFloatColumn(t,p),this.floatColumnTo(t,f)}else{if(e<-10&&this.checkAutoScrollToLeft(t,e),e>-10&&(this.columnDragAutoScrollingLeft=!1),c||e>l+10)return void this.checkAutoScrollToRight(t,e);e<l+10&&(this.columnDragAutoScrollingRight=!1)}},checkAutoScrollToRight:function(t,e){this.columnDragAutoScrollingRight||(this.columnDragAutoScrollingRight=!0,this._checkAutoScrollToRight(t,e))},_checkAutoScrollToRight:function(t,e){if(this.columnDragAutoScrollingRight){var i=t.getHScrollValue();if(t.dragging&&!(i>t.sbHScroller.range.max-2)){var n=t.renderOverridesCache.dragger.columnIndex;t.scrollBy(1,0);var r=n+1;t.swapColumns(r,n),t.renderOverridesCache.dragger.columnIndex=r,setTimeout(this._checkAutoScrollToRight.bind(this,t,e),250)}}},checkAutoScrollToLeft:function(t,e){this.columnDragAutoScrollingLeft||(this.columnDragAutoScrollingLeft=!0,this._checkAutoScrollToLeft(t,e))},_checkAutoScrollToLeft:function(t,e){if(this.columnDragAutoScrollingLeft){var i=t.getHScrollValue();if(t.dragging&&!(i<1)){var n=t.renderOverridesCache.dragger.columnIndex;t.swapColumns(n+i,n+i-1),t.scrollBy(-1,0),setTimeout(this._checkAutoScrollToLeft.bind(this,t,e),250)}}},endDragColumn:function(t){var e=t.getFixedColumnCount(),i=t.getHScrollValue(),r=t.renderOverridesCache.dragger.columnIndex;r<e&&(i=0);var o=this,a=t.renderer.visibleColumns[r-i].left,s=n,l=t.renderOverridesCache.dragger.startIndex!==t.renderOverridesCache.dragger.columnIndex;o.setCrossBrowserProperty(s,"transition",(o.isWebkit?"-webkit-":"")+"transform 150ms ease, box-shadow 150ms ease"),o.setCrossBrowserProperty(s,"transform","translate("+a+"px, "+-1+"px)"),s.style.boxShadow="0px 0px 0px #888888",setTimeout(function(){t.renderOverridesCache.dragger=null,t.repaint(),requestAnimationFrame(function(){s.style.display="none",t.endDragColumnNotification(),l&&t.fireSyntheticOnColumnsChangedEvent()})},200)}});t.exports=l},function(t,e,i){"use strict";var n=i(3),r=n.extend("ColumnResizing",{dragStart:-1,dragStartWidth:-1,getMouseValue:function(t){return t.primitiveEvent.detail.mouse.x},overAreaDivider:function(t,e){var i=t.behavior.leftMostColIndex;return e.gridCell.x!==i&&e.mousePoint.x<=3||e.mousePoint.x>=e.bounds.width-3},getCursorName:function(){return"col-resize"},handleMouseDrag:function(t,e){if(this.dragColumn){var i=this.getMouseValue(e)-this.dragStart;t.behavior.setColumnWidth(this.dragColumn,this.dragStartWidth+i)}else this.next&&this.next.handleMouseDrag(t,e)},handleMouseDown:function(t,e){if(e.isHeaderRow&&this.overAreaDivider(t,e)){if(e.mousePoint.x<=3){var i=e.gridCell.x-1;this.dragColumn=t.behavior.getActiveColumn(i);var n=t.behavior.rowColumnIndex,r=this.dragColumn;t.renderer.visibleColumns.forEachWithNeg(function(t,e){t.column.index===r.index&&(n=e)}),this.dragStartWidth=t.renderer.visibleColumns[n].width}else this.dragColumn=e.column,this.dragStartWidth=e.bounds.width;this.dragStart=this.getMouseValue(e)}else this.next&&this.next.handleMouseDown(t,e)},handleMouseUp:function(t,e){this.dragColumn?(this.cursor=null,this.dragColumn=!1,e.primitiveEvent.stopPropagation(),t.synchronizeScrollingBoundaries()):this.next&&this.next.handleMouseUp(t,e)},handleMouseMove:function(t,e){this.dragColumn||(this.cursor=null,this.next&&this.next.handleMouseMove(t,e),this.cursor=e.isHeaderRow&&this.overAreaDivider(t,e)?this.getCursorName():null)},handleDoubleClick:function(t,e){if(e.isHeaderRow&&this.overAreaDivider(t,e)){var i=e.mousePoint.x<=3?t.behavior.getActiveColumn(e.gridCell.x-1):e.column;i.addProperties({columnAutosizing:!0,columnAutosized:!1}),setTimeout(function(){t.autosizeColumn(i)})}else this.next&&this.next.handleDoubleClick(t,e)}});t.exports=r},function(t,e,i){"use strict";var n=i(3),r=n.extend("ColumnSelection",{currentDrag:null,lastDragColumn:null,sbLastAuto:0,sbAutoStart:0,handleMouseUp:function(t,e){this.dragging&&(this.dragging=!1),this.next&&this.next.handleMouseUp(t,e)},handleDoubleClick:function(t,e){this.doubleClickTimer&&(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=void 0),this.next&&this.next.handleDoubleClick(t,e)},handleMouseDown:function(t,e){this.doubleClickTimer||(t.properties.columnSelection&&e.mousePoint.y>=5&&!e.primitiveEvent.detail.isRightClick&&e.isHeaderCell?this.doubleClickTimer=setTimeout(function(){this.doubleClickTimer=void 0,this.dragging=!0,this.extendSelection(t,e.gridCell.x,e.primitiveEvent.detail.keys)}.bind(this),t.properties.doubleClickDelay+50):this.next&&this.next.handleMouseDown(t,e))},handleMouseDrag:function(t,e){t.properties.columnSelection&&!this.isColumnDragging(t)&&!e.primitiveEvent.detail.isRightClick&&this.dragging?(this.lastDragColumn=e.gridCell.x,this.currentDrag=e.primitiveEvent.detail.mouse,this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,this.lastDragColumn,e.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(t,e)},handleKeyDown:function(t,e){var i=e.detail,n="column"===t.getLastSelectionType()&&this["handle"+i.char];n?n.call(this,t,i):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=t.getMouseDown().x;t.clearMostRecentColumnSelection(),t.selectColumn(n,e),t.setDragExtent(t.newPoint(e-n,0)),t.repaint()},checkDragScroll:function(t,e){t.properties.scrollingEnabled&&t.getDataBounds().contains(e)?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t))},scrollDrag:function(t){if(t.isScrollingNow()){var e,i=t.getDataBounds();this.currentDrag.x<i.origin.x?e=-1:this.currentDrag.x>i.origin.x+i.extent.x&&(e=1),e&&(this.lastDragColumn>=t.getFixedColumnCount()&&(this.lastDragColumn+=e),t.scrollBy(e,0)),this.handleMouseDragCellSelection(t,this.lastDragColumn,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){if(t.abortEditing()){var n=t.getMouseDown().x,r=i.indexOf("SHIFT")>0;e<0||(r?(t.clearMostRecentColumnSelection(),t.selectColumn(e,n),t.setDragExtent(t.newPoint(e-n,0))):(t.toggleSelectColumn(e,i),t.setMouseDown(t.newPoint(e,0)),t.setDragExtent(t.newPoint(0,0))),t.repaint())}},handleDOWNSHIFT:function(t){},handleUPSHIFT:function(t){},handleLEFTSHIFT:function(t){this.moveShiftSelect(t,-1)},handleRIGHTSHIFT:function(t){this.moveShiftSelect(t,1)},handleDOWN:function(t){},handleUP:function(t){},handleLEFT:function(t){this.moveSingleSelect(t,-1)},handleRIGHT:function(t){this.moveSingleSelect(t,1)},getAutoScrollAcceleration:function(){var t=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(t*t*t*t))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e){var i=t.getMouseDown(),n=t.getDragExtent(),r=n.x+e,o=t.renderer.visibleColumns.length-1,a=t.getColumnCount()-1;t.properties.scrollingEnabled||(a=Math.min(a,o)),r=Math.min(a-i.x,Math.max(-i.x,r)),t.clearMostRecentColumnSelection(),t.selectColumn(i.x,i.x+r),t.setDragExtent(t.newPoint(r,0)),t.insureModelColIsVisible(r+i.x,e)&&this.pingAutoScroll(),t.repaint()},moveSingleSelect:function(t,e){var i=t.getDragExtent(),n=t.getMouseDown().plus(i),r=n.x+e,o=t.getColumnCount()-1,a=t.getVisibleColumnsCount()-1;t.properties.scrollingEnabled||(o=Math.min(o,a)),r=Math.min(o,Math.max(0,r)),t.clearSelections(),t.selectColumn(r),t.setMouseDown(t.newPoint(r,0)),t.setDragExtent(t.newPoint(0,0)),t.insureModelColIsVisible(r,e)&&this.pingAutoScroll(),t.repaint()},isColumnDragging:function(t){var e=t.lookupFeature("ColumnMoving");return e&&e.dragging&&!this.dragging}});t.exports=r},function(t,e,i){"use strict";var n=i(3),r=n.extend("ColumnSorting",{handleDoubleClick:function(t,e){var i;e.isHeaderCell&&(i=t.behavior.getColumnProperties(e.gridCell.x))&&!i.unsortable?t.fireSyntheticColumnSortEvent(e.gridCell.x,e.primitiveEvent.detail.keys):this.next&&this.next.handleDoubleClick(t,e)},handleMouseMove:function(t,e){var i;e.isRowFixed&&e.isHeaderCell&&(i=t.behavior.getColumnProperties(e.gridCell.x))&&!i.unsortable?this.cursor="pointer":this.cursor=null,this.next&&this.next.handleMouseMove(t,e)}});t.exports=r},function(t,e,i){"use strict";function n(t,e,i){var n=e.editor.event,o=n.visibleColumn.index,a=n.visibleRow.index,s=o,l=t.renderer.visibleColumns.length;for(n=new t.behavior.CellEvent;(o=(o+i+l)%l)!==s&&n.resetGridXY(o,a);)if(n.properties.filterable)return void t.editAt(n);r(t,n)}function r(t,e){var i=e.editor.event,n=i.visibleColumn.index;t.selectViewportCell(n,0),t.takeFocus()}var o=i(3),a=o.extend("Filters",{handleKeyDown:function(t,e){var i,n,r,o=e.detail;o.editor&&(i=o.editor.event,i.isFilterCell&&(n=i.properties.mappedNavKey(o.char),r=this["handle"+n])),r?r.call(this,t,o):this.next&&this.next.handleKeyDown(t,e)},handleLEFT:function(t,e){n(t,e,-1)},handleRIGHT:function(t,e){n(t,e,1)},handleUP:r,handleDOWN:r,handleDoubleClick:function(t,e){e.isFilterCell?t.onEditorActivate(e):this.next&&this.next.handleDoubleClick(t,e)},handleClick:function(t,e){e.isFilterCell?t.onEditorActivate(e):this.next&&this.next.handleClick(t,e)}});t.exports=a},function(t,e,i){"use strict";var n=i(3),r={PAGEDOWN:function(t){t.pageDown()},PAGEUP:function(t){t.pageUp()},PAGELEFT:function(t){t.pageLeft()},PAGERIGHT:function(t){t.pageRight()}},o=n.extend("KeyPaging",{handleKeyDown:function(t,e){var i=r[e.detail.char];i?i(t):this.next&&this.next.handleKeyDown(t,e)}});t.exports=o},function(t,e,i){"use strict";var n=i(3),r=n.extend("OnHover",{handleMouseMove:function(t,e){var i=t.hoverCell;e.gridCell.equals(i)?this.next&&this.next.handleMouseMove(t,e):(i&&this.handleMouseExit(t,i),this.handleMouseEnter(t,e),t.setHoverCell(e))}});t.exports=r},function(t,e,i){"use strict";var n=i(3),r=n.extend("RowSelection",{currentDrag:null,lastDragCell:null,sbLastAuto:0,sbAutoStart:0,dragArmed:!1,handleMouseUp:function(t,e){this.dragArmed?(this.dragArmed=!1,t.fireSyntheticRowSelectionChangedEvent()):this.dragging?(this.dragging=!1,t.fireSyntheticRowSelectionChangedEvent()):this.next&&this.next.handleMouseUp(t,e)},handleMouseDown:function(t,e){var i=t.properties.rowSelection&&!e.primitiveEvent.detail.isRightClick&&t.properties.showRowNumbers&&e.isHandleColumn;i&&e.isHeaderHandle?t.toggleSelectAllRows():i&&e.isDataRow?(this.dragArmed=!0,this.extendSelection(t,e.dataCell.y,e.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDown(t,e)},handleMouseDrag:function(t,e){this.dragArmed&&t.properties.rowSelection&&!e.primitiveEvent.detail.isRightClick?(this.lastDragRow=e.dataCell.y,this.dragging=!0,this.currentDrag=e.primitiveEvent.detail.mouse,this.checkDragScroll(t,this.currentDrag),this.handleMouseDragCellSelection(t,this.lastDragRow,e.primitiveEvent.detail.keys)):this.next&&this.next.handleMouseDrag(t,e)},handleKeyDown:function(t,e){var i;"row"===t.getLastSelectionType()&&(i=this["handle"+e.detail.char])?i.call(this,t,e.detail):this.next&&this.next.handleKeyDown(t,e)},handleMouseDragCellSelection:function(t,e,i){var n=t.getMouseDown().y;t.clearMostRecentRowSelection(),t.selectRow(n,e),t.setDragExtent(t.newPoint(0,e-n)),t.repaint()},checkDragScroll:function(t,e){t.properties.scrollingEnabled&&t.getDataBounds().contains(e)?t.isScrollingNow()&&t.setScrollingNow(!1):t.isScrollingNow()||(t.setScrollingNow(!0),this.scrollDrag(t))},scrollDrag:function(t){if(t.isScrollingNow()){var e,i=t.getDataBounds();this.currentDrag.y<i.origin.y?e=-1:this.currentDrag.y>i.origin.y+i.extent.y&&(e=1),e&&(this.lastDragRow>=t.getFixedRowCount()&&(this.lastDragRow+=e),t.scrollBy(0,e)),this.handleMouseDragCellSelection(t,this.lastDragRow,[]),t.repaint(),setTimeout(this.scrollDrag.bind(this,t),25)}},extendSelection:function(t,e,i){if(t.abortEditing()){var n=t.getMouseDown().y,r=i.indexOf("SHIFT")>0;e<0||(r?(t.clearMostRecentRowSelection(),t.selectRow(e,n),t.setDragExtent(t.newPoint(0,e-n))):(t.toggleSelectRow(e,i),t.setMouseDown(t.newPoint(0,e)),t.setDragExtent(t.newPoint(0,0))),t.repaint())}},handleDOWNSHIFT:function(t){this.moveShiftSelect(t,1)},handleUPSHIFT:function(t){this.moveShiftSelect(t,-1)},handleLEFTSHIFT:function(t){},handleRIGHTSHIFT:function(t){},handleDOWN:function(t){this.moveSingleSelect(t,1)},handleUP:function(t){this.moveSingleSelect(t,-1)},handleLEFT:function(t){},handleRIGHT:function(t){var e=t.getMouseDown().plus(t.getDragExtent()),i=t.getColumnCount()-1,n=t.getHScrollValue(),r=e.y;n=Math.min(i,n),t.clearSelections(),t.select(n,r,0,0),t.setMouseDown(t.newPoint(n,r)),t.setDragExtent(t.newPoint(0,0)),t.repaint()},getAutoScrollAcceleration:function(){var t=this.getAutoScrollDuration()/2e3;return Math.max(1,Math.floor(t*t*t*t))},setAutoScrollStartTime:function(){this.sbAutoStart=Date.now()},pingAutoScroll:function(){Date.now()-this.sbLastAuto>500&&this.setAutoScrollStartTime(),this.sbLastAuto=Date.now()},getAutoScrollDuration:function(){return Date.now()-this.sbLastAuto>500?0:Date.now()-this.sbAutoStart},moveShiftSelect:function(t,e){var i=t.getMouseDown(),n=t.getDragExtent(),r=t.renderer.visibleRows.length-1,o=t.getRowCount()-1;t.properties.scrollingEnabled||(o=Math.min(o,r));var a=n.y+e;a=Math.min(o-i.y,Math.max(-i.y,a)),t.clearMostRecentRowSelection(),t.selectRow(i.y,i.y+a),t.setDragExtent(t.newPoint(0,a)),t.insureModelRowIsVisible(a+i.y,e)&&this.pingAutoScroll(),t.fireSyntheticRowSelectionChangedEvent(),t.repaint()},moveSingleSelect:function(t,e){var i=t.getRowCount()-1,n=t.getVisibleRowsCount()-1,r=t.getMouseDown().plus(t.getDragExtent()),o=r.y+e;t.properties.scrollingEnabled||(i=Math.min(i,n)),o=Math.min(i,Math.max(0,o)),t.clearSelections(),t.selectRow(o),t.setMouseDown(t.newPoint(0,o)),t.setDragExtent(t.newPoint(0,0)),t.insureModelRowIsVisible(o,e)&&this.pingAutoScroll(),t.fireSyntheticRowSelectionChangedEvent(),t.repaint()},isSingleRowSelection:function(){return!0}});t.exports=r},function(t,e,i){"use strict";var n=i(3),r=n.extend("ThumbwheelScrolling",{handleWheelMoved:function(t,e){if(t.properties.scrollingEnabled){var i=e.primitiveEvent,n=Math.sign(i.wheelDeltaX||-i.deltaX),r=Math.sign(i.wheelDeltaY||-i.deltaY);(n||r)&&t.scrollBy(-n||0,-r||0)}}});t.exports=r},function(t,e,i){"use strict";function n(t){t&&(this.singletons={}),!t&&this.get("emptycell")||(this.add("EmptyCell",i(7)),this.add(i(200)),this.add(i(201)),this.add(i(202)),this.add(i(203)),this.add(i(204)),this.add(i(205)),this.add(i(206)),this.add(i(207)))}n.prototype={constructor:n.prototype.constructor,add:function(t,e){return"function"==typeof t&&(e=t,t=void 0),t=t||e.prototype.$$CLASS_NAME,t=t&&t.toLowerCase(),this.singletons[t]=new e},addSynonym:function(t,e){var i=this.get(e);return this.singletons[t]=i},get:function(t){var e=this.singletons[t];return e||(e=this.singletons[t.toLowerCase()])&&(this.singletons[t]=e),e},singletons:{}},t.exports=n},function(t,e,i){"use strict";var n=i(7),r=n.extend("Button",{paint:function(t,e){var i=e.value,n=e.dataCell.x,r=e.gridCell.y,o=e.bounds,a=o.x+1,s=o.y+1,l=o.width-1-e.lineWidth,u=o.height-1-e.lineWidth,c=u/2,h=t.createLinearGradient(a,s,a,s+u);e.mouseDown?(h.addColorStop(0,"#B5CBED"),h.addColorStop(1,"#4d74ea")):(h.addColorStop(0,"#ffffff"),h.addColorStop(1,"#aaaaaa")),t.cache.fillStyle=e.backgroundColor,t.fillRect(o.x,o.y,o.width,o.height),t.cache.fillStyle=h,t.cache.strokeStyle="#000000",this.roundRect(t,a,s,l,u,c,h,!0);var p=(l-t.getTextWidth(i))/2,d=(u-t.getTextHeight(t.cache.font).descent)/2;t.cache.textBaseline="middle",t.cache.fillStyle="#333333",t.cache.font=u-2+"px sans-serif",e.backgroundColor="rgba(0,0,0,0)",t.fillText(i,a+p,s+d),e.buttonCells[n+","+r]=!0}});t.exports=r},function(t,e,i){"use strict";function n(t,e,i,n,a){var s=e.bounds.x,l=e.bounds.y,u=e.bounds.width,c=e.bounds.height,p=(i+"").trim().replace(h," "),d=o(t,e,p.split(" "),u);if(1===d.length)return r(t,e,p,n,a);var f=n,g=e.voffset,m=e.halign,v=t.getTextHeight(e.font).height;switch(m){case"right":f=u-a;break;case"center":f=u/2}var y=Math.ceil(v/2);g+=Math.ceil((c-(d.length-1)*v)/2),f=Math.max(0,f),g=Math.max(y,g),t.cache.save(),t.beginPath(),t.rect(s,l,u,c),t.clip(),t.cache.textAlign=m,t.cache.textBaseline="middle";for(var b=0;b<d.length;b++)t.simpleText(d[b],s+f,l+g+b*v);return t.cache.restore(),u}function r(t,e,i,n,r){var o,l,u=e.bounds.x,c=e.bounds.y,h=e.bounds.width,p=n,d=e.halign;if(e.columnAutosizing)switch(l=t.getTextWidthTruncated(i,h-n,e.truncateTextWithEllipsis),o=l.width,i=l.string||i,d){case"right":p=h-r-l.width;break;case"center":p=(h-l.width)/2}else if(l=t.getTextWidthTruncated(i,h-n,e.truncateTextWithEllipsis,!0),o=0,void 0!==l.string)i=l.string;else switch(d){case"right":p=h-r-l.width;break;case"center":p=(h-l.width)/2}return null!==i&&(u+=Math.max(n,p),c+=e.bounds.height/2,e.isUserDataArea&&(e.link&&(!e.isCellHovered&&e.linkOnHover||(e.linkColor&&(t.cache.strokeStyle=e.linkColor),t.beginPath(),s(e,t,i,u,c,1),t.stroke(),t.closePath()),!e.linkColor||!e.isCellHovered&&e.linkColorOnHover||(t.cache.fillStyle=e.linkColor)),!0===e.strikeThrough&&(t.beginPath(),a(e,t,i,u,c,1),t.stroke(),t.closePath())),t.cache.textAlign="left",t.cache.textBaseline="middle",t.simpleText(i,u,c)),o}function o(t,e,i,n){if(1===i.length)return i;for(var r,a=[i.shift()];(r=t.getTextWidth(a.join(" "))<n)&&i.length;)a.push(i.shift());return!r&&a.length>1&&i.unshift(a.pop()),a=[a.join(" ")],i.length&&(a=a.concat(o(t,e,i,n))),a}function a(t,e,i,n,r,o){var a=e.getTextWidth(i);switch(e.cache.textAlign){case"center":n-=a/2;break;case"right":n-=a}r=Math.round(r+.5)-.5,e.cache.lineWidth=o,e.moveTo(n-1,r),e.lineTo(n+a+1,r)}function s(t,e,i,n,r,o){var a=e.getTextHeight(t.font).height,s=e.getTextWidth(i);switch(e.cache.textAlign){case"center":n-=s/2;break;case"right":n-=s}r=Math.round(r+a/2)-.5,e.cache.lineWidth=o,e.moveTo(n,r),e.lineTo(n+s,r)}function l(t,e,i,n,r,o,a){for(var s=0;s<e.length;s++)a&&!s?t.clearFill(i,n,r,o,e[s]):(t.cache.fillStyle=e[s],t.fillRect(i,n,r,o))}var u=i(7),c=i(50),h=/\s\s+/g,p=u.extend("SimpleCell",{paint:function(t,e){var i,o,a,s,u,h,p,d,f,g,m,v,y,b,x,_,w=e.value,C=e.bounds,S=C.x,k=C.y,A=C.width,T=C.height,M=e.iconPadding,E=void 0===e.prefillColor,P=e.snapshot,O=P&&E,I=0;w&&w.constructor===Array?(u=w[0],h=w[2],(w=e.exec(w[1]))&&void 0!==w.naturalWidth&&(p=w,w=null)):(u=c[e.leftIcon],p=c[e.centerIcon],h=c[e.rightIcon]);var L=w||e.renderFalsy&&0==w;if(L?(w=e.formatValue(w,e),o=e.isSelected?e.foregroundSelectionFont:e.font,i=t.cache.strokeStyle=e.isSelected?e.foregroundSelectionColor:e.color):w="",O=O&&w===P.value&&o===P.textFont&&i===P.textColor,_=[],x=0,e.isCellHovered&&e.hoverCellHighlight.enabled?m=e.hoverCellHighlight.backgroundColor:e.isRowHovered&&(g=e.hoverRowHighlight).enabled?m=e.isDataColumn||!g.header||void 0===g.header.backgroundColor?g.backgroundColor:g.header.backgroundColor:e.isColumnHovered&&(g=e.hoverColumnHighlight).enabled&&(m=e.isDataRow||!g.header||void 0===g.header.backgroundColor?g.backgroundColor:g.header.backgroundColor),t.alpha(m)<1&&(e.isSelected&&(v=e.backgroundSelectionColor),t.alpha(v)<1&&((b=e.backgroundColor===e.prefillColor)||(y=!0,_.push(e.backgroundColor),O=O&&y===P.foundationColor&&e.backgroundColor===P.colors[x++])),void 0!==v&&(_.push(v),O=O&&v===P.colors[x++])),void 0!==m&&(_.push(m),O=O&&m===P.colors[x++]),!O||x!==P.colors.length){if(e.snapshot={value:w,textColor:i,textFont:o,foundationColor:y,colors:_},l(t,_,S,k,A,T,y),d=u?M+u.width+M:e.cellPadding,f=h?M+h.width+M:e.cellPadding,L?(t.cache.fillStyle=i,t.cache.font=o,I=e.isHeaderRow&&e.headerTextWrapping?n(t,e,w,d,f):r(t,e,w,d,f)):p&&(s=Math.round((T-p.height)/2),a=Math.round((A-p.width)/2),t.drawImage(p,S+A-a-p.width,k+s),I=M+p.width+M),u&&(s=Math.round((T-u.height)/2),t.drawImage(u,S+M,k+s)),h){var R=S+A-(h.width+M);b&&(y=!0,_.unshift(e.backgroundColor)),l(t,_,R,k,f,T,y),s=Math.round((T-h.height)/2),t.drawImage(h,R,k+s)}e.cellBorderThickness&&(t.beginPath(),t.rect(S,k,A,T),t.cache.lineWidth=e.cellBorderThickness,t.cache.strokeStyle=e.cellBorderStyle,t.stroke(),t.closePath()),e.minWidth=d+I+f}}});t.exports=p},function(t,e,i){"use strict";var n=i(7),r=n.extend("Slider",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,r=e.bounds.width,o=e.bounds.height;t.cache.strokeStyle="white";var a=e.value,s=o/2,l=r*a,u=e.isSelected?e.backgroundColor:"#333333",c=t.createLinearGradient(i,n,i,n+o);c.addColorStop(0,u),c.addColorStop(1,"#666666");var h=t.createLinearGradient(i,n,i,n+o);h.addColorStop(0,"#aaaaaa"),h.addColorStop(1,"#777777"),t.cache.fillStyle=c,this.roundRect(t,i,n,r,o,s,c),t.cache.fillStyle=a<1?h:"#eeeeee",t.beginPath(),t.arc(i+Math.max(l-s,s),n+s,s,0,2*Math.PI),t.fill(),t.closePath(),e.minWidth=100}});t.exports=r},function(t,e,i){"use strict";var n=i(7),r=n.extend("SparkBar",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,r=e.bounds.width,o=e.bounds.height;t.beginPath();var a=e.value;if(a&&a.length){var s=a.length,l=r/s,u=e.isSelected?e.foregroundSelectionColor:e.color;(e.backgroundColor||e.isSelected)&&(t.cache.fillStyle=e.isSelected?"blue":e.backgroundColor,t.fillRect(i,n,r,o)),t.cache.fillStyle=u;for(var c=0;c<a.length;c++){var h=a[c]/110*o;t.fillRect(i+5,n+o-h,.6666*l,h),i+=l}t.closePath(),e.minWidth=10*s}}});t.exports=r},function(t,e,i){"use strict";var n=i(7),r=n.extend("LastSelection",{paint:function(t,e){var i=t.alpha(e.selectionRegionOverlayColor)>0,n=t.alpha(e.selectionRegionOutlineColor)>0;if(i||n){var r=e.bounds.x,o=e.bounds.y,a=e.bounds.width,s=e.bounds.height;t.beginPath(),t.rect(r,o,a,s),i&&(t.cache.fillStyle=e.selectionRegionOverlayColor,t.fill()),n&&(t.cache.lineWidth=1,t.cache.strokeStyle=e.selectionRegionOutlineColor,t.stroke()),t.closePath()}}});t.exports=r},function(t,e,i){"use strict";var n=i(7),r=n.extend("SparkLine",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,r=e.bounds.width,o=e.bounds.height;t.beginPath();var a=e.value;if(a&&a.length){var s=a.length,l=r/s,u=e.isSelected?e.foregroundSelectionColor:e.color;(e.backgroundColor||e.isSelected)&&(t.cache.fillStyle=e.isSelected?e.backgroundSelectionColor:e.backgroundColor,t.fillRect(i,n,r,o)),t.cache.strokeStyle=u,t.cache.fillStyle=u,t.beginPath();for(var c,h=0;h<a.length;h++){var p=a[h]/110*o;c||(c=p),t.lineTo(i+5,n+o-p),t.arc(i+5,n+o-p,1,0,2*Math.PI,!1),i+=l}e.minWidth=10*s,t.stroke(),t.closePath()}}});t.exports=r},function(t,e,i){"use strict";var n=i(7),r=n.extend("ErrorCell",{paint:function(t,e,i){var n=e.bounds.x,r=e.bounds.y,o=e.bounds.height;t.cache.fillStyle="#FFD500",t.fill(),t.cache.fillStyle="#A00",t.cache.textAlign="start",t.cache.textBaseline="middle",t.cache.font='bold 6pt "arial narrow", verdana, geneva',t.fillText(i,n+4,r+o/2+.5)}});t.exports=r},function(t,e,i){"use strict";var n=i(7),r=n.extend("TreeCell",{paint:function(t,e){var i=e.bounds.x,n=e.bounds.y,r=e.bounds.width,o=e.bounds.height,a=e.value.data,s=e.value.indent,l=e.value.icon;if((e.backgroundColor||e.isSelected)&&(t.cache.fillStyle=(e.isSelected,e.backgroundColor),t.fillRect(i,n,r,o)),a&&a.length){var u=Math.ceil(o/2);t.cache.fillStyle=(e.isSelected,e.backgroundColor),t.fillText(l+a,i+s,n+u);var c=t.getTextWidth(l+a),h=i+s+c+10;e.minWidth=h}}});t.exports=r},function(t,e,i){"use strict";function n(t,e){this.grid=t,e&&(this.editors={}),!e&&this.get("celleditor")||(this.add(i(14)),this.add(i(209)),this.add(i(210)),this.add(i(211)),this.add(i(212)),this.add(i(213)),this.add(i(87)))}n.prototype={constructor:n.prototype.constructor,add:function(t,e){return"function"==typeof t&&(e=t,t=void 0),t=t||e.prototype.$$CLASS_NAME,t=t&&t.toLowerCase(),this.editors[t]=e,e},addSynonym:function(t,e){var i=this.get(e);return this.editors[t]=i},get:function(t){return this.editors[t&&t.toLowerCase()]},create:function(t,e){var i,n=this.get(t);if(n){if(n.abstract)throw'Attempt to instantiate an "abstract" cell editor class.';i=new n(this.grid,e)}return i},editors:{}},t.exports=n},function(t,e,i){"use strict";var n=i(14),r=n.extend("Color",{template:'<input type="color" lang="{{locale}}" style="{{style}}">'});t.exports=r},function(t,e,i){"use strict";var n=i(14),r=window.chrome,o=window.navigator,a=o.vendor,s=o.userAgent.indexOf("OPR")>-1,l=o.userAgent.indexOf("Edge")>-1,u=o.userAgent.match("CriOS"),c=!u&&null!==r&&void 0!==r&&"Google Inc."===a&&0==s&&0==l,h=n.extend("Date",{initialize:function(t){var e;c?(e="chromeDate",this.template='<input type="date">'):(e="date",this.template='<input type="text" lang="{{locale}}">',this.selectAll=function(){var t=this.getEditorValue().length;this.input.setSelectionRange(0,t)}),this.localizer=t.localization.get(e)}});t.exports=h},function(t,e,i){"use strict";var n=i(87),r=n.extend("Number",{initialize:function(t){this.localizer=t.localization.get("number")}});t.exports=r},function(t,e,i){"use strict";var n=i(14),r=n.extend("Slider",{template:'<input type="range" lang="{{locale}}" style="{{style}}">'});t.exports=r},function(t,e,i){"use strict";var n=i(14),r=n.extend("Spinner",{template:'<input type="number" lang="{{locale}}" style="{{style}}">'});t.exports=r},function(t,e,i){"use strict";function n(t,e,i,n){var r,o;if("boolean"!=typeof e&&(n=i,i=e,e=!1),i.detail||(i={detail:i}),r=i.detail,r.grid||(r.grid=this),r.time=Date.now(),n&&(r.primitiveEvent||(r.primitiveEvent=n),a.forEach(function(t){t in n&&!(t in r)&&(r[t]=n[t])}),"dataRow"in n&&Object.defineProperty(r,"row",{get:function(){return n.dataRow}})),e&&(i.cancelable=!0),o=this.canvas.dispatchEvent(new CustomEvent(t,i)),e)return o}var r=i(48),o=i(53);t.exports={addEventListener:function(t,e,i){var n=this,r=this.listeners[t]=this.listeners[t]||[];if(!r.find(function(t){return t.listener===e})){var o={internal:i,listener:e,decorator:function(t){n.allowEventHandlers&&e(t)}};r.push(o),this.canvas.addEventListener(t,o.decorator)}},addInternalEventListener:function(t,e){this.addEventListener(t,e,!0)},removeEventListener:function(t,e){var i=this.listeners[t];i&&i.find(function(n,r){if(n.listener===e)return i.splice(r,1),this.canvas.removeEventListener(t,n.decorator),!0},this)},removeAllEventListeners:function(t){r(this.listeners).each(function(e,i){e.forEach(function(e){!t&&e.internal||this.removeEventListener(i,e.listener)},this)},this)},allowEvents:function(t){(this.allowEventHandlers=!!t)?this.behavior.featureChain.attachChain():this.behavior.featureChain.detachChain(),this.behavior.changed()},fireSyntheticColumnSortEvent:function(t,e){return n.call(this,"fin-column-sort",{column:t,keys:e})},fireSyntheticEditorKeyUpEvent:function(t,e){return n.call(this,"fin-editor-keyup",{input:t,keyEvent:e,char:this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]})},fireSyntheticEditorKeyDownEvent:function(t,e){return n.call(this,"fin-editor-keydown",{input:t,keyEvent:e,char:this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]})},fireSyntheticEditorKeyPressEvent:function(t,e){return n.call(this,"fin-editor-keypress",{input:t,keyEvent:e,char:this.canvas.getCharMap()[e.keyCode][e.shiftKey?1:0]})},fireSyntheticEditorDataChangeEvent:function(t,e,i){return n.call(this,"fin-editor-data-change",!0,{input:t,oldValue:e,newValue:i})},fireSyntheticRowSelectionChangedEvent:function(){return n.call(this,"fin-row-selection-changed",{rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()})},fireSyntheticColumnSelectionChangedEvent:function(){return n.call(this,"fin-column-selection-changed",{rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()})},fireSyntheticContextMenuEvent:function(t){return t.rows=this.getSelectedRows(),t.columns=this.getSelectedColumns(),t.selections=this.selectionModel.getSelections(),n.call(this,"fin-context-menu",{},t)},fireSyntheticMouseUpEvent:function(t){return t.rows=this.getSelectedRows(),t.columns=this.getSelectedColumns(),t.selections=this.selectionModel.getSelections(),n.call(this,"fin-mouseup",{},t)},fireSyntheticMouseDownEvent:function(t){return t.rows=this.getSelectedRows(),t.columns=this.getSelectedColumns(),t.selections=this.selectionModel.getSelections(),n.call(this,"fin-mousedown",{},t)},fireSyntheticMouseMoveEvent:function(t){return n.call(this,"fin-mousemove",{},t)},fireSyntheticButtonPressedEvent:function(t){if(this.isViewableButton(t.dataCell.x,t.gridCell.y))return n.call(this,"fin-button-pressed",{},t)},fireSyntheticOnColumnsChangedEvent:function(){return n.call(this,"fin-column-changed-event",{})},fireSyntheticKeydownEvent:function(t){return n.call(this,"fin-keydown",t.detail)},fireSyntheticKeyupEvent:function(t){return n.call(this,"fin-keyup",t.detail)},fireSyntheticFilterAppliedEvent:function(){return n.call(this,"fin-filter-applied",{})},fireSyntheticOnCellEnterEvent:function(t){return n.call(this,"fin-cell-enter",t)},fireSyntheticOnCellExitEvent:function(t){return n.call(this,"fin-cell-exit",t)},fireSyntheticClickEvent:function(t){return n.call(this,"fin-click",{},t)},fireSyntheticDoubleClickEvent:function(t){if(this.abortEditing())return this.behavior.cellDoubleClicked!==o.prototype.cellDoubleClicked&&this.deprecated("fin-double-click","behavior.cellDoubleClicked(gridCell, cellEvent) has been deprecated as of v1.2.6 in favor of handling in a 'fin-double-click' event (event.detail.gridCell, event.primitiveEvent) and will be removed in a future release."),this.behavior.cellDoubleClicked(t.gridCell,t),n.call(this,"fin-double-click",{},t)},fireSyntheticGridRenderedEvent:function(){return n.call(this,"fin-grid-rendered",{source:this})},fireSyntheticTickEvent:function(){return n.call(this,"fin-tick",{source:this})},fireSyntheticGridResizedEvent:function(t){return n.call(this,"fin-grid-resized",t)},fireScrollEvent:function(t,e,i){return n.call(this,t,{oldValue:e,value:i})},fireRequestCellEdit:function(t,e){return n.call(this,"fin-request-cell-edit",!0,{value:e},t)},fireBeforeCellEdit:function(t,e,i,r){return n.call(this,"fin-before-cell-edit",!0,{oldValue:e,newValue:i,input:r},t)},fireAfterCellEdit:function(t,e,i,r){return n.call(this,"fin-after-cell-edit",{newValue:i,oldValue:e,input:r},t)},delegateCanvasEvents:function(){function t(t,i){var n,r,o=e.getGridCellFromMousePoint(t.detail.mouse);o.fake&&!t.detail.dragstart||(n=o.cellEvent),n&&(r=Object.defineProperty(n,"primitiveEvent",{value:t,enumerable:!1,configurable:!0,writable:!0}),i.call(e,r))}var e=this;this.addInternalEventListener("fin-canvas-resized",function(t){e.resized(),e.fireSyntheticGridResizedEvent(t)}),this.addInternalEventListener("fin-canvas-mousemove",function(i){e.properties.readOnly||t(i,function(t){this.delegateMouseMove(t),this.fireSyntheticMouseMoveEvent(t)})}),this.addInternalEventListener("fin-canvas-mousedown",function(i){if(!e.properties.readOnly)return e.abortEditing()?void t(i,function(t){t.keys=i.detail.keys,this.mouseDownState=t,this.delegateMouseDown(t),this.fireSyntheticMouseDownEvent(t),this.repaint()}):void event.stopPropagation()}),this.addInternalEventListener("fin-canvas-click",function(i){e.properties.readOnly||t(i,function(t){t.keys=i.detail.keys,this.fireSyntheticClickEvent(t),this.delegateClick(t)})}),this.addInternalEventListener("fin-canvas-mouseup",function(i){e.properties.readOnly||(e.dragging=!1,e.isScrollingNow()&&e.setScrollingNow(!1),e.columnDragAutoScrolling&&(e.columnDragAutoScrolling=!1),t(i,function(t){this.delegateMouseUp(t),e.mouseDownState&&e.fireSyntheticButtonPressedEvent(e.mouseDownState),this.mouseDownState=null,this.fireSyntheticMouseUpEvent(t)}))}),this.addInternalEventListener("fin-canvas-dblclick",function(i){e.properties.readOnly||t(i,function(t){this.fireSyntheticDoubleClickEvent(t,i),this.delegateDoubleClick(t)})}),this.addInternalEventListener("fin-canvas-drag",function(i){e.properties.readOnly||(e.dragging=!0,t(i,e.delegateMouseDrag))}),this.addInternalEventListener("fin-canvas-keydown",function(t){e.properties.readOnly||(e.fireSyntheticKeydownEvent(t),e.delegateKeyDown(t))}),this.addInternalEventListener("fin-canvas-keyup",function(t){e.properties.readOnly||(e.fireSyntheticKeyupEvent(t),e.delegateKeyUp(t))}),this.addInternalEventListener("fin-canvas-wheelmoved",function(i){t(i,e.delegateWheelMoved)}),this.addInternalEventListener("fin-canvas-mouseout",function(i){e.properties.readOnly||t(i,e.delegateMouseExit)}),this.addInternalEventListener("fin-canvas-context-menu",function(i){t(i,function(t){e.delegateContextMenu(t),e.fireSyntheticContextMenuEvent(t)})}),document.body.addEventListener("copy",function(t){e.checkClipboardCopy(t)})},delegateWheelMoved:function(t){this.behavior.onWheelMoved(this,t)},delegateMouseExit:function(t){this.behavior.handleMouseExit(this,t)},delegateContextMenu:function(t){this.behavior.onContextMenu(this,t)},delegateMouseMove:function(t){this.behavior.onMouseMove(this,t)},delegateMouseDown:function(t){this.behavior.handleMouseDown(this,t)},delegateMouseUp:function(t){this.behavior.onMouseUp(this,t)},delegateClick:function(t){this.behavior.onClick(this,t)},delegateMouseDrag:function(t){this.behavior.onMouseDrag(this,t)},delegateDoubleClick:function(t){this.behavior.onDoubleClick(this,t)},delegateKeyDown:function(t){this.behavior.onKeyDown(this,t)},delegateKeyUp:function(t){this.behavior.onKeyUp(this,t)}};var a=["gridCell","dataCell","mousePoint","keys","row"]},function(t,e,i){"use strict";function n(t){var e,i=this.behavior.getColumns(),n=this.behavior.getActiveColumns();return Array.isArray(t)?(e=[],t.forEach(function(t){var r="number"==typeof t?"index":"name",o=i.find(function(e){return e[r]===t});n.indexOf(o)<0&&e.push(o)}),e=e.concat(n)):e=t?i:n,e}function r(t){var e=t.origin,i=t.corner,n=Math.min(e.x,i.x),r=Math.min(e.y,i.y),o=Math.max(e.x,i.x),s=Math.max(e.y,i.y);return new a(n,r,o-n,s-r)}function o(t,e){var i,n;return t&&(i=t[e.name],(n="f"===(typeof i)[0]&&i||e.calculator)&&(i=n(t,e.name))),i||0===i||!1===i?i:""}var a=i(13).Rectangle;t.exports={hasSelections:function(){if(this.getSelectionModel)return this.selectionModel.hasSelections()},getSelectionAsTSV:function(){var t=this.selectionModel;if(t.hasSelections()){var e=this.getSelectionMatrix();return e=e[e.length-1],this.getMatrixSelectionAsTSV(e)}return t.hasRowSelections()?this.getMatrixSelectionAsTSV(this.getRowSelectionMatrix()):t.hasColumnSelections()?this.getMatrixSelectionAsTSV(this.getColumnSelectionMatrix()):void 0},getMatrixSelectionAsTSV:function(t){var e="";if(t.length){var i=t.length,n=t[0].length,r=i*n,o=i-1,a=n>1?"\n":"";if(r>2e4)return alert("selection size is too big to copy to the paste buffer"),"";for(var s=0;s<n;s++)for(var l=0;l<i;l++)e+=t[l][s]+(l<o?"\t":a)}return e},clearSelections:function(){var t=this.properties.checkboxOnlyRowSelections;this.selectionModel.clear(t),this.clearMouseDown()},clearMostRecentSelection:function(){var t=this.properties.checkboxOnlyRowSelections;this.selectionModel.clearMostRecentSelection(t)},clearMostRecentColumnSelection:function(){this.selectionModel.clearMostRecentColumnSelection()},clearMostRecentRowSelection:function(){},clearRowSelection:function(){this.selectionModel.clearRowSelection()},select:function(t,e,i,n){t<0||e<0||this.selectionModel.select(t,e,i,n)},isSelected:function(t,e){return this.selectionModel.isSelected(t,e)},isCellSelectedInRow:function(t){return this.selectionModel.isCellSelectedInRow(t)},isCellSelectedInColumn:function(t){return this.selectionModel.isCellSelectedInColumn(t)},getRowSelection:function(t){function e(t,e){var n=a.getRow(t);r[e]=o(n,i)}for(var i,r,a=this,s=this.selectionModel.getSelectedRows(),l=n.call(this,t),u={},c=0,h=l.length;c<h;c++)i=l[c],r=u[i.name]=new Array(s.length),s.forEach(e);return u},getRowSelectionMatrix:function(t){function e(t,e){var n=i.getRow(t);s[l][e]=o(n,c)}for(var i=this,r=this.selectionModel.getSelectedRows(),a=n.call(this,t),s=new Array(a.length),l=0,u=a.length;l<u;l++){var c=a[l];s[l]=new Array(r.length),r.forEach(e)}return s},getColumnSelectionMatrix:function(){var t,e=this,i=this.getHeaderRowCount(),n=this.getSelectedColumns(),r=this.getRowCount(),a=new Array(n.length);return n.forEach(function(n,s){for(var l=e.behavior.getActiveColumn(n),u=a[s]=new Array(r),c=i;c<r;c++)t=e.getRow(c),u[c]=o(t,l)}),a},getColumnSelection:function(){var t,e=this,i=this.getHeaderRowCount(),n=this.getSelectedColumns(),r={},a=this.getRowCount();return n.forEach(function(n){for(var s=e.behavior.getActiveColumn(n),l=r[s.name]=new Array(a),u=i;u<a;u++)t=e.getRow(u),l[u]=o(t,s)}),r},getSelection:function(){function t(t,n){for(var s=r(t),l=s.extent.x+1,u=s.extent.y+1,c={},h=0,p=s.origin.x;h<l;h++,p++)for(var d=i.behavior.getActiveColumn(p),f=c[d.name]=new Array(u),g=0,m=s.origin.y;g<u;g++,m++)e=i.getRow(m),f[g]=o(e,d);a[n]=c}var e,i=this,n=this.getSelections(),a=new Array(n.length);return n.forEach(t),a},getSelectionMatrix:function(){function t(t,n){for(var s=r(t),l=s.extent.x+1,u=s.extent.y+1,c=[],h=0,p=s.origin.x;h<l;h++,p++)for(var d=c[h]=new Array(u),f=i.behavior.getActiveColumn(p),g=0,m=s.origin.y;g<u;g++,m++)e=i.getRow(m),d[g]=o(e,f);a[n]=c}var e,i=this,n=this.getSelections(),a=new Array(n.length);return n.forEach(t),a},selectCell:function(t,e,i){var n=this.properties.checkboxOnlyRowSelections;this.selectionModel.clear(n),this.selectionModel.select(t,e,0,0,i)},toggleSelectColumn:function(t,e){e=e||[];var i=this.selectionModel,n=i.isColumnSelected(t),r=e.indexOf("CTRL")>-1,o=e.indexOf("SHIFT")>-1;r||o?(r&&(n?i.deselectColumn(t):i.selectColumn(t)),o&&(i.clear(),i.selectColumn(this.lastEdgeSelection[0],t))):(i.clear(),n||i.selectColumn(t)),n||o||(this.lastEdgeSelection[0]=t),this.repaint(),this.fireSyntheticColumnSelectionChangedEvent()},toggleSelectRow:function(t,e){e=e||[];var i=this.selectionModel,n=i.isRowSelected(t),r=e.indexOf("SHIFT")>=0;n?i.deselectRow(t):(this.singleSelect(),i.selectRow(t)),r&&(i.clear(),i.selectRow(this.lastEdgeSelection[1],t)),n||r||(this.lastEdgeSelection[1]=t),this.repaint()},singleSelect:function(){var t=this.properties.singleRowSelectionMode;return t&&this.selectionModel.clearRowSelection(),t},selectViewportCell:function(t,e){var i=this.getHeaderRowCount();t=this.renderer.visibleColumns[t].columnIndex,this.getRowCount()>0&&(e=this.renderer.visibleRows[e+i].rowIndex,this.clearSelections(),this.select(t,e,0,0),this.setMouseDown(this.newPoint(t,e)),this.setDragExtent(this.newPoint(0,0)),this.repaint())},selectToViewportCell:function(t,e){var i=this.getSelections();if(i&&i.length){var n=this.getHeaderRowCount(),r=i[0],o=r.origin;t=this.renderer.visibleColumns[t].columnIndex,e=this.renderer.visibleRows[e+n].rowIndex,this.setDragExtent(this.newPoint(t-o.x,e-o.y)),this.select(o.x,o.y,t-o.x,e-o.y),this.repaint()}},selectFinalCellOfCurrentRow:function(){var t=this.getColumnCount()-1,e=this.getSelectedRows()[0],i=this.getHeaderRowCount();this.clearSelections(),this.scrollBy(this.getColumnCount(),0),this.select(t,e+i,0,0),this.setMouseDown(this.newPoint(t,e+i)),this.setDragExtent(this.newPoint(0,0)),this.repaint()},selectToFinalCellOfCurrentRow:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=e.extent,r=this.getColumnCount();this.scrollBy(r,0),this.clearSelections(),this.select(i.x,i.y,r-i.x-1,n.y),this.repaint()}},selectFirstCellOfCurrentRow:function(){var t=this.getSelectedRows()[0],e=this.getHeaderRowCount();this.clearSelections(),this.setHScrollValue(0),this.select(0,t+e,0,0),this.setMouseDown(this.newPoint(0,t+e)),this.setDragExtent(this.newPoint(0,0)),this.repaint()},selectToFirstCellOfCurrentRow:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=e.extent;this.clearSelections(),this.select(i.x,i.y,-i.x,n.y),this.setHScrollValue(0),this.repaint()}},selectFinalCell:function(){this.selectCellAndScrollToMakeVisible(this.getColumnCount()-1,this.getRowCount()-1),this.repaint()},selectToFinalCell:function(){var t=this.getSelections();if(t&&t.length){var e=t[0],i=e.origin,n=this.getColumnCount(),r=this.getRowCount();this.clearSelections(),this.select(i.x,i.y,n-i.x-1,r-i.y-1),this.scrollBy(n,r),this.repaint()}},getSelectedRow:function(){var t=this.selectionModel.getSelections();if(t.length){for(var e=this.behavior,i=this.getColumnCount(),n=t[0].origin.y,r={},o=0;o<i;o++)r[e.getActiveColumn(o).header]=e.getValue(o,n);return r}},selectionChanged:function(){this.selectRowsFromCells(),this.selectColumnsFromCells();var t=new CustomEvent("fin-selection-changed",{detail:{rows:this.getSelectedRows(),columns:this.getSelectedColumns(),selections:this.selectionModel.getSelections()}});this.canvas.dispatchEvent(t)},isColumnOrRowSelected:function(){return this.selectionModel.isColumnOrRowSelected()},selectColumn:function(t,e){this.selectionModel.selectColumn(t,e)},selectRow:function(t,e){var i=this.selectionModel;this.singleSelect()?t=e:e=e||t,i.selectRow(Math.min(t,e),Math.max(t,e))},selectRowsFromCells:function(){var t;!this.properties.checkboxOnlyRowSelections&&this.properties.autoSelectRows&&(this.properties.singleRowSelectionMode?(t=this.selectionModel.getLastSelection())?this.selectRow(null,t.corner.y):this.clearRowSelection():this.selectionModel.selectRowsFromCells(0,!0))},selectColumnsFromCells:function(){this.properties.autoSelectColumns&&this.selectionModel.selectColumnsFromCells()},getSelectedRows:function(){return this.behavior.getSelectedRows()},getSelectedColumns:function(){return this.behavior.getSelectedColumns()},getSelections:function(){return this.behavior.getSelections()},getLastSelectionType:function(){return this.selectionModel.getLastSelectionType()},isInCurrentSelectionRectangle:function(t,e){return this.selectionModel.isInCurrentSelectionRectangle(t,e)},selectAllRows:function(){this.selectionModel.selectAllRows()},areAllRowsSelected:function(){return this.selectionModel.areAllRowsSelected()},toggleSelectAllRows:function(){this.areAllRowsSelected()?this.selectionModel.clear():this.selectAllRows(),this.repaint()},isCellSelection:function(){return this.deprecated("isCellSelection()","properties.cellSelection","1.2.2")},isRowSelection:function(){return this.deprecated("isRowSelection()","properties.rowSelection","1.2.2")},isColumnSelection:function(){return this.deprecated("isColumnSelection()","properties.columnSelection","1.2.2")},isSingleRowSelectionMode:function(){return this.deprecated("isSingleRowSelectionMode()","properties.singleRowSelectionMode","1.2.14")},moveSingleSelect:function(t,e){var i=this.getMouseDown().plus(this.getDragExtent());this.moveToSingleSelect(i.x+t,i.y+e)},moveToSingleSelect:function(t,e){var i=this.getColumnCount()-1,n=this.getRowCount()-1,r=this.getVisibleColumnsCount()-1,o=this.getVisibleRowsCount()-1;this.properties.scrollingEnabled||(i=Math.min(i,r),n=Math.min(n,o)),t=Math.min(i,Math.max(0,t)),e=Math.min(n,Math.max(0,e)),this.clearSelections(),this.select(t,e,0,0),this.setMouseDown(this.newPoint(t,e)),this.setDragExtent(this.newPoint(0,0)),this.selectCellAndScrollToMakeVisible(t,e),this.repaint()},extendSelect:function(t,e){var i=this.getColumnCount()-1,n=this.getRowCount()-1,r=this.renderer.visibleColumns.length-1,o=this.renderer.visibleRows.length-1,a=this.getMouseDown(),s=this.getDragExtent(),l=s.x+t,u=s.y+e;this.properties.scrollingEnabled||(i=Math.min(i,r),n=Math.min(n,o)),l=Math.min(i-a.x,Math.max(-a.x,l)),u=Math.min(n-a.y,Math.max(-a.y,u)),this.clearMostRecentSelection(),this.select(a.x,a.y,l,u),this.setDragExtent(this.newPoint(l,u));var c=this.insureModelColIsVisible(l+a.x,t),h=this.insureModelRowIsVisible(u+a.y,e);return this.repaint(),c||h},getGridCellFromLastSelection:function(){var t,e=this.selectionModel.getLastSelection();return e&&(t=new this.behavior.CellEvent,t.resetGridXDataY(e.origin.x,e.origin.y)),t}}},function(t,e,i){"use strict";var n=i(77),r=["BackgroundColor","Color","Font"],o=r.concat(["Halign"]),a=o.concat(["cellPadding","iconPadding"]),s=[{prefix:"",props:a},{prefix:"foregroundSelection",props:r},{prefix:"columnHeader",props:o},{prefix:"columnHeaderForegroundSelection",props:r},{prefix:"rowHeader",props:r},{prefix:"rowHeaderForegroundSelection",props:r}],l={themeName:n.themeName};t.exports.default=s.reduce(function(t,e){return e.props.reduce(function(t,i){return i=e.prefix+i,i=i.replace("ForegroundSelectionBackground","BackgroundSelection"),i=i[0].toLowerCase()+i.substr(1),t[i]=n[i],t},t)},l)},function(t,e,i){"use strict";function n(t,e){var i=e.bounds.x,n=e.bounds.y,r=e.bounds.width,o=e.bounds.height,a=(e.value,e.depth),s=e.expanded,l=e.last,u=e.leaf,c=e.backgroundColor;e.isSelected&&(c=e.backgroundSelectionColor),e.isRowHovered&&e.hoverRowHighlight.enabled&&!e.isCellHovered?c=e.hoverRowHighlight.backgroundColor:e.isCellHovered&&e.hoverCellHighlight.enabled&&(c=e.hoverCellHighlight.backgroundColor),t.save(),t.cache.fillStyle=c,t.rect(i,n,r,o),t.fillRect(i,n,r,o);var h=e.isSelected?e.foregroundSelectionColor:e.color;t.cache.strokeStyle=h,t.cache.fillStyle=h;var p=i;t.globalAlpha=.3,t.strokeStyle=h,t.beginPath();for(var d=1;d<=a;d++){p+=16;var f=l&&!s?o/2:o;t.moveTo(p,n),t.lineTo(p,n),t.lineTo(p,n+f),d===a?(t.moveTo(p,n+o/2),t.lineTo(p,n+o/2),t.lineTo(p+16-3,n+o/2)):t.lineTo(p,n+o)}u?t.lineTo(p+16+3,n+o/2):(t.moveTo(p+16+3,n+o/2),t.arc(p+16,n+o/2,3,0,2*Math.PI),e.isCellHovered&&(t.globalAlpha=.45,t.fill(),t.globalAlpha=.3)),s&&!u&&(t.globalAlpha=.8,t.fill(),t.moveTo(p+16,n+o/2+3),t.lineTo(p+16,n+o),t.globalAlpha=.3),t.stroke(),t.closePath(),t.globalAlpha=1,t.fillStyle=e.isSelected?e.foregroundSelectionColor:e.color,t.textAlign="start",t.textBaseline="middle",t.font=e.isSelected?e.foregroundSelectionFont:e.treeHeaderFont;var g=p+16+6+3,m=e.formatValue(e.value,e._type);e.minWidth=g+t.getTextWidth(m)+15;var v=t.getTextWidthTruncated(m,r-g+(i-3),!0),y=n+o/2;t.fillText(v.string?v.string:m,g,y),t.restore()}Object.defineProperty(e,"__esModule",{value:!0}),e.treeLineRendererPaint=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){e=e||{};var i=e.CellRenderer;if(!i||"string"==typeof i){var n=i||t.behavior.getActiveColumn(0).getCellProperty(0,"renderer"),r=t.cellRenderers.get(n);i=(0,_.default)(r).constructor}var s=i.extend(w,C),l=t.cellRenderers.add(s);(0,b.default)(e).forEach(function(t){l[t]=e[t]}),t.behavior.setHeaders=o,t.behavior.isColumnReorderable=a,t.behavior.dataModel.groupHeaderDelimiter=l.delimiter}function o(t){var e=(0,_.default)(this).setHeaders,i=this.grid.cellRenderers.get(w),n=i.delimiter;e.call(this,t);var r=this.columns.reduce(function(t,e){return Math.max(e.header.split(n).length,t)},0),o=this.grid.behavior.subgrids.lookup.header,a=5/4*this.grid.properties.defaultRowHeight;r>1&&(a=4*r/5*this.grid.properties.defaultRowHeight),this.grid.setRowHeight(0,a,o),this.columns.forEach(function(t){t.properties.columnHeader.renderer=w})}function a(){var t=(0,_.default)(this).isColumnReorderable,e=t.call(this),i=this.grid.cellRenderers.get(w),n=i.delimiter;return e&&!this.columns.find(function(t){return t.getCellProperty(0,"renderer")===w&&-1!==t.header.indexOf(n)})}function s(t,e){function i(i){i in e&&(i in s.configStash?e[i]=s.configStash[i]:s.configStash[i]=e[i]);var n=s.config[i];"paintBackground"!==i&&"function"==typeof n&&(n=n.call(this,t,e)),s[i]=n}var n=this.super.paint,r=e.dataCell.x,o=e.value.split(this.delimiter),a=o.length-1;if(0!==a&&0!==r||(this.groups=[]),a){var s,l=this.groups,u=e.bounds,c=!1,h=(0,v.default)({},u),p={isColumnHovered:e.isColumnHovered,isSelected:e.isSelected,font:e.font,columnHeaderHalign:e.columnHeaderHalign,backgroundColor:e.backgroundColor};u.height/=o.length,e.prefillColor=null;for(var f=0,m=u.y;f<a;f++,m+=u.height){if(l[f]&&o[f]===l[f].value?(s=l[f],s.width+=e.lineWidth+h.width):(s=l[f]=l[f]||{},s.value=o[f],s.left=h.x,s.width=h.width,s.configStash={font:e.font,backgroundColor:e.backgroundColor},c=!0,s.config=this.groupConfig[f%this.groupConfig.length],(0,g.default)(s.config).forEach(i)),u.x=s.left,u.y=m,u.width=s.width,(0,v.default)(e,s),s.value){this.groupIndex=f,this.groupCount=a,e.isColumnHovered=e.isSelected=!1,e.columnHeaderHalign="center",e.value=s.value,e.font="12px Arial",n.call(this,t,e);var y=e.paintBackground||this.paintBackground;if(y){if("function"!=typeof y&&"function"!=typeof(y=d[y]))throw"Expected decorator function or name of registered decorator function.";y.call(this,t,e)}}(0,v.default)(e,s.configStash)}u.x=h.x,u.y=m,u.width=h.width,e.value=o[f],(0,v.default)(e,p)}n.call(this,t,e),a&&(c&&(t.cache.fillStyle="#AAA",t.fillRect(h.x-1,h.y,1,h.y+h.height)),(0,v.default)(u,h))}function l(t,e){var i=e.bounds,n=t.createLinearGradient(i.x,i.y,i.x,i.y+i.height);(e.gradientStops||this.gradientStops).forEach(function(t){n.addColorStop.apply(n,t)}),t.cache.fillStyle=n,t.fillRect(i.x+2,i.y,i.width-3,i.height)}function u(t,e){var i=e.bounds;t.cache.fillStyle=e.columnHeaderSeparatorColor||"#fff",t.fillRect(i.x+3,i.y+i.height-1,i.width-6,1)}function c(t,e,i,n){var r,o,a,s;return t.fillStyle=e,e=t.fillStyle,t.fillStyle=t.cache.fillStyle,e=e.match(S),s=e[8],s?(r=parseInt(e[5],10),o=parseInt(e[6],10),a=parseInt(e[7],10)):(r=parseInt(e[2],16),o=parseInt(e[3],16),a=parseInt(e[4],16)),r=h(r,i),o=h(o,i),a=h(a,i),void 0!==n&&(s=n),void 0!==s?"rgba("+r+", "+o+", "+a+", "+s+")":"#"+p(r)+p(o)+p(a)}function h(t,e){return t+(255-t)*e}function p(t){var e=Math.round(t).toString(16);return t<16&&(e="0"+e),e}var d,f=i(74),g=n(f),m=i(75),v=n(m),y=i(219),b=n(y),x=i(222),_=n(x),w="GroupedHeader",C={paint:s,delimiter:"|",paintBackground:u,groupConfig:[{color:function(t,e){return e.color},gradientStops:function(t,e){return[[0,c(t,e.color,.5,0)],[1,c(t,e.color,.5,.35)]]}}]},S=/(^#([0-9a-f]{2,2})([0-9a-f]{2,2})([0-9a-f]{2,2})|rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\))$/i;t.exports={mixInTo:r,install:r,decorateBackgroundWithBottomBorder:u,decorateBackgroundWithLinearGradient:l,lighterColor:c}},function(t,e,i){t.exports={default:i(220),__esModule:!0}},function(t,e,i){i(221);var n=i(0).Object;t.exports=function(t){return n.getOwnPropertyNames(t)}},function(t,e,i){i(47)("getOwnPropertyNames",function(){return i(72).f})},function(t,e,i){t.exports={default:i(223),__esModule:!0}},function(t,e,i){i(224),t.exports=i(0).Object.getPrototypeOf},function(t,e,i){var n=i(23),r=i(62);i(47)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n,r;(function(){function i(t){function e(e,i,n,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;n=i(n,e[s],s,e)}return n}return function(i,n,r,o){n=C(n,o,4);var a=!P(i)&&w.keys(i),s=(a||i).length,l=t>0?0:s-1;return arguments.length<3&&(r=i[a?a[l]:l],l+=t),e(i,n,r,a,l,s)}}function o(t){return function(e,i,n){i=S(i,n);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}function a(t,e,i){return function(n,r,o){var a=0,s=E(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=e(f.call(n,a,s),w.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===r)return o;return-1}}function s(t,e){var i=D.length,n=t.constructor,r=w.isFunction(n)&&n.prototype||h,o="constructor";for(w.has(t,o)&&!w.contains(e,o)&&e.push(o);i--;)(o=D[i])in t&&t[o]!==r[o]&&!w.contains(e,o)&&e.push(o)}var l=this,u=l._,c=Array.prototype,h=Object.prototype,p=Function.prototype,d=c.push,f=c.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=p.bind,x=Object.create,_=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};void 0!==t&&t.exports&&(e=t.exports=w),e._=w,w.VERSION="1.8.3";var C=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},S=function(t,e,i){return null==t?w.identity:w.isFunction(t)?C(t,e,i):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return S(t,e,1/0)};var k=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==i[u]||(i[u]=o[u])}return i}},A=function(t){if(!w.isObject(t))return{};if(x)return x(t);_.prototype=t;var e=new _;return _.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},M=Math.pow(2,53)-1,E=T("length"),P=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=M};w.each=w.forEach=function(t,e,i){var n,r;if(e=C(e,i),P(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=w.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},w.map=w.collect=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o},w.reduce=w.foldl=w.inject=i(1),w.reduceRight=w.foldr=i(-1),w.find=w.detect=function(t,e,i){var n;if(void 0!==(n=P(t)?w.findIndex(t,e,i):w.findKey(t,e,i))&&-1!==n)return t[n]},w.filter=w.select=function(t,e,i){var n=[];return e=S(e,i),w.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},w.reject=function(t,e,i){return w.filter(t,w.negate(S(e)),i)},w.every=w.all=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},w.some=w.any=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,i,n){return P(t)||(t=w.values(t)),("number"!=typeof i||n)&&(i=0),w.indexOf(t,e,i)>=0},w.invoke=function(t,e){var i=f.call(arguments,2),n=w.isFunction(e);return w.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,i){var n,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=P(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])>o&&(o=n)}else e=S(e,i),w.each(t,function(t,i,n){((r=e(t,i,n))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},w.min=function(t,e,i){var n,r,o=1/0,a=1/0;if(null==e&&null!=t){t=P(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])<o&&(o=n)}else e=S(e,i),w.each(t,function(t,i,n){((r=e(t,i,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},w.shuffle=function(t){for(var e,i=P(t)?t:w.values(t),n=i.length,r=Array(n),o=0;o<n;o++)e=w.random(0,o),e!==o&&(r[o]=r[e]),r[e]=i[o];return r},w.sample=function(t,e,i){return null==e||i?(P(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,i){return e=S(e,i),w.pluck(w.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,i,n){var r={};return i=S(i,n),w.each(e,function(n,o){var a=i(n,o,e);t(r,n,a)}),r}};w.groupBy=O(function(t,e,i){w.has(t,i)?t[i].push(e):t[i]=[e]}),w.indexBy=O(function(t,e,i){t[i]=e}),w.countBy=O(function(t,e,i){w.has(t,i)?t[i]++:t[i]=1}),w.toArray=function(t){return t?w.isArray(t)?f.call(t):P(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:P(t)?t.length:w.keys(t).length},w.partition=function(t,e,i){e=S(e,i);var n=[],r=[];return w.each(t,function(t,i,o){(e(t,i,o)?n:r).push(t)}),[n,r]},w.first=w.head=w.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,i){return f.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},w.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,i){return f.call(t,null==e||i?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var I=function(t,e,i,n){for(var r=[],o=0,a=n||0,s=E(t);a<s;a++){var l=t[a];if(P(l)&&(w.isArray(l)||w.isArguments(l))){e||(l=I(l,e,i));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else i||(r[o++]=l)}return r};w.flatten=function(t,e){return I(t,e,!1)},w.without=function(t){return w.difference(t,f.call(arguments,1))},w.uniq=w.unique=function(t,e,i,n){w.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=S(i,n));for(var r=[],o=[],a=0,s=E(t);a<s;a++){var l=t[a],u=i?i(l,a,t):l;e?(a&&o===u||r.push(l),o=u):i?w.contains(o,u)||(o.push(u),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(I(arguments,!0,!0))},w.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=E(t);n<r;n++){var o=t[n];if(!w.contains(e,o)){for(var a=1;a<i&&w.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},w.difference=function(t){var e=I(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,E).length||0,i=Array(e),n=0;n<e;n++)i[n]=w.pluck(t,n);return i},w.object=function(t,e){for(var i={},n=0,r=E(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(t,e,i,n){i=S(i,n,1);for(var r=i(e),o=0,a=E(t);o<a;){var s=Math.floor((o+a)/2);i(t[s])<r?o=s+1:a=s}return o},w.indexOf=a(1,w.findIndex,w.sortedIndex),w.lastIndexOf=a(-1,w.findLastIndex),w.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r};var L=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=A(t.prototype),a=t.apply(o,r);return w.isObject(a)?a:o};w.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,f.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var i=f.call(arguments,2),n=function(){return L(t,n,e,this,i.concat(f.call(arguments)))};return n},w.partial=function(t){var e=f.call(arguments,1),i=function(){for(var n=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===w?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return L(t,i,this,this,o)};return i},w.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)i=arguments[e],t[i]=w.bind(t[i],t);return t},w.memoize=function(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return w.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},w.delay=function(t,e){var i=f.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,i){var n,r,o,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:w.now(),a=null,o=t.apply(n,r),a||(n=r=null)};return function(){var u=w.now();s||!1!==i.leading||(s=u);var c=e-(u-s);return n=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=setTimeout(l,c)),o}},w.debounce=function(t,e,i){var n,r,o,a,s,l=function(){var u=w.now()-a;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,i||(s=t.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},w.once=w.partial(w.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(y)return y(t);var e=[];for(var i in t)w.has(t,i)&&e.push(i);return R&&s(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var i in t)e.push(i);return R&&s(t,e),e},w.values=function(t){for(var e=w.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},w.mapObject=function(t,e,i){e=S(e,i);for(var n,r=w.keys(t),o=r.length,a={},s=0;s<o;s++)n=r[s],a[n]=e(t[n],n,t);return a},w.pairs=function(t){for(var e=w.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},w.invert=function(t){for(var e={},i=w.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},w.functions=w.methods=function(t){var e=[];for(var i in t)w.isFunction(t[i])&&e.push(i);return e.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(t,e,i){e=S(e,i);for(var n,r=w.keys(t),o=0,a=r.length;o<a;o++)if(n=r[o],e(t[n],n,t))return n},w.pick=function(t,e,i){var n,r,o={},a=t;if(null==a)return o;w.isFunction(e)?(r=w.allKeys(a),n=C(e,i)):(r=I(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];n(c,u,a)&&(o[u]=c)}return o},w.omit=function(t,e,i){if(w.isFunction(e))e=w.negate(e);else{var n=w.map(I(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(n,e)}}return w.pick(t,e,i)},w.defaults=k(w.allKeys,!0),w.create=function(t,e){var i=A(t);return e&&w.extendOwn(i,e),i},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var i=w.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var z=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!z(t[l],e[l],i,n))return!1}else{var u,c=w.keys(t);if(l=c.length,w.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(e,u)||!z(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};w.isEqual=function(t,e){return z(t,e)},w.isEmpty=function(t){return null==t||(P(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length)},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=v||function(t){return"[object Array]"===g.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&m.call(t,e)},w.noConflict=function(){return l._=u,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=T,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,i){var n=Array(Math.max(0,t));e=C(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=w.invert(B),F=function(t){var e=function(e){return t[e]},i="(?:"+w.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};w.escape=F(B),w.unescape=F(j),w.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),w.isFunction(n)?n.call(t):n};var N=0;w.uniqueId=function(t){var e=++N+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+H[t]};w.template=function(t,e,i){!e&&i&&(e=i),e=w.defaults({},e,w.templateSettings);var n=RegExp([(e.escape||V).source,(e.interpolate||V).source,(e.evaluate||V).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,a,s){return o+=t.slice(r,s).replace(G,U),r=s+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,w)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},w.chain=function(t){var e=w(t);return e._chain=!0,e};var W=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var i=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),W(this,i.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];w.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],W(this,i)}}),w.each(["concat","join","slice"],function(t){var e=c[t];w.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},n=[],void 0!==(r=function(){return w}.apply(e,n))&&(t.exports=r)}).call(this)},function(t,e){t.exports="\x3c!--\n   \n   Copyright (c) 2017, the Perspective Authors.\n   \n   This file is part of the Perspective library, distributed under the terms of\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\n\n--\x3e\n\n<template id='perspective-hypergrid'> \n    <div id='gridWrapper'> \n        <div id='mainGrid'></div> \n    </div> \n</template>"}])})},ulTY:function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},"xZa+":function(t,e,i){t.exports=!i("bUqO")&&!i("zgIt")(function(){return 7!=Object.defineProperty(i("jhxf")("div"),"a",{get:function(){return 7}}).a})},xxro:function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=68)}([function(t,e){var i=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(31)("wks"),r=i(19),o=i(2).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var n=i(2),r=i(0),o=i(12),a=i(7),s=i(9),l=function(t,e,i){var u,c,h,p=t&l.F,d=t&l.G,f=t&l.S,g=t&l.P,m=t&l.B,v=t&l.W,y=d?r:r[e]||(r[e]={}),b=y.prototype,x=d?n:f?n[e]:(n[e]||{}).prototype;for(u in d&&(i=e),i)(c=!p&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:i[u],y[u]=d&&"function"!=typeof x[u]?i[u]:m&&c?o(h,n):v&&x[u]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var n=i(5),r=i(44),o=i(26),a=Object.defineProperty;e.f=i(6)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(8);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){t.exports=!i(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(4),r=i(14);t.exports=i(6)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(73),r=i(27);t.exports=function(t){return n(r(t))}},function(t,e){t.exports={}},function(t,e,i){var n=i(18);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(45),r=i(32);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var n=i(84)(!0);i(48)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=!0},function(t,e,i){var n=i(4).f,r=i(9),o=i(1)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(27);t.exports=function(t){return Object(n(t))}},function(t,e,i){i(86);for(var n=i(2),r=i(7),o=i(11),a=i(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},function(t,e,i){var n=i(8),r=i(2).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(8);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(29),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(31)("keys"),r=i(19);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(2),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){t.exports={default:i(83),__esModule:!0}},function(t,e,i){var n=i(5),r=i(50),o=i(32),a=i(30)("IE_PROTO"),s=function(){},l=function(){var t,e=i(25)("iframe"),n=o.length;for(e.style.display="none",i(51).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(16),r=i(1)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(35),r=i(1)("iterator"),o=i(11);t.exports=i(0).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=r(e),this.reject=r(i)}var r=i(18);t.exports.f=function(t){return new n(t)}},function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var o=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],e))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(c(n.parts[o],e));f[n.id]={id:n.id,refs:1,parts:a}}}}function r(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s=o[1],l=o[2],u=o[3],c={css:s,media:l,sourceMap:u};n[a]?n[a].parts.push(c):i.push(n[a]={id:a,parts:[c]})}return i}function o(t,e){var i=m(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function c(t,e){var i,n,r,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=y++;i=v||(v=s(e)),n=h.bind(null,i,u,!1),r=h.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=d.bind(null,i,e),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=p.bind(null,i),r=function(){a(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function h(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function p(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function d(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=x(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var f={},g=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),m=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t.call(this,i)),e[i]}}(function(t){return document.querySelector(t)}),v=null,y=0,b=[],x=i(112);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=g()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=r(t,e);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],l=f[s.id];l.refs--,o.push(l)}t&&n(r(t,e),e);for(a=0;a<o.length;a++){l=o[a];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var _=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){"use strict";function n(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}function r(){var t=window.chrome,e=window.navigator,i=e.vendor,n=e.userAgent.indexOf("OPR")>-1,r=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!==t&&void 0!==t&&"Google Inc."===i&&!1===n&&!1===r}function o(){var t;try{throw new Error}catch(r){var e=r.stack.split("\n"),i=0;for(var n in e)if(e[n].match(/http[s]?:\/\//)){i=Number(n);break}t=e[i].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))).*?:/)}this.fullPath=function(){return t?t[1]:window.location.origin+window.location.pathname},this.path=function(){return t?t[2]:window.location.pathname},this.host=function(){var t=this.path().match(/.+?\/\/.+?\//);return t?t[0]:window.location.hostname},this.file=function(){return t?t[3]:""}}function a(t){var e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}function s(t,e){e.attributeChangedCallback={value:function(t,e,i){"_"!==t[0]&&(this[t]=i)}},t=a(t);var i=e.attachedCallback;for(var n in e)!function(t){if(e[t].set){var i=e[t].set;e[t].set=function(e){this.getAttribute(t)===e?(this._initializing||this._initialized)&&i.bind(this)(e):this.setAttribute(t,e)}}}(n);e.attachedCallback={value:function(){if(!this._initialized){for(this._initializing=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var n=document.importNode(t.content,!0);for(var r in this.appendChild(n),i.value.bind(this)(),e)"attachedCallback"!==r&&this.getAttribute(r)&&"_"!==r[0]&&(this[r]=this.getAttribute(r));this._initializing=!1,this._initialized=!0}}};var r=t.getAttribute("id");console.log("Registered "+r),document.registerElement(r,{prototype:(0,u.default)(HTMLElement.prototype,e)})}Object.defineProperty(e,"__esModule",{value:!0});var l=i(65),u=function(t){return t&&t.__esModule?t:{default:t}}(l);e.detectIE=n,e.detectChrome=r,e.ScriptPath=o,e.importTemplate=a,e.registerElement=s},function(t,e,i){e.f=i(1)},function(t,e,i){var n=i(2),r=i(0),o=i(21),a=i(41),s=i(4).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){t.exports=!i(6)&&!i(13)(function(){return 7!=Object.defineProperty(i(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(9),r=i(10),o=i(74)(!1),a=i(30)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=a&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(u,i)||u.push(i));return u}},function(t,e,i){t.exports={default:i(78),__esModule:!0}},function(t,e){},function(t,e,i){"use strict";var n=i(21),r=i(3),o=i(49),a=i(7),s=i(11),l=i(85),u=i(22),c=i(52),h=i(1)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,f,g,m,v){l(i,e,f);var y,b,x,_=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},w=e+" Iterator",C="values"==g,S=!1,k=t.prototype,A=k[h]||k["@@iterator"]||g&&k[g],T=A||_(g),M=g?C?_("entries"):T:void 0,E="Array"==e&&k.entries||A;if(E&&(x=c(E.call(new t)))!==Object.prototype&&x.next&&(u(x,w,!0),n||"function"==typeof x[h]||a(x,h,d)),C&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),n&&!v||!p&&!S&&k[h]||a(k,h,T),s[e]=T,s[w]=d,g)if(y={values:C?T:_("values"),keys:m?T:_("keys"),entries:M},v)for(b in y)b in k||o(k,b,y[b]);else r(r.P+r.F*(p||S),e,y);return y}},function(t,e,i){t.exports=i(7)},function(t,e,i){var n=i(4),r=i(5),o=i(15);t.exports=i(6)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(2).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(9),r=i(23),o=i(30)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(5);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(11),r=i(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){var n=i(5),r=i(18),o=i(1)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n,r,o,a=i(12),s=i(92),l=i(51),u=i(25),c=i(2),h=c.process,p=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},d=function(t){delete v[t]},"process"==i(16)(h)?n=function(t){h.nextTick(a(y,t,1))}:g&&g.now?n=function(t){g.now(a(y,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(5),r=i(8),o=i(37);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){var n=i(1)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){t.exports={default:i(102),__esModule:!0}},function(t,e,i){t.exports={default:i(105),__esModule:!0}},function(t,e,i){var n=i(3),r=i(0),o=i(13);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e,i){t.exports={default:i(107),__esModule:!0}},function(t,e,i){var n,r;(function(){function i(t){function e(e,i,n,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;n=i(n,e[s],s,e)}return n}return function(i,n,r,o){n=C(n,o,4);var a=!P(i)&&w.keys(i),s=(a||i).length,l=t>0?0:s-1;return arguments.length<3&&(r=i[a?a[l]:l],l+=t),e(i,n,r,a,l,s)}}function o(t){return function(e,i,n){i=S(i,n);for(var r=E(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}}function a(t,e,i){return function(n,r,o){var a=0,s=E(n);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(i&&o&&s)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=e(f.call(n,a,s),w.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(n[o]===r)return o;return-1}}function s(t,e){var i=D.length,n=t.constructor,r=w.isFunction(n)&&n.prototype||h,o="constructor";for(w.has(t,o)&&!w.contains(e,o)&&e.push(o);i--;)(o=D[i])in t&&t[o]!==r[o]&&!w.contains(e,o)&&e.push(o)}var l=this,u=l._,c=Array.prototype,h=Object.prototype,p=Function.prototype,d=c.push,f=c.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=p.bind,x=Object.create,_=function(){},w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};void 0!==t&&t.exports&&(e=t.exports=w),e._=w,w.VERSION="1.8.3";var C=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},S=function(t,e,i){return null==t?w.identity:w.isFunction(t)?C(t,e,i):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return S(t,e,1/0)};var k=function(t,e){return function(i){var n=arguments.length;if(n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==i[u]||(i[u]=o[u])}return i}},A=function(t){if(!w.isObject(t))return{};if(x)return x(t);_.prototype=t;var e=new _;return _.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},M=Math.pow(2,53)-1,E=T("length"),P=function(t){var e=E(t);return"number"==typeof e&&e>=0&&e<=M};w.each=w.forEach=function(t,e,i){var n,r;if(e=C(e,i),P(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=w.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},w.map=w.collect=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=Array(r),a=0;a<r;a++){var s=n?n[a]:a;o[a]=e(t[s],s,t)}return o},w.reduce=w.foldl=w.inject=i(1),w.reduceRight=w.foldr=i(-1),w.find=w.detect=function(t,e,i){var n;if(void 0!==(n=P(t)?w.findIndex(t,e,i):w.findKey(t,e,i))&&-1!==n)return t[n]},w.filter=w.select=function(t,e,i){var n=[];return e=S(e,i),w.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},w.reject=function(t,e,i){return w.filter(t,w.negate(S(e)),i)},w.every=w.all=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(!e(t[a],a,t))return!1}return!0},w.some=w.any=function(t,e,i){e=S(e,i);for(var n=!P(t)&&w.keys(t),r=(n||t).length,o=0;o<r;o++){var a=n?n[o]:o;if(e(t[a],a,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,i,n){return P(t)||(t=w.values(t)),("number"!=typeof i||n)&&(i=0),w.indexOf(t,e,i)>=0},w.invoke=function(t,e){var i=f.call(arguments,2),n=w.isFunction(e);return w.map(t,function(t){var r=n?e:t[e];return null==r?r:r.apply(t,i)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,i){var n,r,o=-1/0,a=-1/0;if(null==e&&null!=t){t=P(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])>o&&(o=n)}else e=S(e,i),w.each(t,function(t,i,n){((r=e(t,i,n))>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},w.min=function(t,e,i){var n,r,o=1/0,a=1/0;if(null==e&&null!=t){t=P(t)?t:w.values(t);for(var s=0,l=t.length;s<l;s++)(n=t[s])<o&&(o=n)}else e=S(e,i),w.each(t,function(t,i,n){((r=e(t,i,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},w.shuffle=function(t){for(var e,i=P(t)?t:w.values(t),n=i.length,r=Array(n),o=0;o<n;o++)e=w.random(0,o),e!==o&&(r[o]=r[e]),r[e]=i[o];return r},w.sample=function(t,e,i){return null==e||i?(P(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,i){return e=S(e,i),w.pluck(w.map(t,function(t,i,n){return{value:t,index:i,criteria:e(t,i,n)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var O=function(t){return function(e,i,n){var r={};return i=S(i,n),w.each(e,function(n,o){var a=i(n,o,e);t(r,n,a)}),r}};w.groupBy=O(function(t,e,i){w.has(t,i)?t[i].push(e):t[i]=[e]}),w.indexBy=O(function(t,e,i){t[i]=e}),w.countBy=O(function(t,e,i){w.has(t,i)?t[i]++:t[i]=1}),w.toArray=function(t){return t?w.isArray(t)?f.call(t):P(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:P(t)?t.length:w.keys(t).length},w.partition=function(t,e,i){e=S(e,i);var n=[],r=[];return w.each(t,function(t,i,o){(e(t,i,o)?n:r).push(t)}),[n,r]},w.first=w.head=w.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:w.initial(t,t.length-e)},w.initial=function(t,e,i){return f.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},w.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:w.rest(t,Math.max(0,t.length-e))},w.rest=w.tail=w.drop=function(t,e,i){return f.call(t,null==e||i?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var I=function(t,e,i,n){for(var r=[],o=0,a=n||0,s=E(t);a<s;a++){var l=t[a];if(P(l)&&(w.isArray(l)||w.isArguments(l))){e||(l=I(l,e,i));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else i||(r[o++]=l)}return r};w.flatten=function(t,e){return I(t,e,!1)},w.without=function(t){return w.difference(t,f.call(arguments,1))},w.uniq=w.unique=function(t,e,i,n){w.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=S(i,n));for(var r=[],o=[],a=0,s=E(t);a<s;a++){var l=t[a],u=i?i(l,a,t):l;e?(a&&o===u||r.push(l),o=u):i?w.contains(o,u)||(o.push(u),r.push(l)):w.contains(r,l)||r.push(l)}return r},w.union=function(){return w.uniq(I(arguments,!0,!0))},w.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=E(t);n<r;n++){var o=t[n];if(!w.contains(e,o)){for(var a=1;a<i&&w.contains(arguments[a],o);a++);a===i&&e.push(o)}}return e},w.difference=function(t){var e=I(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,E).length||0,i=Array(e),n=0;n<e;n++)i[n]=w.pluck(t,n);return i},w.object=function(t,e){for(var i={},n=0,r=E(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},w.findIndex=o(1),w.findLastIndex=o(-1),w.sortedIndex=function(t,e,i,n){i=S(i,n,1);for(var r=i(e),o=0,a=E(t);o<a;){var s=Math.floor((o+a)/2);i(t[s])<r?o=s+1:a=s}return o},w.indexOf=a(1,w.findIndex,w.sortedIndex),w.lastIndexOf=a(-1,w.findLastIndex),w.range=function(t,e,i){null==e&&(e=t||0,t=0),i=i||1;for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r};var L=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=A(t.prototype),a=t.apply(o,r);return w.isObject(a)?a:o};w.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,f.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var i=f.call(arguments,2),n=function(){return L(t,n,e,this,i.concat(f.call(arguments)))};return n},w.partial=function(t){var e=f.call(arguments,1),i=function(){for(var n=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===w?arguments[n++]:e[a];for(;n<arguments.length;)o.push(arguments[n++]);return L(t,i,this,this,o)};return i},w.bindAll=function(t){var e,i,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(e=1;e<n;e++)i=arguments[e],t[i]=w.bind(t[i],t);return t},w.memoize=function(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return w.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},w.delay=function(t,e){var i=f.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,i){var n,r,o,a=null,s=0;i||(i={});var l=function(){s=!1===i.leading?0:w.now(),a=null,o=t.apply(n,r),a||(n=r=null)};return function(){var u=w.now();s||!1!==i.leading||(s=u);var c=e-(u-s);return n=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(n,r),a||(n=r=null)):a||!1===i.trailing||(a=setTimeout(l,c)),o}},w.debounce=function(t,e,i){var n,r,o,a,s,l=function(){var u=w.now()-a;u<e&&u>=0?n=setTimeout(l,e-u):(n=null,i||(s=t.apply(o,r),n||(o=r=null)))};return function(){o=this,r=arguments,a=w.now();var u=i&&!n;return n||(n=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},w.once=w.partial(w.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(y)return y(t);var e=[];for(var i in t)w.has(t,i)&&e.push(i);return R&&s(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var i in t)e.push(i);return R&&s(t,e),e},w.values=function(t){for(var e=w.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},w.mapObject=function(t,e,i){e=S(e,i);for(var n,r=w.keys(t),o=r.length,a={},s=0;s<o;s++)n=r[s],a[n]=e(t[n],n,t);return a},w.pairs=function(t){for(var e=w.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},w.invert=function(t){for(var e={},i=w.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},w.functions=w.methods=function(t){var e=[];for(var i in t)w.isFunction(t[i])&&e.push(i);return e.sort()},w.extend=k(w.allKeys),w.extendOwn=w.assign=k(w.keys),w.findKey=function(t,e,i){e=S(e,i);for(var n,r=w.keys(t),o=0,a=r.length;o<a;o++)if(n=r[o],e(t[n],n,t))return n},w.pick=function(t,e,i){var n,r,o={},a=t;if(null==a)return o;w.isFunction(e)?(r=w.allKeys(a),n=C(e,i)):(r=I(arguments,!1,!1,1),n=function(t,e,i){return e in i},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];n(c,u,a)&&(o[u]=c)}return o},w.omit=function(t,e,i){if(w.isFunction(e))e=w.negate(e);else{var n=w.map(I(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(n,e)}}return w.pick(t,e,i)},w.defaults=k(w.allKeys,!0),w.create=function(t,e){var i=A(t);return e&&w.extendOwn(i,e),i},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var i=w.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var a=i[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var z=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===t)return n[l]===e;if(i.push(t),n.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!z(t[l],e[l],i,n))return!1}else{var u,c=w.keys(t);if(l=c.length,w.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(e,u)||!z(t[u],e[u],i,n))return!1}return i.pop(),n.pop(),!0};w.isEqual=function(t,e){return z(t,e)},w.isEmpty=function(t){return null==t||(P(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length)},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=v||function(t){return"[object Array]"===g.call(t)},w.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===g.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&m.call(t,e)},w.noConflict=function(){return l._=u,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=T,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,i){var n=Array(Math.max(0,t));e=C(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=w.invert(B),F=function(t){var e=function(e){return t[e]},i="(?:"+w.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};w.escape=F(B),w.unescape=F(j),w.result=function(t,e,i){var n=null==t?void 0:t[e];return void 0===n&&(n=i),w.isFunction(n)?n.call(t):n};var N=0;w.uniqueId=function(t){var e=++N+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+H[t]};w.template=function(t,e,i){!e&&i&&(e=i),e=w.defaults({},e,w.templateSettings);var n=RegExp([(e.escape||V).source,(e.interpolate||V).source,(e.evaluate||V).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,a,s){return o+=t.slice(r,s).replace(G,U),r=s+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(t){return a.call(this,t,w)};return s.source="function("+(e.variable||"obj")+"){\n"+o+"}",s},w.chain=function(t){var e=w(t);return e._chain=!0,e};var W=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var i=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return d.apply(t,arguments),W(this,i.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];w.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],W(this,i)}}),w.each(["concat","join","slice"],function(t){var e=c[t];w.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},n=[],void 0!==(r=function(){return w}.apply(e,n))&&(t.exports=r)}).call(this)},function(t,e,i){t.exports={default:i(114),__esModule:!0}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(45),r=i(32).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t){for(var e=t.target;e&&"PERSPECTIVE-ROW"!==e.tagName;)e=e.parentElement;var i=e.parentElement,n=Array.prototype.slice.call(i.children).indexOf(e),r=i.getAttribute("id").replace("_","-"),o=JSON.parse(this.getAttribute(r));o.splice(n,1),this.setAttribute(r,(0,j.default)(o))}function r(t){if(0==this._active_columns.children.length)return 0;for(var e in this._active_columns.children){var i=this._active_columns.children[e];if(i.offsetTop+i.offsetHeight>t.offsetY+this._active_columns.scrollTop)return e}return this._active_columns.children.length}function o(t){var e=t.target.parentElement.parentElement;Array.prototype.slice.call(this._active_columns.children).map(function(t){t.className=""}),this._visible_column_count()>1&&"move"!==t.dataTransfer.dropEffect&&(this._active_columns.removeChild(e),this._update_column_view()),this._active_columns.classList.remove("dropping")}function a(t){for(var e=t.relatedTarget;e&&e!==this._active_columns;)e=e.parentElement;null===e&&(this._active_columns.classList.remove("dropping"),this._drop_target_hover.parentElement===this._active_columns&&this._active_columns.removeChild(this._drop_target_hover),-1!==this._original_index&&this._active_columns.insertBefore(this._drop_target_hover,this._active_columns.children[this._original_index]),this._drop_target_hover.removeAttribute("drop-target"))}function s(t){t.preventDefault(),t.dataTransfer.dropEffect="move","dropping"!==t.currentTarget.className&&t.currentTarget.classList.add("dropping"),this._drop_target_hover.hasAttribute("drop-target")||this._drop_target_hover.setAttribute("drop-target",!0);var e=r.call(this,t);Array.prototype.slice.call(this._active_columns.children).indexOf(this._drop_target_hover)<e&&(e+=1),e<this._active_columns.children.length?this._active_columns.children[e].hasAttribute("drop-target")||this._active_columns.insertBefore(this._drop_target_hover,this._active_columns.children[e]):this._active_columns.children[this._active_columns.children.length-1].hasAttribute("drop-target")||this._active_columns.appendChild(this._drop_target_hover)}function l(t){t.preventDefault(),t.currentTarget.classList.remove("dropping"),this._drop_target_hover.parentElement===this._active_columns&&this._drop_target_hover.removeAttribute("drop-target"),Array.prototype.slice.call(this._active_columns.children).map(function(t){t.className=""}),t.dataTransfer.getData("text")&&this._update_column_view()}function u(t){t.preventDefault(),t.currentTarget.classList.remove("dropping"),this._drop_target_hover&&this._drop_target_hover.removeAttribute("drop-target");var e=t.dataTransfer.getData("text");if(e){e=JSON.parse(e);var i=t.currentTarget.getAttribute("id").replace("_","-"),n=JSON.parse(this.getAttribute(i)||"[]"),r=n.indexOf(e[0]);if(-1!==r&&n.splice(r,1),i.indexOf("filter")>-1?this.setAttribute(i,(0,j.default)(n.concat([e]))):this.setAttribute(i,(0,j.default)(n.concat([e[0]]))),"pivots"===this._plugin.deselectMode&&this._visible_column_count()>1&&"sort"!==i){var o=this.querySelectorAll("#active_columns perspective-row"),a=Array.isArray(o),s=0;for(o=a?o:(0,z.default)(o);;){var l;if(a){if(s>=o.length)break;l=o[s++]}else{if(s=o.next(),s.done)break;l=s.value}var u=l;if(u.getAttribute("name")===e){this._active_columns.removeChild(u);break}}this._update_column_view()}this._update()}}function c(t){var e=t.currentTarget;if("active_columns"===e.parentElement.getAttribute("id")){if(1===this._visible_column_count())return;if(t.detail.shiftKey){var i=Array.prototype.slice.call(this._active_columns.children),n=Array.isArray(i),r=0;for(i=n?i:(0,z.default)(i);;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var a=o;a!==e&&this._active_columns.removeChild(a)}}else this._active_columns.removeChild(e)}else{if(t.detail.shiftKey&&"toggle"===this._plugin.selectMode||!t.detail.shiftKey&&"select"===this._plugin.selectMode){var s=Array.prototype.slice.call(this._active_columns.children),l=Array.isArray(s),u=0;for(s=l?s:(0,z.default)(s);;){var c;if(l){if(u>=s.length)break;c=s[u++]}else{if(u=s.next(),u.done)break;c=u.value}var h=c;this._active_columns.removeChild(h)}}var p=v.call(this,e.getAttribute("name"),e.getAttribute("type"));this._active_columns.appendChild(p)}var d=this._view_columns("#active_columns perspective-row");this._update_column_view(d)}function h(){var t=g.call(this),e=this._get_view_aggregates(),i=t,n=Array.isArray(i),r=0;for(i=n?i:(0,z.default)(i);;){var o;if("break"===function(){if(n){if(r>=i.length)return"break";o=i[r++]}else{if(r=i.next(),r.done)return"break";o=r.value}var t=o,a=e.find(function(e){return e.column===t.column});a&&(t.op=a.op)}())break}m.call(this,t),this._update_column_view(),this._update()}function p(){var t=JSON.parse(this.getAttribute("filters")),e=this._get_view_filters(),i=t,n=Array.isArray(i),r=0;for(i=n?i:(0,z.default)(i);;){var o;if("break"===function(){if(n){if(r>=i.length)return"break";o=i[r++]}else{if(r=i.next(),r.done)return"break";o=r.value}var t=o,a=e.find(function(e){return e[0]===t[0]});a&&(t[1]=a[1],t[2]=a[2])}())break}this._updating_filter=!0,this.setAttribute("filters",(0,j.default)(t)),this._updating_filter=!1,this._update()}function d(){return void 0===Y&&(Y=U.default.worker()),Y}function f(t){try{t=t.trim()}catch(t){}var e={};this.getAttribute("index")&&(e.index=this.getAttribute("index"));var i=void 0;i=t.hasOwnProperty("_name")?t:d().table(t,e),F.call(this,i);var n=this.slaves,r=Array.isArray(n),o=0;for(n=r?n:(0,z.default)(n);;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a;F.call(s,i)}this.slaves=[]}function g(){var t=JSON.parse(this.getAttribute("aggregates"))||{};return(0,R.default)(t).map(function(e){return{column:e,op:t[e]}})}function m(t){this.setAttribute("aggregates",(0,j.default)(t.reduce(function(t,e){return t[e.column]=e.op,t},{})))}function v(t,e,i,r){var o=this,a=document.createElement("perspective-row");if(!e){var s=Array.prototype.slice.call(this.querySelectorAll("#inactive_columns perspective-row"));s.length>0?(e=s.find(function(e){return e.getAttribute("name")===t}),e=e?e.getAttribute("type"):"integer"):e=""}if(!i){var l=g.call(this);l?(i=l.find(function(e){return e.column===t}),i=i?i.op:U.default.AGGREGATE_DEFAULTS[e]):i=U.default.AGGREGATE_DEFAULTS[e]}if(r&&(a.setAttribute("filter",r),"string"===e)){var u=this._table.view({row_pivot:[t],aggregate:[]});u.to_json().then(function(t){a.choices(t.slice(1,t.length-1).map(function(t){return t.__ROW_PATH__})),u.delete()})}return a.setAttribute("type",e),a.setAttribute("name",t),a.setAttribute("aggregate",i),a.addEventListener("visibility-clicked",c.bind(this)),a.addEventListener("aggregate-selected",h.bind(this)),a.addEventListener("filter-selected",p.bind(this)),a.addEventListener("close-clicked",function(t){return n.bind(o)(t.detail)}),a.addEventListener("row-drag",function(){o.classList.add("dragging"),o._original_index=Array.prototype.slice.call(o._active_columns.children).findIndex(function(e){return e.getAttribute("name")===t}),-1!==o._original_index?(o._drop_target_hover=o._active_columns.children[o._original_index],setTimeout(function(){return a.setAttribute("drop-target",!0)})):o._drop_target_hover=v.call(o,t,e,i)}),a.addEventListener("row-dragend",function(){return o.classList.remove("dragging")}),a}function y(){var t=this;if(this._table){var e=this._view_columns("#row_pivots perspective-row"),i=this._view_columns("#column_pivots perspective-row"),n=this._get_view_filters(),r=this._get_view_aggregates();if(0!==r.length){var o=[],a=this._view_columns("#sort perspective-row"),s=a,l=Array.isArray(s),u=0;for(s=l?s:(0,z.default)(s);;){var c;if("break"===function(){if(l){if(u>=s.length)return"break";c=s[u++]}else{if(u=s.next(),u.done)return"break";c=u.value}var e=c;if(-1===r.map(function(t){return t.column}).indexOf(e)){var i=t._get_view_aggregates("#inactive_columns perspective-row");r.push(i.reduce(function(t,i){return i.column===e?i:t})),o.push(e)}}())break}this._view&&(this._view.delete(),this._view=void 0),this._view=this._table.view({filter:n,row_pivot:e,column_pivot:i,aggregate:r,sort:a}),this._view.on_update(function(){if(!t._debounced){var e=document.getElementsByTagName("perspective-viewer").length,i=t.getAttribute("render_time")*e*2;i=Math.min(1e4,Math.max(0,i)),t._debounced=setTimeout(function(){t._debounced=void 0;var e=performance.now();t._task&&t._task.cancel(),t._task=new K,function(i){t._plugin.create.call(t,t._datavis,t._view,o,i).then(function(){t.setAttribute("render_time",performance.now()-e),i.cancel()}).catch(function(t){console.error("Error rendering plugin.",t)})}(t._task)},i||0)}});var h=performance.now();this._render_count=(this._render_count||0)+1,this._task&&this._task.cancel(),this._task=new K(function(){t._render_count--}),function(e){t._plugin.create.call(t,t._datavis,t._view,o,e).catch(function(t){console.debug("View cancelled")}).finally(function(){t.hasAttribute("render_time")||t.dispatchEvent(new Event("loaded",{bubbles:!0})),t.setAttribute("render_time",performance.now()-h),e.cancel(),0===t._render_count&&t.removeAttribute("updating")})}(this._task)}}}var b=i(69),x=e(b),_=i(76),w=e(_),C=i(77),S=e(C),k=i(80),A=e(k),T=i(33),M=e(T),E=i(98),P=e(E),O=i(104),I=e(O),L=i(61),R=e(L),D=i(60),z=e(D),B=i(63),j=e(B),F=function(){var t=(0,I.default)(A.default.mark(function t(e){var i,n,r,o,a,s,l,u,c,h,p,d,f,y,b,x,_,w,C,S,k,T,E,O,I,L,R,D,B,F,N=this;return A.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.querySelector("#app").classList.add("hide_message"),this.setAttribute("updating",!0),this._clear_state(),this._table=e,t.next=6,M.default.all([e.columns(),e.schema()]);case 6:i=t.sent,n=(0,P.default)(i,2),r=n[0],o=n[1],this._inactive_columns.innerHTML="",this._active_columns.innerHTML="",this._initial_col_order=r.slice(),this.hasAttribute("columns")||this.setAttribute("columns",(0,j.default)(this._initial_col_order)),a={integer:2,string:0,float:3,boolean:4,date:1},r.sort(function(t,e){var i=a[o[t]],n=a[o[e]],r=0;return r=i==n?t.toLowerCase()<e.toLowerCase()?-1:1:i<n?-1:1,r}),s=[],l={},this.hasAttribute("aggregates")&&(s=g.call(this).map(function(t){var e=o[t.column];if(l[t.column]=!0,e)return""!==t.op&&-1!==U.default.TYPE_AGGREGATES[e].indexOf(t.op)||(t.op=U.default.AGGREGATE_DEFAULTS[e]),t;console.warn('No column "'+t.column+'" found (specified in aggregates attribute).')}).filter(function(t){return t})),u=r,c=Array.isArray(u),h=0,u=c?u:(0,z.default)(u);case 20:if(!c){t.next=26;break}if(!(h>=u.length)){t.next=23;break}return t.abrupt("break",34);case 23:p=u[h++],t.next=30;break;case 26:if(h=u.next(),!h.done){t.next=29;break}return t.abrupt("break",34);case 29:p=h.value;case 30:d=p,l[d]||s.push({column:d,op:U.default.AGGREGATE_DEFAULTS[o[d]]});case 32:t.next=20;break;case 34:if(m.call(this,s),f=JSON.parse(this.getAttribute("columns")||"[]").filter(function(t){return r.indexOf(t)>-1}),this.hasAttribute("columns")&&0!==f.length){t.next=49;break}y=function(){if(x){if(_>=b.length)return"break";w=b[_++]}else{if(_=b.next(),_.done)return"break";w=_.value}var t=w,e=s.filter(function(e){return e.column===t}).map(function(t){return t.op})[0],i=v.call(N,t,o[t],e);N._inactive_columns.appendChild(i)},b=r,x=Array.isArray(b),_=0,b=x?b:(0,z.default)(b);case 39:if("break"!==y()){t.next=42;break}return t.abrupt("break",44);case 42:t.next=39;break;case 44:for(C in this._set_column_defaults(),f=JSON.parse(this.getAttribute("columns")||"[]").filter(function(t){return r.indexOf(t)>-1}),r)-1!==f.indexOf(C)&&this._inactive_columns.children[C].classList.add("active");t.next=72;break;case 49:S=function(){if(T){if(E>=k.length)return"break";O=k[E++]}else{if(E=k.next(),E.done)return"break";O=E.value}var t=O,e=s.filter(function(e){return e.column===t}).map(function(t){return t.op})[0],i=v.call(N,t,o[t],e);N._inactive_columns.appendChild(i),-1!==f.indexOf(t)&&i.classList.add("active")},k=r,T=Array.isArray(k),E=0,k=T?k:(0,z.default)(k);case 51:if("break"!==S()){t.next=54;break}return t.abrupt("break",56);case 54:t.next=51;break;case 56:I=f,L=Array.isArray(I),R=0,I=L?I:(0,z.default)(I);case 57:if(!L){t.next=63;break}if(!(R>=I.length)){t.next=60;break}return t.abrupt("break",72);case 60:D=I[R++],t.next=67;break;case 63:if(R=I.next(),!R.done){t.next=66;break}return t.abrupt("break",72);case 66:D=R.value;case 67:B=D,F=v.call(this,B,o[B]),this._active_columns.appendChild(F);case 70:t.next=57;break;case 72:r.length===f.length?this._inactive_columns.style.display="none":this._inactive_columns.style.display="block",this.filters=this.getAttribute("filters"),this._update();case 75:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),N=i(64),V=e(N),H=i(108);i(109),i(110);var G=i(113),U=e(G),W=i(40),$=i(117),q=e($);i(118),i(120),(0,H.polyfill)({});var X={};t.registerPlugin=function(t,e){X[t]=e};var Y=void 0;document.currentScript&&document.currentScript.hasAttribute("preload")&&d();var K=function(){function t(e){(0,w.default)(this,t),this._on_cancel=e,this._cancelled=!1}return(0,S.default)(t,[{key:"cancel",value:function(){!this._cancelled&&this._on_cancel&&this._on_cancel(),this._cancelled=!0}},{key:"cancelled",get:function(){return this._cancelled}}]),t}();(0,W.registerElement)(q.default,{notifyResize:{value:function(){!document.hidden&&this.offsetParent&&document.contains(this)&&this._plugin.resize.call(this)}},worker:{get:d},_plugin:{get:function(){var t=this.getAttribute("view");return t||(t=(0,R.default)(X)[0]),this.setAttribute("view",t),X[t]||X[(0,R.default)(X)[0]]}},_toggle_config:{value:function(){this._show_config?(this._side_panel.style.display="none",this._top_panel.style.display="none",this.removeAttribute("settings")):(this._side_panel.style.display="flex",this._top_panel.style.display="flex",this.setAttribute("settings",!0)),this._show_config=!this._show_config,this._plugin.resize.call(this,!0)}},message:{set:function(t){if(this.getAttribute("message")===t){if(this._inner_drop_target){this.querySelector("#app").classList.remove("hide_message"),this._inner_drop_target.innerHTML=t;var e=this.slaves,i=Array.isArray(e),n=0;for(e=i?e:(0,z.default)(e);;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}r.setAttribute("message",t)}}}else this.setAttribute("message",t)}},load:{value:function(t){f.bind(this)(t)}},update:{value:function(t){void 0===this._table?this.load(t):this._table.update(t)}},_get_view_filters:{value:function(t){return this._view_columns("#filters perspective-row",!1,!0)}},_get_view_aggregates:{value:function(t){return this._view_columns(t,!0)}},_view_columns:{value:function(t,e,i){t=t||"#active_columns perspective-row";var n=this.querySelectorAll(t);return Array.prototype.slice.call(n).map(function(t){var n=t.getAttribute("name");if(e)return{op:t.getAttribute("aggregate"),column:n};if(i){var r=JSON.parse(t.getAttribute("filter"));return[n,r.operator,r.operand]}return n})}},_visible_column_count:{value:function(){return Array.prototype.slice.call(this.querySelectorAll("#active_columns perspective-row")).length}},_update_column_view:{value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||(t=this._view_columns("#active_columns perspective-row")),this.setAttribute("columns",(0,j.default)(t));var n=Array.prototype.slice.call(this.querySelectorAll("#inactive_columns perspective-row"));t.length===n.length?this._inactive_columns.style.display="none":this._inactive_columns.style.display="block",n.forEach(function(e){-1===t.indexOf(e.getAttribute("name"))?e.classList.remove("active"):e.classList.add("active")}),i&&(this._active_columns.innerHTML="",t.map(function(t){var i=n.find(function(e){return e.getAttribute("name")===t});i&&e._active_columns.appendChild(v.call(e,i.getAttribute("name"),i.getAttribute("type")))}))}},columns:{set:function(){var t=JSON.parse(this.getAttribute("columns"));this._update_column_view(t,!0),this.dispatchEvent(new Event("config-update")),this._update()}},aggregates:{set:function(){var t=JSON.parse(this.getAttribute("aggregates"));Array.prototype.slice.call(this.querySelectorAll("#active_columns perspective-row")).map(function(e,i){var n=t[e.getAttribute("name")];n&&e.setAttribute("aggregate",n)}),this.dispatchEvent(new Event("config-update")),this._update()}},filters:{set:function(){if(!this._updating_filter){var t=JSON.parse(this.getAttribute("filters"));if(this._filters.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._filters.getAttribute("name"),this._filters.appendChild(e)}else t.map(function(t){var e=v.call(this,t[0],void 0,void 0,(0,j.default)({operator:t[1],operand:t[2]}));this._filters.appendChild(e)}.bind(this))}this.dispatchEvent(new Event("config-update")),this._update()}},_set_column_defaults:{value:function(){var t=Array.prototype.slice.call(this.querySelectorAll("#inactive_columns perspective-row"));if(t.length>0)if(this._plugin.initial){var e=[],i=this._plugin.initial.count||2;if("number"===this._plugin.initial.type){var n=t,r=Array.isArray(n),o=0;for(n=r?n:(0,z.default)(n);;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a,l=s.getAttribute("type");["float","integer"].indexOf(l)>-1&&e.push(s.getAttribute("name"))}if(e.length<i){var u=t,c=Array.isArray(u),h=0;for(u=c?u:(0,z.default)(u);;){var p;if(c){if(h>=u.length)break;p=u[h++]}else{if(h=u.next(),h.done)break;p=h.value}var d=p;-1===e.indexOf(d.getAttribute("name"))&&e.push(d.getAttribute("name"))}}}this.setAttribute("columns",(0,j.default)(e.slice(0,i)))}else"select"===this._plugin.selectMode&&this.setAttribute("columns",(0,j.default)([t[0].getAttribute("name")]))}},view:{set:function(){function t(){return e.apply(this,arguments)}var e=(0,I.default)(A.default.mark(function t(){return A.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._vis_selector.value=this.getAttribute("view"),this._set_column_defaults(),this.dispatchEvent(new Event("config-update"));case 3:case"end":return t.stop()}},t,this)}));return t}()},"column-pivots":{set:function(){var t=JSON.parse(this.getAttribute("column-pivots"));if(this._column_pivots.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._column_pivots.getAttribute("name"),this._column_pivots.appendChild(e)}else t.map(function(t){var e=v.call(this,t);this._column_pivots.appendChild(e)}.bind(this));this.dispatchEvent(new Event("config-update")),this._update()}},index:{set:function(){this._table&&console.error("Setting 'index' attribute after initialization has no effect")}},"row-pivots":{set:function(){var t=JSON.parse(this.getAttribute("row-pivots"));if(this._row_pivots.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._row_pivots.getAttribute("name"),this._row_pivots.appendChild(e)}else t.map(function(t){var e=v.call(this,t);this._row_pivots.appendChild(e)}.bind(this));this.dispatchEvent(new Event("config-update")),this._update()}},copy:{value:function(t){t.hasAttribute("index")&&this.setAttribute("index",t.getAttribute("index")),this._inner_drop_target&&(this._inner_drop_target.innerHTML=t._inner_drop_target.innerHTML),t._table?F.call(this,t._table):t.slaves.push(this)}},sort:{set:function(){var t=JSON.parse(this.getAttribute("sort"));if(this._sort.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._sort.getAttribute("name"),this._sort.appendChild(e)}else t.map(function(t){var e=v.call(this,t);this._sort.appendChild(e)}.bind(this));this.dispatchEvent(new Event("config-update")),this._update()}},_clear_state:{value:function(){this._task&&this._task.cancel();var t=[];if(this._view){var e=this._view;this._view=void 0,t.push(e.delete())}if(this._table){var i=this._table;this._table=void 0,t.push(i.delete())}return M.default.all(t)}},delete:{value:function(){var t=this._clear_state();return this._plugin.delete&&this._plugin.delete.call(this),t}},save:{value:function(){for(var t={},e=0;e<this.attributes.length;e++){var i=this.attributes[e];-1===["id"].indexOf(i.name)&&(t[i.name]=i.value)}return t}},restore:{value:function(t){for(var e in t)this.setAttribute(e,t[e])}},reset:{value:function(){this.setAttribute("row-pivots",(0,j.default)([])),this.setAttribute("column-pivots",(0,j.default)([])),this.setAttribute("filters",(0,j.default)([])),this.setAttribute("sort",(0,j.default)([])),this.removeAttribute("index"),this._initial_col_order?this.setAttribute("columns",(0,j.default)(this._initial_col_order||[])):this.removeAttribute("columns"),this.setAttribute("view",(0,R.default)(X)[0]),this.dispatchEvent(new Event("config-update"))}},attachedCallback:{value:function(){var t=this,e=V.default.debounce(y.bind(this),10);for(var i in this._update=function(){t.setAttribute("updating",!0),e()},this.slaves=[],this._aggregate_selector=this.querySelector("#aggregate_selector"),this._vis_selector=this.querySelector("#vis_selector"),this._filters=this.querySelector("#filters"),this._row_pivots=this.querySelector("#row_pivots"),this._column_pivots=this.querySelector("#column_pivots"),this._datavis=this.querySelector("#pivot_chart"),this._active_columns=this.querySelector("#active_columns"),this._inactive_columns=this.querySelector("#inactive_columns"),this._inner_drop_target=this.querySelector("#drop_target_inner"),this._drop_target=this.querySelector("#drop_target"),this._config_button=this.querySelector("#config_button"),this._side_panel=this.querySelector("#side_panel"),this._top_panel=this.querySelector("#top_panel"),this._sort=this.querySelector("#sort"),this._sort.addEventListener("drop",u.bind(this)),this._sort.addEventListener("dragend",n.bind(this)),this._row_pivots.addEventListener("drop",u.bind(this)),this._row_pivots.addEventListener("dragend",n.bind(this)),this._column_pivots.addEventListener("drop",u.bind(this)),this._column_pivots.addEventListener("dragend",n.bind(this)),this._filters.addEventListener("drop",u.bind(this)),this._filters.addEventListener("dragend",n.bind(this)),this._active_columns.addEventListener("drop",l.bind(this)),this._active_columns.addEventListener("dragend",o.bind(this)),this._active_columns.addEventListener("dragover",s.bind(this)),this._active_columns.addEventListener("dragleave",a.bind(this)),this.setAttribute("settings",!0),this._show_config=!0,this._config_button.addEventListener("mousedown",this._toggle_config.bind(this)),this.hasAttribute("row-pivots")||this.setAttribute("row-pivots","[]"),this.hasAttribute("column-pivots")||this.setAttribute("column-pivots","[]"),this.hasAttribute("filters")||this.setAttribute("filters","[]"),this._vis_selector.addEventListener("change",function(e){t.setAttribute("view",t._vis_selector.value),t._update()}),this.addEventListener("close",function(){console.info("Closing")}),0===(0,R.default)(X).length&&(X.debug={name:"Debug",create:function(){function e(t){return i.apply(this,arguments)}var i=(0,I.default)(A.default.mark(function e(i){var n,r,o,a,s,l,u,c,h;return A.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._view.to_json();case 2:if(n=e.sent,r=performance.now(),o="",!(n.length>0)){e.next=23;break}a=(0,R.default)(n[0]),o+=a.join("|")+"\n",s=n,l=Array.isArray(s),u=0,s=l?s:(0,z.default)(s);case 9:if(!l){e.next=15;break}if(!(u>=s.length)){e.next=12;break}return e.abrupt("break",23);case 12:c=s[u++],e.next=19;break;case 15:if(u=s.next(),!u.done){e.next=18;break}return e.abrupt("break",23);case 18:c=u.value;case 19:h=c,o+=(0,x.default)(h).join("|")+"\n";case 21:e.next=9;break;case 23:i.innerHTML='<pre style="margin:0;overflow:scroll;position:absolute;width:100%;height:100%">'+o+"</pre>",t.setAttribute("render_time",performance.now()-r);case 25:case"end":return e.stop()}},e,t)}));return e}(),selectMode:"toggle",resize:function(){},delete:function(){}}),X){var r=X[i].name||i;this._vis_selector.innerHTML+='<option value="'+i+'">'+r+"</option>"}if(this._modified=!1,this.getAttribute("data")){var c=this.getAttribute("data");try{c=JSON.parse(c)}catch(t){}f.bind(this)(c),this._modified=!0}this._toggle_config()}}})}).call(e,i(43))},function(t,e,i){t.exports={default:i(70),__esModule:!0}},function(t,e,i){i(71),t.exports=i(0).Object.values},function(t,e,i){var n=i(3),r=i(72)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){var n=i(15),r=i(10),o=i(20).f;t.exports=function(t){return function(e){for(var i,a=r(e),s=n(a),l=s.length,u=0,c=[];l>u;)o.call(a,i=s[u++])&&c.push(t?[i,a[i]]:a[i]);return c}}},function(t,e,i){var n=i(16);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(10),r=i(28),o=i(75);t.exports=function(t){return function(e,i,a){var s,l=n(e),u=r(l.length),c=o(a,u);if(t&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(29),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(46),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){i(79);var n=i(0).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){var n=i(3);n(n.S+n.F*!i(6),"Object",{defineProperty:i(4).f})},function(t,e,i){t.exports=i(81)},function(t,e,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=i(82),r)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new d(n||[]);return a._invoke=u(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,r,o,a){var s=n(t[i],t,r);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},a)}a(s.arg)}function i(t,i){function n(){return new Promise(function(n,r){e(t,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function u(t,e,i){var r=k;return function(o,a){if(r===T)throw new Error("Generator is already running");if(r===M){if("throw"===o)throw a;return g()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=c(s,i);if(l){if(l===E)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===k)throw r=M,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=T;var u=n(t,e,i);if("normal"===u.type){if(r=i.done?M:A,u.arg===E)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=M,i.method="throw",i.arg=u.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,E;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,E):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function f(t){if(t){var e=t[x];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(y.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=m,e.done=!0,e};return n.next=n}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},x=b.iterator||"@@iterator",_=b.asyncIterator||"@@asyncIterator",w=b.toStringTag||"@@toStringTag",C="object"==typeof t,S=e.regeneratorRuntime;if(S)C&&(t.exports=S);else{S=e.regeneratorRuntime=C?t.exports:{},S.wrap=i;var k="suspendedStart",A="suspendedYield",T="executing",M="completed",E={},P={};P[x]=function(){return this};var O=Object.getPrototypeOf,I=O&&O(O(f([])));I&&I!==v&&y.call(I,x)&&(P=I);var L=a.prototype=r.prototype=Object.create(P);o.prototype=L.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(L),t},S.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[_]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,n,r){var o=new l(i(t,e,n,r));return S.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(L),L[w]="Generator",L[x]=function(){return this},L.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=f,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=y.call(r,"catchLoc"),s=y.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,E):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),p(i),E}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;p(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:f(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=m),E}}}}(function(){return this}()||Function("return this")())},function(t,e,i){i(47),i(17),i(24),i(89),i(96),i(97),t.exports=i(0).Promise},function(t,e,i){var n=i(29),r=i(27);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,i){"use strict";var n=i(34),r=i(14),o=i(22),a={};i(7)(a,i(1)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){"use strict";var n=i(87),r=i(88),o=i(11),a=i(10);t.exports=i(48)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";var n,r,o,a,s=i(21),l=i(2),u=i(12),c=i(35),h=i(3),p=i(8),d=i(18),f=i(90),g=i(91),m=i(55),v=i(56).set,y=i(93)(),b=i(37),x=i(57),_=i(58),w=l.TypeError,C=l.process,S=l.Promise,k="process"==c(C),A=function(){},T=r=b.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[i(1)("species")]=function(t){t(A,A)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),E=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,r=1==t._s,o=0;i.length>o;)!function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&L(t),t._h=1),!0===s?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?u(w("Promise-chain cycle")):(o=E(i))?o.call(i,l,u):l(i)):u(n)}catch(t){c&&!a&&c.exit(),u(t)}}(i[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(l,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=x(function(){k?C.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=k||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,function(){var e;k?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},D=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw w("Promise can't be resolved itself");(e=E(t))?y(function(){var n={_w:i,_d:!1};try{e.call(t,u(D,n,1),u(R,n,1))}catch(t){R.call(n,t)}}):(i._v=t,i._s=1,P(i,!1))}catch(t){R.call({_w:i,_d:!1},t)}}};M||(S=function(t){f(this,S,"Promise","_h"),d(t),n.call(this);try{t(u(D,this,1),u(R,this,1))}catch(t){R.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(94)(S.prototype,{then:function(t,e){var i=T(m(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=k?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&P(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=u(D,t,1),this.reject=u(R,t,1)},b.f=T=function(t){return t===S||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!M,{Promise:S}),i(22)(S,"Promise"),i(95)("Promise"),a=i(0).Promise,h(h.S+h.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!M),"Promise",{resolve:function(t){return _(s&&this===a?S:this,t)}}),h(h.S+h.F*!(M&&i(59)(function(t){S.all(t).catch(A)})),"Promise",{all:function(t){var e=this,i=T(e),n=i.resolve,r=i.reject,o=x(function(){var i=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=T(e),n=i.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(12),r=i(53),o=i(54),a=i(5),s=i(28),l=i(36),u={},c={};e=t.exports=function(t,e,i,h,p){var d,f,g,m,v=p?function(){return t}:l(t),y=n(i,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((m=e?y(a(f=t[b])[0],f[1]):y(t[b]))===u||m===c)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=r(g,y,f.value,e))===u||m===c)return m};e.BREAK=u,e.RETURN=c},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(2),r=i(56).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(16)(a);t.exports=function(){var t,e,i,u=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(u)}}else i=function(){r.call(n,u)};else{var h=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),i=function(){p.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n=i(7);t.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},function(t,e,i){"use strict";var n=i(2),r=i(0),o=i(4),a=i(6),s=i(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){"use strict";var n=i(3),r=i(0),o=i(2),a=i(55),s=i(58);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){"use strict";var n=i(3),r=i(37),o=i(57);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(99),o=n(r),a=i(60),s=n(a);e.default=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var a,l=(0,s.default)(t);!(n=(a=l.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,i){t.exports={default:i(100),__esModule:!0}},function(t,e,i){i(24),i(17),t.exports=i(101)},function(t,e,i){var n=i(35),r=i(1)("iterator"),o=i(11);t.exports=i(0).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},function(t,e,i){i(24),i(17),t.exports=i(103)},function(t,e,i){var n=i(5),r=i(36);t.exports=i(0).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(33),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){return function(){var e=t.apply(this,arguments);return new r.default(function(t,i){function n(o,a){try{var s=e[o](a),l=s.value}catch(t){return void i(t)}if(!s.done)return r.default.resolve(l).then(function(t){n("next",t)},function(t){n("throw",t)});t(l)}return n("next")})}}},function(t,e,i){i(106),t.exports=i(0).Object.keys},function(t,e,i){var n=i(23),r=i(15);i(62)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(0),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){!function(t,i){i(e)}(0,function(t){"use strict";function e(){var t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,touchEvents:"ontouchstart"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&t.touchEvents),A&&Object.keys(t).forEach(function(t){}),t}function i(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function n(t){if(t&&Object.keys(t).forEach(function(e){T[e]=t[e]}),!T.forceApply){var n=e();if(n.userAgentSupportingNativeDnD&&n.draggable&&n.dragEvents)return!1}return S=i(),T.holdToDrag?s("touchstart",w,!1):s("touchstart",r,!1),!0}function r(t){if(!k){var e=o(t);if(e)try{k=new D(t,T,e,a)}catch(e){throw a(T,t,3),e}}}function o(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}function a(t,e,i){if(0===i&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}k=null}function s(t,e,i){void 0===i&&(i=!0),document.addEventListener(t,e,!!S&&{passive:i})}function l(t,e){document.removeEventListener(t,e)}function u(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function c(t){return t&&t.tagName}function h(t,e){for(var i=0;i<t.changedTouches.length;i++)if(t.changedTouches[i].identifier===e)return!0;return!1}function p(t,e,i,n,r,o,a){void 0===a&&(a=null);var s=e.changedTouches[0],l=new Event(i,{bubbles:!0,cancelable:n});l.dataTransfer=o,l.relatedTarget=a,l.screenX=s.screenX,l.screenY=s.screenY,l.clientX=s.clientX,l.clientY=s.clientY,l.pageX=s.pageX,l.pageY=s.pageY;var u=t.getBoundingClientRect();return l.offsetX=l.clientX-u.left,l.offsetY=l.clientY-u.top,l}function d(t,e,i){for(var n=[],r=[],o=0;o<e.touches.length;o++){var a=e.touches[o];n.push(a[t+"X"]),r.push(a[t+"Y"])}i.x=u(n),i.y=u(r)}function f(t,e){if(1===t.nodeType){for(var i=getComputedStyle(t),n=0;n<i.length;n++){var r=i[n];e.style.setProperty(r,i.getPropertyValue(r),i.getPropertyPriority(r))}e.style.pointerEvents="none",e.removeAttribute("id"),e.removeAttribute("class"),e.removeAttribute("draggable")}if(t.hasChildNodes())for(n=0;n<t.childNodes.length;n++)f(t.childNodes[n],e.childNodes[n])}function g(t){var e=t.cloneNode(!0);return f(t,e),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.zIndex="999999",e.classList.add(I),e.classList.add(R),e}function m(t){return P.map(function(e){var i=t.style[e+"transform"];return i&&"none"!==i?i.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})}function v(t,e,i,n,r){void 0===r&&(r=!0);var o=e.x,a=e.y;n&&(o+=n.x,a+=n.y),r&&(o-=parseInt(t.offsetWidth,10)/2,a-=parseInt(t.offsetHeight,10)/2);for(var s="translate3d("+o+"px,"+a+"px, 0)",l=0;l<P.length;l++){var u=P[l]+"transform";t.style[u]=s+" "+i[l]}}function y(t,e,i,n){var r=getComputedStyle(t);if("hidden"!==r.visibility&&"none"!==r.display){e.classList.add(L);var o=getComputedStyle(e),a=parseFloat(o.transitionDuration);if(isNaN(a)||0===a)n();else{var s=t.getBoundingClientRect(),l={x:s.left,y:s.top};l.x+=document.body.scrollLeft||document.documentElement.scrollLeft,l.y+=document.body.scrollTop||document.documentElement.scrollTop,l.x-=parseInt(r.marginLeft,10),l.y-=parseInt(r.marginTop,10);var u=parseFloat(o.transitionDelay),c=Math.round(1e3*(a+u));v(e,l,i,void 0,!1),setTimeout(n,c)}}else n()}function b(t,e){return t?t===M[0]?E[0]:0===t.indexOf(M[1])||t===M[7]?E[1]:0===t.indexOf(M[4])?E[3]:t===M[6]?E[2]:E[1]:3===e.nodeType&&"A"===e.tagName?E[3]:E[1]}function x(t,e,i,n,r,o,a){if(void 0===o&&(o=!0),void 0===a&&(a=null),A){var s=O+"debug",l=O+"event-target",u=O+"event-related-target";e.classList.add(s),e.classList.add(l),a&&(a.classList.add(s),a.classList.add(u))}var c=p(e,i,t,o,document.defaultView,r,a),h=!e.dispatchEvent(c);return n.g=0,A&&(e.classList.remove(l),a&&a.classList.remove(u)),h}function _(t,e){if(!t||t===M[7])return e;if(e===E[1]){if(0===t.indexOf(E[1]))return E[1]}else if(e===E[3]){if(0===t.indexOf(E[3])||t.indexOf("Link")>-1)return E[3]}else if(e===E[2]&&(0===t.indexOf(E[2])||t.indexOf("Move")>-1))return E[2];return E[0]}function w(t){var e=t.target,i=function(){a.off(),s.off(),l.off(),r(t)},n=function(){a.off(),s.off(),l.off(),clearTimeout(o)},o=setTimeout(i,T.holdToDrag),a=C(e,"touchend",n,this),s=C(e,"touchcancel",n,this),l=C(window,"scroll",n,this)}function C(t,e,i,n){return n&&(i=i.bind(n)),t.addEventListener(e,i),{off:function(){return t.removeEventListener(e,i)}}}var S,k,A=!1,T={iterationInterval:150},M=["none","copy","copyLink","copyMove","link","linkMove","move","all"],E=["none","copy","move","link"],P=["","-webkit-"],O="dnd-poly-",I=O+"drag-image",L=O+"snapback",R=O+"icon",D=function(){function t(t,e,i,n){this.h=t,this.i=e,this.j=i,this.k=n,this.l=0,this.m=null,this.o=null,this.p=t,this.q=t.changedTouches[0],this.s=this.t.bind(this),this.u=this.v.bind(this),s("touchmove",this.s,!1),s("touchend",this.u,!1),s("touchcancel",this.u,!1)}return t.prototype.A=function(){var t=this;this.l=1,this.B=E[0],this.C={D:{},F:void 0,g:3,G:[]},this.H={x:null,y:null},this.I={x:null,y:null};var e=this.j;if(this.J=new z(this.C,function(i,n,r){e=i,"number"!=typeof n&&"number"!=typeof r||(t.K={x:n||0,y:r||0})}),this.C.g=2,this.J.dropEffect=E[0],x("dragstart",this.j,this.p,this.C,this.J))return this.l=3,this.L(),!1;if(d("page",this.p,this.I),this.M=g(e),this.N=m(this.M),!this.K)if(this.i.dragImageOffset)this.K={x:this.i.dragImageOffset.x,y:this.i.dragImageOffset.y};else if(this.i.dragImageCenterOnTouch){var i=getComputedStyle(e);this.K={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var n=e.getBoundingClientRect();i=getComputedStyle(e);this.K={x:n.left-this.q.clientX-parseInt(i.marginLeft,10)+n.width/2,y:n.top-this.q.clientY-parseInt(i.marginTop,10)+n.height/2}}return v(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch),document.body.appendChild(this.M),this.O=setInterval(function(){t.P||(t.P=!0,t.R(),t.P=!1)},this.i.iterationInterval),!0},t.prototype.L=function(){this.O&&(clearInterval(this.O),this.O=null),l("touchmove",this.s),l("touchend",this.u),l("touchcancel",this.u),this.M&&(this.M.parentNode.removeChild(this.M),this.M=null),this.k(this.i,this.p,this.l)},t.prototype.t=function(t){var e=this;if(!1!==h(t,this.q.identifier)){if(this.p=t,0===this.l){var i=void 0;if(this.i.dragStartConditionOverride)try{i=this.i.dragStartConditionOverride(t)}catch(t){i=!1}else i=1===t.touches.length;return i?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.L()}if(t.preventDefault(),d("client",t,this.H),d("page",t,this.I),this.i.dragImageTranslateOverride)try{var n=!1;if(this.i.dragImageTranslateOverride(t,{x:this.H.x,y:this.H.y},this.m,function(t,i){e.M&&(n=!0,e.H.x+=t,e.H.y+=i,e.I.x+=t,e.I.y+=i,v(e.M,e.I,e.N,e.K,e.i.dragImageCenterOnTouch))}),n)return}catch(t){}v(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch)}},t.prototype.v=function(t){if(!1!==h(t,this.q.identifier)){if(this.i.dragImageTranslateOverride)try{this.i.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}if(0===this.l)return void this.L();t.preventDefault(),this.l="touchcancel"===t.type?3:2}},t.prototype.R=function(){var t=this;if(A)var e=O+"debug",i=O+"immediate-user-selection",n=O+"current-drop-target";var r=this.B;this.C.g=3,this.J.dropEffect=E[0];var o=x("drag",this.j,this.p,this.C,this.J);if(o&&(this.B=E[0]),o||2===this.l||3===this.l)return this.S(this.l)?void y(this.j,this.M,this.N,function(){t.T()}):void this.T();var a=document.elementFromPoint(this.H.x,this.H.y),s=this.o;a!==this.m&&a!==this.o&&(A&&(this.m&&this.m.classList.remove(i),a&&(a.classList.add(e),a.classList.add(i))),this.m=a,null!==this.o&&(this.C.g=3,this.J.dropEffect=E[0],x("dragexit",this.o,this.p,this.C,this.J,!1)),null===this.m?this.o=this.m:(this.C.g=3,this.J.dropEffect=b(this.C.F,this.j),x("dragenter",this.m,this.p,this.C,this.J)?(this.o=this.m,this.B=_(this.J.effectAllowed,this.J.dropEffect)):this.m!==document.body&&(this.o=document.body))),s!==this.o&&c(s)&&(A&&s.classList.remove(n),this.C.g=3,this.J.dropEffect=E[0],x("dragleave",s,this.p,this.C,this.J,!1,this.o)),c(this.o)&&(A&&(this.o.classList.add(e),this.o.classList.add(n)),this.C.g=3,this.J.dropEffect=b(this.C.F,this.j),!1===x("dragover",this.o,this.p,this.C,this.J)?this.B=E[0]:this.B=_(this.J.effectAllowed,this.J.dropEffect)),r!==this.B&&this.M.classList.remove(O+r);var l=O+this.B;!1===this.M.classList.contains(l)&&this.M.classList.add(l)},t.prototype.S=function(t){if(A){var e=O+"immediate-user-selection",i=O+"current-drop-target";this.o&&this.o.classList.remove(i),this.m&&this.m.classList.remove(e)}var n=this.B===E[0]||null===this.o||3===t;return n?c(this.o)&&(this.C.g=3,this.J.dropEffect=E[0],x("dragleave",this.o,this.p,this.C,this.J,!1)):c(this.o)&&(this.C.g=1,this.J.dropEffect=this.B,!0===x("drop",this.o,this.p,this.C,this.J)?this.B=this.J.dropEffect:this.B=E[0]),n},t.prototype.T=function(){this.C.g=3,this.J.dropEffect=this.B,x("dragend",this.j,this.p,this.C,this.J,!1),this.l=2,this.L()},t}(),z=function(){function t(t,e){this.U=t,this.V=e,this.W=E[0]}return Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.U.g)return Object.freeze(this.U.G)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.U.g){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.U.D[t]=e,-1===this.U.G.indexOf(t)&&this.U.G.push(t)}},t.prototype.getData=function(t){if(1===this.U.g||2===this.U.g)return this.U.D[t]||""},t.prototype.clearData=function(t){if(2===this.U.g){if(t&&this.U.D[t]){delete this.U.D[t];var e=this.U.G.indexOf(t);return void(e>-1&&this.U.G.splice(e,1))}this.U.D={},this.U.G=[]}},t.prototype.setDragImage=function(t,e,i){2===this.U.g&&this.V(t,e,i)},Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.U.F},set:function(t){2===this.U.g&&M.indexOf(t)>-1&&(this.U.F=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.W},set:function(t){0!==this.U.g&&M.indexOf(t)>-1&&(this.W=t)},enumerable:!0,configurable:!0}),t}();t.polyfill=n,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){!function(){function e(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}function i(t,e,i){for(var n in e){var r=e[n],o=t.input.getAttribute("data-"+n.toLowerCase());"number"==typeof r?t[n]=parseInt(o):!1===r?t[n]=null!==o:r instanceof Function?t[n]=null:t[n]=o,t[n]||0===t[n]||(t[n]=n in i?i[n]:r)}}function n(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function r(t,e){return s.call((e||document).querySelectorAll(t))}function o(){r("input.awesomplete").forEach(function(t){new a(t)})}var a=function(t,e){var r=this;this.isOpened=!1,this.input=n(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),e=e||{},i(this,{minChars:2,maxItems:10,autoFirst:!1,data:a.DATA,filter:a.FILTER_CONTAINS,sort:!1!==e.sort&&a.SORT_BYLENGTH,item:a.ITEM,replace:a.REPLACE},e),this.index=-1,this.container=n.create("div",{className:"awesomplete",around:t}),this.ul=n.create("ul",{hidden:"hidden",inside:this.container}),this.status=n.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}},n.bind(this.input,this._events.input),n.bind(this.input.form,this._events.form),n.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],a.all.push(this)};a.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=n(t))&&t.children){var e=[];s.apply(t.children).forEach(function(t){if(!t.disabled){var i=t.textContent.trim(),n=t.value||i,r=t.label||i;""!==n&&e.push({label:r,value:n})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,n.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),n.fire(this.input,"awesomplete-open")},destroy:function(){n.unbind(this.input,this._events.input),n.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var e=a.all.indexOf(this);-1!==e&&a.all.splice(e,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,n.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=n.siblingIndex(t):t=this.ul.children[this.index],t){var i=this.suggestions[this.index];n.fire(this.input,"awesomplete-select",{text:i,origin:e||t})&&(this.replace(i),this.close({reason:"select"}),n.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var t=this,i=this.input.value;i.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(n){return new e(t.data(n,i))}).filter(function(e){return t.filter(e,i)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,i))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},a.all=[],a.FILTER_CONTAINS=function(t,e){return RegExp(n.regExpEscape(e.trim()),"i").test(t)},a.FILTER_STARTSWITH=function(t,e){return RegExp("^"+n.regExpEscape(e.trim()),"i").test(t)},a.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},a.ITEM=function(t,e){return n.create("li",{innerHTML:""===e.trim()?t:t.replace(RegExp(n.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>"),"aria-selected":"false"})},a.REPLACE=function(t){this.input.value=t.value},a.DATA=function(t){return t},Object.defineProperty(e.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),e.prototype.toString=e.prototype.valueOf=function(){return""+this.label};var s=Array.prototype.slice;n.create=function(t,e){var i=document.createElement(t);for(var r in e){var o=e[r];if("inside"===r)n(o).appendChild(i);else if("around"===r){var a=n(o);a.parentNode.insertBefore(i,a),i.appendChild(a)}else r in i?i[r]=o:i.setAttribute(r,o)}return i},n.bind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.addEventListener(e,n)})}},n.unbind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.removeEventListener(e,n)})}},n.fire=function(t,e,i){var n=document.createEvent("HTMLEvents");for(var r in n.initEvent(e,!0,!0),i)n[r]=i[r];return t.dispatchEvent(n)},n.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},n.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),a.$=n,a.$$=r,"undefined"!=typeof self&&(self.Awesomplete=a),"object"==typeof t&&t.exports&&(t.exports=a)}()},function(t,e,i){var n=i(111);"string"==typeof n&&(n=[[t.i,n,""]]);var r={transform:void 0};i(39)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(38)(!1),e.push([t.i,'.awesomplete [hidden] {\n    display: none;\n}\n\n.awesomplete .visually-hidden {\n    position: absolute;\n    clip: rect(0, 0, 0, 0);\n}\n\n.awesomplete {\n    display: inline-block;\n    position: relative;\n}\n\n.awesomplete > input {\n    display: block;\n}\n\n.awesomplete > ul {\n    position: absolute;\n    left: 0;\n    z-index: 1;\n    min-width: 100%;\n    box-sizing: border-box;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    background: #fff;\n}\n\n.awesomplete > ul:empty {\n    display: none;\n}\n\n.awesomplete > ul {\n\tborder-radius: .3em;\n\tmargin: .2em 0 0;\n\tbackground: hsla(0,0%,100%,.9);\n\tbackground: linear-gradient(to bottom right, white, hsla(0,0%,100%,.8));\n\tborder: 1px solid rgba(0,0,0,.3);\n\tbox-shadow: .05em .2em .6em rgba(0,0,0,.2);\n\ttext-shadow: none;\n}\n\n@supports (transform: scale(0)) {\n\t.awesomplete > ul {\n\t\ttransition: .3s cubic-bezier(.4,.2,.5,1.4);\n\t\ttransform-origin: 1.43em -.43em;\n\t}\n\t\n\t.awesomplete > ul[hidden],\n\t.awesomplete > ul:empty {\n\t\topacity: 0;\n\t\ttransform: scale(0);\n\t\tdisplay: block;\n\t\ttransition-timing-function: ease;\n\t}\n}\n\n\t/* Pointer */\n\t.awesomplete > ul:before {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t\ttop: -.43em;\n\t\tleft: 1em;\n\t\twidth: 0; height: 0;\n\t\tpadding: .4em;\n\t\tbackground: white;\n\t\tborder: inherit;\n\t\tborder-right: 0;\n\t\tborder-bottom: 0;\n\t\t-webkit-transform: rotate(45deg);\n\t\ttransform: rotate(45deg);\n\t}\n\n\t.awesomplete > ul > li {\n\t\tposition: relative;\n\t\tpadding: .2em .5em;\n\t\tcursor: pointer;\n\t}\n\t\n\t.awesomplete > ul > li:hover {\n\t\tbackground: hsl(200, 40%, 80%);\n\t\tcolor: black;\n\t}\n\t\n\t.awesomplete > ul > li[aria-selected="true"] {\n\t\tbackground: hsl(205, 40%, 40%);\n\t\tcolor: white;\n\t}\n\t\n\t\t.awesomplete mark {\n\t\t\tbackground: hsl(65, 100%, 50%);\n\t\t}\n\t\t\n\t\t.awesomplete li:hover mark {\n\t\t\tbackground: hsl(68, 100%, 41%);\n\t\t}\n\t\t\n\t\t.awesomplete li[aria-selected="true"] mark {\n\t\t\tbackground: hsl(86, 100%, 21%);\n\t\t\tcolor: inherit;\n\t\t}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,i){"use strict";function n(t,e){return function(){var i=this,n=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);this._worker.handlers[++this._worker.msg_id]={resolve:n,reject:function(){},keep_alive:!0};var o={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:r,subscribe:!0};this._worker.initialized.value?this._worker.postMessage(o):this._worker.messages.push(function(){return i._worker.postMessage(o)})}}function r(t,e){return function(){var i=Array.prototype.slice.call(arguments,0,arguments.length);return new h.default(function(n,r){var o=this;this._worker.handlers[++this._worker.msg_id]={resolve:n,reject:r};var a={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!1};this._worker.initialized.value?this._worker.postMessage(a):this._worker.messages.push(function(){return o._worker.postMessage(a)})}.bind(this))}}function o(t,e,i){var n=this;this._worker=e,this._config=i,this._name=Math.random()+"";var r={cmd:"view",view_name:this._name,table_name:t,config:i};this._worker.initialized.value?this._worker.postMessage(r):this._worker.messages.push(function(){return n._worker.postMessage(r)})}function a(t,e){this._name=e,this._worker=t}function s(t,e,i){var n=new XMLHttpRequest;n.addEventListener("load",function(){var t=new Blob([this.responseText]),n=window.URL.createObjectURL(t),r=new Worker(n);e&&e.call(i,r)},n),n.open("get",t,!0),n.send()}function l(){this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},window.location.href.indexOf(f.host())>-1?this._start_same_origin():this._start_cross_origin()}function u(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}Object.defineProperty(e,"__esModule",{value:!0});var c=i(33),h=function(t){return t&&t.__esModule?t:{default:t}}(c),p=i(40),d=i(116),f=new p.ScriptPath;(0,p.detectIE)()&&-1===window.location.href.indexOf(f.host())&&(console.warn("Perspective does not support parallel mode in IE when loading cross-origin.  Falling back to single-process mode ..."),function(t,e){e=t.createElement("script"),e.type="text/javascript",e.async=!0,e.src=f.path()+"asmjs/perspective.js",t.getElementsByTagName("head")[0].appendChild(e)}(document)),o.prototype.to_json=r("to_json"),o.prototype.schema=r("schema"),o.prototype.num_columns=r("num_columns"),o.prototype.num_rows=r("num_rows"),o.prototype.delete=r("delete"),o.prototype.on_update=n("on_update","view_method"),o.prototype.on_delete=n("on_delete","view_method"),a.prototype.add_computed=function(t){for(var e=this,i=Math.random()+"",n=this._name,r=0;r<t.length;++r){var o=t[r],s=o.func;"function"==typeof s&&(o.func=s.toString())}var l={cmd:"add_computed",original:n,name:i,computed:t};return this._worker.initialized.value?this._worker.postMessage(l):this._worker.messages.push(function(){return e._worker.postMessage(l)}),new a(this._worker,i)},a.prototype.view=function(t){return new o(this._name,this._worker,t)},a.prototype.schema=r("schema","table_method"),a.prototype.size=r("size","table_method"),a.prototype.columns=r("columns","table_method"),a.prototype.delete=r("delete","table_method"),a.prototype.on_delete=n("on_delete","table_method"),a.prototype.update=function(t){var e=this;return new h.default(function(i,n){e._worker.handlers[++e._worker.msg_id]={resolve:i,reject:n};var r={id:e._worker.msg_id,name:e._name,cmd:"table_method",method:"update",args:[t]},o=function(){e._worker.transferable&&t instanceof ArrayBuffer?e._worker.postMessage(r,[t]):e._worker.postMessage(r)};e._worker.initialized.value?o():e._worker.messages.push(o)})},a.prototype.execute=function(t){var e=this,i={cmd:"table_execute",name:this._name,f:t.toString()};this._worker.initialized.value?this._worker.postMessage(i):this._worker.messages.push(function(){return e._worker.postMessage(i)})},l.prototype._detect_transferable=function(){var t=new ArrayBuffer(1);this._worker.postMessage(t,[t]),this._worker.transferable=0===t.byteLength,this._worker.transferable||console.warn("Transferables are not supported in your browser!")},l.prototype._start_cross_origin=function(){var t="undefined"==typeof WebAssembly?"asmjs":"wasm_async";s(f.path()+t+"/perspective.js",function(t){for(var e in this._worker)t[e]=this._worker[e];this._worker.postMessage=t.postMessage.bind(t),this._worker.terminate=t.terminate.bind(t),this._worker=t,this._detect_transferable(),this._worker.addEventListener("message",this._handle.bind(this)),"undefined"==typeof WebAssembly?this._start_cross_origin_asmjs():this._start_cross_origin_wasm()},this)},l.prototype._start_cross_origin_asmjs=function(){this._worker.postMessage({cmd:"init",path:f.path()})},l.prototype._start_cross_origin_wasm=function(){var t=this,e=new XMLHttpRequest;e.open("GET",f.path()+"wasm_async/psp.wasm",!0),e.responseType="arraybuffer",e.onload=function(){var i={cmd:"init",data:e.response,path:f.path()};t._worker.transferable?t._worker.postMessage(i,[e.response]):t._worker.postMessage(i)},e.send(null)},l.prototype._start_same_origin=function(){var t="undefined"==typeof WebAssembly||u()?"asmjs":"wasm_async",e=new Worker(f.path()+t+"/perspective.js");for(var i in this._worker)e[i]=this._worker[i];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage({cmd:"init",path:f.path()}),this._detect_transferable()};var g=!1;l.prototype._handle=function(t){if(!this._worker.initialized.value){if(!g){var e=document.createEvent("Event");e.initEvent("perspective-ready",!1,!0),window.dispatchEvent(e),g=!0}for(var i in this._worker.messages)this._worker.messages.hasOwnProperty(i)&&this._worker.messages[i]();this._worker.initialized.value=!0,this._worker.messages=[]}if(t.data.id){var n=this._worker.handlers[t.data.id];n&&(t.data.error?n.reject(t.data.error):n.resolve(t.data.data),n.keep_alive||delete this._worker.handlers[t.data.id])}},l.prototype.table=function(t,e){var i=this;name=Math.random()+"";var n={cmd:"table",name:name,data:t,options:e||{}},r=function(){i._worker.transferable&&t instanceof ArrayBuffer?i._worker.postMessage(n,[t]):i._worker.postMessage(n)};return this._worker.initialized.value?r():this._worker.messages.push(r),new a(this._worker,name)},l.prototype.terminate=function(){this._worker.terminate(),this._worker=void 0},e.default={worker:function(){return-1===window.location.href.indexOf(f.host())&&(0,p.detectIE)()?perspective:new l},TYPE_AGGREGATES:d.TYPE_AGGREGATES,TYPE_FILTERS:d.TYPE_FILTERS,AGGREGATE_DEFAULTS:d.AGGREGATE_DEFAULTS,FILTER_DEFAULTS:d.FILTER_DEFAULTS}},function(t,e,i){i(115);var n=i(0).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(3);n(n.S,"Object",{create:i(34)})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=["any","avg","count","distinct count","dominant","first","last","high","low","mean","mean by count","median","pct sum parent","pct sum grand total","sum","sum abs","sum not null","unique"],r=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique"],o=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique","and","or"],a=(e.TYPE_AGGREGATES={string:r,float:n,integer:n,boolean:o,date:r},e.AGGREGATE_DEFAULTS={string:"distinct count",float:"sum",integer:"sum",boolean:"distinct count",date:"distinct count"},["&","|","==","!=","or","and"]),s=["<",">","==","<=",">=","!=","is nan","is not nan"],l=["==","contains","!=","in","begins with","ends with"],u=["<",">","==","<=",">=","!="];e.TYPE_FILTERS={string:l,float:s,integer:s,boolean:a,date:u},e.FILTER_DEFAULTS={string:"==",float:"==",integer:"==",boolean:"==",date:"=="}},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-viewer">\r\n\r\n    <div id="app">\r\n        <div id=\'side_panel\' class="column fixed noselect">\r\n            <div id="vis_selector_container">\r\n                <div style="width:25px;margin-left:5px"></div>\r\n                <select id="vis_selector">\r\n                </select>\r\n            </div>\r\n            <ul id=\'active_columns\' ondragenter="dragEnter(event)"></ul>\r\n            <div id=\'divider\'></div>\r\n            <ul id=\'inactive_columns\'></ul>\r\n        </div>\r\n        <div class="column noselect">\r\n            <div id=\'top_panel\'>\r\n                <div class="rrow">\r\n                    <ul id="row_pivots" name="Row Pivots" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="row_pivots">Group by</label>\r\n                    </ul>\r\n                </div>\r\n                <span class="rrow centered" style="min-width:5px;max-width:5px;flex-grow:0;color:#999;font-family:Arial;font-size:12px">&#x2715;</span>\r\n                <div class="rrow">\r\n                    <ul id="column_pivots" name="Column Pivots" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="column_pivots">Split by</label>\r\n                    </ul>\r\n                </div>\r\n                <div class="rrow">\r\n                    <ul id="sort" name="Sort" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="sort">Sort</label>\r\n                    </ul>\r\n                </div>\r\n                <div class="rrow" style=\'flex-grow:3;height:auto;flex:1 1 400px;max-width:none\'>\r\n                    <div id="filters" name="Filter" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="sort">Filter</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div id="pivot_chart"></div>\r\n        </div>\r\n\r\n        <div id="config_button" class="noselect"></div>\r\n\r\n        <div id=\'drop_target\' ondragover="allowDrop(event)">\r\n            <div id=\'drop_target_inner\'>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n'},function(t,e,i){var n=i(119);"string"==typeof n&&(n=[[t.i,n,""]]);var r={transform:void 0};i(39)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(38)(!1),e.push([t.i,'/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nperspective-viewer:hover #config_button {\n  opacity: 1;\n}\n[settings=true] #config_button {\n  background: none !important;\n  opacity: 1 !important;\n}\n[settings=true] #app {\n  border-top: 1px solid #ccc;\n}\nperspective-viewer {\n  font-family: Arial;\n}\nperspective-viewer * {\n  box-sizing: border-box;\n  line-height: 1.42857143;\n}\nperspective-viewer .noselect {\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n}\nperspective-viewer svg text {\n  font-family: Arial !important;\n}\nperspective-viewer input.error {\n  color: red !important;\n}\nperspective-viewer #app {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\nperspective-viewer #app.hide_message #drop_target {\n  display: none;\n}\nperspective-viewer svg text {\n  font-family: Arial !important;\n}\nperspective-viewer svg .highcharts-axis-title,\nperspective-viewer svg .highcharts-axis-title {\n  font-family: Arial !important;\n}\nperspective-viewer svg .highcharts-legend-box {\n  fill: none;\n}\nperspective-viewer .chart {\n  flex-grow: 1;\n  height: calc(100% - 15px);\n  width: calc(100% - 20px);\n  position: absolute;\n  margin-right: 20px;\n  margin-top: 15px;\n}\nperspective-viewer #pivot_chart {\n  position: relative;\n  display: flex;\n  flex-grow: 1;\n  margin: 0px;\n  background-color: white;\n}\nperspective-viewer .config {\n  display: flex;\n}\nperspective-viewer #row_pivots li,\nperspective-viewer #column_pivots li,\nperspective-viewer #sort li {\n  display: inline;\n}\nperspective-viewer ul {\n  min-height: 20px;\n}\nperspective-viewer #active_columns,\nperspective-viewer #inactive_columns {\n  list-style: none;\n  padding: 5px;\n  width: 100%;\n  border: none !important;\n  margin-top: 8px;\n  overflow-y: auto;\n  position: relative;\n}\nperspective-viewer #inactive_columns {\n  min-height: 33.3%;\n  flex-shrink: 1000;\n}\nperspective-viewer #inactive_columns .active {\n  display: none;\n}\nperspective-viewer #divider {\n  background-color: #CCC;\n  min-height: 2px;\n  height: 2px;\n  margin: 15px 13px 15px 13px;\n  margin-bottom: 5px;\n}\nperspective-viewer .column {\n  display: flex;\n  list-style: none;\n  flex-direction: column;\n  flex: 1;\n}\nperspective-viewer .rrow {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  max-width: 400px;\n  height: 24px;\n  list-style: none;\n  min-width: 140px;\n  margin: 5px 10px 0px 0px;\n}\nperspective-viewer .rrow > * {\n  height: 100%;\n}\nperspective-viewer #top_panel > .rrow > * {\n  width: 100%;\n}\nperspective-viewer .rrow li {\n  white-space: nowrap;\n}\nperspective-viewer #top_panel perspective-row + perspective-row:before {\n  content: ",";\n  padding: 0px 10px 0px 0px;\n}\nperspective-viewer label {\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n}\nperspective-viewer #drop_target {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  background: white;\n  padding: 30px;\n}\nperspective-viewer #drop_target_inner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nperspective-viewer #drop_target_inner h3 {\n  color: #aaa;\n  font-weight: 300;\n}\nperspective-viewer #config_button {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 32px;\n  height: 44px;\n  font-weight: normal;\n  font-family: Arial;\n  font-size: 16px;\n  color: #999;\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: opacity 0.3s;\n}\nperspective-viewer #config_button:before {\n  content: \'\\1F527\';\n}\nperspective-viewer #filters {\n  background-color: white;\n}\nperspective-viewer #filters label {\n  padding-top: 3px;\n}\nperspective-viewer #filters perspective-row {\n  padding-top: 2px;\n}\nperspective-viewer ul label,\nperspective-viewer #filters label {\n  color: #ccc;\n  font-weight: normal;\n  margin-bottom: 0px;\n  margin-left: 0px;\n}\nperspective-viewer ul,\nperspective-viewer #filters {\n  padding: 0px 10px 0px 10px;\n  margin: 0;\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  font-size: 12px;\n}\nperspective-viewer select {\n  height: 24px;\n  padding: 0px 0px 0px 6px;\n  font-size: 12px;\n  border-radius: 0;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n}\nperspective-viewer select:focus {\n  outline: none;\n}\nperspective-viewer input {\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  padding: 0 10px 0 10px;\n}\nperspective-viewer input::placeholder {\n  color: #ccc;\n}\nperspective-viewer rect,\nperspective-viewer svg image {\n  opacity: 0.5;\n}\nperspective-viewer path,\nperspective-viewer circle {\n  opacity: 0.8;\n}\nperspective-viewer option[value=""] {\n  color: white !important;\n}\nperspective-viewer .centered {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nperspective-viewer select:focus {\n  color: #000 !important;\n}\nperspective-viewer #top_panel {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  padding-bottom: 10px;\n  padding-top: 5px;\n  max-width: 1000px;\n}\nperspective-viewer #top_panel ul {\n  padding-top: 3px;\n}\nperspective-viewer #app {\n  background-color: #eee;\n}\nperspective-viewer #top_panel ul {\n  background-color: white;\n}\nperspective-viewer #side_panel > div {\n  display: flex;\n}\nperspective-viewer #vis_selector_container {\n  min-height: 29px;\n}\nperspective-viewer #vis_selector {\n  flex-grow: 1;\n  margin-top: 5px;\n  margin-right: 10px;\n}\nperspective-viewer ::-webkit-scrollbar,\nperspective-viewer ::shadow ::-webkit-scrollbar {\n  width: 12px;\n}\nperspective-viewer ::-webkit-scrollbar-thumb,\nperspective-viewer ::shadow ::-webkit-scrollbar-thumb {\n  background: #ccc;\n}\nperspective-viewer ::-webkit-scrollbar-track,\nperspective-viewer ::shadow ::-webkit-scrollbar-track {\n  background: none;\n}\n',""])},function(t,e,i){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=document.createElement("span");i.style.visibility="hidden",i.style.fontFamily="monospace",i.style.fontSize="12px",i.innerHTML=t,document.body.appendChild(i);var n=Math.max(e,i.offsetWidth)+20+"px";return document.body.removeChild(i),n}var r=i(63),o=e(r),a=i(64),s=e(a),l=i(40),u=i(121),c=e(u),h=i(146),p=e(h);i(147),t.dragEnter=function(t){t.preventDefault(),t.currentTarget.classList.add("dropping")},t.allowDrop=function(t){t.preventDefault(),t.currentTarget.classList.add("dropping"),t.dataTransfer.dropEffect="move"},t.disallowDrop=function(t){t.currentTarget.classList.remove("dropping")},(0,l.registerElement)(p.default,{name:{set:function(){this.querySelector("#name").innerHTML=this.getAttribute("name")}},type:{set:function(){var t=this,e=this.querySelector("#name"),i=this.getAttribute("type");e.classList.add(i);var n=this.querySelector("#column_aggregate"),r=this.querySelector("#filter_operator");switch(i){case"float":case"integer":n.innerHTML=c.default.TYPE_AGGREGATES.float.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join(""),r.innerHTML=c.default.TYPE_FILTERS.float.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");break;case"boolean":n.innerHTML=c.default.TYPE_AGGREGATES.boolean.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join(""),r.innerHTML=c.default.TYPE_FILTERS.boolean.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");break;case"date":n.innerHTML=c.default.TYPE_AGGREGATES.date.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join(""),r.innerHTML=c.default.TYPE_FILTERS.date.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");break;case"string":n.innerHTML=c.default.TYPE_AGGREGATES.string.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join(""),r.innerHTML=c.default.TYPE_FILTERS.string.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("")}this.hasAttribute("aggregate")||this.setAttribute("aggregate",c.default.AGGREGATE_DEFAULTS[i]);var o=this.querySelector("#filter_operand");this._callback=function(e){return t._update_filter(e)},o.addEventListener("keyup",function(e){"in"!==o.value&&t._callback(e)})}},choices:{value:function(t){var e=this.querySelector("#filter_operand"),i=this.querySelector("#filter_operator");new Awesomplete(e,{label:this.getAttribute("name"),list:t,minChars:0,filter:function(t,e){return Awesomplete.FILTER_CONTAINS(t,e.match(/[^,]*$/)[0])},item:function(t,e){return Awesomplete.ITEM(t,e.match(/[^,]*$/)[0])},replace:function(t){var e=this.input.value.match(/^.+,\s*|/)[0];"in"===i.value?this.input.value=e+t+", ":this.input.value=e+t}}),e.addEventListener("awesomplete-selectcomplete",this._callback)}},filter:{set:function(){var t=this.querySelector("#filter_operator"),e=JSON.parse(this.getAttribute("filter"));t.value!==e.operator&&(t.value=e.operator||c.default.FILTER_DEFAULTS[this.getAttribute("type")]),t.style.width=n(t.value);var i=this.querySelector("#filter_operand"),r=e.operand?e.operand.toString():"";this._initialized||(i.value=r),i.style.width=n(r,30)}},aggregate:{set:function(){var t=this.querySelector("#column_aggregate"),e=this.getAttribute("aggregate");t.value!==e&&(t.value=e||c.default.AGGREGATE_DEFAULTS[type])}},_update_filter:{value:function(t){var e=this.querySelector("#filter_operand"),i=this.querySelector("#filter_operator"),n=e.value;switch(this.getAttribute("type")){case"float":n=parseFloat(n);break;case"integer":n=parseInt(n);break;case"boolean":n=n.toLowerCase().indexOf("true")>-1;break;case"date":n=""}"in"===i.value&&(n=n.split(",").map(function(t){return t.trim()})),this.setAttribute("filter",(0,o.default)({operator:i.value,operand:n})),this.dispatchEvent(new CustomEvent("filter-selected",{detail:t}))}},attachedCallback:{value:function(){var t=this,e=this.querySelector(".row_draggable");e.addEventListener("dragstart",function(e){if(t.hasAttribute("filter")){var i=JSON.parse(t.getAttribute("filter")),n=i.operator,r=i.operand;e.dataTransfer.setData("text",(0,o.default)([t.getAttribute("name"),n,r]))}else e.dataTransfer.setData("text",(0,o.default)([t.getAttribute("name"),c.default.FILTER_DEFAULTS[t.getAttribute("type")],void 0]));t.dispatchEvent(new CustomEvent("row-drag"))}),e.addEventListener("dragend",function(e){t.dispatchEvent(new CustomEvent("row-dragend"))}),this.querySelector(".is_visible").addEventListener("mousedown",function(e){return t.dispatchEvent(new CustomEvent("visibility-clicked",{detail:e}))}),this.querySelector("#row_close").addEventListener("mousedown",function(e){return t.dispatchEvent(new CustomEvent("close-clicked",{detail:e}))});var i=this.querySelector("#column_aggregate");i.addEventListener("change",function(e){t.setAttribute("aggregate",i.value),t.dispatchEvent(new CustomEvent("aggregate-selected",{detail:e}))});var r=this.querySelector("#filter_operand"),a=this.querySelector("#filter_operator"),l=s.default.debounce(function(e){return t._update_filter(e)},50);a.addEventListener("change",function(e){a.style.width=n(a.value),t.querySelector("#filter_operand").style.width=n(""+r.value,30),l()})}}})}).call(e,i(43))},function(t,e,i){"use strict";(function(t){function n(t){return t&&t.__esModule?t:{default:t}}var r,o,a,s=i(123),l=n(s),u=i(127),c=n(u),h=i(61),p=n(h),d=i(130),f=n(d),g=i(65),m=n(g),v=i(46),y=n(v),b=i(133),x=n(b);!function(i,n){"object"==(0,x.default)(e)&&"object"==(0,x.default)(t)?t.exports=n():(o=[],r=n,void 0!==(a="function"==typeof r?r.apply(e,o):r)&&(t.exports=a))}("undefined"!=typeof self&&self,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||(0,y.default)(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=36)}([function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){var n=i(27)("wks"),r=i(28),o=i(0).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},function(t,e){var i=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(6);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n=i(11),r=i(24);t.exports=i(7)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(0),r=i(2),o=i(9),a=i(4),s=i(12),l=function t(e,i,l){var u,c,h,p=e&t.F,d=e&t.G,f=e&t.S,g=e&t.P,m=e&t.B,v=e&t.W,y=d?r:r[i]||(r[i]={}),b=y.prototype,x=d?n:f?n[i]:(n[i]||{}).prototype;for(u in d&&(l=i),l)(c=!p&&x&&void 0!==x[u])&&s(y,u)||(h=c?x[u]:l[u],y[u]=d&&"function"!=typeof x[u]?l[u]:m&&c?o(h,n):v&&x[u]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,e&t.R&&b&&!b[u]&&a(b,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){t.exports=function(t){return"object"==(void 0===t?"undefined":(0,x.default)(t))?null!==t:"function"==typeof t}},function(t,e,i){t.exports=!i(23)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports={}},function(t,e,i){var n=i(10);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(3),r=i(42),o=i(43),a=y.default;e.f=i(7)?y.default:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(6),r=i(0).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,i){var n=i(49),r=i(15);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(27)("keys"),r=i(28);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(11).f,r=i(12),o=i(1)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=r(e),this.reject=r(i)}var r=i(10);t.exports.f=function(t){return new n(t)}},function(t,e,i){var n=i(22),r=i(5),o=i(44),a=i(4),s=i(8),l=i(45),u=i(19),c=i(52),h=i(1)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,i,f,g,m,v){l(i,e,f);var y,b,x,_=function(t){if(!p&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},w=e+" Iterator",C="values"==g,S=!1,k=t.prototype,A=k[h]||k["@@iterator"]||g&&k[g],T=A||_(g),M=g?C?_("entries"):T:void 0,E="Array"==e&&k.entries||A;if(E&&(x=c(E.call(new t)))!==Object.prototype&&x.next&&(u(x,w,!0),n||"function"==typeof x[h]||a(x,h,d)),C&&A&&"values"!==A.name&&(S=!0,T=function(){return A.call(this)}),n&&!v||!p&&!S&&k[h]||a(k,h,T),s[e]=T,s[w]=d,g)if(y={values:C?T:_("values"),keys:m?T:_("keys"),entries:M},v)for(b in y)b in k||o(k,b,y[b]);else r(r.P+r.F*(p||S),e,y);return y}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(3),r=i(46),o=i(29),a=i(18)("IE_PROTO"),s=function(){},l=function(){var t,e=i(16)("iframe"),n=o.length;for(e.style.display="none",i(30).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[o[n]];return l()};t.exports=m.default||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(14),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){var n=i(0),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(0).document;t.exports=n&&n.documentElement},function(t,e,i){var n=i(13),r=i(1)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(3),r=i(10),o=i(1)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n,r,o,a=i(9),s=i(64),l=i(30),u=i(16),c=i(0),h=c.process,p=c.setImmediate,d=c.clearImmediate,f=c.MessageChannel,g=c.Dispatch,m=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){y.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},n(m),m},d=function(t){delete v[t]},"process"==i(13)(h)?n=function(t){h.nextTick(a(y,t,1))}:g&&g.now?n=function(t){g.now(a(y,t,1))}:f?(r=new f,o=r.port2,r.port1.onmessage=b,n=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):n="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:p,clear:d}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var n=i(3),r=i(6),o=i(20);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){function n(t,e){return function(){var i=this,n=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);this._worker.handlers[++this._worker.msg_id]={resolve:n,reject:function(){},keep_alive:!0};var o={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:r,subscribe:!0};this._worker.initialized.value?this._worker.postMessage(o):this._worker.messages.push(function(){return i._worker.postMessage(o)})}}function r(t,e){return function(){var i=Array.prototype.slice.call(arguments,0,arguments.length);return new h.default(function(n,r){var o=this;this._worker.handlers[++this._worker.msg_id]={resolve:n,reject:r};var a={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:i,subscribe:!1};this._worker.initialized.value?this._worker.postMessage(a):this._worker.messages.push(function(){return o._worker.postMessage(a)})}.bind(this))}}function o(t,e,i){var n=this;this._worker=e,this._config=i,this._name=Math.random()+"";var r={cmd:"view",view_name:this._name,table_name:t,config:i};this._worker.initialized.value?this._worker.postMessage(r):this._worker.messages.push(function(){return n._worker.postMessage(r)})}function a(t,e){this._name=e,this._worker=t}function s(t,e,i){var n=new XMLHttpRequest;n.addEventListener("load",function(){var t=new Blob([this.responseText]),n=window.URL.createObjectURL(t),r=new Worker(n);e&&e.call(i,r)},n),n.open("get",t,!0),n.send()}function l(){this._worker={initialized:{value:!1},transferable:!1,msg_id:0,handlers:{},messages:[]},window.location.href.indexOf(f.host())>-1?this._start_same_origin():this._start_cross_origin()}function u(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}Object.defineProperty(e,"__esModule",{value:!0});var c=i(37),h=function(t){return t&&t.__esModule?t:{default:t}}(c),p=i(71),d=i(75),f=new p.ScriptPath;(0,p.detectIE)()&&-1===window.location.href.indexOf(f.host())&&(console.warn("Perspective does not support parallel mode in IE when loading cross-origin.  Falling back to single-process mode ..."),function(t,e){e=t.createElement("script"),e.type="text/javascript",e.async=!0,e.src=f.path()+"asmjs/perspective.js",t.getElementsByTagName("head")[0].appendChild(e)}(document)),o.prototype.to_json=r("to_json"),o.prototype.schema=r("schema"),o.prototype.num_columns=r("num_columns"),o.prototype.num_rows=r("num_rows"),o.prototype.delete=r("delete"),o.prototype.on_update=n("on_update","view_method"),o.prototype.on_delete=n("on_delete","view_method"),a.prototype.add_computed=function(t){for(var e=this,i=Math.random()+"",n=this._name,r=0;r<t.length;++r){var o=t[r],s=o.func;"function"==typeof s&&(o.func=s.toString())}var l={cmd:"add_computed",original:n,name:i,computed:t};return this._worker.initialized.value?this._worker.postMessage(l):this._worker.messages.push(function(){return e._worker.postMessage(l)}),new a(this._worker,i)},a.prototype.view=function(t){return new o(this._name,this._worker,t)},a.prototype.schema=r("schema","table_method"),a.prototype.size=r("size","table_method"),a.prototype.columns=r("columns","table_method"),a.prototype.delete=r("delete","table_method"),a.prototype.on_delete=n("on_delete","table_method"),a.prototype.update=function(t){var e=this;return new h.default(function(i,n){e._worker.handlers[++e._worker.msg_id]={resolve:i,reject:n};var r={id:e._worker.msg_id,name:e._name,cmd:"table_method",method:"update",args:[t]},o=function(){e._worker.transferable&&t instanceof ArrayBuffer?e._worker.postMessage(r,[t]):e._worker.postMessage(r)};e._worker.initialized.value?o():e._worker.messages.push(o)})},a.prototype.execute=function(t){var e=this,i={cmd:"table_execute",name:this._name,f:t.toString()};this._worker.initialized.value?this._worker.postMessage(i):this._worker.messages.push(function(){return e._worker.postMessage(i)})},l.prototype._detect_transferable=function(){var t=new ArrayBuffer(1);this._worker.postMessage(t,[t]),this._worker.transferable=0===t.byteLength,this._worker.transferable||console.warn("Transferables are not supported in your browser!")},l.prototype._start_cross_origin=function(){var t="undefined"==typeof WebAssembly?"asmjs":"wasm_async";s(f.path()+t+"/perspective.js",function(t){for(var e in this._worker)t[e]=this._worker[e];this._worker.postMessage=t.postMessage.bind(t),this._worker.terminate=t.terminate.bind(t),this._worker=t,this._detect_transferable(),this._worker.addEventListener("message",this._handle.bind(this)),"undefined"==typeof WebAssembly?this._start_cross_origin_asmjs():this._start_cross_origin_wasm()},this)},l.prototype._start_cross_origin_asmjs=function(){this._worker.postMessage({cmd:"init",path:f.path()})},l.prototype._start_cross_origin_wasm=function(){var t=this,e=new XMLHttpRequest;e.open("GET",f.path()+"wasm_async/psp.wasm",!0),e.responseType="arraybuffer",e.onload=function(){var i={cmd:"init",data:e.response,path:f.path()};t._worker.transferable?t._worker.postMessage(i,[e.response]):t._worker.postMessage(i)},e.send(null)},l.prototype._start_same_origin=function(){var t="undefined"==typeof WebAssembly||u()?"asmjs":"wasm_async",e=new Worker(f.path()+t+"/perspective.js");for(var i in this._worker)e[i]=this._worker[i];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage({cmd:"init",path:f.path()}),this._detect_transferable()};var g=!1;l.prototype._handle=function(t){if(!this._worker.initialized.value){if(!g){var e=document.createEvent("Event");e.initEvent("perspective-ready",!1,!0),window.dispatchEvent(e),g=!0}for(var i in this._worker.messages)this._worker.messages.hasOwnProperty(i)&&this._worker.messages[i]();this._worker.initialized.value=!0,this._worker.messages=[]}if(t.data.id){var n=this._worker.handlers[t.data.id];n&&(t.data.error?n.reject(t.data.error):n.resolve(t.data.data),n.keep_alive||delete this._worker.handlers[t.data.id])}},l.prototype.table=function(t,e){var i=this;name=Math.random()+"";var n={cmd:"table",name:name,data:t,options:e||{}},r=function(){i._worker.transferable&&t instanceof ArrayBuffer?i._worker.postMessage(n,[t]):i._worker.postMessage(n)};return this._worker.initialized.value?r():this._worker.messages.push(r),new a(this._worker,name)},l.prototype.terminate=function(){this._worker.terminate(),this._worker=void 0},e.default={worker:function(){return-1===window.location.href.indexOf(f.host())&&(0,p.detectIE)()?perspective:new l},TYPE_AGGREGATES:d.TYPE_AGGREGATES,TYPE_FILTERS:d.TYPE_FILTERS,AGGREGATE_DEFAULTS:d.AGGREGATE_DEFAULTS,FILTER_DEFAULTS:d.FILTER_DEFAULTS}},function(t,e,i){t.exports={default:i(38),__esModule:!0}},function(t,e,i){i(39),i(40),i(54),i(58),i(69),i(70),t.exports=i(2).Promise},function(t,e){},function(t,e,i){var n=i(41)(!0);i(21)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){var n=i(14),r=i(15);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),l=n(i),u=s.length;return l<0||l>=u?t?"":void 0:(o=s.charCodeAt(l),o<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,i){t.exports=!i(7)&&!i(23)(function(){return 7!=Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(6);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){t.exports=i(4)},function(t,e,i){var n=i(25),r=i(24),o=i(19),a={};i(4)(a,i(1)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){var n=i(11),r=i(3),o=i(47);t.exports=i(7)?f.default:function(t,e){r(t);for(var i,a=o(e),s=a.length,l=0;s>l;)n.f(t,i=a[l++],e[i]);return t}},function(t,e,i){var n=i(48),r=i(29);t.exports=p.default||function(t){return n(t,r)}},function(t,e,i){var n=i(12),r=i(17),o=i(50)(!1),a=i(18)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=a&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~o(u,i)||u.push(i));return u}},function(t,e,i){var n=i(13);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){var n=i(17),r=i(26),o=i(51);t.exports=function(t){return function(e,i,a){var s,l=n(e),u=r(l.length),c=o(a,u);if(t&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){var n=i(14),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e,i){var n=i(12),r=i(53),o=i(18)("IE_PROTO"),a=Object.prototype;t.exports=c.default||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n=i(15);t.exports=function(t){return Object(n(t))}},function(t,e,i){i(55);for(var n=i(0),r=i(4),o=i(8),a=i(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],h=c&&c.prototype;h&&!h[a]&&r(h,a,u),o[u]=o.Array}},function(t,e,i){var n=i(56),r=i(57),o=i(8),a=i(17);t.exports=i(21)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){var n,r,o,a,s=i(22),l=i(0),u=i(9),c=i(31),h=i(5),p=i(6),d=i(10),f=i(59),g=i(60),m=i(32),v=i(33).set,y=i(65)(),b=i(20),x=i(34),_=i(35),w=l.TypeError,C=l.process,S=l.Promise,k="process"==c(C),A=function(){},T=r=b.f,M=!!function(){try{var t=S.resolve(1),e=(t.constructor={})[i(1)("species")]=function(t){t(A,A)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e}catch(t){}}(),E=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,r=1==t._s,o=0;i.length>o;)!function(e){var i,o,a,s=r?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(r||(2==t._h&&L(t),t._h=1),!0===s?i=n:(c&&c.enter(),i=s(n),c&&(c.exit(),a=!0)),i===e.promise?u(w("Promise-chain cycle")):(o=E(i))?o.call(i,l,u):l(i)):u(n)}catch(t){c&&!a&&c.exit(),u(t)}}(i[o++]);t._c=[],t._n=!1,e&&!t._h&&O(t)})}},O=function(t){v.call(l,function(){var e,i,n,r=t._v,o=I(t);if(o&&(e=x(function(){k?C.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=k||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(l,function(){var e;k?C.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},D=function t(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw w("Promise can't be resolved itself");(i=E(e))?y(function(){var r={_w:n,_d:!1};try{i.call(e,u(t,r,1),u(R,r,1))}catch(t){R.call(r,t)}}):(n._v=e,n._s=1,P(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};M||(S=function(t){f(this,S,"Promise","_h"),d(t),n.call(this);try{t(u(D,this,1),u(R,this,1))}catch(t){R.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(66)(S.prototype,{then:function(t,e){var i=T(m(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=k?C.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&P(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=u(D,t,1),this.reject=u(R,t,1)},b.f=T=function(t){return t===S||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!M,{Promise:S}),i(19)(S,"Promise"),i(67)("Promise"),a=i(2).Promise,h(h.S+h.F*!M,"Promise",{reject:function(t){var e=T(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!M),"Promise",{resolve:function(t){return _(s&&this===a?S:this,t)}}),h(h.S+h.F*!(M&&i(68)(function(t){S.all(t).catch(A)})),"Promise",{all:function(t){var e=this,i=T(e),n=i.resolve,r=i.reject,o=x(function(){var i=[],o=0,a=1;g(t,!1,function(t){var s=o++,l=!1;i.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=T(e),n=i.reject,r=x(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var n=i(9),r=i(61),o=i(62),a=i(3),s=i(26),l=i(63),u={},c={};e=t.exports=function(t,e,i,h,p){var d,f,g,m,v=p?function(){return t}:l(t),y=n(i,h,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=s(t.length);d>b;b++)if((m=e?y(a(f=t[b])[0],f[1]):y(t[b]))===u||m===c)return m}else for(g=v.call(t);!(f=g.next()).done;)if((m=r(g,y,f.value,e))===u||m===c)return m};e.BREAK=u,e.RETURN=c},function(t,e,i){var n=i(3);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(8),r=i(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){var n=i(31),r=i(1)("iterator"),o=i(8);t.exports=i(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(0),r=i(33).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==i(13)(a);t.exports=function(){var t,e,i,u=function(){var n,r;for(l&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(l)i=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve();i=function(){c.then(u)}}else i=function(){r.call(n,u)};else{var h=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),i=function(){p.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n=i(4);t.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},function(t,e,i){var n=i(0),r=i(2),o=i(11),a=i(7),s=i(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];a&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(1)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},(0,l.default)(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){var n=i(5),r=i(2),o=i(0),a=i(32),s=i(35);n(n.P+n.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return s(e,t()).then(function(){return i})}:t,i?function(i){return s(e,t()).then(function(){throw i})}:t)}})},function(t,e,i){var n=i(5),r=i(20),o=i(34);n(n.S,"Promise",{try:function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){function n(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}function r(){var t=window.chrome,e=window.navigator,i=e.vendor,n=e.userAgent.indexOf("OPR")>-1,r=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!==t&&void 0!==t&&"Google Inc."===i&&!1===n&&!1===r}function o(){var t;try{throw new Error}catch(r){var e=r.stack.split("\n"),i=0;for(var n in e)if(e[n].match(/http[s]?:\/\//)){i=Number(n);break}t=e[i].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))).*?:/)}this.fullPath=function(){return t?t[1]:window.location.origin+window.location.pathname},this.path=function(){return t?t[2]:window.location.pathname},this.host=function(){var t=this.path().match(/.+?\/\/.+?\//);return t?t[0]:window.location.hostname},this.file=function(){return t?t[3]:""}}function a(t){var e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}function s(t,e){e.attributeChangedCallback={value:function(t,e,i){"_"!==t[0]&&(this[t]=i)}},t=a(t);var i=e.attachedCallback;for(var n in e)!function(t){if(e[t].set){var i=e[t].set;e[t].set=function(e){this.getAttribute(t)===e?(this._initializing||this._initialized)&&i.bind(this)(e):this.setAttribute(t,e)}}}(n);e.attachedCallback={value:function(){if(!this._initialized){for(this._initializing=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var n=document.importNode(t.content,!0);for(var r in this.appendChild(n),i.value.bind(this)(),e)"attachedCallback"!==r&&this.getAttribute(r)&&"_"!==r[0]&&(this[r]=this.getAttribute(r));this._initializing=!1,this._initialized=!0}}};var r=t.getAttribute("id");console.log("Registered "+r),document.registerElement(r,{prototype:(0,u.default)(HTMLElement.prototype,e)})}Object.defineProperty(e,"__esModule",{value:!0});var l=i(72),u=function(t){return t&&t.__esModule?t:{default:t}}(l);e.detectIE=n,e.detectChrome=r,e.ScriptPath=o,e.importTemplate=a,e.registerElement=s},function(t,e,i){t.exports={default:i(73),__esModule:!0}},function(t,e,i){i(74);var n=i(2).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){var n=i(5);n(n.S,"Object",{create:i(25)})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=["any","avg","count","distinct count","dominant","first","last","high","low","mean","mean by count","median","pct sum parent","pct sum grand total","sum","sum abs","sum not null","unique"],r=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique"],o=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique","and","or"],a=(e.TYPE_AGGREGATES={string:r,float:n,integer:n,boolean:o,date:r},e.AGGREGATE_DEFAULTS={string:"distinct count",float:"sum",integer:"sum",boolean:"distinct count",date:"distinct count"},["&","|","==","!=","or","and"]),s=["<",">","==","<=",">=","!=","is nan","is not nan"],l=["==","contains","!=","in","begins with","ends with"],u=["<",">","==","<=",">=","!="];e.TYPE_FILTERS={string:l,float:s,integer:s,boolean:a,date:u},e.FILTER_DEFAULTS={string:"==",float:"==",integer:"==",boolean:"==",date:"=="}}])})}).call(e,i(122)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){i(17),i(125),t.exports=i(0).Array.from},function(t,e,i){"use strict";var n=i(12),r=i(3),o=i(23),a=i(53),s=i(54),l=i(28),u=i(126),c=i(36);r(r.S+r.F*!i(59)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,h,p=o(t),d="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,v=0,y=c(p);if(m&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==y||d==Array&&s(y))for(e=l(p.length),i=new d(e);e>v;v++)u(i,v,m?g(p[v],v):p[v]);else for(h=y.call(p),i=new d;!(r=h.next()).done;v++)u(i,v,m?a(h,g,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(4),r=i(14);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){t.exports={default:i(128),__esModule:!0}},function(t,e,i){i(129),t.exports=i(0).Object.getPrototypeOf},function(t,e,i){var n=i(23),r=i(52);i(62)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){t.exports={default:i(131),__esModule:!0}},function(t,e,i){i(132);var n=i(0).Object;t.exports=function(t,e){return n.defineProperties(t,e)}},function(t,e,i){var n=i(3);n(n.S+n.F*!i(6),"Object",{defineProperties:i(50)})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(134),o=n(r),a=i(136),s=n(a),l="function"==typeof s.default&&"symbol"==typeof o.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===l(o.default)?function(t){return void 0===t?"undefined":l(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":l(t)}},function(t,e,i){t.exports={default:i(135),__esModule:!0}},function(t,e,i){i(17),i(24),t.exports=i(41).f("iterator")},function(t,e,i){t.exports={default:i(137),__esModule:!0}},function(t,e,i){i(138),i(47),i(144),i(145),t.exports=i(0).Symbol},function(t,e,i){"use strict";var n=i(2),r=i(9),o=i(6),a=i(3),s=i(49),l=i(139).KEY,u=i(13),c=i(31),h=i(22),p=i(19),d=i(1),f=i(41),g=i(42),m=i(140),v=i(141),y=i(5),b=i(8),x=i(10),_=i(26),w=i(14),C=i(34),S=i(142),k=i(143),A=i(4),T=i(15),M=k.f,E=A.f,P=S.f,O=n.Symbol,I=n.JSON,L=I&&I.stringify,R=d("_hidden"),D=d("toPrimitive"),z={}.propertyIsEnumerable,B=c("symbol-registry"),j=c("symbols"),F=c("op-symbols"),N=Object.prototype,V="function"==typeof O,H=n.QObject,G=!H||!H.prototype||!H.prototype.findChild,U=o&&u(function(){return 7!=C(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(N,e);n&&delete N[e],E(t,e,i),n&&t!==N&&E(N,e,n)}:E,W=function(t){var e=j[t]=C(O.prototype);return e._k=t,e},$=V&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},q=function(t,e,i){return t===N&&q(F,e,i),y(t),e=_(e,!0),y(i),r(j,e)?(i.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),i=C(i,{enumerable:w(0,!1)})):(r(t,R)||E(t,R,w(1,{})),t[R][e]=!0),U(t,e,i)):E(t,e,i)},X=function(t,e){y(t);for(var i,n=m(e=x(e)),r=0,o=n.length;o>r;)q(t,i=n[r++],e[i]);return t},Y=function(t,e){return void 0===e?C(t):X(C(t),e)},K=function(t){var e=z.call(this,t=_(t,!0));return!(this===N&&r(j,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(j,t)||r(this,R)&&this[R][t])||e)},Z=function(t,e){if(t=x(t),e=_(e,!0),t!==N||!r(j,e)||r(F,e)){var i=M(t,e);return!i||!r(j,e)||r(t,R)&&t[R][e]||(i.enumerable=!0),i}},J=function(t){for(var e,i=P(x(t)),n=[],o=0;i.length>o;)r(j,e=i[o++])||e==R||e==l||n.push(e);return n},Q=function(t){for(var e,i=t===N,n=P(i?F:x(t)),o=[],a=0;n.length>a;)!r(j,e=n[a++])||i&&!r(N,e)||o.push(j[e]);return o};V||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===N&&e.call(F,i),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),U(this,t,w(1,i))};return o&&G&&U(N,t,{configurable:!0,set:e}),W(t)},s(O.prototype,"toString",function(){return this._k}),k.f=Z,A.f=q,i(67).f=S.f=J,i(20).f=K,i(66).f=Q,o&&!i(21)&&s(N,"propertyIsEnumerable",K,!0),f.f=function(t){return W(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:O});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)d(tt[et++]);for(var it=T(d.store),nt=0;it.length>nt;)g(it[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return r(B,t+="")?B[t]:B[t]=O(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!V,"Object",{create:Y,defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),I&&a(a.S+a.F*(!V||u(function(){var t=O();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(b(e)||void 0!==t)&&!$(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!$(e))return e}),n[1]=e,L.apply(I,n)}}),O.prototype[D]||i(7)(O.prototype,D,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},function(t,e,i){var n=i(19)("meta"),r=i(8),o=i(9),a=i(4).f,s=0,l=Object.isExtensible||function(){return!0},u=!i(13)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[n].i},p=function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[n].w},d=function(t){return u&&f.NEED&&l(t)&&!o(t,n)&&c(t),t},f=t.exports={KEY:n,NEED:!1,fastKey:h,getWeak:p,onFreeze:d}},function(t,e,i){var n=i(15),r=i(66),o=i(20);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),l=o.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,i){var n=i(16);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(10),r=i(67).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(n(t))}},function(t,e,i){var n=i(20),r=i(14),o=i(10),a=i(26),s=i(9),l=i(44),u=Object.getOwnPropertyDescriptor;e.f=i(6)?u:function(t,e){if(t=o(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){i(42)("asyncIterator")},function(t,e,i){i(42)("observable")},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-row">\r\n    <li id="psp_row">\r\n        <span class=\'is_visible\'></span>\r\n        <div draggable=\'true\' class="row_draggable">\r\n            <span id=\'name\' class="column_name"></span>\r\n            <span id="sort_order"></span>\r\n            <select id="column_aggregate" class="string"></select>\r\n            <select id="filter_operator"></select>\r\n            <input id="filter_operand" placeholder="Value"></input>\r\n            <span id=\'row_close\'>&#x2715;</span>                \r\n        </div>\r\n    </li>\r\n</template>'},function(t,e,i){var n=i(148);"string"==typeof n&&(n=[[t.i,n,""]]);var r={transform:void 0};i(39)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(38)(!1),e.push([t.i,'/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n#top_panel perspective-row {\n  display: inline-block;\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n#side_panel #active_columns perspective-row[drop-target] .row_draggable {\n  animation-duration: 0.5s;\n  animation-name: fadein;\n  background-color: #f0f0ff !important;\n  border: 1px solid #1078d1 !important;\n}\n#side_panel #active_columns perspective-row[drop-target] .row_draggable * {\n  display: none !important;\n}\n#side_panel perspective-row #row_close {\n  display: none;\n  cursor: pointer;\n}\nperspective-viewer.dragging #top_panel .rrow > * {\n  border: 1px solid #1078d1 !important;\n  margin-top: -2px;\n  margin-left: -1px;\n}\nperspective-viewer.dragging #top_panel .rrow > .dropping {\n  background-color: #f0f0ff !important;\n}\nperspective-row {\n  display: block;\n  border: 0px solid rgba(0, 0, 0, 0);\n}\nperspective-row #row_close {\n  min-width: 5px;\n  max-width: 5px;\n  margin-right: 3px;\n  flex-grow: 0;\n  color: #999;\n  font-family: Arial;\n  font-size: 10px;\n  cursor: pointer;\n  margin-left: 3px;\n}\nperspective-viewer ul {\n  transition: background-color 0.2s, border-color 0.2s;\n}\n.dropping perspective-row.inserting {\n  border-top: 25px solid rgba(0, 0, 0, 0);\n}\n.dropping perspective-row.postserting {\n  border-bottom: 25px solid rgba(0, 0, 0, 0);\n}\n.dropping * {\n  pointer-events: none;\n}\n#side_panel perspective-row li {\n  margin-bottom: 2px;\n}\nperspective-row li {\n  color: #333333;\n  display: flex;\n  overflow: visible;\n  align-items: center;\n  width: auto !important;\n  height: auto !important;\n  float: none !important;\n}\n#side_panel perspective-row li {\n  margin-right: 5px;\n  transition: margin-right 0.2s;\n}\n#side_panel perspective-row li:hover {\n  margin-right: 2px;\n}\n#side_panel perspective-row div {\n  color: #333333;\n  padding: 2px;\n  font-size: 12px;\n  flex-grow: 1;\n  transition: margin 0.2s, padding 0.2s, height 0.2s;\n}\n#side_panel perspective-row div:hover {\n  margin-left: -3px;\n  padding-left: 5px;\n}\n#side_panel perspective-row:hover div {\n  margin-left: -3px;\n  padding-left: 5px;\n}\n#side_panel #active_columns perspective-row div {\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  background-color: white;\n}\n#side_panel perspective-row .is_visible {\n  width: 20px;\n  min-width: 20px;\n  margin-left: 6px;\n  cursor: pointer;\n  color: #999;\n  font-size: 14px;\n  margin-top: -2px;\n}\n#side_panel #inactive_columns perspective-row .is_visible::before {\n  content: "\\25CB";\n}\n#side_panel perspective-row .is_visible::before {\n  content: "\\25CF";\n}\nperspective-row #sort_order {\n  display: none;\n}\nperspective-row #filter_operand,\nperspective-row #filter_operator {\n  display: none;\n  margin: 0;\n  background: none !important;\n}\nperspective-row #filter_operand {\n  padding: 0px;\n  height: 19px;\n}\nperspective-viewer #filters {\n  white-space: nowrap;\n  padding-top: 3px;\n  border-bottom: 1px solid #ccc;\n  color: #ccc;\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 12px;\n}\nperspective-viewer #filters label {\n  height: 21px;\n  margin-bottom: 2px;\n}\n#filters perspective-row {\n  margin-right: 24px;\n}\n#filters perspective-row:before {\n  content: none !important;\n}\n#filters perspective-row select {\n  margin-left: 15px;\n  padding-right: 15px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  cursor: pointer;\n}\n#filters perspective-row #filter_operator {\n  display: inline-block;\n  height: 14px;\n  font-family: monospace;\n}\n#filters perspective-row #filter_operand {\n  display: inline-block;\n}\n#sort perspective-row #sort_order {\n  display: inline-block;\n}\n#side_panel {\n  padding-top: 5px;\n  flex: 0 1 auto;\n}\n#side_panel perspective-row .column_name {\n  overflow: hidden;\n  max-width: 180px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n#side_panel perspective-row .integer::before,\n#side_panel perspective-row .float::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "123";\n  color: #016bc6;\n}\n#side_panel perspective-row .string::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "abc";\n  color: #fe9292;\n}\n#side_panel perspective-row .boolean::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "t/f";\n  color: #999999;\n}\n#side_panel perspective-row .date::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "mdy";\n  color: #999999;\n}\nperspective-row #column_aggregate {\n  display: none;\n  font-size: 10px;\n  font-family: Arial;\n  width: 90px;\n  height: 20px;\n}\n#active_columns perspective-row span#name {\n  width: 100%;\n  white-space: nowrap;\n}\n#top_panel perspective-row .row_draggable {\n  display: inline-block !important;\n}\nperspective-row .row_draggable {\n  display: flex;\n  height: 21px;\n  flex-direction: column;\n}\nperspective-row .row_draggable select {\n  margin: 0px 0px 0px 22px;\n  border: none;\n}\nperspective-row .row_draggable select:focus {\n  outline: none;\n}\nperspective-viewer:not([row-pivots=\'[]\']) #side_panel #active_columns perspective-row #column_aggregate {\n  display: inline-block;\n}\nperspective-viewer:not([row-pivots=\'[]\']) #side_panel #active_columns perspective-row .row_draggable {\n  height: 41px;\n}\nperspective-viewer:not([row-pivots=\'[]\']) #side_panel #inactive_columns perspective-row .row_draggable {\n  height: 21px;\n}\n',""])}])})},ydD5:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},zgIt:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"zo/l":function(t,e,i){var n=i("oeih"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}}});
//# sourceMappingURL=vendor.692f00d2.js.map